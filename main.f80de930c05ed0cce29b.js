var ZM=Object.defineProperty,QM=Object.defineProperties,qM=Object.getOwnPropertyDescriptors,VT=Object.getOwnPropertySymbols,XM=Object.prototype.hasOwnProperty,YM=Object.prototype.propertyIsEnumerable,BT=(It,ve,P)=>ve in It?ZM(It,ve,{enumerable:!0,configurable:!0,writable:!0,value:P}):It[ve]=P,UT=(It,ve)=>{for(var P in ve||(ve={}))XM.call(ve,P)&&BT(It,P,ve[P]);if(VT)for(var P of VT(ve))YM.call(ve,P)&&BT(It,P,ve[P]);return It},jT=(It,ve)=>QM(It,qM(ve));(self.webpackChunkpopmovies=self.webpackChunkpopmovies||[]).push([[179],{8255:It=>{function ve(P){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+P+"'");throw h.code="MODULE_NOT_FOUND",h})}ve.keys=()=>[],ve.resolve=ve,ve.id=8255,It.exports=ve},8583:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{APP_BASE_HREF:()=>rt,AsyncPipe:()=>Pt,CommonModule:()=>ni,CurrencyPipe:()=>es,DOCUMENT:()=>ce,DatePipe:()=>Hn,DecimalPipe:()=>Mi,FormStyle:()=>Mt,FormatWidth:()=>en,HashLocationStrategy:()=>pt,I18nPluralPipe:()=>ls,I18nSelectPipe:()=>Yr,JsonPipe:()=>As,KeyValuePipe:()=>eo,LOCATION_INITIALIZED:()=>$,Location:()=>Tn,LocationStrategy:()=>Se,LowerCasePipe:()=>Gt,NgClass:()=>In,NgComponentOutlet:()=>Bn,NgForOf:()=>Kn,NgForOfContext:()=>ur,NgIf:()=>Qi,NgIfContext:()=>qi,NgLocaleLocalization:()=>_e,NgLocalization:()=>Le,NgPlural:()=>yr,NgPluralCase:()=>Ui,NgStyle:()=>Ds,NgSwitch:()=>Yi,NgSwitchCase:()=>bi,NgSwitchDefault:()=>us,NgTemplateOutlet:()=>Ji,NumberFormatStyle:()=>bt,NumberSymbol:()=>xt,PathLocationStrategy:()=>re,PercentPipe:()=>Oi,PlatformLocation:()=>X,Plural:()=>gt,SlicePipe:()=>cs,TitleCasePipe:()=>Mn,TranslationWidth:()=>Et,UpperCasePipe:()=>kn,VERSION:()=>oi,ViewportScroller:()=>ri,WeekDay:()=>En,XhrFactory:()=>$s,formatCurrency:()=>zr,formatDate:()=>On,formatNumber:()=>Tr,formatPercent:()=>Xr,getCurrencySymbol:()=>Rr,getLocaleCurrencyCode:()=>ir,getLocaleCurrencyName:()=>Ft,getLocaleCurrencySymbol:()=>Qt,getLocaleDateFormat:()=>Zt,getLocaleDateTimeFormat:()=>Ln,getLocaleDayNames:()=>ar,getLocaleDayPeriods:()=>Sn,getLocaleDirection:()=>ln,getLocaleEraNames:()=>tn,getLocaleExtraDayPeriodRules:()=>Xn,getLocaleExtraDayPeriods:()=>xn,getLocaleFirstDayOfWeek:()=>Dr,getLocaleId:()=>mr,getLocaleMonthNames:()=>Dn,getLocaleNumberFormat:()=>wn,getLocaleNumberSymbol:()=>dn,getLocalePluralCase:()=>fn,getLocaleTimeFormat:()=>wt,getLocaleWeekEndRange:()=>Ht,getNumberOfCurrencyDigits:()=>$e,isPlatformBrowser:()=>Os,isPlatformServer:()=>ks,isPlatformWorkerApp:()=>Ws,isPlatformWorkerUi:()=>Ci,registerLocaleData:()=>Ze,\u0275BrowserPlatformLocation:()=>J,\u0275DomAdapter:()=>ee,\u0275NullViewportScroller:()=>Ur,\u0275PLATFORM_BROWSER_ID:()=>ki,\u0275PLATFORM_SERVER_ID:()=>Ns,\u0275PLATFORM_WORKER_APP_ID:()=>fi,\u0275PLATFORM_WORKER_UI_ID:()=>vn,\u0275angular_packages_common_common_a:()=>le,\u0275angular_packages_common_common_b:()=>we,\u0275angular_packages_common_common_c:()=>_n,\u0275angular_packages_common_common_d:()=>qe,\u0275angular_packages_common_common_e:()=>hr,\u0275angular_packages_common_common_f:()=>Rs,\u0275getDOM:()=>z,\u0275parseCookieValue:()=>vt,\u0275setRootDomAdapter:()=>pe});var h=P(7716);let R=null;function z(){return R}function pe(j){R||(R=j)}class ee{}const ce=new h.InjectionToken("DocumentToken");let X=(()=>{class j{historyGo(H){throw new Error("Not implemented")}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:le,token:j,providedIn:"platform"}),j})();function le(){return(0,h.\u0275\u0275inject)(J)}const $=new h.InjectionToken("Location Initialized");let J=(()=>{class j extends X{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(H){const he=z().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",H,!1),()=>he.removeEventListener("popstate",H)}onHashChange(H){const he=z().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",H,!1),()=>he.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,he,Me){ie()?this._history.pushState(H,he,Me):this.location.hash=Me}replaceState(H,he,Me){ie()?this._history.replaceState(H,he,Me):this.location.hash=Me}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275inject(ce))},j.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:we,token:j,providedIn:"platform"}),j})();function ie(){return!!window.history.pushState}function we(){return new J((0,h.\u0275\u0275inject)(ce))}function xe(j,ae){if(0==j.length)return ae;if(0==ae.length)return j;let H=0;return j.endsWith("/")&&H++,ae.startsWith("/")&&H++,2==H?j+ae.substring(1):1==H?j+ae:j+"/"+ae}function Xe(j){const ae=j.match(/#|\?|$/),H=ae&&ae.index||j.length;return j.slice(0,H-("/"===j[H-1]?1:0))+j.slice(H)}function et(j){return j&&"?"!==j[0]?"?"+j:j}let Se=(()=>{class j{historyGo(H){throw new Error("Not implemented")}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:qe,token:j,providedIn:"root"}),j})();function qe(j){const ae=(0,h.\u0275\u0275inject)(ce).location;return new re((0,h.\u0275\u0275inject)(X),ae&&ae.origin||"")}const rt=new h.InjectionToken("appBaseHref");let re=(()=>{class j extends Se{constructor(H,he){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==he&&(he=this._platformLocation.getBaseHrefFromDOM()),null==he)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=he}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return xe(this._baseHref,H)}path(H=!1){const he=this._platformLocation.pathname+et(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&H?`${he}${Me}`:he}pushState(H,he,Me,yt){const Vt=this.prepareExternalUrl(Me+et(yt));this._platformLocation.pushState(H,he,Vt)}replaceState(H,he,Me,yt){const Vt=this.prepareExternalUrl(Me+et(yt));this._platformLocation.replaceState(H,he,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var he,Me;null===(Me=(he=this._platformLocation).historyGo)||void 0===Me||Me.call(he,H)}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275inject(X),h.\u0275\u0275inject(rt,8))},j.\u0275prov=h.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),j})(),pt=(()=>{class j extends Se{constructor(H,he){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let he=this._platformLocation.hash;return null==he&&(he="#"),he.length>0?he.substring(1):he}prepareExternalUrl(H){const he=xe(this._baseHref,H);return he.length>0?"#"+he:he}pushState(H,he,Me,yt){let Vt=this.prepareExternalUrl(Me+et(yt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.pushState(H,he,Vt)}replaceState(H,he,Me,yt){let Vt=this.prepareExternalUrl(Me+et(yt));0==Vt.length&&(Vt=this._platformLocation.pathname),this._platformLocation.replaceState(H,he,Vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var he,Me;null===(Me=(he=this._platformLocation).historyGo)||void 0===Me||Me.call(he,H)}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275inject(X),h.\u0275\u0275inject(rt,8))},j.\u0275prov=h.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),j})(),Tn=(()=>{class j{constructor(H,he){this._subject=new h.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=H;const Me=this._platformStrategy.getBaseHref();this._platformLocation=he,this._baseHref=Xe(jt(Me)),this._platformStrategy.onPopState(yt=>{this._subject.emit({url:this.path(!0),pop:!0,state:yt.state,type:yt.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,he=""){return this.path()==this.normalize(H+et(he))}normalize(H){return j.stripTrailingSlash(function(j,ae){return j&&ae.startsWith(j)?ae.substring(j.length):ae}(this._baseHref,jt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,he="",Me=null){this._platformStrategy.pushState(Me,"",H,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+et(he)),Me)}replaceState(H,he="",Me=null){this._platformStrategy.replaceState(Me,"",H,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+et(he)),Me)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var he,Me;null===(Me=(he=this._platformStrategy).historyGo)||void 0===Me||Me.call(he,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(he=>{this._notifyUrlChangeListeners(he.url,he.state)}))}_notifyUrlChangeListeners(H="",he){this._urlChangeListeners.forEach(Me=>Me(H,he))}subscribe(H,he,Me){return this._subject.subscribe({next:H,error:he,complete:Me})}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275inject(Se),h.\u0275\u0275inject(X))},j.normalizeQueryParams=et,j.joinWithSlash=xe,j.stripTrailingSlash=Xe,j.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:_n,token:j,providedIn:"root"}),j})();function _n(){return new Tn((0,h.\u0275\u0275inject)(Se),(0,h.\u0275\u0275inject)(X))}function jt(j){return j.replace(/\/index.html$/,"")}const Ue={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Percent=1]="Percent",bt[bt.Currency=2]="Currency",bt[bt.Scientific=3]="Scientific",bt))(),gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))(),Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),Et=(()=>((Et=Et||{})[Et.Narrow=0]="Narrow",Et[Et.Abbreviated=1]="Abbreviated",Et[Et.Wide=2]="Wide",Et[Et.Short=3]="Short",Et))(),en=(()=>((en=en||{})[en.Short=0]="Short",en[en.Medium=1]="Medium",en[en.Long=2]="Long",en[en.Full=3]="Full",en))(),xt=(()=>((xt=xt||{})[xt.Decimal=0]="Decimal",xt[xt.Group=1]="Group",xt[xt.List=2]="List",xt[xt.PercentSign=3]="PercentSign",xt[xt.PlusSign=4]="PlusSign",xt[xt.MinusSign=5]="MinusSign",xt[xt.Exponential=6]="Exponential",xt[xt.SuperscriptingExponent=7]="SuperscriptingExponent",xt[xt.PerMille=8]="PerMille",xt[xt.Infinity=9]="Infinity",xt[xt.NaN=10]="NaN",xt[xt.TimeSeparator=11]="TimeSeparator",xt[xt.CurrencyDecimal=12]="CurrencyDecimal",xt[xt.CurrencyGroup=13]="CurrencyGroup",xt))(),En=(()=>((En=En||{})[En.Sunday=0]="Sunday",En[En.Monday=1]="Monday",En[En.Tuesday=2]="Tuesday",En[En.Wednesday=3]="Wednesday",En[En.Thursday=4]="Thursday",En[En.Friday=5]="Friday",En[En.Saturday=6]="Saturday",En))();function mr(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.LocaleId]}function Sn(j,ae,H){const he=(0,h.\u0275findLocaleData)(j),yt=Fn([he[h.\u0275LocaleDataIndex.DayPeriodsFormat],he[h.\u0275LocaleDataIndex.DayPeriodsStandalone]],ae);return Fn(yt,H)}function ar(j,ae,H){const he=(0,h.\u0275findLocaleData)(j),yt=Fn([he[h.\u0275LocaleDataIndex.DaysFormat],he[h.\u0275LocaleDataIndex.DaysStandalone]],ae);return Fn(yt,H)}function Dn(j,ae,H){const he=(0,h.\u0275findLocaleData)(j),yt=Fn([he[h.\u0275LocaleDataIndex.MonthsFormat],he[h.\u0275LocaleDataIndex.MonthsStandalone]],ae);return Fn(yt,H)}function tn(j,ae){return Fn((0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.Eras],ae)}function Dr(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.FirstDayOfWeek]}function Ht(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.WeekendRange]}function Zt(j,ae){return Fn((0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.DateFormat],ae)}function wt(j,ae){return Fn((0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.TimeFormat],ae)}function Ln(j,ae){return Fn((0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.DateTimeFormat],ae)}function dn(j,ae){const H=(0,h.\u0275findLocaleData)(j),he=H[h.\u0275LocaleDataIndex.NumberSymbols][ae];if(void 0===he){if(ae===xt.CurrencyDecimal)return H[h.\u0275LocaleDataIndex.NumberSymbols][xt.Decimal];if(ae===xt.CurrencyGroup)return H[h.\u0275LocaleDataIndex.NumberSymbols][xt.Group]}return he}function wn(j,ae){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.NumberFormats][ae]}function Qt(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.CurrencySymbol]||null}function Ft(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.CurrencyName]||null}function ir(j){return(0,h.\u0275getLocaleCurrencyCode)(j)}const fn=h.\u0275getLocalePluralCase;function St(j){if(!j[h.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[h.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xn(j){const ae=(0,h.\u0275findLocaleData)(j);return St(ae),(ae[h.\u0275LocaleDataIndex.ExtraData][2]||[]).map(he=>"string"==typeof he?Ir(he):[Ir(he[0]),Ir(he[1])])}function xn(j,ae,H){const he=(0,h.\u0275findLocaleData)(j);St(he);const yt=Fn([he[h.\u0275LocaleDataIndex.ExtraData][0],he[h.\u0275LocaleDataIndex.ExtraData][1]],ae)||[];return Fn(yt,H)||[]}function ln(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.Directionality]}function Fn(j,ae){for(let H=ae;H>-1;H--)if(void 0!==j[H])return j[H];throw new Error("Locale data API: locale data undefined")}function Ir(j){const[ae,H]=j.split(":");return{hours:+ae,minutes:+H}}function Rr(j,ae,H="en"){const he=function(j){return(0,h.\u0275findLocaleData)(j)[h.\u0275LocaleDataIndex.Currencies]}(H)[j]||Ue[j]||[],Me=he[1];return"narrow"===ae&&"string"==typeof Me?Me:he[0]||j}function $e(j){let ae;const H=Ue[j];return H&&(ae=H[2]),"number"==typeof ae?ae:2}const Ae=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dt={},mt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.ShortGMT=1]="ShortGMT",Xt[Xt.Long=2]="Long",Xt[Xt.Extended=3]="Extended",Xt))(),At=(()=>((At=At||{})[At.FullYear=0]="FullYear",At[At.Month=1]="Month",At[At.Date=2]="Date",At[At.Hours=3]="Hours",At[At.Minutes=4]="Minutes",At[At.Seconds=5]="Seconds",At[At.FractionalSeconds=6]="FractionalSeconds",At[At.Day=7]="Day",At))(),Yt=(()=>((Yt=Yt||{})[Yt.DayPeriods=0]="DayPeriods",Yt[Yt.Days=1]="Days",Yt[Yt.Months=2]="Months",Yt[Yt.Eras=3]="Eras",Yt))();function On(j,ae,H,he){let Me=function(j){if(Yn(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[Me,yt=1,Vt=1]=j.split("-").map(U=>+U);return _r(Me,yt-1,Vt)}const H=parseFloat(j);if(!isNaN(j-H))return new Date(H);let he;if(he=j.match(Ae))return function(j){const ae=new Date(0);let H=0,he=0;const Me=j[8]?ae.setUTCFullYear:ae.setFullYear,yt=j[8]?ae.setUTCHours:ae.setHours;j[9]&&(H=Number(j[9]+j[10]),he=Number(j[9]+j[11])),Me.call(ae,Number(j[1]),Number(j[2])-1,Number(j[3]));const Vt=Number(j[4]||0)-H,U=Number(j[5]||0)-he,V=Number(j[6]||0),N=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return yt.call(ae,Vt,U,V,N),ae}(he)}const ae=new Date(j);if(!Yn(ae))throw new Error(`Unable to convert "${j}" into a date`);return ae}(j);ae=Wn(H,ae)||ae;let U,Vt=[];for(;ae;){if(U=mt.exec(ae),!U){Vt.push(ae);break}{Vt=Vt.concat(U.slice(1));const te=Vt.pop();if(!te)break;ae=te}}let V=Me.getTimezoneOffset();he&&(V=tt(he,V),Me=function(j,ae,H){const Me=j.getTimezoneOffset();return function(j,ae){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+ae),j}(j,-1*(tt(ae,Me)-Me))}(Me,he));let N="";return Vt.forEach(te=>{const Ye=function(j){if(Mr[j])return Mr[j];let ae;switch(j){case"G":case"GG":case"GGG":ae=Te(Yt.Eras,Et.Abbreviated);break;case"GGGG":ae=Te(Yt.Eras,Et.Wide);break;case"GGGGG":ae=Te(Yt.Eras,Et.Narrow);break;case"y":ae=on(At.FullYear,1,0,!1,!0);break;case"yy":ae=on(At.FullYear,2,0,!0,!0);break;case"yyy":ae=on(At.FullYear,3,0,!1,!0);break;case"yyyy":ae=on(At.FullYear,4,0,!1,!0);break;case"Y":ae=lr(1);break;case"YY":ae=lr(2,!0);break;case"YYY":ae=lr(3);break;case"YYYY":ae=lr(4);break;case"M":case"L":ae=on(At.Month,1,1);break;case"MM":case"LL":ae=on(At.Month,2,1);break;case"MMM":ae=Te(Yt.Months,Et.Abbreviated);break;case"MMMM":ae=Te(Yt.Months,Et.Wide);break;case"MMMMM":ae=Te(Yt.Months,Et.Narrow);break;case"LLL":ae=Te(Yt.Months,Et.Abbreviated,Mt.Standalone);break;case"LLLL":ae=Te(Yt.Months,Et.Wide,Mt.Standalone);break;case"LLLLL":ae=Te(Yt.Months,Et.Narrow,Mt.Standalone);break;case"w":ae=jn(1);break;case"ww":ae=jn(2);break;case"W":ae=jn(1,!0);break;case"d":ae=on(At.Date,1);break;case"dd":ae=on(At.Date,2);break;case"c":case"cc":ae=on(At.Day,1);break;case"ccc":ae=Te(Yt.Days,Et.Abbreviated,Mt.Standalone);break;case"cccc":ae=Te(Yt.Days,Et.Wide,Mt.Standalone);break;case"ccccc":ae=Te(Yt.Days,Et.Narrow,Mt.Standalone);break;case"cccccc":ae=Te(Yt.Days,Et.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":ae=Te(Yt.Days,Et.Abbreviated);break;case"EEEE":ae=Te(Yt.Days,Et.Wide);break;case"EEEEE":ae=Te(Yt.Days,Et.Narrow);break;case"EEEEEE":ae=Te(Yt.Days,Et.Short);break;case"a":case"aa":case"aaa":ae=Te(Yt.DayPeriods,Et.Abbreviated);break;case"aaaa":ae=Te(Yt.DayPeriods,Et.Wide);break;case"aaaaa":ae=Te(Yt.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":ae=Te(Yt.DayPeriods,Et.Abbreviated,Mt.Standalone,!0);break;case"bbbb":ae=Te(Yt.DayPeriods,Et.Wide,Mt.Standalone,!0);break;case"bbbbb":ae=Te(Yt.DayPeriods,Et.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":ae=Te(Yt.DayPeriods,Et.Abbreviated,Mt.Format,!0);break;case"BBBB":ae=Te(Yt.DayPeriods,Et.Wide,Mt.Format,!0);break;case"BBBBB":ae=Te(Yt.DayPeriods,Et.Narrow,Mt.Format,!0);break;case"h":ae=on(At.Hours,1,-12);break;case"hh":ae=on(At.Hours,2,-12);break;case"H":ae=on(At.Hours,1);break;case"HH":ae=on(At.Hours,2);break;case"m":ae=on(At.Minutes,1);break;case"mm":ae=on(At.Minutes,2);break;case"s":ae=on(At.Seconds,1);break;case"ss":ae=on(At.Seconds,2);break;case"S":ae=on(At.FractionalSeconds,1);break;case"SS":ae=on(At.FractionalSeconds,2);break;case"SSS":ae=on(At.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ae=Fe(Xt.Short);break;case"ZZZZZ":ae=Fe(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ae=Fe(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ae=Fe(Xt.Long);break;default:return null}return Mr[j]=ae,ae}(te);N+=Ye?Ye(Me,H,V):"''"===te?"'":te.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),N}function _r(j,ae,H){const he=new Date(0);return he.setFullYear(j,ae,H),he.setHours(0,0,0),he}function Wn(j,ae){const H=mr(j);if(dt[H]=dt[H]||{},dt[H][ae])return dt[H][ae];let he="";switch(ae){case"shortDate":he=Zt(j,en.Short);break;case"mediumDate":he=Zt(j,en.Medium);break;case"longDate":he=Zt(j,en.Long);break;case"fullDate":he=Zt(j,en.Full);break;case"shortTime":he=wt(j,en.Short);break;case"mediumTime":he=wt(j,en.Medium);break;case"longTime":he=wt(j,en.Long);break;case"fullTime":he=wt(j,en.Full);break;case"short":const Me=Wn(j,"shortTime"),yt=Wn(j,"shortDate");he=Cn(Ln(j,en.Short),[Me,yt]);break;case"medium":const Vt=Wn(j,"mediumTime"),U=Wn(j,"mediumDate");he=Cn(Ln(j,en.Medium),[Vt,U]);break;case"long":const V=Wn(j,"longTime"),N=Wn(j,"longDate");he=Cn(Ln(j,en.Long),[V,N]);break;case"full":const te=Wn(j,"fullTime"),Ye=Wn(j,"fullDate");he=Cn(Ln(j,en.Full),[te,Ye])}return he&&(dt[H][ae]=he),he}function Cn(j,ae){return ae&&(j=j.replace(/\{([^}]+)}/g,function(H,he){return null!=ae&&he in ae?ae[he]:H})),j}function Nr(j,ae,H="-",he,Me){let yt="";(j<0||Me&&j<=0)&&(Me?j=1-j:(j=-j,yt=H));let Vt=String(j);for(;Vt.length<ae;)Vt="0"+Vt;return he&&(Vt=Vt.substr(Vt.length-ae)),yt+Vt}function on(j,ae,H=0,he=!1,Me=!1){return function(yt,Vt){let U=function(j,ae){switch(j){case At.FullYear:return ae.getFullYear();case At.Month:return ae.getMonth();case At.Date:return ae.getDate();case At.Hours:return ae.getHours();case At.Minutes:return ae.getMinutes();case At.Seconds:return ae.getSeconds();case At.FractionalSeconds:return ae.getMilliseconds();case At.Day:return ae.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,yt);if((H>0||U>-H)&&(U+=H),j===At.Hours)0===U&&-12===H&&(U=12);else if(j===At.FractionalSeconds)return function(j,ae){return Nr(j,3).substr(0,ae)}(U,ae);const V=dn(Vt,xt.MinusSign);return Nr(U,ae,V,he,Me)}}function Te(j,ae,H=Mt.Format,he=!1){return function(Me,yt){return function(j,ae,H,he,Me,yt){switch(H){case Yt.Months:return Dn(ae,Me,he)[j.getMonth()];case Yt.Days:return ar(ae,Me,he)[j.getDay()];case Yt.DayPeriods:const Vt=j.getHours(),U=j.getMinutes();if(yt){const N=Xn(ae),te=xn(ae,Me,he),Ye=N.findIndex(Kt=>{if(Array.isArray(Kt)){const[Pn,Vr]=Kt,pi=Vt>=Pn.hours&&U>=Pn.minutes,Er=Vt<Vr.hours||Vt===Vr.hours&&U<Vr.minutes;if(Pn.hours<Vr.hours){if(pi&&Er)return!0}else if(pi||Er)return!0}else if(Kt.hours===Vt&&Kt.minutes===U)return!0;return!1});if(-1!==Ye)return te[Ye]}return Sn(ae,Me,he)[Vt<12?0:1];case Yt.Eras:return tn(ae,he)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(Me,yt,j,ae,H,he)}}function Fe(j){return function(ae,H,he){const Me=-1*he,yt=dn(H,xt.MinusSign),Vt=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(j){case Xt.Short:return(Me>=0?"+":"")+Nr(Vt,2,yt)+Nr(Math.abs(Me%60),2,yt);case Xt.ShortGMT:return"GMT"+(Me>=0?"+":"")+Nr(Vt,1,yt);case Xt.Long:return"GMT"+(Me>=0?"+":"")+Nr(Vt,2,yt)+":"+Nr(Math.abs(Me%60),2,yt);case Xt.Extended:return 0===he?"Z":(Me>=0?"+":"")+Nr(Vt,2,yt)+":"+Nr(Math.abs(Me%60),2,yt);default:throw new Error(`Unknown zone width "${j}"`)}}}function mn(j){return _r(j.getFullYear(),j.getMonth(),j.getDate()+(4-j.getDay()))}function jn(j,ae=!1){return function(H,he){let Me;if(ae){const yt=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,Vt=H.getDate();Me=1+Math.floor((Vt+yt)/7)}else{const yt=mn(H),Vt=function(j){const ae=_r(j,0,1).getDay();return _r(j,0,1+(ae<=4?4:11)-ae)}(yt.getFullYear()),U=yt.getTime()-Vt.getTime();Me=1+Math.round(U/6048e5)}return Nr(Me,j,dn(he,xt.MinusSign))}}function lr(j,ae=!1){return function(H,he){return Nr(mn(H).getFullYear(),j,dn(he,xt.MinusSign),ae)}}const Mr={};function tt(j,ae){j=j.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(H)?ae:H}function Yn(j){return j instanceof Date&&!isNaN(j.valueOf())}const $n=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Qn(j,ae,H,he,Me,yt,Vt=!1){let U="",V=!1;if(isFinite(j)){let N=function(j){let he,Me,yt,Vt,U,ae=Math.abs(j)+"",H=0;for((Me=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(yt=ae.search(/e/i))>0?(Me<0&&(Me=yt),Me+=+ae.slice(yt+1),ae=ae.substring(0,yt)):Me<0&&(Me=ae.length),yt=0;"0"===ae.charAt(yt);yt++);if(yt===(U=ae.length))he=[0],Me=1;else{for(U--;"0"===ae.charAt(U);)U--;for(Me-=yt,he=[],Vt=0;yt<=U;yt++,Vt++)he[Vt]=Number(ae.charAt(yt))}return Me>22&&(he=he.splice(0,21),H=Me-1,Me=1),{digits:he,exponent:H,integerLen:Me}}(j);Vt&&(N=function(j){if(0===j.digits[0])return j;const ae=j.digits.length-j.integerLen;return j.exponent?j.exponent+=2:(0===ae?j.digits.push(0,0):1===ae&&j.digits.push(0),j.integerLen+=2),j}(N));let te=ae.minInt,Ye=ae.minFrac,Kt=ae.maxFrac;if(yt){const Gn=yt.match($n);if(null===Gn)throw new Error(`${yt} is not a valid digit info`);const nr=Gn[1],vs=Gn[3],$o=Gn[5];null!=nr&&(te=Vn(nr)),null!=vs&&(Ye=Vn(vs)),null!=$o?Kt=Vn($o):null!=vs&&Ye>Kt&&(Kt=Ye)}!function(j,ae,H){if(ae>H)throw new Error(`The minimum number of digits after fraction (${ae}) is higher than the maximum (${H}).`);let he=j.digits,Me=he.length-j.integerLen;const yt=Math.min(Math.max(ae,Me),H);let Vt=yt+j.integerLen,U=he[Vt];if(Vt>0){he.splice(Math.max(j.integerLen,Vt));for(let Ye=Vt;Ye<he.length;Ye++)he[Ye]=0}else{Me=Math.max(0,Me),j.integerLen=1,he.length=Math.max(1,Vt=yt+1),he[0]=0;for(let Ye=1;Ye<Vt;Ye++)he[Ye]=0}if(U>=5)if(Vt-1<0){for(let Ye=0;Ye>Vt;Ye--)he.unshift(0),j.integerLen++;he.unshift(1),j.integerLen++}else he[Vt-1]++;for(;Me<Math.max(0,yt);Me++)he.push(0);let V=0!==yt;const N=ae+j.integerLen,te=he.reduceRight(function(Ye,Kt,Pn,Vr){return Vr[Pn]=(Kt+=Ye)<10?Kt:Kt-10,V&&(0===Vr[Pn]&&Pn>=N?Vr.pop():V=!1),Kt>=10?1:0},0);te&&(he.unshift(te),j.integerLen++)}(N,Ye,Kt);let Pn=N.digits,Vr=N.integerLen;const pi=N.exponent;let Er=[];for(V=Pn.every(Gn=>!Gn);Vr<te;Vr++)Pn.unshift(0);for(;Vr<0;Vr++)Pn.unshift(0);Vr>0?Er=Pn.splice(Vr,Pn.length):(Er=Pn,Pn=[0]);const Gr=[];for(Pn.length>=ae.lgSize&&Gr.unshift(Pn.splice(-ae.lgSize,Pn.length).join(""));Pn.length>ae.gSize;)Gr.unshift(Pn.splice(-ae.gSize,Pn.length).join(""));Pn.length&&Gr.unshift(Pn.join("")),U=Gr.join(dn(H,he)),Er.length&&(U+=dn(H,Me)+Er.join("")),pi&&(U+=dn(H,xt.Exponential)+"+"+pi)}else U=dn(H,xt.Infinity);return U=j<0&&!V?ae.negPre+U+ae.negSuf:ae.posPre+U+ae.posSuf,U}function zr(j,ae,H,he,Me){const Vt=Zr(wn(ae,bt.Currency),dn(ae,xt.MinusSign));return Vt.minFrac=$e(he),Vt.maxFrac=Vt.minFrac,Qn(j,Vt,ae,xt.CurrencyGroup,xt.CurrencyDecimal,Me).replace("\xa4",H).replace("\xa4","").trim()}function Xr(j,ae,H){return Qn(j,Zr(wn(ae,bt.Percent),dn(ae,xt.MinusSign)),ae,xt.Group,xt.Decimal,H,!0).replace(new RegExp("%","g"),dn(ae,xt.PercentSign))}function Tr(j,ae,H){return Qn(j,Zr(wn(ae,bt.Decimal),dn(ae,xt.MinusSign)),ae,xt.Group,xt.Decimal,H)}function Zr(j,ae="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},he=j.split(";"),Me=he[0],yt=he[1],Vt=-1!==Me.indexOf(".")?Me.split("."):[Me.substring(0,Me.lastIndexOf("0")+1),Me.substring(Me.lastIndexOf("0")+1)],U=Vt[0],V=Vt[1]||"";H.posPre=U.substr(0,U.indexOf("#"));for(let te=0;te<V.length;te++){const Ye=V.charAt(te);"0"===Ye?H.minFrac=H.maxFrac=te+1:"#"===Ye?H.maxFrac=te+1:H.posSuf+=Ye}const N=U.split(",");if(H.gSize=N[1]?N[1].length:0,H.lgSize=N[2]||N[1]?(N[2]||N[1]).length:0,yt){const te=Me.length-H.posPre.length-H.posSuf.length,Ye=yt.indexOf("#");H.negPre=yt.substr(0,Ye).replace(/'/g,""),H.negSuf=yt.substr(Ye+te).replace(/'/g,"")}else H.negPre=ae+H.posPre,H.negSuf=H.posSuf;return H}function Vn(j){const ae=parseInt(j);if(isNaN(ae))throw new Error("Invalid integer literal when parsing "+j);return ae}class Le{}function Ve(j,ae,H,he){let Me=`=${j}`;if(ae.indexOf(Me)>-1||(Me=H.getPluralCategory(j,he),ae.indexOf(Me)>-1))return Me;if(ae.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${j}"`)}let _e=(()=>{class j extends Le{constructor(H){super(),this.locale=H}getPluralCategory(H,he){switch(fn(he||this.locale)(H)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275inject(h.LOCALE_ID))},j.\u0275prov=h.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),j})();function Ze(j,ae,H){return(0,h.\u0275registerLocaleData)(j,ae,H)}function vt(j,ae){ae=encodeURIComponent(ae);for(const H of j.split(";")){const he=H.indexOf("="),[Me,yt]=-1==he?[H,""]:[H.slice(0,he),H.slice(he+1)];if(Me.trim()===ae)return decodeURIComponent(yt)}return null}let In=(()=>{class j{constructor(H,he,Me,yt){this._iterableDiffers=H,this._keyValueDiffers=he,this._ngEl=Me,this._renderer=yt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,h.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(he=>this._toggleClass(he.key,he.currentValue)),H.forEachChangedItem(he=>this._toggleClass(he.key,he.currentValue)),H.forEachRemovedItem(he=>{he.previousValue&&this._toggleClass(he.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(he=>{if("string"!=typeof he.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.\u0275stringify)(he.item)}`);this._toggleClass(he.item,!0)}),H.forEachRemovedItem(he=>this._toggleClass(he.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(he=>this._toggleClass(he,!0)):Object.keys(H).forEach(he=>this._toggleClass(he,!!H[he])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(he=>this._toggleClass(he,!1)):Object.keys(H).forEach(he=>this._toggleClass(he,!1)))}_toggleClass(H,he){(H=H.trim())&&H.split(/\s+/g).forEach(Me=>{he?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.IterableDiffers),h.\u0275\u0275directiveInject(h.KeyValueDiffers),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})(),Bn=(()=>{class j{constructor(H){this._viewContainerRef=H,this._componentRef=null,this._moduleRef=null}ngOnChanges(H){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const he=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(H.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Vt=he.get(h.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Vt.injector)}else this._moduleRef=null;const yt=(this._moduleRef?this._moduleRef.componentFactoryResolver:he.get(h.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(yt,this._viewContainerRef.length,he,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[h.\u0275\u0275NgOnChangesFeature]}),j})();class ur{constructor(ae,H,he,Me){this.$implicit=ae,this.ngForOf=H,this.index=he,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kn=(()=>{class j{constructor(H,he,Me){this._viewContainer=H,this._template=he,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(he){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function(j){return j.name||typeof j}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const he=[];H.forEachOperation((Me,yt,Vt)=>{if(null==Me.previousIndex){const U=this._viewContainer.createEmbeddedView(this._template,new ur(null,this._ngForOf,-1,-1),null===Vt?void 0:Vt),V=new xs(Me,U);he.push(V)}else if(null==Vt)this._viewContainer.remove(null===yt?void 0:yt);else if(null!==yt){const U=this._viewContainer.get(yt);this._viewContainer.move(U,Vt);const V=new xs(Me,U);he.push(V)}});for(let Me=0;Me<he.length;Me++)this._perViewChange(he[Me].view,he[Me].record);for(let Me=0,yt=this._viewContainer.length;Me<yt;Me++){const Vt=this._viewContainer.get(Me);Vt.context.index=Me,Vt.context.count=yt,Vt.context.ngForOf=this._ngForOf}H.forEachIdentityChange(Me=>{this._viewContainer.get(Me.currentIndex).context.$implicit=Me.item})}_perViewChange(H,he){H.context.$implicit=he.item}static ngTemplateContextGuard(H,he){return!0}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(h.IterableDiffers))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();class xs{constructor(ae,H){this.record=ae,this.view=H}}let Qi=(()=>{class j{constructor(H,he){this._viewContainer=H,this._context=new qi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Xi("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Xi("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,he){return!0}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class qi{constructor(){this.$implicit=null,this.ngIf=null}}function Xi(j,ae){if(ae&&!ae.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,h.\u0275stringify)(ae)}'.`)}class ei{constructor(ae,H){this._viewContainerRef=ae,this._templateRef=H,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ae){ae&&!this._created?this.create():!ae&&this._created&&this.destroy()}}let Yi=(()=>{class j{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(H){this._ngSwitch=H,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(H){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(H)}_matchCase(H){const he=H==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||he,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),he}_updateDefaultCases(H){if(this._defaultViews&&H!==this._defaultUsed){this._defaultUsed=H;for(let he=0;he<this._defaultViews.length;he++)this._defaultViews[he].enforceState(H)}}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),j})(),bi=(()=>{class j{constructor(H,he,Me){this.ngSwitch=Me,Me._addCase(),this._view=new ei(H,he)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(Yi,9))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),j})(),us=(()=>{class j{constructor(H,he,Me){Me._addDefault(new ei(H,he))}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(Yi,9))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngSwitchDefault",""]]}),j})(),yr=(()=>{class j{constructor(H){this._localization=H,this._caseViews={}}set ngPlural(H){this._switchValue=H,this._updateView()}addCase(H,he){this._caseViews[H]=he}_updateView(){this._clearViews();const H=Object.keys(this._caseViews),he=Ve(this._switchValue,H,this._localization);this._activateView(this._caseViews[he])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(H){H&&(this._activeView=H,this._activeView.create())}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(Le))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),j})(),Ui=(()=>{class j{constructor(H,he,Me,yt){this.value=H;const Vt=!isNaN(Number(H));yt.addCase(Vt?`=${H}`:H,new ei(Me,he))}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275injectAttribute("ngPluralCase"),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(yr,1))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngPluralCase",""]]}),j})(),Ds=(()=>{class j{constructor(H,he,Me){this._ngEl=H,this._differs=he,this._renderer=Me,this._ngStyle=null,this._differ=null}set ngStyle(H){this._ngStyle=H,!this._differ&&H&&(this._differ=this._differs.find(H).create())}ngDoCheck(){if(this._differ){const H=this._differ.diff(this._ngStyle);H&&this._applyChanges(H)}}_setStyle(H,he){const[Me,yt]=H.split(".");null!=(he=null!=he&&yt?`${he}${yt}`:he)?this._renderer.setStyle(this._ngEl.nativeElement,Me,he):this._renderer.removeStyle(this._ngEl.nativeElement,Me)}_applyChanges(H){H.forEachRemovedItem(he=>this._setStyle(he.key,null)),H.forEachAddedItem(he=>this._setStyle(he.key,he.currentValue)),H.forEachChangedItem(he=>this._setStyle(he.key,he.currentValue))}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.KeyValueDiffers),h.\u0275\u0275directiveInject(h.Renderer2))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),j})(),Ji=(()=>{class j{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(H){if(H.ngTemplateOutlet){const he=this._viewContainerRef;this._viewRef&&he.remove(he.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?he.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ViewContainerRef))},j.\u0275dir=h.\u0275\u0275defineDirective({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.\u0275\u0275NgOnChangesFeature]}),j})();const hr=[In,Bn,Kn,Qi,Ji,Ds,Yi,bi,us,yr,Ui];function zn(j,ae){return Error(`InvalidPipeArgument: '${ae}' for pipe '${(0,h.\u0275stringify)(j)}'`)}class fr{createSubscription(ae,H){return ae.subscribe({next:H,error:he=>{throw he}})}dispose(ae){ae.unsubscribe()}onDestroy(ae){ae.unsubscribe()}}class je{createSubscription(ae,H){return ae.then(H,he=>{throw he})}dispose(ae){}onDestroy(ae){}}const Ne=new je,it=new fr;let Pt=(()=>{class j{constructor(H){this._ref=H,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(H){return this._obj?H!==this._obj?(this._dispose(),this.transform(H)):this._latestValue:(H&&this._subscribe(H),this._latestValue)}_subscribe(H){this._obj=H,this._strategy=this._selectStrategy(H),this._subscription=this._strategy.createSubscription(H,he=>this._updateLatestValue(H,he))}_selectStrategy(H){if((0,h.\u0275isPromise)(H))return Ne;if((0,h.\u0275isSubscribable)(H))return it;throw zn(j,H)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(H,he){H===this._obj&&(this._latestValue=he,this._ref.markForCheck())}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"async",type:j,pure:!1}),j})(),Gt=(()=>{class j{transform(H){if(null==H)return null;if("string"!=typeof H)throw zn(j,H);return H.toLowerCase()}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"lowercase",type:j,pure:!0}),j})();const pn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Mn=(()=>{class j{transform(H){if(null==H)return null;if("string"!=typeof H)throw zn(j,H);return H.replace(pn,he=>he[0].toUpperCase()+he.substr(1).toLowerCase())}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"titlecase",type:j,pure:!0}),j})(),kn=(()=>{class j{transform(H){if(null==H)return null;if("string"!=typeof H)throw zn(j,H);return H.toUpperCase()}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"uppercase",type:j,pure:!0}),j})(),Hn=(()=>{class j{constructor(H){this.locale=H}transform(H,he="mediumDate",Me,yt){if(null==H||""===H||H!=H)return null;try{return On(H,he,yt||this.locale,Me)}catch(Vt){throw zn(j,Vt.message)}}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"date",type:j,pure:!0}),j})();const ti=/#/g;let ls=(()=>{class j{constructor(H){this._localization=H}transform(H,he,Me){if(null==H)return"";if("object"!=typeof he||null===he)throw zn(j,he);return he[Ve(H,Object.keys(he),this._localization,Me)].replace(ti,H.toString())}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(Le,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"i18nPlural",type:j,pure:!0}),j})(),Yr=(()=>{class j{transform(H,he){if(null==H)return"";if("object"!=typeof he||"string"!=typeof H)throw zn(j,he);return he.hasOwnProperty(H)?he[H]:he.hasOwnProperty("other")?he.other:""}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"i18nSelect",type:j,pure:!0}),j})(),As=(()=>{class j{transform(H){return JSON.stringify(H,null,2)}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"json",type:j,pure:!1}),j})(),eo=(()=>{class j{constructor(H){this.differs=H,this.keyValues=[],this.compareFn=fa}transform(H,he=fa){if(!H||!(H instanceof Map)&&"object"!=typeof H)return null;this.differ||(this.differ=this.differs.find(H).create());const Me=this.differ.diff(H),yt=he!==this.compareFn;return Me&&(this.keyValues=[],Me.forEachItem(Vt=>{this.keyValues.push(function(j,ae){return{key:j,value:ae}}(Vt.key,Vt.currentValue))})),(Me||yt)&&(this.keyValues.sort(he),this.compareFn=he),this.keyValues}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.KeyValueDiffers,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"keyvalue",type:j,pure:!1}),j})();function fa(j,ae){const H=j.key,he=ae.key;if(H===he)return 0;if(void 0===H)return 1;if(void 0===he)return-1;if(null===H)return 1;if(null===he)return-1;if("string"==typeof H&&"string"==typeof he)return H<he?-1:1;if("number"==typeof H&&"number"==typeof he)return H-he;if("boolean"==typeof H&&"boolean"==typeof he)return H<he?-1:1;const Me=String(H),yt=String(he);return Me==yt?0:Me<yt?-1:1}let Mi=(()=>{class j{constructor(H){this._locale=H}transform(H,he,Me){if(!ho(H))return null;Me=Me||this._locale;try{return Tr(fo(H),Me,he)}catch(yt){throw zn(j,yt.message)}}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"number",type:j,pure:!0}),j})(),Oi=(()=>{class j{constructor(H){this._locale=H}transform(H,he,Me){if(!ho(H))return null;Me=Me||this._locale;try{return Xr(fo(H),Me,he)}catch(yt){throw zn(j,yt.message)}}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"percent",type:j,pure:!0}),j})(),es=(()=>{class j{constructor(H,he="USD"){this._locale=H,this._defaultCurrencyCode=he}transform(H,he=this._defaultCurrencyCode,Me="symbol",yt,Vt){if(!ho(H))return null;Vt=Vt||this._locale,"boolean"==typeof Me&&(Me=Me?"symbol":"code");let U=he||this._defaultCurrencyCode;"code"!==Me&&(U="symbol"===Me||"symbol-narrow"===Me?Rr(U,"symbol"===Me?"wide":"narrow",Vt):Me);try{return zr(fo(H),Vt,U,he,yt)}catch(V){throw zn(j,V.message)}}}return j.\u0275fac=function(H){return new(H||j)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16),h.\u0275\u0275directiveInject(h.DEFAULT_CURRENCY_CODE,16))},j.\u0275pipe=h.\u0275\u0275definePipe({name:"currency",type:j,pure:!0}),j})();function ho(j){return!(null==j||""===j||j!=j)}function fo(j){if("string"==typeof j&&!isNaN(Number(j)-parseFloat(j)))return Number(j);if("number"!=typeof j)throw new Error(`${j} is not a number`);return j}let cs=(()=>{class j{transform(H,he,Me){if(null==H)return null;if(!this.supports(H))throw zn(j,H);return H.slice(he,Me)}supports(H){return"string"==typeof H||Array.isArray(H)}}return j.\u0275fac=function(H){return new(H||j)},j.\u0275pipe=h.\u0275\u0275definePipe({name:"slice",type:j,pure:!1}),j})();const Rs=[Pt,kn,Gt,As,cs,Mi,Oi,Mn,es,Hn,ls,Yr,eo];let ni=(()=>{class j{}return j.\u0275fac=function(H){return new(H||j)},j.\u0275mod=h.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=h.\u0275\u0275defineInjector({providers:[{provide:Le,useClass:_e}]}),j})();const ki="browser",Ns="server",fi="browserWorkerApp",vn="browserWorkerUi";function Os(j){return j===ki}function ks(j){return j===Ns}function Ws(j){return j===fi}function Ci(j){return j===vn}const oi=new h.Version("12.2.16");let ri=(()=>{class j{}return j.\u0275prov=(0,h.\u0275\u0275defineInjectable)({token:j,providedIn:"root",factory:()=>new po((0,h.\u0275\u0275inject)(ce),window)}),j})();class po{constructor(ae,H){this.document=ae,this.window=H,this.offset=()=>[0,0]}setOffset(ae){this.offset=Array.isArray(ae)?()=>ae:ae}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ae){this.supportsScrolling()&&this.window.scrollTo(ae[0],ae[1])}scrollToAnchor(ae){if(!this.supportsScrolling())return;const H=function(j,ae){const H=j.getElementById(ae)||j.getElementsByName(ae)[0];if(H)return H;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const he=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let Me=he.currentNode;for(;Me;){const yt=Me.shadowRoot;if(yt){const Vt=yt.getElementById(ae)||yt.querySelector(`[name="${ae}"]`);if(Vt)return Vt}Me=he.nextNode()}}return null}(this.document,ae);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(ae){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ae)}}scrollToElement(ae){const H=ae.getBoundingClientRect(),he=H.left+this.window.pageXOffset,Me=H.top+this.window.pageYOffset,yt=this.offset();this.window.scrollTo(he-yt[0],Me-yt[1])}attemptFocus(ae){return ae.focus(),this.document.activeElement===ae}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ae=ai(this.window.history)||ai(Object.getPrototypeOf(this.window.history));return!(!ae||!ae.writable&&!ae.set)}catch(ae){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ae){return!1}}}function ai(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class Ur{setOffset(ae){}getScrollPosition(){return[0,0]}scrollToPosition(ae){}scrollToAnchor(ae){}setHistoryScrollRestoration(ae){}}class $s{}},1841:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{HTTP_INTERCEPTORS:()=>mr,HttpBackend:()=>le,HttpClient:()=>xt,HttpClientJsonpModule:()=>Ir,HttpClientModule:()=>Fn,HttpClientXsrfModule:()=>ln,HttpContext:()=>rt,HttpContextToken:()=>qe,HttpErrorResponse:()=>Et,HttpEventType:()=>Ue,HttpHandler:()=>X,HttpHeaderResponse:()=>gt,HttpHeaders:()=>$,HttpParams:()=>Se,HttpRequest:()=>jt,HttpResponse:()=>Mt,HttpResponseBase:()=>bt,HttpUrlEncodingCodec:()=>J,HttpXhrBackend:()=>wn,HttpXsrfTokenExtractor:()=>ir,JsonpClientBackend:()=>Zt,JsonpInterceptor:()=>wt,XhrFactory:()=>Rr,\u0275HttpInterceptingHandler:()=>St,\u0275angular_packages_common_http_http_a:()=>Sn,\u0275angular_packages_common_http_http_b:()=>Ht,\u0275angular_packages_common_http_http_c:()=>xn,\u0275angular_packages_common_http_http_d:()=>Qt,\u0275angular_packages_common_http_http_e:()=>Ft,\u0275angular_packages_common_http_http_f:()=>Ar,\u0275angular_packages_common_http_http_g:()=>fn});var h=P(8583),R=P(7716),z=P(5917),ue=P(8891),pe=P(4612),ee=P(5435),ce=P(8002);class X{}class le{}class ${constructor($e){this.normalizedNames=new Map,this.lazyUpdate=null,$e?this.lazyInit="string"==typeof $e?()=>{this.headers=new Map,$e.split("\n").forEach(Ae=>{const dt=Ae.indexOf(":");if(dt>0){const mt=Ae.slice(0,dt),Xt=mt.toLowerCase(),At=Ae.slice(dt+1).trim();this.maybeSetNormalizedName(mt,Xt),this.headers.has(Xt)?this.headers.get(Xt).push(At):this.headers.set(Xt,[At])}})}:()=>{this.headers=new Map,Object.keys($e).forEach(Ae=>{let dt=$e[Ae];const mt=Ae.toLowerCase();"string"==typeof dt&&(dt=[dt]),dt.length>0&&(this.headers.set(mt,dt),this.maybeSetNormalizedName(Ae,mt))})}:this.headers=new Map}has($e){return this.init(),this.headers.has($e.toLowerCase())}get($e){this.init();const Ae=this.headers.get($e.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($e){return this.init(),this.headers.get($e.toLowerCase())||null}append($e,Ae){return this.clone({name:$e,value:Ae,op:"a"})}set($e,Ae){return this.clone({name:$e,value:Ae,op:"s"})}delete($e,Ae){return this.clone({name:$e,value:Ae,op:"d"})}maybeSetNormalizedName($e,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,$e)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($e=>this.applyUpdate($e)),this.lazyUpdate=null))}copyFrom($e){$e.init(),Array.from($e.headers.keys()).forEach(Ae=>{this.headers.set(Ae,$e.headers.get(Ae)),this.normalizedNames.set(Ae,$e.normalizedNames.get(Ae))})}clone($e){const Ae=new $;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([$e]),Ae}applyUpdate($e){const Ae=$e.name.toLowerCase();switch($e.op){case"a":case"s":let dt=$e.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName($e.name,Ae);const mt=("a"===$e.op?this.headers.get(Ae):void 0)||[];mt.push(...dt),this.headers.set(Ae,mt);break;case"d":const Xt=$e.value;if(Xt){let At=this.headers.get(Ae);if(!At)return;At=At.filter(Yt=>-1===Xt.indexOf(Yt)),0===At.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,At)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach($e){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>$e(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class J{encodeKey($e){return Xe($e)}encodeValue($e){return Xe($e)}decodeKey($e){return decodeURIComponent($e)}decodeValue($e){return decodeURIComponent($e)}}const we=/%(\d[a-f0-9])/gi,xe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xe(at){return encodeURIComponent(at).replace(we,($e,Ae)=>{var dt;return null!==(dt=xe[Ae])&&void 0!==dt?dt:$e})}function et(at){return`${at}`}class Se{constructor($e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$e.encoder||new J,$e.fromString){if($e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(at,$e){const Ae=new Map;return at.length>0&&at.replace(/^\?/,"").split("&").forEach(mt=>{const Xt=mt.indexOf("="),[At,Yt]=-1==Xt?[$e.decodeKey(mt),""]:[$e.decodeKey(mt.slice(0,Xt)),$e.decodeValue(mt.slice(Xt+1))],On=Ae.get(At)||[];On.push(Yt),Ae.set(At,On)}),Ae}($e.fromString,this.encoder)}else $e.fromObject?(this.map=new Map,Object.keys($e.fromObject).forEach(Ae=>{const dt=$e.fromObject[Ae];this.map.set(Ae,Array.isArray(dt)?dt:[dt])})):this.map=null}has($e){return this.init(),this.map.has($e)}get($e){this.init();const Ae=this.map.get($e);return Ae?Ae[0]:null}getAll($e){return this.init(),this.map.get($e)||null}keys(){return this.init(),Array.from(this.map.keys())}append($e,Ae){return this.clone({param:$e,value:Ae,op:"a"})}appendAll($e){const Ae=[];return Object.keys($e).forEach(dt=>{const mt=$e[dt];Array.isArray(mt)?mt.forEach(Xt=>{Ae.push({param:dt,value:Xt,op:"a"})}):Ae.push({param:dt,value:mt,op:"a"})}),this.clone(Ae)}set($e,Ae){return this.clone({param:$e,value:Ae,op:"s"})}delete($e,Ae){return this.clone({param:$e,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map($e=>{const Ae=this.encoder.encodeKey($e);return this.map.get($e).map(dt=>Ae+"="+this.encoder.encodeValue(dt)).join("&")}).filter($e=>""!==$e).join("&")}clone($e){const Ae=new Se({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat($e),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($e=>this.map.set($e,this.cloneFrom.map.get($e))),this.updates.forEach($e=>{switch($e.op){case"a":case"s":const Ae=("a"===$e.op?this.map.get($e.param):void 0)||[];Ae.push(et($e.value)),this.map.set($e.param,Ae);break;case"d":if(void 0===$e.value){this.map.delete($e.param);break}{let dt=this.map.get($e.param)||[];const mt=dt.indexOf(et($e.value));-1!==mt&&dt.splice(mt,1),dt.length>0?this.map.set($e.param,dt):this.map.delete($e.param)}}}),this.cloneFrom=this.updates=null)}}class qe{constructor($e){this.defaultValue=$e}}class rt{constructor(){this.map=new Map}set($e,Ae){return this.map.set($e,Ae),this}get($e){return this.map.has($e)||this.map.set($e,$e.defaultValue()),this.map.get($e)}delete($e){return this.map.delete($e),this}keys(){return this.map.keys()}}function pt(at){return"undefined"!=typeof ArrayBuffer&&at instanceof ArrayBuffer}function Tn(at){return"undefined"!=typeof Blob&&at instanceof Blob}function _n(at){return"undefined"!=typeof FormData&&at instanceof FormData}class jt{constructor($e,Ae,dt,mt){let Xt;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$e.toUpperCase(),function(at){switch(at){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||mt?(this.body=void 0!==dt?dt:null,Xt=mt):Xt=dt,Xt&&(this.reportProgress=!!Xt.reportProgress,this.withCredentials=!!Xt.withCredentials,Xt.responseType&&(this.responseType=Xt.responseType),Xt.headers&&(this.headers=Xt.headers),Xt.context&&(this.context=Xt.context),Xt.params&&(this.params=Xt.params)),this.headers||(this.headers=new $),this.context||(this.context=new rt),this.params){const At=this.params.toString();if(0===At.length)this.urlWithParams=Ae;else{const Yt=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Yt?"?":Yt<Ae.length-1?"&":"")+At}}else this.params=new Se,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:pt(this.body)||Tn(this.body)||_n(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_n(this.body)?null:Tn(this.body)?this.body.type||null:pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($e={}){var Ae;const dt=$e.method||this.method,mt=$e.url||this.url,Xt=$e.responseType||this.responseType,At=void 0!==$e.body?$e.body:this.body,Yt=void 0!==$e.withCredentials?$e.withCredentials:this.withCredentials,On=void 0!==$e.reportProgress?$e.reportProgress:this.reportProgress;let _r=$e.headers||this.headers,Wn=$e.params||this.params;const Cn=null!==(Ae=$e.context)&&void 0!==Ae?Ae:this.context;return void 0!==$e.setHeaders&&(_r=Object.keys($e.setHeaders).reduce((Nr,yn)=>Nr.set(yn,$e.setHeaders[yn]),_r)),$e.setParams&&(Wn=Object.keys($e.setParams).reduce((Nr,yn)=>Nr.set(yn,$e.setParams[yn]),Wn)),new jt(dt,mt,At,{params:Wn,headers:_r,context:Cn,reportProgress:On,responseType:Xt,withCredentials:Yt})}}var Ue=(()=>((Ue=Ue||{})[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue))();class bt{constructor($e,Ae=200,dt="OK"){this.headers=$e.headers||new $,this.status=void 0!==$e.status?$e.status:Ae,this.statusText=$e.statusText||dt,this.url=$e.url||null,this.ok=this.status>=200&&this.status<300}}class gt extends bt{constructor($e={}){super($e),this.type=Ue.ResponseHeader}clone($e={}){return new gt({headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Mt extends bt{constructor($e={}){super($e),this.type=Ue.Response,this.body=void 0!==$e.body?$e.body:null}clone($e={}){return new Mt({body:void 0!==$e.body?$e.body:this.body,headers:$e.headers||this.headers,status:void 0!==$e.status?$e.status:this.status,statusText:$e.statusText||this.statusText,url:$e.url||this.url||void 0})}}class Et extends bt{constructor($e){super($e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$e.url||"(unknown url)"}`:`Http failure response for ${$e.url||"(unknown url)"}: ${$e.status} ${$e.statusText}`,this.error=$e.error||null}}function en(at,$e){return{body:$e,headers:at.headers,context:at.context,observe:at.observe,params:at.params,reportProgress:at.reportProgress,responseType:at.responseType,withCredentials:at.withCredentials}}let xt=(()=>{class at{constructor(Ae){this.handler=Ae}request(Ae,dt,mt={}){let Xt;if(Ae instanceof jt)Xt=Ae;else{let On,_r;On=mt.headers instanceof $?mt.headers:new $(mt.headers),mt.params&&(_r=mt.params instanceof Se?mt.params:new Se({fromObject:mt.params})),Xt=new jt(Ae,dt,void 0!==mt.body?mt.body:null,{headers:On,context:mt.context,params:_r,reportProgress:mt.reportProgress,responseType:mt.responseType||"json",withCredentials:mt.withCredentials})}const At=(0,z.of)(Xt).pipe((0,pe.b)(On=>this.handler.handle(On)));if(Ae instanceof jt||"events"===mt.observe)return At;const Yt=At.pipe((0,ee.h)(On=>On instanceof Mt));switch(mt.observe||"body"){case"body":switch(Xt.responseType){case"arraybuffer":return Yt.pipe((0,ce.U)(On=>{if(null!==On.body&&!(On.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return On.body}));case"blob":return Yt.pipe((0,ce.U)(On=>{if(null!==On.body&&!(On.body instanceof Blob))throw new Error("Response is not a Blob.");return On.body}));case"text":return Yt.pipe((0,ce.U)(On=>{if(null!==On.body&&"string"!=typeof On.body)throw new Error("Response is not a string.");return On.body}));case"json":default:return Yt.pipe((0,ce.U)(On=>On.body))}case"response":return Yt;default:throw new Error(`Unreachable: unhandled observe type ${mt.observe}}`)}}delete(Ae,dt={}){return this.request("DELETE",Ae,dt)}get(Ae,dt={}){return this.request("GET",Ae,dt)}head(Ae,dt={}){return this.request("HEAD",Ae,dt)}jsonp(Ae,dt){return this.request("JSONP",Ae,{params:(new Se).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,dt={}){return this.request("OPTIONS",Ae,dt)}patch(Ae,dt,mt={}){return this.request("PATCH",Ae,en(mt,dt))}post(Ae,dt,mt={}){return this.request("POST",Ae,en(mt,dt))}put(Ae,dt,mt={}){return this.request("PUT",Ae,en(mt,dt))}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(X))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})();class En{constructor($e,Ae){this.next=$e,this.interceptor=Ae}handle($e){return this.interceptor.intercept($e,this.next)}}const mr=new R.InjectionToken("HTTP_INTERCEPTORS");let Sn=(()=>{class at{intercept(Ae,dt){return dt.handle(Ae)}}return at.\u0275fac=function(Ae){return new(Ae||at)},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})(),ar=0;class Ht{}let Zt=(()=>{class at{constructor(Ae,dt){this.callbackMap=Ae,this.document=dt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+ar++}handle(Ae){if("JSONP"!==Ae.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ae.responseType)throw new Error("JSONP requests must use Json response type.");return new ue.y(dt=>{const mt=this.nextCallback(),Xt=Ae.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${mt}$1`),At=this.document.createElement("script");At.src=Xt;let Yt=null,On=!1,_r=!1;this.callbackMap[mt]=yn=>{delete this.callbackMap[mt],!_r&&(Yt=yn,On=!0)};const Wn=()=>{At.parentNode&&At.parentNode.removeChild(At),delete this.callbackMap[mt]},Cn=yn=>{_r||this.resolvedPromise.then(()=>{Wn(),On?(dt.next(new Mt({body:Yt,status:200,statusText:"OK",url:Xt})),dt.complete()):dt.error(new Et({url:Xt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},Nr=yn=>{_r||(Wn(),dt.error(new Et({error:yn,status:0,statusText:"JSONP Error",url:Xt})))};return At.addEventListener("load",Cn),At.addEventListener("error",Nr),this.document.body.appendChild(At),dt.next({type:Ue.Sent}),()=>{_r=!0,At.removeEventListener("load",Cn),At.removeEventListener("error",Nr),Wn()}})}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(Ht),R.\u0275\u0275inject(h.DOCUMENT))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})(),wt=(()=>{class at{constructor(Ae){this.jsonp=Ae}intercept(Ae,dt){return"JSONP"===Ae.method?this.jsonp.handle(Ae):dt.handle(Ae)}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(Zt))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})();const Ln=/^\)\]\}',?\n/;let wn=(()=>{class at{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue.y(dt=>{const mt=this.xhrFactory.build();if(mt.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(mt.withCredentials=!0),Ae.headers.forEach((yn,on)=>mt.setRequestHeader(yn,on.join(","))),Ae.headers.has("Accept")||mt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const yn=Ae.detectContentTypeHeader();null!==yn&&mt.setRequestHeader("Content-Type",yn)}if(Ae.responseType){const yn=Ae.responseType.toLowerCase();mt.responseType="json"!==yn?yn:"text"}const Xt=Ae.serializeBody();let At=null;const Yt=()=>{if(null!==At)return At;const yn=1223===mt.status?204:mt.status,on=mt.statusText||"OK",Ce=new $(mt.getAllResponseHeaders()),Te=function(at){return"responseURL"in at&&at.responseURL?at.responseURL:/^X-Request-URL:/m.test(at.getAllResponseHeaders())?at.getResponseHeader("X-Request-URL"):null}(mt)||Ae.url;return At=new gt({headers:Ce,status:yn,statusText:on,url:Te}),At},On=()=>{let{headers:yn,status:on,statusText:Ce,url:Te}=Yt(),Ke=null;204!==on&&(Ke=void 0===mt.response?mt.responseText:mt.response),0===on&&(on=Ke?200:0);let Fe=on>=200&&on<300;if("json"===Ae.responseType&&"string"==typeof Ke){const Ie=Ke;Ke=Ke.replace(Ln,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(_t){Ke=Ie,Fe&&(Fe=!1,Ke={error:_t,text:Ke})}}Fe?(dt.next(new Mt({body:Ke,headers:yn,status:on,statusText:Ce,url:Te||void 0})),dt.complete()):dt.error(new Et({error:Ke,headers:yn,status:on,statusText:Ce,url:Te||void 0}))},_r=yn=>{const{url:on}=Yt(),Ce=new Et({error:yn,status:mt.status||0,statusText:mt.statusText||"Unknown Error",url:on||void 0});dt.error(Ce)};let Wn=!1;const Cn=yn=>{Wn||(dt.next(Yt()),Wn=!0);let on={type:Ue.DownloadProgress,loaded:yn.loaded};yn.lengthComputable&&(on.total=yn.total),"text"===Ae.responseType&&!!mt.responseText&&(on.partialText=mt.responseText),dt.next(on)},Nr=yn=>{let on={type:Ue.UploadProgress,loaded:yn.loaded};yn.lengthComputable&&(on.total=yn.total),dt.next(on)};return mt.addEventListener("load",On),mt.addEventListener("error",_r),mt.addEventListener("timeout",_r),mt.addEventListener("abort",_r),Ae.reportProgress&&(mt.addEventListener("progress",Cn),null!==Xt&&mt.upload&&mt.upload.addEventListener("progress",Nr)),mt.send(Xt),dt.next({type:Ue.Sent}),()=>{mt.removeEventListener("error",_r),mt.removeEventListener("abort",_r),mt.removeEventListener("load",On),mt.removeEventListener("timeout",_r),Ae.reportProgress&&(mt.removeEventListener("progress",Cn),null!==Xt&&mt.upload&&mt.upload.removeEventListener("progress",Nr)),mt.readyState!==mt.DONE&&mt.abort()}})}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(h.XhrFactory))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})();const Qt=new R.InjectionToken("XSRF_COOKIE_NAME"),Ft=new R.InjectionToken("XSRF_HEADER_NAME");class ir{}let Ar=(()=>{class at{constructor(Ae,dt,mt){this.doc=Ae,this.platform=dt,this.cookieName=mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,h.\u0275parseCookieValue)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(h.DOCUMENT),R.\u0275\u0275inject(R.PLATFORM_ID),R.\u0275\u0275inject(Qt))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})(),fn=(()=>{class at{constructor(Ae,dt){this.tokenService=Ae,this.headerName=dt}intercept(Ae,dt){const mt=Ae.url.toLowerCase();if("GET"===Ae.method||"HEAD"===Ae.method||mt.startsWith("http://")||mt.startsWith("https://"))return dt.handle(Ae);const Xt=this.tokenService.getToken();return null!==Xt&&!Ae.headers.has(this.headerName)&&(Ae=Ae.clone({headers:Ae.headers.set(this.headerName,Xt)})),dt.handle(Ae)}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(ir),R.\u0275\u0275inject(Ft))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})(),St=(()=>{class at{constructor(Ae,dt){this.backend=Ae,this.injector=dt,this.chain=null}handle(Ae){if(null===this.chain){const dt=this.injector.get(mr,[]);this.chain=dt.reduceRight((mt,Xt)=>new En(mt,Xt),this.backend)}return this.chain.handle(Ae)}}return at.\u0275fac=function(Ae){return new(Ae||at)(R.\u0275\u0275inject(le),R.\u0275\u0275inject(R.Injector))},at.\u0275prov=R.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac}),at})();function xn(){return"object"==typeof window?window:{}}let ln=(()=>{class at{static disable(){return{ngModule:at,providers:[{provide:fn,useClass:Sn}]}}static withOptions(Ae={}){return{ngModule:at,providers:[Ae.cookieName?{provide:Qt,useValue:Ae.cookieName}:[],Ae.headerName?{provide:Ft,useValue:Ae.headerName}:[]]}}}return at.\u0275fac=function(Ae){return new(Ae||at)},at.\u0275mod=R.\u0275\u0275defineNgModule({type:at}),at.\u0275inj=R.\u0275\u0275defineInjector({providers:[fn,{provide:mr,useExisting:fn,multi:!0},{provide:ir,useClass:Ar},{provide:Qt,useValue:"XSRF-TOKEN"},{provide:Ft,useValue:"X-XSRF-TOKEN"}]}),at})(),Fn=(()=>{class at{}return at.\u0275fac=function(Ae){return new(Ae||at)},at.\u0275mod=R.\u0275\u0275defineNgModule({type:at}),at.\u0275inj=R.\u0275\u0275defineInjector({providers:[xt,{provide:X,useClass:St},wn,{provide:le,useExisting:wn}],imports:[[ln.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),at})(),Ir=(()=>{class at{}return at.\u0275fac=function(Ae){return new(Ae||at)},at.\u0275mod=R.\u0275\u0275defineNgModule({type:at}),at.\u0275inj=R.\u0275\u0275defineInjector({providers:[Zt,{provide:Ht,useFactory:xn},{provide:mr,useClass:wt,multi:!0}]}),at})();const Rr=h.XhrFactory},7716:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>_u,APP_BOOTSTRAP_LISTENER:()=>LI,APP_ID:()=>xI,APP_INITIALIZER:()=>_E,ApplicationInitStatus:()=>pg,ApplicationModule:()=>PA,ApplicationRef:()=>c_,Attribute:()=>ba,COMPILER_OPTIONS:()=>GI,CUSTOM_ELEMENTS_SCHEMA:()=>nh,ChangeDetectionStrategy:()=>dt,ChangeDetectorRef:()=>V0,Compiler:()=>l_,CompilerFactory:()=>WI,Component:()=>MD,ComponentFactory:()=>ag,ComponentFactoryResolver:()=>ug,ComponentRef:()=>P0,ContentChild:()=>ll,ContentChildren:()=>Nl,DEFAULT_CURRENCY_CODE:()=>VI,DebugElement:()=>DA,DebugEventListener:()=>cT,DebugNode:()=>SA,DefaultIterableDiffer:()=>$b,Directive:()=>SI,ElementRef:()=>sc,EmbeddedViewRef:()=>mA,ErrorHandler:()=>Ho,EventEmitter:()=>Yc,Host:()=>Ll,HostBinding:()=>ND,HostListener:()=>OD,INJECTOR:()=>Tl,Inject:()=>Gu,InjectFlags:()=>ln,Injectable:()=>Yv,InjectionToken:()=>wi,Injector:()=>as,Input:()=>xD,IterableDiffers:()=>Xy,KeyValueDiffers:()=>Yy,LOCALE_ID:()=>av,MissingTranslationStrategy:()=>Jc,ModuleWithComponentFactories:()=>UI,NO_ERRORS_SCHEMA:()=>Lh,NgModule:()=>VD,NgModuleFactory:()=>B0,NgModuleFactoryLoader:()=>cA,NgModuleRef:()=>Mh,NgProbeToken:()=>sA,NgZone:()=>sl,Optional:()=>ka,Output:()=>RD,PACKAGE_ROOT_URL:()=>UD,PLATFORM_ID:()=>kI,PLATFORM_INITIALIZER:()=>OI,Pipe:()=>PD,PlatformRef:()=>AE,Query:()=>au,QueryList:()=>s_,ReflectiveInjector:()=>Gc,ReflectiveKey:()=>Uc,Renderer2:()=>jb,RendererFactory2:()=>qy,RendererStyleFlags2:()=>fu,ResolvedReflectiveFactory:()=>Ef,Sanitizer:()=>R0,SecurityContext:()=>bn,Self:()=>Cu,SimpleChange:()=>Rs,SkipSelf:()=>Fi,SystemJsNgModuleLoader:()=>gA,SystemJsNgModuleLoaderConfig:()=>aT,TRANSLATIONS:()=>jD,TRANSLATIONS_FORMAT:()=>HD,TemplateRef:()=>Nf,Testability:()=>ZI,TestabilityRegistry:()=>IE,Type:()=>Do,VERSION:()=>N0,Version:()=>Wb,ViewChild:()=>Za,ViewChildren:()=>cl,ViewContainerRef:()=>Zm,ViewEncapsulation:()=>At,ViewRef:()=>lT,WrappedValue:()=>Ou,asNativeElements:()=>_A,assertPlatform:()=>tT,createPlatform:()=>JI,createPlatformFactory:()=>eT,defineInjectable:()=>Ln,destroyPlatform:()=>oA,enableProdMode:()=>eA,forwardRef:()=>J,getDebugNode:()=>da,getModuleFactory:()=>hA,getPlatform:()=>DE,inject:()=>cu,isDevMode:()=>wE,platformCore:()=>AA,resolveForwardRef:()=>ie,setTestabilityGetter:()=>JD,\u02750:()=>hc,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>SE,\u0275APP_ID_RANDOM_PROVIDER:()=>NI,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>al,\u0275ChangeDetectorStatus:()=>mt,\u0275CodegenComponentFactoryResolver:()=>Aw,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>HI,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>vE,\u0275Compiler_compileModuleAsync__POST_R3__:()=>jI,\u0275Compiler_compileModuleSync__POST_R3__:()=>uv,\u0275ComponentFactory:()=>ag,\u0275Console:()=>FI,\u0275DEFAULT_LOCALE_ID:()=>K,\u0275EMPTY_ARRAY:()=>Ce,\u0275EMPTY_MAP:()=>lS,\u0275INJECTOR_IMPL__POST_R3__:()=>em,\u0275INJECTOR_SCOPE:()=>wl,\u0275LifecycleHooksFeature:()=>cm,\u0275LocaleDataIndex:()=>l,\u0275NG_COMP_DEF:()=>Te,\u0275NG_DIR_DEF:()=>Ke,\u0275NG_ELEMENT_ID:()=>mn,\u0275NG_INJ_DEF:()=>St,\u0275NG_MOD_DEF:()=>Ie,\u0275NG_PIPE_DEF:()=>Fe,\u0275NG_PROV_DEF:()=>fn,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>kf,\u0275NO_CHANGE:()=>ne,\u0275NgModuleFactory:()=>sv,\u0275NoopNgZone:()=>zI,\u0275ReflectionCapabilities:()=>ct,\u0275Render3ComponentFactory:()=>Y0,\u0275Render3ComponentRef:()=>AC,\u0275Render3NgModuleRef:()=>NC,\u0275RuntimeError:()=>Xe,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>Zb,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>DI,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>AI,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>fy,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>PI,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>MI,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>Bb,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>BI,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>Hb,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>Yb,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>eC,\u0275_sanitizeHtml:()=>Ct,\u0275_sanitizeUrl:()=>wa,\u0275allowSanitizationBypassAndThrow:()=>Fa,\u0275and:()=>xA,\u0275angular_packages_core_core_a:()=>we,\u0275angular_packages_core_core_b:()=>Vo,\u0275angular_packages_core_core_ba:()=>vT,\u0275angular_packages_core_core_bb:()=>Y,\u0275angular_packages_core_core_bc:()=>iv,\u0275angular_packages_core_core_bd:()=>Xw,\u0275angular_packages_core_core_be:()=>ki,\u0275angular_packages_core_core_bf:()=>DC,\u0275angular_packages_core_core_bg:()=>ht,\u0275angular_packages_core_core_bh:()=>Nt,\u0275angular_packages_core_core_bi:()=>ji,\u0275angular_packages_core_core_bj:()=>mo,\u0275angular_packages_core_core_bl:()=>J0,\u0275angular_packages_core_core_bm:()=>eE,\u0275angular_packages_core_core_bn:()=>tE,\u0275angular_packages_core_core_bo:()=>nE,\u0275angular_packages_core_core_bp:()=>rE,\u0275angular_packages_core_core_bq:()=>Ai,\u0275angular_packages_core_core_br:()=>jr,\u0275angular_packages_core_core_bs:()=>ko,\u0275angular_packages_core_core_bv:()=>ee,\u0275angular_packages_core_core_bw:()=>lf,\u0275angular_packages_core_core_bx:()=>Ir,\u0275angular_packages_core_core_bz:()=>V,\u0275angular_packages_core_core_c:()=>ju,\u0275angular_packages_core_core_cb:()=>Tc,\u0275angular_packages_core_core_cc:()=>Mb,\u0275angular_packages_core_core_d:()=>by,\u0275angular_packages_core_core_e:()=>Lp,\u0275angular_packages_core_core_f:()=>bm,\u0275angular_packages_core_core_g:()=>RI,\u0275angular_packages_core_core_h:()=>Gb,\u0275angular_packages_core_core_i:()=>Vb,\u0275angular_packages_core_core_j:()=>Rf,\u0275angular_packages_core_core_k:()=>dA,\u0275angular_packages_core_core_l:()=>Jb,\u0275angular_packages_core_core_m:()=>zm,\u0275angular_packages_core_core_n:()=>tC,\u0275angular_packages_core_core_o:()=>d_,\u0275angular_packages_core_core_p:()=>ca,\u0275angular_packages_core_core_q:()=>CA,\u0275angular_packages_core_core_r:()=>Qb,\u0275angular_packages_core_core_s:()=>O0,\u0275angular_packages_core_core_t:()=>k0,\u0275angular_packages_core_core_u:()=>L0,\u0275angular_packages_core_core_v:()=>F0,\u0275angular_packages_core_core_w:()=>gT,\u0275angular_packages_core_core_x:()=>mT,\u0275angular_packages_core_core_y:()=>_T,\u0275angular_packages_core_core_z:()=>yT,\u0275bypassSanitizationTrustHtml:()=>gc,\u0275bypassSanitizationTrustResourceUrl:()=>Xd,\u0275bypassSanitizationTrustScript:()=>mc,\u0275bypassSanitizationTrustStyle:()=>sd,\u0275bypassSanitizationTrustUrl:()=>qd,\u0275ccf:()=>DS,\u0275clearOverrides:()=>kM,\u0275clearResolutionOfComponentResourcesQueue:()=>hl,\u0275cmf:()=>LM,\u0275compileComponent:()=>pI,\u0275compileDirective:()=>mE,\u0275compileNgModule:()=>uI,\u0275compileNgModuleDefs:()=>lI,\u0275compileNgModuleFactory__POST_R3__:()=>XI,\u0275compilePipe:()=>TI,\u0275createInjector:()=>Qg,\u0275crt:()=>Jw,\u0275defaultIterableDiffers:()=>qb,\u0275defaultKeyValueDiffers:()=>Xb,\u0275detectChanges:()=>Ep,\u0275devModeEqual:()=>fh,\u0275did:()=>GS,\u0275eld:()=>RA,\u0275findLocaleData:()=>Hm,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>oI,\u0275getComponentViewDefinitionFactory:()=>yC,\u0275getDebugNodeR2:()=>TA,\u0275getDebugNode__POST_R3__:()=>cv,\u0275getDirectives:()=>Sp,\u0275getHostElement:()=>Dp,\u0275getInjectableDef:()=>wn,\u0275getLContext:()=>rs,\u0275getLocaleCurrencyCode:()=>s,\u0275getLocalePluralCase:()=>e,\u0275getModuleFactory__POST_R3__:()=>iT,\u0275getSanitizationBypassType:()=>id,\u0275global:()=>Cn,\u0275initServicesIfNeeded:()=>g_,\u0275inlineInterpolate:()=>uS,\u0275interpolate:()=>aS,\u0275isBoundToModule__POST_R3__:()=>YI,\u0275isDefaultChangeDetectionStrategy:()=>Xt,\u0275isListLikeIterable:()=>gf,\u0275isObservable:()=>ec,\u0275isPromise:()=>Im,\u0275isSubscribable:()=>wf,\u0275ivyEnabled:()=>u_,\u0275makeDecorator:()=>Na,\u0275markDirty:()=>zg,\u0275mod:()=>pS,\u0275mpd:()=>fS,\u0275ncd:()=>KA,\u0275noSideEffects:()=>Ae,\u0275nov:()=>kS,\u0275overrideComponentView:()=>OM,\u0275overrideProvider:()=>NM,\u0275pad:()=>QA,\u0275patchComponentDefWithScope:()=>fE,\u0275pid:()=>WS,\u0275pod:()=>qA,\u0275ppd:()=>ZA,\u0275prd:()=>$S,\u0275publishDefaultGlobalUtils:()=>Gv,\u0275publishGlobalUtil:()=>eu,\u0275qud:()=>HA,\u0275registerLocaleData:()=>Ky,\u0275registerModuleFactory:()=>rD,\u0275registerNgModuleType:()=>xC,\u0275renderComponent:()=>Wv,\u0275resetCompiledComponents:()=>vD,\u0275resetJitOptions:()=>_D,\u0275resolveComponentResources:()=>$u,\u0275setClassMetadata:()=>MC,\u0275setCurrentInjector:()=>gs,\u0275setDocument:()=>ds,\u0275setLocaleId:()=>An,\u0275store:()=>vm,\u0275stringify:()=>X,\u0275ted:()=>eM,\u0275transitiveScopesFor:()=>a_,\u0275unregisterLocaleData:()=>o,\u0275unv:()=>Yw,\u0275unwrapSafeValue:()=>Ts,\u0275vid:()=>iM,\u0275whenRendered:()=>$v,\u0275\u0275CopyDefinitionFeature:()=>ay,\u0275\u0275FactoryTarget:()=>ii,\u0275\u0275InheritDefinitionFeature:()=>ff,\u0275\u0275NgOnChangesFeature:()=>ni,\u0275\u0275ProvidersFeature:()=>kb,\u0275\u0275advance:()=>be,\u0275\u0275attribute:()=>mf,\u0275\u0275attributeInterpolate1:()=>Rp,\u0275\u0275attributeInterpolate2:()=>fm,\u0275\u0275attributeInterpolate3:()=>Np,\u0275\u0275attributeInterpolate4:()=>pm,\u0275\u0275attributeInterpolate5:()=>gm,\u0275\u0275attributeInterpolate6:()=>mm,\u0275\u0275attributeInterpolate7:()=>_m,\u0275\u0275attributeInterpolate8:()=>Op,\u0275\u0275attributeInterpolateV:()=>_f,\u0275\u0275classMap:()=>Wd,\u0275\u0275classMapInterpolate1:()=>Sh,\u0275\u0275classMapInterpolate2:()=>Dh,\u0275\u0275classMapInterpolate3:()=>Ma,\u0275\u0275classMapInterpolate4:()=>Fy,\u0275\u0275classMapInterpolate5:()=>eg,\u0275\u0275classMapInterpolate6:()=>Kd,\u0275\u0275classMapInterpolate7:()=>Qc,\u0275\u0275classMapInterpolate8:()=>tg,\u0275\u0275classMapInterpolateV:()=>qc,\u0275\u0275classProp:()=>km,\u0275\u0275contentQuery:()=>eI,\u0275\u0275defineComponent:()=>lr,\u0275\u0275defineDirective:()=>Yn,\u0275\u0275defineInjectable:()=>wt,\u0275\u0275defineInjector:()=>dn,\u0275\u0275defineNgModule:()=>ke,\u0275\u0275definePipe:()=>$n,\u0275\u0275directiveInject:()=>If,\u0275\u0275disableBindings:()=>Ms,\u0275\u0275element:()=>jp,\u0275\u0275elementContainer:()=>Cm,\u0275\u0275elementContainerEnd:()=>bh,\u0275\u0275elementContainerStart:()=>Eh,\u0275\u0275elementEnd:()=>Up,\u0275\u0275elementStart:()=>Bp,\u0275\u0275enableBindings:()=>Ko,\u0275\u0275getCurrentView:()=>Ch,\u0275\u0275getInheritedFactory:()=>Uu,\u0275\u0275hostProperty:()=>sg,\u0275\u0275i18n:()=>Pb,\u0275\u0275i18nApply:()=>Rb,\u0275\u0275i18nAttributes:()=>xb,\u0275\u0275i18nEnd:()=>T0,\u0275\u0275i18nExp:()=>w0,\u0275\u0275i18nPostprocess:()=>Nb,\u0275\u0275i18nStart:()=>I0,\u0275\u0275inject:()=>Kr,\u0275\u0275injectAttribute:()=>Oo,\u0275\u0275invalidFactory:()=>Fp,\u0275\u0275invalidFactoryDep:()=>qa,\u0275\u0275listener:()=>nl,\u0275\u0275loadQuery:()=>tI,\u0275\u0275namespaceHTML:()=>To,\u0275\u0275namespaceMathML:()=>Yo,\u0275\u0275namespaceSVG:()=>no,\u0275\u0275nextContext:()=>Ih,\u0275\u0275ngDeclareClassMetadata:()=>UM,\u0275\u0275ngDeclareComponent:()=>jM,\u0275\u0275ngDeclareDirective:()=>BM,\u0275\u0275ngDeclareFactory:()=>HM,\u0275\u0275ngDeclareInjectable:()=>WM,\u0275\u0275ngDeclareInjector:()=>$M,\u0275\u0275ngDeclareNgModule:()=>KM,\u0275\u0275ngDeclarePipe:()=>zM,\u0275\u0275pipe:()=>WC,\u0275\u0275pipeBind1:()=>$C,\u0275\u0275pipeBind2:()=>KC,\u0275\u0275pipeBind3:()=>zC,\u0275\u0275pipeBind4:()=>ZC,\u0275\u0275pipeBindV:()=>QC,\u0275\u0275projection:()=>wy,\u0275\u0275projectionDef:()=>Ty,\u0275\u0275property:()=>Tf,\u0275\u0275propertyInterpolate:()=>wm,\u0275\u0275propertyInterpolate1:()=>Gp,\u0275\u0275propertyInterpolate2:()=>Wp,\u0275\u0275propertyInterpolate3:()=>Sm,\u0275\u0275propertyInterpolate4:()=>Dm,\u0275\u0275propertyInterpolate5:()=>$p,\u0275\u0275propertyInterpolate6:()=>Am,\u0275\u0275propertyInterpolate7:()=>Mm,\u0275\u0275propertyInterpolate8:()=>Kp,\u0275\u0275propertyInterpolateV:()=>Pm,\u0275\u0275pureFunction0:()=>OC,\u0275\u0275pureFunction1:()=>kC,\u0275\u0275pureFunction2:()=>LC,\u0275\u0275pureFunction3:()=>FC,\u0275\u0275pureFunction4:()=>VC,\u0275\u0275pureFunction5:()=>BC,\u0275\u0275pureFunction6:()=>UC,\u0275\u0275pureFunction7:()=>jC,\u0275\u0275pureFunction8:()=>HC,\u0275\u0275pureFunctionV:()=>GC,\u0275\u0275queryRefresh:()=>YC,\u0275\u0275reference:()=>yf,\u0275\u0275resolveBody:()=>Uh,\u0275\u0275resolveDocument:()=>$f,\u0275\u0275resolveWindow:()=>Bh,\u0275\u0275restoreView:()=>ga,\u0275\u0275sanitizeHtml:()=>ci,\u0275\u0275sanitizeResourceUrl:()=>Sa,\u0275\u0275sanitizeScript:()=>Qu,\u0275\u0275sanitizeStyle:()=>Cr,\u0275\u0275sanitizeUrl:()=>vr,\u0275\u0275sanitizeUrlOrResourceUrl:()=>Du,\u0275\u0275setComponentScope:()=>Mr,\u0275\u0275setNgModuleScope:()=>Dt,\u0275\u0275styleMap:()=>Lu,\u0275\u0275styleMapInterpolate1:()=>Vy,\u0275\u0275styleMapInterpolate2:()=>By,\u0275\u0275styleMapInterpolate3:()=>Uy,\u0275\u0275styleMapInterpolate4:()=>nc,\u0275\u0275styleMapInterpolate5:()=>jy,\u0275\u0275styleMapInterpolate6:()=>Hy,\u0275\u0275styleMapInterpolate7:()=>Gy,\u0275\u0275styleMapInterpolate8:()=>ng,\u0275\u0275styleMapInterpolateV:()=>jm,\u0275\u0275styleProp:()=>Om,\u0275\u0275stylePropInterpolate1:()=>Ah,\u0275\u0275stylePropInterpolate2:()=>zd,\u0275\u0275stylePropInterpolate3:()=>Sf,\u0275\u0275stylePropInterpolate4:()=>rg,\u0275\u0275stylePropInterpolate5:()=>Df,\u0275\u0275stylePropInterpolate6:()=>ig,\u0275\u0275stylePropInterpolate7:()=>Af,\u0275\u0275stylePropInterpolate8:()=>Mf,\u0275\u0275stylePropInterpolateV:()=>Pf,\u0275\u0275syntheticHostListener:()=>Gd,\u0275\u0275syntheticHostProperty:()=>xf,\u0275\u0275template:()=>ym,\u0275\u0275templateRefExtractor:()=>sI,\u0275\u0275text:()=>Ly,\u0275\u0275textInterpolate:()=>Qp,\u0275\u0275textInterpolate1:()=>$d,\u0275\u0275textInterpolate2:()=>Um,\u0275\u0275textInterpolate3:()=>qp,\u0275\u0275textInterpolate4:()=>Xp,\u0275\u0275textInterpolate5:()=>tc,\u0275\u0275textInterpolate6:()=>tu,\u0275\u0275textInterpolate7:()=>la,\u0275\u0275textInterpolate8:()=>Yp,\u0275\u0275textInterpolateV:()=>Jp,\u0275\u0275trustConstantHtml:()=>Da,\u0275\u0275trustConstantResourceUrl:()=>vc,\u0275\u0275viewQuery:()=>JC});var h=P(9765),R=P(5319),z=P(8891),ue=P(6682),pe=P(8345);function ee(t){for(let n in t)if(t[n]===ee)return n;throw Error("Could not find renamed property on target object.")}function ce(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function X(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(X).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function le(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $=ee({__forward_ref__:ee});function J(t){return t.__forward_ref__=J,t.toString=function(){return X(this())},t}function ie(t){return we(t)?t():t}function we(t){return"function"==typeof t&&t.hasOwnProperty($)&&t.__forward_ref__===J}class Xe extends Error{constructor(n,i){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,i)),this.code=n}}function qe(t){return"string"==typeof t?t:null==t?"":String(t)}function rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qe(t)}function _n(t,n){const i=n?` in ${n}`:"";throw new Xe("201",`No provider for ${rt(t)} found${i}`)}function tn(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const Ln=wt;function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function wn(t){return Qt(t,fn)||Qt(t,Xn)}function Qt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ar(t){return t&&(t.hasOwnProperty(St)||t.hasOwnProperty(xn))?t[St]:null}const fn=ee({\u0275prov:ee}),St=ee({\u0275inj:ee}),Xn=ee({ngInjectableDef:ee}),xn=ee({ngInjectorDef:ee});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let Fn;function Ir(){return Fn}function Rr(t){const n=Fn;return Fn=t,n}function at(t,n,i){const a=wn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&ln.Optional?null:void 0!==n?n:void _n(X(t),"Injector")}function Ae(t){return{toString:t}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),mt=(()=>((mt=mt||{})[mt.CheckOnce=0]="CheckOnce",mt[mt.Checked=1]="Checked",mt[mt.CheckAlways=2]="CheckAlways",mt[mt.Detached=3]="Detached",mt[mt.Errored=4]="Errored",mt[mt.Destroyed=5]="Destroyed",mt))();function Xt(t){return null==t||t===dt.Default}var At=(()=>((At=At||{})[At.Emulated=0]="Emulated",At[At.None=2]="None",At[At.ShadowDom=3]="ShadowDom",At))();const Yt="undefined"!=typeof globalThis&&globalThis,On="undefined"!=typeof window&&window,_r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=Yt||"undefined"!=typeof global&&global||On||_r,on={},Ce=[],Te=ee({\u0275cmp:ee}),Ke=ee({\u0275dir:ee}),Fe=ee({\u0275pipe:ee}),Ie=ee({\u0275mod:ee}),_t=ee({\u0275loc:ee}),Ot=ee({\u0275fac:ee}),mn=ee({__NG_ELEMENT_ID__:ee});let jn=0;function lr(t){return Ae(()=>{const i={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,f=t.features,y=t.pipes;return a.id+=jn++,a.inputs=qt(t.inputs,i),a.outputs=qt(t.outputs),f&&f.forEach(E=>E(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(er):null,a.pipeDefs=y?()=>("function"==typeof y?y():y).map(tt):null,a})}function Mr(t,n,i){const a=t.\u0275cmp;a.directiveDefs=()=>n.map(er),a.pipeDefs=()=>i.map(tt)}function er(t){return Rn(t)||Jn(t)}function tt(t){return Pr(t)}const He={};function ke(t){return Ae(()=>{const n={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(He[t.id]=t.type),n})}function Dt(t,n){return Ae(()=>{const i=Lr(t,!0);i.declarations=n.declarations||Ce,i.imports=n.imports||Ce,i.exports=n.exports||Ce})}function qt(t,n){if(null==t)return on;const i={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),i[u]=a,n&&(n[u]=f)}return i}const Yn=lr;function $n(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rn(t){return t[Te]||null}function Jn(t){return t[Ke]||null}function Pr(t){return t[Fe]||null}function Lr(t,n){const i=t[Ie]||null;if(!i&&!0===n)throw new Error(`Type ${X(t)} does not have '\u0275mod' property.`);return i}function _s(t){return Array.isArray(t)&&"object"==typeof t[1]}function yr(t){return Array.isArray(t)&&!0===t[1]}function Ui(t){return 0!=(8&t.flags)}function Ds(t){return 2==(2&t.flags)}function Ji(t){return 1==(1&t.flags)}function hr(t){return null!==t.template}function zn(t){return 0!=(512&t[2])}function cs(t,n){return t.hasOwnProperty(Ot)?t[Ot]:null}class Rs{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function ni(){return ki}function ki(t){return t.type.prototype.ngOnChanges&&(t.setInput=fi),Ns}function Ns(){const t=Os(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===on)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function fi(t,n,i,a){const u=Os(t)||function(t,n){return t[vn]=n}(t,{previous:on,current:null}),f=u.current||(u.current={}),y=u.previous,E=this.declaredInputs[i],M=y[E];f[E]=new Rs(M&&M.currentValue,n,y===on),t[a]=n}ni.ngInherit=!0;const vn="__ngSimpleChanges__";function Os(t){return t[vn]||null}let Ws=null;const Ci=t=>{Ws=t},oi=function(t,n,i){null!=Ws&&Ws(t,n,i)},ri="http://www.w3.org/2000/svg",po="http://www.w3.org/1998/MathML/";let ai;function ds(t){ai=t}function Ur(){return void 0!==ai?ai:"undefined"!=typeof document?document:void 0}function j(t){return!!t.listen}const H={createRenderer:(t,n)=>Ur()};function Me(t){for(;Array.isArray(t);)t=t[0];return t}function U(t,n){return Me(n[t])}function V(t,n){return Me(n[t.index])}function te(t,n){return t.data[n]}function Ye(t,n){return t[n]}function Kt(t,n){const i=n[t];return _s(i)?i:i[0]}function Pn(t){return 4==(4&t[2])}function Vr(t){return 128==(128&t[2])}function Er(t,n){return null==n?null:t[n]}function Gr(t){t[18]=0}function Gn(t,n){t[5]+=n;let i=t,a=t[3];for(;null!==a&&(1===n&&1===i[5]||-1===n&&0===i[5]);)a[5]+=n,i=a,a=a[3]}const nr={lFrame:va(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ga(){return nr.bindingsEnabled}function Ko(){nr.bindingsEnabled=!0}function Ms(){nr.bindingsEnabled=!1}function Nt(){return nr.lFrame.lView}function wr(){return nr.lFrame.tView}function ga(t){return nr.lFrame.contextLView=t,t[8]}function Ii(){let t=zo();for(;null!==t&&64===t.type;)t=t.parent;return t}function zo(){return nr.lFrame.currentTNode}function bo(){const t=nr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ks(t,n){const i=nr.lFrame;i.currentTNode=t,i.isParent=n}function zs(){return nr.lFrame.isParent}function Ls(){nr.lFrame.isParent=!1}function Io(){return nr.isInCheckNoChangesMode}function Fs(t){nr.isInCheckNoChangesMode=t}function ji(){const t=nr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Hi(){return nr.lFrame.bindingIndex}function Wa(t){return nr.lFrame.bindingIndex=t}function Jr(){return nr.lFrame.bindingIndex++}function hs(t){const n=nr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function Zo(t){nr.lFrame.inI18n=t}function Qo(t,n){const i=nr.lFrame;i.bindingIndex=i.bindingRootIndex=t,xo(n)}function xo(t){nr.lFrame.currentDirectiveIndex=t}function Es(t){const n=nr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function _a(){return nr.lFrame.currentQueryIndex}function to(t){nr.lFrame.currentQueryIndex=t}function qo(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function fs(t,n,i){if(i&ln.SkipSelf){let u=n,f=t;for(;!(u=u.parent,null!==u||i&ln.Host||(u=qo(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;n=u,t=f}const a=nr.lFrame=ya();return a.currentTNode=n,a.lView=t,!0}function Zs(t){const n=ya(),i=t[1];nr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ya(){const t=nr.lFrame,n=null===t?null:t.child;return null===n?va(t):n}function va(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pi(){const t=nr.lFrame;return nr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $a=Pi;function Qs(){const t=Pi();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mo(t){return(nr.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,nr.lFrame.contextLView))[8]}function xi(){return nr.lFrame.selectedIndex}function vi(t){nr.lFrame.selectedIndex=t}function Ti(){const t=nr.lFrame;return te(t.tView,t.selectedIndex)}function no(){nr.lFrame.currentNamespace=ri}function Yo(){nr.lFrame.currentNamespace=po}function To(){nr.lFrame.currentNamespace=null}function ts(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const f=t.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:M,ngAfterViewChecked:B,ngOnDestroy:q}=f;y&&(t.contentHooks||(t.contentHooks=[])).push(-i,y),E&&((t.contentHooks||(t.contentHooks=[])).push(i,E),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,E)),M&&(t.viewHooks||(t.viewHooks=[])).push(-i,M),B&&((t.viewHooks||(t.viewHooks=[])).push(i,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,B)),null!=q&&(t.destroyHooks||(t.destroyHooks=[])).push(i,q)}}function Ea(t,n,i){ro(t,n,3,i)}function bs(t,n,i,a){(3&t[2])===i&&ro(t,n,i,a)}function li(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function ro(t,n,i,a){const f=null!=a?a:-1,y=n.length-1;let E=0;for(let M=void 0!==a?65535&t[18]:0;M<y;M++)if("number"==typeof n[M+1]){if(E=n[M],null!=a&&E>=a)break}else n[M]<0&&(t[18]+=65536),(E<f||-1==f)&&(iu(t,i,n,M),t[18]=(4294901760&t[18])+M+2),M++}function iu(t,n,i,a){const u=i[a]<0,f=i[a+1],E=t[u?-i[a]:i[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048,oi(4,E,f);try{f.call(E)}finally{oi(5,E,f)}}}else{oi(4,E,f);try{f.call(E)}finally{oi(5,E,f)}}}class io{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function So(t,n,i){const a=j(t);let u=0;for(;u<i.length;){const f=i[u];if("number"==typeof f){if(0!==f)break;u++;const y=i[u++],E=i[u++],M=i[u++];a?t.setAttribute(n,E,M,y):n.setAttributeNS(y,E,M)}else{const y=f,E=i[++u];C(y)?a&&t.setProperty(n,y,E):a?t.setAttribute(n,y,E):n.setAttribute(y,E),u++}}return u}function ge(t){return 3===t||4===t||6===t}function C(t){return 64===t.charCodeAt(0)}function O(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||fe(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function fe(t,n,i,a,u){let f=0,y=t.length;if(-1===n)y=-1;else for(;f<t.length;){const E=t[f++];if("number"==typeof E){if(E===n){y=-1;break}if(E>n){y=f-1;break}}}for(;f<t.length;){const E=t[f];if("number"==typeof E)break;if(E===i){if(null===a)return void(null!==u&&(t[f+1]=u));if(a===t[f+1])return void(t[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==y&&(t.splice(y,0,n),f=y+1),t.splice(f++,0,i),null!==a&&t.splice(f++,0,a),null!==u&&t.splice(f++,0,u)}function D(t){return-1!==t}function S(t){return 32767&t}function L(t,n){let i=function(t){return t>>16}(t),a=n;for(;i>0;)a=a[15],i--;return a}let Z=!0;function de(t){const n=Z;return Z=t,n}let nn=0;function Zn(t,n){const i=an(t,n);if(-1!==i)return i;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,$t(a.data,t),$t(n,null),$t(a.blueprint,null));const u=Gi(t,n),f=t.injectorIndex;if(D(u)){const y=S(u),E=L(u,n),M=E[1].data;for(let B=0;B<8;B++)n[f+B]=E[y+B]|M[y+B]}return n[f+8]=u,f}function $t(t,n){t.push(0,0,0,0,0,0,0,0,n)}function an(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Gi(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){const f=u[1],y=f.type;if(a=2===y?f.declTNode:1===y?u[6]:null,null===a)return-1;if(i++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return-1}function rn(t,n,i){!function(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(mn)&&(a=i[mn]),null==a&&(a=i[mn]=nn++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,i)}function ht(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const f=i[u];if(ge(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(f===n)return i[u+1];u+=2}}}return null}function kt(t,n,i){if(i&ln.Optional)return t;_n(n,"NodeInjector")}function gi(t,n,i,a){if(i&ln.Optional&&void 0===a&&(a=null),0==(i&(ln.Self|ln.Host))){const u=t[9],f=Rr(void 0);try{return u?u.get(n,a,i&ln.Optional):at(n,a,i&ln.Optional)}finally{Rr(f)}}return kt(a,n,i)}function No(t,n,i,a=ln.Default,u){if(null!==t){const f=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(mn)?t[mn]:void 0;return"number"==typeof n?n>=0?255&n:ol:n}(i);if("function"==typeof f){if(!fs(n,t,a))return a&ln.Host?kt(u,i,a):gi(n,i,a,u);try{const y=f(a);if(null!=y||a&ln.Optional)return y;_n(i)}finally{$a()}}else if("number"==typeof f){let y=null,E=an(t,n),M=-1,B=a&ln.Host?n[16][6]:null;for((-1===E||a&ln.SkipSelf)&&(M=-1===E?Gi(t,n):n[E+8],-1!==M&&ps(a,!1)?(y=n[1],E=S(M),n=L(M,n)):E=-1);-1!==E;){const q=n[1];if(Bu(f,E,q.data)){const me=Rl(E,n,i,y,a,B);if(me!==vo)return me}M=n[E+8],-1!==M&&ps(a,n[1].data[E+8]===B)&&Bu(f,E,n)?(y=q,E=S(M),n=L(M,n)):E=-1}}}return gi(n,i,a,u)}const vo={};function ol(){return new za(Ii(),Nt())}function Rl(t,n,i,a,u,f){const y=n[1],E=y.data[t+8],q=ou(E,y,i,null==a?Ds(E)&&Z:a!=y&&0!=(3&E.type),u&ln.Host&&f===E);return null!==q?Vu(n,y,q,E):vo}function ou(t,n,i,a,u){const f=t.providerIndexes,y=n.data,E=1048575&f,M=t.directiveStart,q=f>>20,Ee=u?E+q:t.directiveEnd;for(let Oe=a?E:E+q;Oe<Ee;Oe++){const Qe=y[Oe];if(Oe<M&&i===Qe||Oe>=M&&Qe.type===i)return Oe}if(u){const Oe=y[M];if(Oe&&hr(Oe)&&Oe.type===i)return M}return null}function Vu(t,n,i,a){let u=t[i];const f=n.data;if(function(t){return t instanceof io}(u)){const y=u;y.resolving&&function(t,n){throw new Xe("200",`Circular dependency in DI detected for ${t}`)}(rt(f[i]));const E=de(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?Rr(y.injectImpl):null;fs(t,a,ln.Default);try{u=t[i]=y.factory(void 0,f,t,a),n.firstCreatePass&&i>=a.directiveStart&&function(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=n.type.prototype;if(a){const y=ki(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,y),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,y)}u&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,u),f&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,f),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,f))}(i,f[i],n)}finally{null!==M&&Rr(M),de(E),y.resolving=!1,$a()}}return u}function Bu(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function ps(t,n){return!(t&ln.Self||t&ln.Host&&n)}class za{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return No(this._tNode,this._lView,n,a,i)}}function Uu(t){return Ae(()=>{const n=t.prototype.constructor,i=n[Ot]||br(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const f=u[Ot]||br(u);if(f&&f!==i)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function br(t){return we(t)?()=>{const n=br(ie(t));return n&&n()}:cs(t)}function Oo(t){return ht(Ii(),t)}const Ra="__annotations__",mi="__parameters__",rr="__prop__metadata__";function Na(t,n,i,a,u){return Ae(()=>{const f=Fr(n);function y(...E){if(this instanceof y)return f.call(this,...E),this;const M=new y(...E);return function(q){return u&&u(q,...E),(q.hasOwnProperty(Ra)?q[Ra]:Object.defineProperty(q,Ra,{value:[]})[Ra]).push(M),a&&a(q),q}}return i&&(y.prototype=Object.create(i.prototype)),y.prototype.ngMetadataName=t,y.annotationCls=y,y})}function Fr(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}function ko(t,n,i){return Ae(()=>{const a=Fr(n);function u(...f){if(this instanceof u)return a.apply(this,f),this;const y=new u(...f);return E.annotation=y,E;function E(M,B,q){const me=M.hasOwnProperty(mi)?M[mi]:Object.defineProperty(M,mi,{value:[]})[mi];for(;me.length<=q;)me.push(null);return(me[q]=me[q]||[]).push(y),M}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function jr(t,n,i,a){return Ae(()=>{const u=Fr(n);function f(...y){if(this instanceof f)return u.apply(this,y),this;const E=new f(...y);return function(B,q){const me=B.constructor,Ee=me.hasOwnProperty(rr)?me[rr]:Object.defineProperty(me,rr,{value:{}})[rr];Ee[q]=Ee.hasOwnProperty(q)&&Ee[q]||[],Ee[q].unshift(E),a&&a(B,q,...y)}}return i&&(f.prototype=Object.create(i.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}function al(){return ko("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Oo(t)}))}const ba=al();class wi{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=wt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _u=new wi("AnalyzeForEntryComponents");class au{}const Nl=jr("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),au),ll=jr("ContentChild",(t,n={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},n),au),cl=jr("ViewChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},n),au),Za=jr("ViewChild",(t,n)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},n),au);var ii=(()=>((ii=ii||{})[ii.Directive=0]="Directive",ii[ii.Component=1]="Component",ii[ii.Injectable=2]="Injectable",ii[ii.Pipe=3]="Pipe",ii[ii.NgModule=4]="NgModule",ii))();function Si(t){const n=Cn.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Do=Function;function Eu(t){return"function"==typeof t}function ao(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?(n===t&&(n=t.slice(0,i)),ao(a,n)):n!==t&&n.push(a)}return n}function Ca(t,n){t.forEach(i=>Array.isArray(i)?Ca(i,n):n(i))}function bu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Ri(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Us(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function Ao(t,n,i){let a=Cs(t,n);return a>=0?t[1|a]=i:(a=~a,function(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function Jo(t,n){const i=Cs(t,n);if(i>=0)return t[1|i]}function Cs(t,n){return function(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const f=a+(u-a>>1),y=t[f<<i];if(n===y)return f<<i;y>n?u=f:a=f+1}return~(u<<i)}(t,n,1)}const F=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,G=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,oe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,De=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class ct{constructor(n){this._reflect=n||Cn.Reflect}isReflectionEnabled(){return!0}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let a;a=Us(void 0===n?i.length:n.length);for(let u=0;u<a.length;u++)a[u]=void 0===n?[]:n[u]&&n[u]!=Object?[n[u]]:[],i&&null!=i[u]&&(a[u]=a[u].concat(i[u]));return a}_ownParameters(n,i){const a=n.toString();if(F.test(t=a)||De.test(t)||G.test(t)&&!oe.test(t))return null;var t;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const u=n.ctorParameters;if(u&&u!==i.ctorParameters){const E="function"==typeof u?u():u,M=E.map(q=>q&&q.type),B=E.map(q=>q&&Bt(q.decorators));return this._zipTypesAndAnnotations(M,B)}const f=n.hasOwnProperty(mi)&&n[mi],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return y||f?this._zipTypesAndAnnotations(y,f):Us(n.length)}parameters(n){if(!Eu(n))return[];const i=gn(n);let a=this._ownParameters(n,i);return!a&&i!==Object&&(a=this.parameters(i)),a||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let a=n.annotations;return"function"==typeof a&&a.annotations&&(a=a.annotations),a}return n.decorators&&n.decorators!==i.decorators?Bt(n.decorators):n.hasOwnProperty(Ra)?n[Ra]:null}annotations(n){if(!Eu(n))return[];const i=gn(n),a=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(a)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let a=n.propMetadata;return"function"==typeof a&&a.propMetadata&&(a=a.propMetadata),a}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const a=n.propDecorators,u={};return Object.keys(a).forEach(f=>{u[f]=Bt(a[f])}),u}return n.hasOwnProperty(rr)?n[rr]:null}propMetadata(n){if(!Eu(n))return{};const i=gn(n),a={};if(i!==Object){const f=this.propMetadata(i);Object.keys(f).forEach(y=>{a[y]=f[y]})}const u=this._ownPropMetadata(n,i);return u&&Object.keys(u).forEach(f=>{const y=[];a.hasOwnProperty(f)&&y.push(...a[f]),y.push(...u[f]),a[f]=y}),a}ownPropMetadata(n){return Eu(n)&&this._ownPropMetadata(n,gn(n))||{}}hasLifecycleHook(n,i){return n instanceof Do&&i in n.prototype}guards(n){return{}}getter(n){return new Function("o","return o."+n+";")}setter(n){return new Function("o","v","return o."+n+" = v;")}method(n){return new Function("o","args",`if (!o.${n}) throw new Error('"${n}" is undefined');\n        return o.${n}.apply(o, args);`)}importUri(n){return"object"==typeof n&&n.filePath?n.filePath:`./${X(n)}`}resourceUri(n){return`./${X(n)}`}resolveIdentifier(n,i,a,u){return u}resolveEnum(n,i){return n[i]}}function Bt(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function gn(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const sr={},Sr="__NG_DI_FLAG__",qn="ngTempTokenPath",Ki=/\n/gm,js="__source",qs=ee({provide:String,useValue:ee});let ea;function gs(t){const n=ea;return ea=t,n}function Vo(t,n=ln.Default){if(void 0===ea)throw new Error("inject() must be called from an injection context");return null===ea?at(t,void 0,n):ea.get(t,n&ln.Optional?null:void 0,n)}function Kr(t,n=ln.Default){return(Ir()||Vo)(ie(t),n)}function qa(t){throw new Error("invalid")}const cu=Kr;function Ta(t){const n=[];for(let i=0;i<t.length;i++){const a=ie(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,f=ln.Default;for(let y=0;y<a.length;y++){const E=a[y],M=dc(E);"number"==typeof M?-1===M?u=E.token:f|=M:u=E}n.push(Kr(u,f))}else n.push(Kr(a))}return n}function ju(t,n){return t[Sr]=n,t.prototype[Sr]=n,t}function dc(t){return t[Sr]}function Xa(t,n,i,a){const u=t[qn];throw n[js]&&u.unshift(n[js]),t.message=function(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=X(n);if(Array.isArray(n))u=n.map(X).join(" -> ");else if("object"==typeof n){let f=[];for(let y in n)if(n.hasOwnProperty(y)){let E=n[y];f.push(y+":"+("string"==typeof E?JSON.stringify(E):X(E)))}u=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(Ki,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[qn]=null,t}const hc=t=>({token:t}),Gu=ju(ko("Inject",hc),-1),ka=ju(ko("Optional"),8),Cu=ju(ko("Self"),2),Fi=ju(ko("SkipSelf"),4),Ll=ju(ko("Host"),1);let Di=null;function Wu(){return Di=Di||new ct}function Iu(t){return Bo(Wu().parameters(t))}function Bo(t){return t.map(n=>function(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const a=t[i];if(void 0===a)continue;const u=Object.getPrototypeOf(a);if(a instanceof ka||"Optional"===u.ngMetadataName)n.optional=!0;else if(a instanceof Fi||"SkipSelf"===u.ngMetadataName)n.skipSelf=!0;else if(a instanceof Cu||"Self"===u.ngMetadataName)n.self=!0;else if(a instanceof Ll||"Host"===u.ngMetadataName)n.host=!0;else if(a instanceof Gu)n.token=a.token;else if(a instanceof ba){if(void 0===a.attributeName)throw new Error("Attribute name must be defined.");n.attribute=a.attributeName}else n.token=a}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}function $u(t){const n=[],i=new Map;function a(u){let f=i.get(u);if(!f){const y=t(u);i.set(u,f=y.then(Qd))}return f}return du.forEach((u,f)=>{const y=[];u.templateUrl&&y.push(a(u.templateUrl).then(me=>{u.template=me}));const E=u.styleUrls,M=u.styles||(u.styles=[]),B=u.styles.length;E&&E.forEach((me,Ee)=>{M.push(""),y.push(a(me).then(Oe=>{M[B+Ee]=Oe,E.splice(E.indexOf(me),1),0==E.length&&(u.styleUrls=void 0)}))});const q=Promise.all(y).then(()=>function(t){ta.delete(t)}(f));n.push(q)}),hl(),Promise.all(n).then(()=>{})}let du=new Map;const ta=new Set;function ns(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function hl(){const t=du;return du=new Map,t}function Qd(t){return"string"==typeof t?t:t.text()}let Tu,Bl;function Vl(){if(void 0===Tu&&(Tu=null,Cn.trustedTypes))try{Tu=Cn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Tu}function fl(t){var n;return(null===(n=Vl())||void 0===n?void 0:n.createHTML(t))||t}function Ul(){if(void 0===Bl&&(Bl=null,Cn.trustedTypes))try{Bl=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Bl}function Uo(t){var n;return(null===(n=Ul())||void 0===n?void 0:n.createHTML(t))||t}function Ku(t){var n;return(null===(n=Ul())||void 0===n?void 0:n.createScript(t))||t}function La(t){var n;return(null===(n=Ul())||void 0===n?void 0:n.createScriptURL(t))||t}class wu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jo extends wu{getTypeName(){return"HTML"}}class zu extends wu{getTypeName(){return"Style"}}class rd extends wu{getTypeName(){return"Script"}}class hu extends wu{getTypeName(){return"URL"}}class ra extends wu{getTypeName(){return"ResourceURL"}}function Ts(t){return t instanceof wu?t.changingThisBreaksApplicationSecurity:t}function Fa(t,n){const i=id(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function id(t){return t instanceof wu&&t.getTypeName()||null}function gc(t){return new jo(t)}function sd(t){return new zu(t)}function mc(t){return new rd(t)}function qd(t){return new hu(t)}function Xd(t){return new ra(t)}function Zu(t){const n=new ad(t);return function(){try{return!!(new window.DOMParser).parseFromString(fl(""),"text/html")}catch(t){return!1}}()?new od(n):n}class od{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(fl(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class ad{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const a=this.inertDocument.createElement("body");i.appendChild(a)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=fl(n),i;const a=this.inertDocument.createElement("body");return a.innerHTML=fl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const i=n.attributes;for(let u=i.length-1;0<u;u--){const y=i.item(u).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&n.removeAttribute(y)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ud=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wa(t){return(t=String(t)).match(ud)||t.match(Yd)?t:"unsafe:"+t}function Ya(t){return(t=String(t)).split(",").map(n=>wa(n.trim())).join(", ")}function Va(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function ia(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const _c=Va("area,br,col,hr,img,wbr"),Su=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cd=Va("rp,rt"),yc=ia(_c,ia(Su,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ia(cd,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ia(cd,Su)),_i=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sa=Va("srcset"),I=ia(_i,sa,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),m=Va("script,style,template");class v{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let u=this.checkClobberedElement(i,i.nextSibling);if(u){i=u;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!yc.hasOwnProperty(i))return this.sanitizedSomething=!0,!m.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let u=0;u<a.length;u++){const f=a.item(u),y=f.name,E=y.toLowerCase();if(!I.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let M=f.value;_i[E]&&(M=wa(M)),sa[E]&&(M=Ya(M)),this.buf.push(" ",y,'="',se(M),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();yc.hasOwnProperty(i)&&!_c.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(se(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const A=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q=/([^\#-~ |!])/g;function se(t){return t.replace(/&/g,"&amp;").replace(A,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Q,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ze;function Ct(t,n){let i=null;try{ze=ze||Zu(t);let a=n?String(n):"";i=ze.getInertBodyElement(a);let u=5,f=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=f,f=i.innerHTML,i=ze.getInertBodyElement(a)}while(a!==f);return fl((new v).sanitizeChildren(cn(i)||i))}finally{if(i){const a=cn(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function cn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function ci(t){const n=Vi();return n?Uo(n.sanitize(bn.HTML,t)||""):Fa(t,"HTML")?Uo(Ts(t)):Ct(Ur(),qe(t))}function Cr(t){const n=Vi();return n?n.sanitize(bn.STYLE,t)||"":Fa(t,"Style")?Ts(t):qe(t)}function vr(t){const n=Vi();return n?n.sanitize(bn.URL,t)||"":Fa(t,"URL")?Ts(t):wa(qe(t))}function Sa(t){const n=Vi();if(n)return La(n.sanitize(bn.RESOURCE_URL,t)||"");if(Fa(t,"ResourceURL"))return La(Ts(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Qu(t){const n=Vi();if(n)return Ku(n.sanitize(bn.SCRIPT,t)||"");if(Fa(t,"Script"))return Ku(Ts(t));throw new Error("unsafe value used in a script context")}function Da(t){return fl(t[0])}function vc(t){return function(t){var n;return(null===(n=Vl())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function Ai(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Sa:vr}function Du(t,n,i){return Ai(n,i)(t)}function Vi(){const t=Nt();return t&&t[12]}function rs(t){let n=pd(t);if(n){if(Array.isArray(n)){const i=n;let a,u,f;if(function(t){return t&&t.constructor&&t.constructor.\u0275cmp}(t)){if(a=Nh(i,t),-1==a)throw new Error("The provided component was not found in the application");u=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(a=function(t,n){let i=t[1].firstChild;for(;i;){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++)if(t[f]===n)return i.index;i=Vf(i)}return-1}(i,t),-1==a)throw new Error("The provided directive was not found in the application");f=yd(a,i,!1)}else if(a=md(i,t),-1==a)return null;const y=Me(i[a]),E=pd(y),M=E&&!Array.isArray(E)?E:Au(i,a,y);if(u&&void 0===M.component&&(M.component=u,pr(M.component,M)),f&&void 0===M.directives){M.directives=f;for(let B=0;B<f.length;B++)pr(f[B],M)}pr(M.native,M),n=M}}else{const i=t;let a=i;for(;a=a.parentNode;){const u=pd(a);if(u){let f;if(f=Array.isArray(u)?u:u.lView,!f)return null;const y=md(f,i);if(y>=0){const E=Me(f[y]),M=Au(f,y,E);pr(E,M),n=M;break}}}}return n||null}function Au(t,n,i){return{lView:t,nodeIndex:n,native:i,component:void 0,directives:void 0,localRefs:void 0}}function Gl(t){let i,n=pd(t);if(Array.isArray(n)){const a=Nh(n,t);i=Kt(a,n);const u=Au(n,a,i[0]);u.component=t,pr(t,u),pr(u.native,u)}else i=Kt(n.nodeIndex,n.lView);return i}const Mu="__ngContext__";function pr(t,n){t[Mu]=n}function pd(t){return t[Mu]||null}function Ec(t){const n=pd(t);return n?Array.isArray(n)?n:n.lView:null}function md(t,n){const i=t[1];for(let a=20;a<i.bindingStartIndex;a++)if(Me(t[a])===n)return a;return-1}function Vf(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Nh(t,n){const i=t[1].components;if(i)for(let a=0;a<i.length;a++){const u=i[a];if(Kt(u,t)[8]===n)return u}else if(Kt(20,t)[8]===n)return 20;return-1}function yd(t,n,i){const a=n[1].data[t];let u=a.directiveStart;return 0==u?Ce:(!i&&2&a.flags&&u++,n.slice(u,a.directiveEnd))}const Oh="ngDebugContext",th="ngOriginalError",$l="ngErrorLogger";function Xs(t){return t[Oh]}function Cc(t){return t[th]}function vd(t,...n){t.error(...n)}class Ho{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),a=this._findContext(n),u=(t=n)&&t[$l]||vd;var t;u(this._console,"ERROR",n),i&&u(this._console,"ORIGINAL ERROR",i),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?Xs(n)||this._findContext(Cc(n)):null}_findOriginalError(n){let i=n&&Cc(n);for(;i&&Cc(i);)i=Cc(i);return i||null}}const nh={name:"custom-elements"},Lh={name:"no-errors-schema"},Ed=/^>|^->|<!--|-->|--!>|<!-$/g,jf=/(<|>)/;function bd(t){return t.replace(Ed,n=>n.replace(jf,"\u200b$1\u200b"))}function Gf(t){return`ng-reflect-${t=function(t){return t.replace(Cd,(...n)=>"-"+n[1].toLowerCase())}(t.replace(/[$@]/g,"_"))}`}const Cd=/([A-Z])/g;function Wf(t){try{return null!=t?t.toString().slice(0,30):t}catch(n){return"[ERROR] Exception while trying to serialize the value"}}const Vh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function Bh(t){return t.ownerDocument.defaultView}function $f(t){return t.ownerDocument}function Uh(t){return t.ownerDocument.body}function Ys(t){return t instanceof Function?t():t}var fu=(()=>((fu=fu||{})[fu.Important=1]="Important",fu[fu.DashCase=2]="DashCase",fu))();let rh;function Mo(t,n){return rh(t,n)}function oa(t){const n=t[3];return yr(n)?n[3]:n}function Tc(t){return function(t){let n=_s(t)?t:Ec(t);for(;n&&!(512&n[2]);)n=oa(n);return n}(t)[8]}function Wh(t){return Kf(t[13])}function $h(t){return Kf(t[4])}function Kf(t){for(;null!==t&&!yr(t);)t=t[4];return t}function wc(t,n,i,a,u){if(null!=a){let f,y=!1;yr(a)?f=a:_s(a)&&(y=!0,a=a[0]);const E=Me(a);0===t&&null!==i?null==u?gl(n,i,E):Hs(n,i,E,u||null,!0):1===t&&null!==i?Hs(n,i,E,u||null,!0):2===t?vl(n,E,y):3===t&&n.destroyNode(E),null!=f&&function(t,n,i,a,u){const f=i[7];f!==Me(i)&&wc(n,t,a,f,u);for(let E=10;E<i.length;E++){const M=i[E];Ac(M[1],M,t,n,a,f)}}(n,t,f,i,u)}}function Kh(t,n){return j(t)?t.createText(n):t.createTextNode(n)}function zf(t,n,i){j(t)?t.setValue(n,i):n.textContent=i}function Cg(t,n){return t.createComment(bd(n))}function zh(t,n,i){return j(t)?t.createElement(n,i):null===i?t.createElement(n):t.createElementNS(i,n)}function Zf(t,n){const i=t[9],a=i.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,Gn(u,-1)),i.splice(a,1)}function Td(t,n){if(t.length<=10)return;const i=10+n,a=t[i];if(a){const u=a[17];null!==u&&u!==t&&Zf(u,a),n>0&&(t[i-1][4]=a[4]);const f=Ri(t,10+n);!function(t,n){Ac(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const y=f[19];null!==y&&y.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Qf(t,n){if(!(256&n[2])){const i=n[11];j(i)&&i.destroyNode&&Ac(t,n,i,3,null,null),function(t){let n=t[13];if(!n)return ih(t[1],t);for(;n;){let i=null;if(_s(n))i=n[13];else{const a=n[10];a&&(i=a)}if(!i){for(;n&&!n[4]&&n!==t;)_s(n)&&ih(n[1],n),n=n[3];null===n&&(n=t),_s(n)&&ih(n[1],n),i=n&&n[4]}n=i}}(n)}}function ih(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof io)){const f=i[a+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const E=u[f[y]],M=f[y+1];oi(4,E,M);try{M.call(E)}finally{oi(5,E,M)}}else{oi(4,u,f);try{f.call(u)}finally{oi(5,u,f)}}}}}(t,n),function(t,n){const i=t.cleanup,a=n[7];let u=-1;if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const y=i[f+1],E="function"==typeof y?y(n):Me(n[y]),M=a[u=i[f+2]],B=i[f+3];"boolean"==typeof B?E.removeEventListener(i[f],M,B):B>=0?a[u=B]():a[u=-B].unsubscribe(),f+=2}else{const y=a[u=i[f+1]];i[f].call(y)}if(null!==a){for(let f=u+1;f<a.length;f++)a[f]();n[7]=null}}(t,n),1===n[1].type&&j(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&yr(n[3])){i!==n[3]&&Zf(i,n);const a=n[19];null!==a&&a.detachView(t)}}}function pu(t,n,i){return si(t,n.parent,i)}function si(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===At.None||u===At.Emulated)return null}return V(a,i)}function Hs(t,n,i,a,u){j(t)?t.insertBefore(n,i,a,u):n.insertBefore(i,a,u)}function gl(t,n,i){j(t)?t.appendChild(n,i):n.appendChild(i)}function sh(t,n,i,a,u){null!==a?Hs(t,n,i,a,u):gl(t,n,i)}function wd(t,n){return j(t)?t.parentNode(n):n.parentNode}function xu(t,n,i){return _l(t,n,i)}function Sd(t,n,i){return 40&t.type?V(t,i):null}let qu,_l=Sd;function yl(t,n){_l=t,qu=n}function Xu(t,n,i,a){const u=pu(t,a,n),f=n[11],E=xu(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(i))for(let M=0;M<i.length;M++)sh(f,u,i[M],E,!1);else sh(f,u,i,E,!1);void 0!==qu&&qu(f,a,n,i,u)}function Sc(t,n){if(null!==n){const i=n.type;if(3&i)return V(n,t);if(4&i)return Dc(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Sc(t,a);{const u=t[n.index];return yr(u)?Dc(-1,u):Me(u)}}if(32&i)return Mo(n,t)()||Me(t[n.index]);{const a=Dd(t,n);return null!==a?Array.isArray(a)?a[0]:Sc(oa(t[16]),a):Sc(t,n.next)}}return null}function Dd(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Dc(t,n){const i=10+t+1;if(i<n.length){const a=n[i],u=a[1].firstChild;if(null!==u)return Sc(a,u)}return n[7]}function vl(t,n,i){const a=wd(t,n);a&&function(t,n,i,a){j(t)?t.removeChild(n,i,a):n.removeChild(i)}(t,a,n,i)}function Ad(t,n,i,a,u,f,y){for(;null!=i;){const E=a[i.index],M=i.type;if(y&&0===n&&(E&&pr(Me(E),a),i.flags|=4),64!=(64&i.flags))if(8&M)Ad(t,n,i.child,a,u,f,!1),wc(n,t,u,E,f);else if(32&M){const B=Mo(i,a);let q;for(;q=B();)wc(n,t,u,q,f);wc(n,t,u,E,f)}else 16&M?Zh(t,n,a,i,u,f):wc(n,t,u,E,f);i=y?i.projectionNext:i.next}}function Ac(t,n,i,a,u,f){Ad(i,a,t.firstChild,n,u,f,!1)}function Zh(t,n,i,a,u,f){const y=i[16],M=y[6].projection[a.projection];if(Array.isArray(M))for(let B=0;B<M.length;B++)wc(n,t,u,M[B],f);else Ad(t,n,M,y[3],u,f,!0)}function Ru(t,n,i){j(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function oh(t,n,i){j(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Qh(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const f=n.length;if(u+f===a||t.charCodeAt(u+f)<=32)return u}i=u+1}}const qh="ng-template";function Mg(t,n,i){let a=0;for(;a<t.length;){let u=t[a++];if(i&&"class"===u){if(u=t[a],-1!==Qh(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function Zl(t){return 4===t.type&&t.value!==qh}function El(t,n,i){return n===(4!==t.type||i?t.value:qh)}function Ql(t,n,i){let a=4;const u=t.attrs||[],f=function(t){for(let n=0;n<t.length;n++)if(ge(t[n]))return n;return t.length}(u);let y=!1;for(let E=0;E<n.length;E++){const M=n[E];if("number"!=typeof M){if(!y)if(4&a){if(a=2|1&a,""!==M&&!El(t,M,i)||""===M&&1===n.length){if(Ba(a))return!1;y=!0}}else{const B=8&a?M:n[++E];if(8&a&&null!==t.attrs){if(!Mg(t.attrs,B,i)){if(Ba(a))return!1;y=!0}continue}const me=Yf(8&a?"class":M,u,Zl(t),i);if(-1===me){if(Ba(a))return!1;y=!0;continue}if(""!==B){let Ee;Ee=me>f?"":u[me+1].toLowerCase();const Oe=8&a?Ee:null;if(Oe&&-1!==Qh(Oe,B,0)||2&a&&B!==Ee){if(Ba(a))return!1;y=!0}}}}else{if(!y&&!Ba(a)&&!Ba(M))return!1;if(y&&Ba(M))continue;y=!1,a=M|1&a}}return Ba(a)||y}function Ba(t){return 0==(1&t)}function Yf(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let f=!1;for(;u<n.length;){const y=n[u];if(y===t)return u;if(3===y||6===y)f=!0;else{if(1===y||2===y){let E=n[++u];for(;"string"==typeof E;)E=n[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=f?1:2}return-1}return function(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function Xh(t,n,i=!1){for(let a=0;a<n.length;a++)if(Ql(t,n[a],i))return!0;return!1}function d(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function _(t,n){return t?":not("+n.trim()+")":n}function T(t){let n=t[0],i=1,a=2,u="",f=!1;for(;i<t.length;){let y=t[i];if("string"==typeof y)if(2&a){const E=t[++i];u+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?u+="."+y:4&a&&(u+=" "+y);else""!==u&&!Ba(y)&&(n+=_(f,u),u=""),a=y,f=f||!Ba(a);i++}return""!==u&&(n+=_(f,u)),n}const ne={};function be(t){Re(wr(),Nt(),xi()+t,Io())}function Re(t,n,i,a){if(!a)if(3==(3&n[2])){const f=t.preOrderCheckHooks;null!==f&&Ea(n,f,i)}else{const f=t.preOrderHooks;null!==f&&bs(n,f,0,i)}vi(i)}function lt(t,n){return t<<17|n<<2}function ut(t){return t>>17&32767}function or(t){return 2|t}function qr(t){return(131068&t)>>2}function is(t,n){return-131069&t|n<<2}function Go(t){return 1|t}const sp=(()=>Promise.resolve(null))();function op(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const u=i[a],f=i[a+1];if(-1!==f){const y=t.data[f];to(u),y.contentQueries(2,n[f],f)}}}function ef(t,n,i,a,u,f,y,E,M,B){const q=n.blueprint.slice();return q[0]=u,q[2]=140|a,Gr(q),q[3]=q[15]=t,q[8]=i,q[10]=y||t&&t[10],q[11]=E||t&&t[11],q[12]=M||t&&t[12]||null,q[9]=B||t&&t[9]||null,q[6]=f,q[16]=2==n.type?t[16]:q,q}function xd(t,n,i,a,u){let f=t.data[n];if(null===f)f=Ng(t,n,i,a,u),nr.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=i,f.value=a,f.attrs=u;const y=bo();f.injectorIndex=null===y?-1:y.injectorIndex}return Ks(f,!0),f}function Ng(t,n,i,a,u){const f=zo(),y=zs(),M=t.data[n]=function(t,n,i,a,u,f){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=M),null!==f&&(y?null==f.child&&null!==M.parent&&(f.child=M):null===f.next&&(f.next=M)),M}function Ju(t,n,i,a){if(0===i)return-1;const u=n.length;for(let f=0;f<i;f++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function Il(t,n,i){Zs(n);try{const a=t.viewQuery;null!==a&&Kg(1,a,i);const u=t.template;null!==u&&Og(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&op(t,n),t.staticViewQueries&&Kg(2,t.viewQuery,i);const f=t.components;null!==f&&function(t,n){for(let i=0;i<n.length;i++)Rv(t,n[i])}(n,f)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Qs()}}function Rc(t,n,i,a){const u=n[2];if(256==(256&u))return;Zs(n);const f=Io();try{Gr(n),Wa(t.bindingStartIndex),null!==i&&Og(t,n,i,2,a);const y=3==(3&u);if(!f)if(y){const B=t.preOrderCheckHooks;null!==B&&Ea(n,B,null)}else{const B=t.preOrderHooks;null!==B&&bs(n,B,0,null),li(n,0)}if(function(t){for(let n=Wh(t);null!==n;n=$h(n)){if(!n[2])continue;const i=n[9];for(let a=0;a<i.length;a++){const u=i[a],f=u[3];0==(1024&u[2])&&Gn(f,1),u[2]|=1024}}}(n),function(t){for(let n=Wh(t);null!==n;n=$h(n))for(let i=10;i<n.length;i++){const a=n[i],u=a[1];Vr(a)&&Rc(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&op(t,n),!f)if(y){const B=t.contentCheckHooks;null!==B&&Ea(n,B)}else{const B=t.contentHooks;null!==B&&bs(n,B,1),li(n,1)}!function(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)vi(~u);else{const f=u,y=i[++a],E=i[++a];Qo(y,f),E(2,n[f])}}}finally{vi(-1)}}(t,n);const E=t.components;null!==E&&function(t,n){for(let i=0;i<n.length;i++)xv(t,n[i])}(n,E);const M=t.viewQuery;if(null!==M&&Kg(2,M,a),!f)if(y){const B=t.viewCheckHooks;null!==B&&Ea(n,B)}else{const B=t.viewHooks;null!==B&&bs(n,B,2),li(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),f||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Gn(n[3],-1))}finally{Qs()}}function ap(t,n,i,a){const u=n[10],f=!Io(),y=Pn(n);try{f&&!y&&u.begin&&u.begin(),y&&Il(t,n,a),Rc(t,n,i,a)}finally{f&&!y&&u.end&&u.end()}}function Og(t,n,i,a,u){const f=xi(),y=2&a;try{vi(-1),y&&n.length>20&&Re(t,n,20,Io()),oi(y?2:0,u),i(a,u)}finally{vi(f),oi(y?3:1,u)}}function kg(t,n,i){if(Ui(n)){const u=n.directiveEnd;for(let f=n.directiveStart;f<u;f++){const y=t.data[f];y.contentQueries&&y.contentQueries(1,i[f],f)}}}function up(t,n,i){!Ga()||(function(t,n,i,a){const u=i.directiveStart,f=i.directiveEnd;t.firstCreatePass||Zn(i,n),pr(a,n);const y=i.initialInputs;for(let E=u;E<f;E++){const M=t.data[E],B=hr(M);B&&Hg(n,i,M);const q=Vu(n,t,E,i);pr(q,n),null!==y&&Gg(0,E-u,q,M,0,y),B&&(Kt(i.index,n)[8]=q)}}(t,n,i,V(i,n)),128==(128&i.flags)&&function(t,n,i){const a=i.directiveStart,u=i.directiveEnd,y=i.index,E=nr.lFrame.currentDirectiveIndex;try{vi(y);for(let M=a;M<u;M++){const B=t.data[M],q=n[M];xo(M),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&k_(B,q)}}finally{vi(-1),xo(E)}}(t,n,i))}function Lg(t,n,i=V){const a=n.localNames;if(null!==a){let u=n.index+1;for(let f=0;f<a.length;f+=2){const y=a[f+1],E=-1===y?i(n,t):t[y];t[u++]=E}}}function lp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=cp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function cp(t,n,i,a,u,f,y,E,M,B){const q=20+a,me=q+u,Ee=function(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:ne);return i}(q,me),Oe="function"==typeof B?B():B;return Ee[1]={type:t,blueprint:Ee,template:i,queries:null,viewQuery:E,declTNode:n,data:Ee.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:Oe,incompleteFirstPass:!1}}function dp(t,n,i){if(j(t))return t.selectRootElement(n,i===At.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}function tf(t,n,i,a){const u=j_(n);null===i?u.push(a):(u.push(i),t.firstCreatePass&&_p(t).push(a,u.length-1))}function rf(t,n,i){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(n,u):i[a]=[n,u]}return i}function Ua(t,n,i,a,u,f,y,E){const M=V(n,i);let q,B=n.inputs;!E&&null!=B&&(q=B[a])?(G_(t,i,q,a,u),Ds(n)&&function(t,n){const i=Kt(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=y?y(u,n.value||"",a):u,j(f)?f.setProperty(M,a,u):C(a)||(M.setProperty?M.setProperty(a,u):M[a]=u))}function lh(t,n,i,a){let u=!1;if(Ga()){const f=function(t,n,i){const a=t.directiveRegistry;let u=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];Xh(i,y.selectors,!1)&&(u||(u=[]),rn(Zn(i,n),t,y.type),hr(y)?(L_(t,i),u.unshift(y)):u.push(y))}return u}(t,n,i),y=null===a?null:{"":-1};if(null!==f){u=!0,hp(i,t.data.length,f.length);for(let q=0;q<f.length;q++){const me=f[q];me.providersResolver&&me.providersResolver(me)}let E=!1,M=!1,B=Ju(t,n,f.length,null);for(let q=0;q<f.length;q++){const me=f[q];i.mergedAttrs=O(i.mergedAttrs,me.hostAttrs),Rd(t,i,n,B,me),sf(B,me,y),null!==me.contentQueries&&(i.flags|=8),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(i.flags|=128);const Ee=me.type.prototype;!E&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),E=!0),!M&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),M=!0),B++}!function(t,n){const a=n.directiveEnd,u=t.data,f=n.attrs,y=[];let E=null,M=null;for(let B=n.directiveStart;B<a;B++){const q=u[B],me=q.inputs,Ee=null===f||Zl(n)?null:F_(me,f);y.push(Ee),E=rf(me,B,E),M=rf(q.outputs,B,M)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=16),E.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=y,n.inputs=E,n.outputs=M}(t,i)}y&&function(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const f=i[n[u+1]];if(null==f)throw new Xe("301",`Export of name '${n[u+1]}' not found!`);a.push(n[u],f)}}}(i,a,y)}return i.mergedAttrs=O(i.mergedAttrs,i.attrs),u}function ch(t,n,i,a,u,f){const y=f.hostBindings;if(y){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const M=~n.index;(function(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(E)!=M&&E.push(M),E.push(a,u,y)}}function k_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function L_(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function sf(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;hr(n)&&(i[""]=t)}}function hp(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Rd(t,n,i,a,u){t.data[a]=u;const f=u.factory||(u.factory=cs(u.type)),y=new io(f,hr(u),null);t.blueprint[a]=y,i[a]=y,ch(t,n,0,a,Ju(t,i,u.hostVars,ne),u)}function Hg(t,n,i){const a=V(n,t),u=lp(i),f=t[10],y=pp(t,ef(t,u,null,i.onPush?64:16,a,n,f,f.createRenderer(a,i),null,null));t[n.index]=y}function gu(t,n,i,a,u,f){const y=V(t,n);Nd(n[11],y,f,t.value,i,a,u)}function Nd(t,n,i,a,u,f,y){if(null==f)j(t)?t.removeAttribute(n,u,i):n.removeAttribute(u);else{const E=null==y?qe(f):y(f,a||"",u);j(t)?t.setAttribute(n,u,E,i):i?n.setAttributeNS(i,u,E):n.setAttribute(u,E)}}function Gg(t,n,i,a,u,f){const y=f[n];if(null!==y){const E=a.setInput;for(let M=0;M<y.length;){const B=y[M++],q=y[M++],me=y[M++];null!==E?a.setInput(i,me,B,q):i[q]=me}}}function F_(t,n){let i=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===i&&(i=[]),i.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return i}function fp(t,n,i,a){return new Array(t,!0,!1,n,null,0,a,i,null,null)}function xv(t,n){const i=Kt(n,t);if(Vr(i)){const a=i[1];80&i[2]?Rc(a,i,a.template,i[8]):i[5]>0&&of(i)}}function of(t){for(let a=Wh(t);null!==a;a=$h(a))for(let u=10;u<a.length;u++){const f=a[u];if(1024&f[2]){const y=f[1];Rc(y,f,y.template,f[8])}else f[5]>0&&of(f)}const i=t[1].components;if(null!==i)for(let a=0;a<i.length;a++){const u=Kt(i[a],t);Vr(u)&&u[5]>0&&of(u)}}function Rv(t,n){const i=Kt(n,t),a=i[1];(function(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(a,i),Il(a,i,i[8])}function pp(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function af(t){for(;t;){t[2]|=64;const n=oa(t);if(zn(t)&&!n)return t;t=n}return null}function uf(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],a=Ec(i),u=a[1];ap(u,a,u.template,i)}}function mp(t,n,i){const a=n[10];a.begin&&a.begin();try{Rc(t,n,t.template,i)}catch(u){throw yp(n,u),u}finally{a.end&&a.end()}}function Od(t){uf(t[8])}function Kg(t,n,i){to(0),n(t,i)}const U_=sp;function j_(t){return t[7]||(t[7]=[])}function _p(t){return t.cleanup||(t.cleanup=[])}function H_(t,n,i){return(null===t||hr(t))&&(i=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}function yp(t,n){const i=t[9],a=i?i.get(Ho,null):null;a&&a.handleError(n)}function G_(t,n,i,a,u){for(let f=0;f<i.length;){const y=i[f++],E=i[f++],M=n[y],B=t.data[y];null!==B.setInput?B.setInput(M,u,a,E):M[E]=u}}function el(t,n,i){const a=U(n,t);zf(t[11],a,i)}function vp(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,f=0;if(null!==n)for(let y=0;y<n.length;y++){const E=n[y];"number"==typeof E?f=E:1==f?u=le(u,E):2==f&&(a=le(a,E+": "+n[++y]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}function Ep(t){const n=Gl(t);mp(n[1],n,t)}function zg(t){!function(t,n){if(0===t.flags&&t.clean==sp){let a;t.flags|=1,t.clean=new Promise(u=>a=u),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,uf(t)),2&t.flags){t.flags&=-3;const u=t.playerHandler;u&&u.flushPlayers()}t.clean=sp,a(null)})}}(af(Gl(t))[8])}const Tl=new wi("INJECTOR",-1);class lf{get(n,i=sr){if(i===sr){const a=new Error(`NullInjectorError: No provider for ${X(n)}!`);throw a.name="NullInjectorError",a}return i}}const wl=new wi("Set Injector scope."),Nu={},Zg={};let Oc;function kd(){return void 0===Oc&&(Oc=new lf),Oc}function Qg(t,n=null,i=null,a){const u=Ld(t,n,i,a);return u._resolveInjectorDefTypes(),u}function Ld(t,n=null,i=null,a){return new kv(t,i,n||kd(),a)}class kv{constructor(n,i,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];i&&Ca(i,E=>this.processProvider(E,n,i)),Ca([n],E=>this.processInjectorType(E,[],f)),this.records.set(Tl,kc(void 0,this));const y=this.records.get(wl);this.scope=null!=y?y.value:null,this.source=u||("object"==typeof n?null:X(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=sr,a=ln.Default){this.assertNotDestroyed();const u=gs(this),f=Rr(void 0);try{if(!(a&ln.SkipSelf)){let E=this.records.get(n);if(void 0===E){const M=("function"==typeof(t=n)||"object"==typeof t&&t instanceof wi)&&wn(n);E=M&&this.injectableDefInScope(M)?kc(qg(n),Nu):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&ln.Self?kd():this.parent).get(n,i=a&ln.Optional&&i===sr?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[qn]=y[qn]||[]).unshift(X(n)),u)throw y;return Xa(y,n,"R3InjectorError",this.source)}throw y}finally{Rr(f),gs(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(X(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,a){if(!(n=ie(n)))return!1;let u=Ar(n);const f=null==u&&n.ngModule||void 0,y=void 0===f?n:f,E=-1!==a.indexOf(y);if(void 0!==f&&(u=Ar(f)),null==u)return!1;if(null!=u.imports&&!E){let q;a.push(y);try{Ca(u.imports,me=>{this.processInjectorType(me,i,a)&&(void 0===q&&(q=[]),q.push(me))})}finally{}if(void 0!==q)for(let me=0;me<q.length;me++){const{ngModule:Ee,providers:Oe}=q[me];Ca(Oe,Qe=>this.processProvider(Qe,Ee,Oe||Ce))}}this.injectorDefTypes.add(y);const M=cs(y)||(()=>new y);this.records.set(y,kc(M,Nu));const B=u.providers;if(null!=B&&!E){const q=n;Ca(B,me=>this.processProvider(me,q,B))}return void 0!==f&&void 0!==n.providers}processProvider(n,i,a){let u=Lc(n=ie(n))?n:ie(n&&n.provide);const f=$_(t=n)?kc(void 0,t.useValue):kc(bp(t),Nu);var t;if(Lc(n)||!0!==n.multi)this.records.get(u);else{let y=this.records.get(u);y||(y=kc(void 0,Nu,!0),y.factory=()=>Ta(y.multi),this.records.set(u,y)),u=n,y.multi.push(n)}this.records.set(u,f)}hydrate(n,i){return i.value===Nu&&(i.value=Zg,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ie(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function qg(t){const n=wn(t),i=null!==n?n.factory:cs(t);if(null!==i)return i;if(t instanceof wi)throw new Error(`Token ${X(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=Us(n,"?");throw new Error(`Can't resolve all parameters for ${X(t)}: (${a.join(", ")}).`)}const i=function(t){const n=t&&(t[fn]||t[Xn]);if(n){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function bp(t,n,i){let a;if(Lc(t)){const u=ie(t);return cs(u)||qg(u)}if($_(t))a=()=>ie(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ta(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>Kr(ie(t.useExisting));else{const u=ie(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return cs(u)||qg(u);a=()=>new u(...Ta(t.deps))}return a}function kc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function $_(t){return null!==t&&"object"==typeof t&&qs in t}function Lc(t){return"function"==typeof t}function em(t,n,i){return Qg({name:i},n,t,i)}const tm=em;let as=(()=>{class t{static create(i,a){return Array.isArray(i)?tm(i,a,""):tm(i.providers,i.parent,i.name||"")}}return t.THROW_IF_NOT_FOUND=sr,t.NULL=new lf,t.\u0275prov=wt({token:t,providedIn:"any",factory:()=>Kr(Tl)}),t.__NG_ELEMENT_ID__=-1,t})();function sm(t){hf(t);const n=rs(t);return null===n?null:(void 0===n.component&&(n.component=function(t,n){const i=n[1].data[t];return 2&i.flags?n[i.directiveStart]:null}(n.nodeIndex,n.lView)),n.component)}function Tp(t){hf(t);const n=rs(t);return null===n?null:n.lView[8]}function X_(t){const n=rs(t);if(null===n)return null;let a,i=n.lView;for(;2===i[1].type&&(a=oa(i));)i=a;return 512&i[2]?null:i[8]}function wp(t){return[...Tc(t).components]}function Y_(t){const n=rs(t);return null===n?as.NULL:new za(n.lView[1].data[n.nodeIndex],n.lView)}function Sp(t){if(t instanceof Text)return[];const n=rs(t);if(null===n)return[];const i=n.lView,a=i[1],u=n.nodeIndex;return(null==a?void 0:a.data[u])?(void 0===n.directives&&(n.directives=yd(u,i,!1)),null===n.directives?[]:[...n.directives]):[]}function am(t){const{constructor:n}=t;if(!n)throw new Error("Unable to find the instance constructor");const i=Rn(n);if(i)return{inputs:i.inputs,outputs:i.outputs,encapsulation:i.encapsulation,changeDetection:i.onPush?dt.OnPush:dt.Default};const a=Jn(n);return a?{inputs:a.inputs,outputs:a.outputs}:null}function Dp(t){return rs(t).native}function ey(t){hf(t);const n=rs(t);if(null===n)return[];const i=n.lView,u=i[7],f=i[1].cleanup,y=[];if(f&&u)for(let E=0;E<f.length;){const M=f[E++],B=f[E++];if("string"==typeof M){const q=M,me=Me(i[B]),Ee=u[f[E++]],Oe=f[E++],Qe="boolean"==typeof Oe||Oe>=0?"dom":"output",Tt="boolean"==typeof Oe&&Oe;t==me&&y.push({element:t,name:q,callback:Ee,useCapture:Tt,type:Qe})}}return y.sort(um),y}function um(t,n){return t.name==n.name?0:t.name<n.name?-1:1}function Yl(t){return void 0!==t.type&&void 0!==t.template&&void 0!==t.declaredInputs}function hf(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function Hv(t){zg(t),wp(t).forEach(n=>Ep(n))}let Ap=!1;function Gv(){Ap||(Ap=!0,eu("\u0275setProfiler",Ci),eu("getDirectiveMetadata",am),eu("getComponent",sm),eu("getContext",Tp),eu("getListeners",ey),eu("getOwningComponent",X_),eu("getHostElement",Dp),eu("getInjector",Y_),eu("getRootComponents",wp),eu("getDirectives",Sp),eu("applyChanges",Hv))}function eu(t,n){if("undefined"==typeof COMPILED||!COMPILED){const i=Cn;if(i){let a=i.ng;a||(a=i.ng={}),a[t]=n}}}function Wv(t,n={}){const i=n.rendererFactory||H,a=n.sanitizer||null,u=Rn(t);u.type!=t&&(u.type=t);const f=u.selectors[0][0],E=dp(i.createRenderer(null,null),n.host||f,u.encapsulation),M=u.onPush?576:528,B=Pp(n.scheduler,n.playerHandler),q=i.createRenderer(E,u),me=cp(0,null,null,1,0,null,null,null,null,null),Ee=ef(null,me,B,M,null,null,i,q,null,n.injector||null);let Oe;Zs(Ee);try{i.begin&&i.begin(),Oe=lm(Mp(E,u,Ee,i,q,a),u,Ee,B,n.hostFeatures||null),Il(me,Ee,null),Rc(me,Ee,null,null)}finally{Qs(),i.end&&i.end()}return Oe}function Mp(t,n,i,a,u,f){const y=i[1];i[20]=t;const M=xd(y,20,2,"#host",null),B=M.mergedAttrs=n.hostAttrs;null!==B&&(vp(M,B,!0),null!==t&&(So(u,t,B),null!==M.classes&&oh(u,t,M.classes),null!==M.styles&&Ru(u,t,M.styles)));const q=a.createRenderer(t,n),me=ef(i,lp(n),null,n.onPush?64:16,i[20],M,a,q,f||null,null);return y.firstCreatePass&&(rn(Zn(M,i),y,n.type),L_(y,M),hp(M,i.length,1)),pp(i,me),i[20]=me}function lm(t,n,i,a,u){const f=i[1],y=function(t,n,i){const a=Ii();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Rd(t,a,n,Ju(t,n,1,null),i));const u=Vu(n,t,a.directiveStart,a);pr(u,n);const f=V(a,n);return f&&pr(f,n),u}(f,i,n);if(a.components.push(y),t[8]=y,u&&u.forEach(M=>M(y,n)),n.contentQueries){const M=Ii();n.contentQueries(1,y,M.directiveStart)}const E=Ii();return!f.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(vi(E.index),ch(i[1],E,0,E.directiveStart,E.directiveEnd,n),k_(n,y)),y}function Pp(t,n){return{components:[],scheduler:t||Vh,clean:U_,playerHandler:n||null,flags:0}}function cm(t,n){ts(Ec(t)[1],Ii())}function $v(t){return Tc(t).clean}function iy(t){return Object.getPrototypeOf(t.prototype).constructor}function ff(t){let n=iy(t.type),i=!0;const a=[t];for(;n;){let u;if(hr(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(i){a.push(u);const y=t;y.inputs=pf(t.inputs),y.declaredInputs=pf(t.declaredInputs),y.outputs=pf(t.outputs);const E=u.hostBindings;E&&zv(t,E);const M=u.viewQuery,B=u.contentQueries;if(M&&dm(t,M),B&&hm(t,B),ce(t.inputs,u.inputs),ce(t.declaredInputs,u.declaredInputs),ce(t.outputs,u.outputs),hr(u)&&u.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let y=0;y<f.length;y++){const E=f[y];E&&E.ngInherit&&E(t),E===ff&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=O(u.hostAttrs,i=O(i,u.hostAttrs))}}(a)}function pf(t){return t===on?{}:t===Ce?[]:t}function dm(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function hm(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,f)=>{n(a,u,f),i(a,u,f)}:n}function zv(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}const sy=["providersResolver"],oy=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ay(t){let i,n=iy(t.type);i=hr(t)?n.\u0275cmp:n.\u0275dir;const a=t;for(const u of sy)a[u]=i[u];if(hr(i))for(const u of oy)a[u]=i[u]}let hh=null;function Vd(){if(!hh){const t=Cn.Symbol;if(t&&t.iterator)hh=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const a=n[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(hh=a)}}}return hh}function fh(t,n){const i=gf(t),a=gf(n);return i&&a?function(t,n,i){const a=t[Vd()](),u=n[Vd()]();for(;;){const f=a.next(),y=u.next();if(f.done&&y.done)return!0;if(f.done||y.done||!i(f.value,y.value))return!1}}(t,n,fh):!(i||!t||"object"!=typeof t&&"function"!=typeof t||a||!n||"object"!=typeof n&&"function"!=typeof n)||Object.is(t,n)}class Ou{constructor(n){this.wrapped=n}static wrap(n){return new Ou(n)}static unwrap(n){return Ou.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Ou}}function gf(t){return!!xp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vd()in t)}function xp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ku(t,n,i){return t[n]=i}function ph(t,n){return t[n]}function Wo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Jl(t,n,i,a){const u=Wo(t,n,i);return Wo(t,n+1,a)||u}function gh(t,n,i,a,u){const f=Jl(t,n,i,a);return Wo(t,n+2,u)||f}function ja(t,n,i,a,u,f){const y=Jl(t,n,i,a);return Jl(t,n+2,u,f)||y}function mf(t,n,i,a){const u=Nt();return Wo(u,Jr(),n)&&(wr(),gu(Ti(),u,t,n,i,a)),mf}function Bd(t,n){let i=!1,a=Hi();for(let f=1;f<n.length;f+=2)i=Wo(t,a++,n[f])||i;if(Wa(a),!i)return ne;let u=n[0];for(let f=1;f<n.length;f+=2)u+=qe(n[f])+n[f+1];return u}function Fc(t,n,i,a){return Wo(t,Jr(),i)?n+qe(i)+a:ne}function Ud(t,n,i,a,u,f){const E=Jl(t,Hi(),i,u);return hs(2),E?n+qe(i)+a+qe(u)+f:ne}function Vc(t,n,i,a,u,f,y,E){const B=gh(t,Hi(),i,u,y);return hs(3),B?n+qe(i)+a+qe(u)+f+qe(y)+E:ne}function tl(t,n,i,a,u,f,y,E,M,B){const me=ja(t,Hi(),i,u,y,M);return hs(4),me?n+qe(i)+a+qe(u)+f+qe(y)+E+qe(M)+B:ne}function Bc(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=Hi();let Oe=ja(t,Ee,i,u,y,M);return Oe=Wo(t,Ee+4,q)||Oe,hs(5),Oe?n+qe(i)+a+qe(u)+f+qe(y)+E+qe(M)+B+qe(q)+me:ne}function mh(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe){const Qe=Hi();let Tt=ja(t,Qe,i,u,y,M);return Tt=Jl(t,Qe+4,q,Ee)||Tt,hs(6),Tt?n+qe(i)+a+qe(u)+f+qe(y)+E+qe(M)+B+qe(q)+me+qe(Ee)+Oe:ne}function _h(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt){const ot=Hi();let sn=ja(t,ot,i,u,y,M);return sn=gh(t,ot+4,q,Ee,Qe)||sn,hs(7),sn?n+qe(i)+a+qe(u)+f+qe(y)+E+qe(M)+B+qe(q)+me+qe(Ee)+Oe+qe(Qe)+Tt:ne}function yh(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn){const Lt=Hi();let gr=ja(t,Lt,i,u,y,M);return gr=ja(t,Lt+4,q,Ee,Qe,ot)||gr,hs(8),gr?n+qe(i)+a+qe(u)+f+qe(y)+E+qe(M)+B+qe(q)+me+qe(Ee)+Oe+qe(Qe)+Tt+qe(ot)+sn:ne}function Rp(t,n,i,a,u,f){const y=Nt(),E=Fc(y,n,i,a);return E!==ne&&gu(Ti(),y,t,E,u,f),Rp}function fm(t,n,i,a,u,f,y,E){const M=Nt(),B=Ud(M,n,i,a,u,f);return B!==ne&&gu(Ti(),M,t,B,y,E),fm}function Np(t,n,i,a,u,f,y,E,M,B){const q=Nt(),me=Vc(q,n,i,a,u,f,y,E);return me!==ne&&gu(Ti(),q,t,me,M,B),Np}function pm(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=Nt(),Oe=tl(Ee,n,i,a,u,f,y,E,M,B);return Oe!==ne&&gu(Ti(),Ee,t,Oe,q,me),pm}function gm(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe){const Qe=Nt(),Tt=Bc(Qe,n,i,a,u,f,y,E,M,B,q,me);return Tt!==ne&&gu(Ti(),Qe,t,Tt,Ee,Oe),gm}function mm(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt){const ot=Nt(),sn=mh(ot,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe);return sn!==ne&&gu(Ti(),ot,t,sn,Qe,Tt),mm}function _m(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn){const Lt=Nt(),gr=_h(Lt,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt);return gr!==ne&&gu(Ti(),Lt,t,gr,ot,sn),_m}function Op(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn,Lt,gr){const kr=Nt(),yi=yh(kr,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn);return yi!==ne&&gu(Ti(),kr,t,yi,Lt,gr),Op}function _f(t,n,i,a){const u=Nt(),f=Bd(u,n);return f!==ne&&gu(Ti(),u,t,f,i,a),_f}function ym(t,n,i,a,u,f,y,E){const M=Nt(),B=wr(),q=t+20,me=B.firstCreatePass?function(t,n,i,a,u,f,y,E,M){const B=n.consts,q=xd(n,t,4,y||null,Er(B,E));lh(n,i,q,Er(B,M)),ts(n,q);const me=q.tViews=cp(2,q,a,u,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B);return null!==n.queries&&(n.queries.template(n,q),me.queries=n.queries.embeddedTView(q)),q}(q,B,M,n,i,a,u,f,y):B.data[q];Ks(me,!1);const Ee=M[11].createComment("");Xu(B,M,Ee,me),pr(Ee,M),pp(M,M[q]=fp(Ee,M,Ee,me)),Ji(me)&&up(B,M,me),null!=y&&Lg(M,me,E)}function vm(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}function yf(t){return Ye(nr.lFrame.contextLView,20+t)}const di={\u0275\u0275defineInjectable:wt,\u0275\u0275defineInjector:dn,\u0275\u0275inject:Kr,\u0275\u0275invalidFactoryDep:qa,resolveForwardRef:ie},vf=ee({provide:String,useValue:ee});function cy(t){return void 0!==t.useClass}function ua(t){return void 0!==t.useFactory}const Yv=Na("Injectable",void 0,void 0,void 0,(t,n)=>Ps(t,n)),fy=function(t,n){let i=null,a=null;t.hasOwnProperty(fn)||Object.defineProperty(t,fn,{get:()=>(null===i&&(i=Si().compileInjectable(di,`ng:///${t.name}/\u0275prov.js`,function(t,n){const i=n||{providedIn:null},a={name:t.name,type:t,typeArgumentCount:0,providedIn:i.providedIn};return(cy(i)||ua(i))&&void 0!==i.deps&&(a.deps=Bo(i.deps)),cy(i)?a.useClass=i.useClass:function(t){return vf in t}(i)?a.useValue=i.useValue:ua(i)?a.useFactory=i.useFactory:function(t){return void 0!==t.useExisting}(i)&&(a.useExisting=i.useExisting),a}(t,n))),i)}),t.hasOwnProperty(Ot)||Object.defineProperty(t,Ot,{get:()=>{if(null===a){const u=Si();a=u.compileFactory(di,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:Iu(t),target:u.FactoryTarget.Injectable})}return a},configurable:!0})},Ps=fy;function py(t){return t.length>1?" ("+function(t){const n=[];for(let i=0;i<t.length;++i){if(n.indexOf(t[i])>-1)return n.push(t[i]),n;n.push(t[i])}return n}(t.slice().reverse()).map(a=>X(a.token)).join(" -> ")+")":""}function Js(t,n,i,a){const u=[n],f=i(u),y=a?function(t,n){const i=`${t} caused by: ${n instanceof Error?n.message:n}`,a=Error(i);return a[th]=n,a}(f,a):Error(f);return y.addKey=gy,y.keys=u,y.injectors=[t],y.constructResolvingMessage=i,y[th]=a,y}function gy(t,n){this.injectors.push(t),this.keys.push(n),this.message=this.constructResolvingMessage(this.keys)}function _y(t,n){const i=[];for(let a=0,u=n.length;a<u;a++){const f=n[a];i.push(f&&0!=f.length?f.map(X).join(" "):"?")}return Error("Cannot resolve all parameters for '"+X(t)+"'("+i.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+X(t)+"' is decorated with Injectable.")}function r0(t,n){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${n}`)}class Uc{constructor(n,i){if(this.token=n,this.id=i,!n)throw new Error("Token must be defined!");this.displayName=X(this.token)}static get(n){return yy.get(ie(n))}static get numberOfKeys(){return yy.numberOfKeys}}class s0{constructor(){this._allKeys=new Map}get(n){if(n instanceof Uc)return n;if(this._allKeys.has(n))return this._allKeys.get(n);const i=new Uc(n,Uc.numberOfKeys);return this._allKeys.set(n,i),i}get numberOfKeys(){return this._allKeys.size}}const yy=new s0;class vy{constructor(n){this.reflectionCapabilities=n}updateCapabilities(n){this.reflectionCapabilities=n}factory(n){return this.reflectionCapabilities.factory(n)}parameters(n){return this.reflectionCapabilities.parameters(n)}annotations(n){return this.reflectionCapabilities.annotations(n)}propMetadata(n){return this.reflectionCapabilities.propMetadata(n)}hasLifecycleHook(n,i){return this.reflectionCapabilities.hasLifecycleHook(n,i)}getter(n){return this.reflectionCapabilities.getter(n)}setter(n){return this.reflectionCapabilities.setter(n)}method(n){return this.reflectionCapabilities.method(n)}importUri(n){return this.reflectionCapabilities.importUri(n)}resourceUri(n){return this.reflectionCapabilities.resourceUri(n)}resolveIdentifier(n,i,a,u){return this.reflectionCapabilities.resolveIdentifier(n,i,a,u)}resolveEnum(n,i){return this.reflectionCapabilities.resolveEnum(n,i)}}const Dl=new vy(new ct);class Lp{constructor(n,i,a){this.key=n,this.optional=i,this.visibility=a}static fromKey(n){return new Lp(n,!1,null)}}const Al=[];class jc{constructor(n,i,a){this.key=n,this.resolvedFactories=i,this.multiProvider=a,this.resolvedFactory=this.resolvedFactories[0]}}class Ef{constructor(n,i){this.factory=n,this.dependencies=i}}function o0(t){let n,i;if(t.useClass){const a=ie(t.useClass);n=Dl.factory(a),i=Hc(a)}else t.useExisting?(n=a=>a,i=[Lp.fromKey(Uc.get(t.useExisting))]):t.useFactory?(n=t.useFactory,i=function(t,n){if(n){const i=n.map(a=>[a]);return n.map(a=>Cf(t,a,i))}return Hc(t)}(t.useFactory,t.deps)):(n=()=>t.useValue,i=Al);return new Ef(n,i)}function a0(t){return new jc(Uc.get(t.provide),[o0(t)],t.multi||!1)}function bm(t){const a=function(t,n){for(let i=0;i<t.length;i++){const a=t[i],u=n.get(a.key.id);if(u){if(a.multiProvider!==u.multiProvider)throw r0(u,a);if(a.multiProvider)for(let f=0;f<a.resolvedFactories.length;f++)u.resolvedFactories.push(a.resolvedFactories[f]);else n.set(a.key.id,a)}else{let f;f=a.multiProvider?new jc(a.key,a.resolvedFactories.slice(),a.multiProvider):a,n.set(a.key.id,f)}}return n}(bf(t,[]).map(a0),new Map);return Array.from(a.values())}function bf(t,n){return t.forEach(i=>{if(i instanceof Do)n.push({provide:i,useClass:i});else if(i&&"object"==typeof i&&void 0!==i.provide)n.push(i);else{if(!Array.isArray(i))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(i);bf(i,n)}}),n}function Hc(t){const n=Dl.parameters(t);if(!n)return[];if(n.some(i=>null==i))throw _y(t,n);return n.map(i=>Cf(t,i,n))}function Cf(t,n,i){let a=null,u=!1;if(!Array.isArray(n))return jd(n instanceof Gu?n.token:n,u,null);let f=null;for(let y=0;y<n.length;++y){const E=n[y];E instanceof Do?a=E:E instanceof Gu?a=E.token:E instanceof ka?u=!0:E instanceof Cu||E instanceof Fi?f=E:E instanceof wi&&(a=E)}if(a=ie(a),null!=a)return jd(a,u,f);throw _y(t,i)}function jd(t,n,i){return new Lp(Uc.get(t),n,i)}const vh={};class Gc{static resolve(n){return bm(n)}static resolveAndCreate(n,i){const a=Gc.resolve(n);return Gc.fromResolvedProviders(a,i)}static fromResolvedProviders(n,i){return new by(n,i)}}let by=(()=>{class t{constructor(i,a){this._constructionCounter=0,this._providers=i,this.parent=a||null;const u=i.length;this.keyIds=[],this.objs=[];for(let f=0;f<u;f++)this.keyIds[f]=i[f].key.id,this.objs[f]=vh}get(i,a=sr){return this._getByKey(Uc.get(i),null,a)}resolveAndCreateChild(i){const a=Gc.resolve(i);return this.createChildFromResolved(a)}createChildFromResolved(i){const a=new t(i);return a.parent=this,a}resolveAndInstantiate(i){return this.instantiateResolved(Gc.resolve([i])[0])}instantiateResolved(i){return this._instantiateProvider(i)}getProviderAtIndex(i){if(i<0||i>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(i);return this._providers[i]}_new(i){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,n){return Js(t,n,function(i){return`Cannot instantiate cyclic dependency!${py(i)}`})}(this,i.key);return this._instantiateProvider(i)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(i){if(i.multiProvider){const a=[];for(let u=0;u<i.resolvedFactories.length;++u)a[u]=this._instantiate(i,i.resolvedFactories[u]);return a}return this._instantiate(i,i.resolvedFactories[0])}_instantiate(i,a){const u=a.factory;let f,y;try{f=a.dependencies.map(E=>this._getByReflectiveDependency(E))}catch(E){throw E.addKey&&E.addKey(this,i.key),E}try{y=u(...f)}catch(E){throw function(t,n,i,a){return Js(t,a,function(u){const f=X(u[0].token);return`${n.message}: Error during instantiation of ${f}!${py(u)}.`},n)}(this,E,0,i.key)}return y}_getByReflectiveDependency(i){return this._getByKey(i.key,i.visibility,i.optional?null:sr)}_getByKey(i,a,u){return i===t.INJECTOR_KEY?this:a instanceof Cu?this._getByKeySelf(i,u):this._getByKeyDefault(i,u,a)}_getObjByKeyId(i){for(let a=0;a<this.keyIds.length;a++)if(this.keyIds[a]===i)return this.objs[a]===vh&&(this.objs[a]=this._new(this._providers[a])),this.objs[a];return vh}_throwOrNull(i,a){if(a!==sr)return a;throw function(t,n){return Js(t,n,function(i){return`No provider for ${X(i[0].token)}!${py(i)}`})}(this,i)}_getByKeySelf(i,a){const u=this._getObjByKeyId(i.id);return u!==vh?u:this._throwOrNull(i,a)}_getByKeyDefault(i,a,u){let f;for(f=u instanceof Fi?this.parent:this;f instanceof t;){const y=f,E=y._getObjByKeyId(i.id);if(E!==vh)return E;f=y.parent}return null!==f?f.get(i.token,a):this._throwOrNull(i,a)}get displayName(){return`ReflectiveInjector(providers: [${function(t,n){const i=[];for(let a=0;a<t._providers.length;++a)i[a]=n(t.getProviderAtIndex(a));return i}(this,a=>' "'+a.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=Uc.get(as),t})();function If(t,n=ln.Default){const i=Nt();return null===i?Kr(t,n):No(Ii(),i,ie(t),n)}function Fp(){throw new Error("invalid")}function Tf(t,n,i){const a=Nt();return Wo(a,Jr(),n)&&Ua(wr(),Ti(),a,t,n,a[11],i,!1),Tf}function Vp(t,n,i,a,u){const y=u?"class":"style";G_(t,i,n.inputs[y],y,a)}function Bp(t,n,i,a){const u=Nt(),f=wr(),y=20+t,E=u[11],M=u[y]=zh(E,n,nr.lFrame.currentNamespace),B=f.firstCreatePass?function(t,n,i,a,u,f,y){const E=n.consts,B=xd(n,t,2,u,Er(E,f));return lh(n,i,B,Er(E,y)),null!==B.attrs&&vp(B,B.attrs,!1),null!==B.mergedAttrs&&vp(B,B.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,B),B}(y,f,u,0,n,i,a):f.data[y];Ks(B,!0);const q=B.mergedAttrs;null!==q&&So(E,M,q);const me=B.classes;null!==me&&oh(E,M,me);const Ee=B.styles;null!==Ee&&Ru(E,M,Ee),64!=(64&B.flags)&&Xu(f,u,M,B),0===nr.lFrame.elementDepthCount&&pr(M,u),nr.lFrame.elementDepthCount++,Ji(B)&&(up(f,u,B),kg(f,B,u)),null!==a&&Lg(u,B)}function Up(){let t=Ii();zs()?Ls():(t=t.parent,Ks(t,!1));const n=t;nr.lFrame.elementDepthCount--;const i=wr();i.firstCreatePass&&(ts(i,t),Ui(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Vp(i,n,Nt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Vp(i,n,Nt(),n.stylesWithoutHost,!1)}function jp(t,n,i,a){Bp(t,n,i,a),Up()}function Eh(t,n,i){const a=Nt(),u=wr(),f=t+20,y=u.firstCreatePass?function(t,n,i,a,u){const f=n.consts,y=Er(f,a),E=xd(n,t,8,"ng-container",y);return null!==y&&vp(E,y,!0),lh(n,i,E,Er(f,u)),null!==n.queries&&n.queries.elementStart(n,E),E}(f,u,a,n,i):u.data[f];Ks(y,!0);const E=a[f]=a[11].createComment("");Xu(u,a,E,y),pr(E,a),Ji(y)&&(up(u,a,y),kg(u,y,a)),null!=i&&Lg(a,y)}function bh(){let t=Ii();const n=wr();zs()?Ls():(t=t.parent,Ks(t,!1)),n.firstCreatePass&&(ts(n,t),Ui(t)&&n.queries.elementEnd(t))}function Cm(t,n,i){Eh(t,n,i),bh()}function Ch(){return Nt()}function Im(t){return!!t&&"function"==typeof t.then}function wf(t){return!!t&&"function"==typeof t.subscribe}const ec=wf;function nl(t,n,i,a){const u=Nt(),f=wr(),y=Ii();return Iy(f,u,u[11],y,t,n,!!i,a),nl}function Gd(t,n){const i=Ii(),a=Nt(),u=wr();return Iy(u,a,H_(Es(u.data),i,a),i,t,n,!1),Gd}function Iy(t,n,i,a,u,f,y,E){const M=Ji(a),q=t.firstCreatePass&&_p(t),me=n[8],Ee=j_(n);let Oe=!0;if(3&a.type||E){const ot=V(a,n),sn=E?E(ot):ot,Lt=Ee.length,gr=E?kr=>E(Me(kr[a.index])):a.index;if(j(i)){let kr=null;if(!E&&M&&(kr=function(t,n,i,a){const u=t.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const y=u[f];if(y===i&&u[f+1]===a){const E=n[7],M=u[f+2];return E.length>M?E[M]:null}"string"==typeof y&&(f+=2)}return null}(t,n,u,a.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=f,kr.__ngLastListenerFn__=f,Oe=!1;else{f=Hp(a,n,me,f,!1);const yi=i.listen(sn,u,f);Ee.push(f,yi),q&&q.push(u,gr,Lt,Lt+1)}}else f=Hp(a,n,me,f,!0),sn.addEventListener(u,f,y),Ee.push(f),q&&q.push(u,gr,Lt,y)}else f=Hp(a,n,me,f,!1);const Qe=a.outputs;let Tt;if(Oe&&null!==Qe&&(Tt=Qe[u])){const ot=Tt.length;if(ot)for(let sn=0;sn<ot;sn+=2){const ha=n[Tt[sn]][Tt[sn+1]].subscribe(f),xl=Ee.length;Ee.push(f,ha),q&&q.push(u,a.index,xl,-(xl+1))}}}function Tm(t,n,i,a){try{return oi(6,n,i),!1!==i(a)}catch(u){return yp(t,u),!1}finally{oi(7,n,i)}}function Hp(t,n,i,a,u){return function f(y){if(y===Function)return a;const E=2&t.flags?Kt(t.index,n):n;0==(32&n[2])&&af(E);let M=Tm(n,i,a,y),B=f.__ngNextListenerFn__;for(;B;)M=Tm(n,i,B,y)&&M,B=B.__ngNextListenerFn__;return u&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function Ih(t=1){return mo(t)}function $c(t,n){let i=null;const a=function(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const f=n[u];if("*"!==f){if(null===a?Xh(t,f,!0):d(a,f))return u}else i=u}return i}function Ty(t){const n=Nt()[16][6];if(!n.projection){const a=n.projection=Us(t?t.length:1,null),u=a.slice();let f=n.child;for(;null!==f;){const y=t?$c(f,t):0;null!==y&&(u[y]?u[y].projectionNext=f:a[y]=f,u[y]=f),f=f.next}}}function wy(t,n=0,i){const a=Nt(),u=wr(),f=xd(u,20+t,16,null,i||null);null===f.projection&&(f.projection=n),Ls(),64!=(64&f.flags)&&function(t,n,i){Zh(n[11],0,n,i,pu(t,i,n),xu(i.parent||n[6],i,n))}(u,a,f)}function wm(t,n,i){return Gp(t,"",n,"",i),wm}function Gp(t,n,i,a,u){const f=Nt(),y=Fc(f,n,i,a);return y!==ne&&Ua(wr(),Ti(),f,t,y,f[11],u,!1),Gp}function Wp(t,n,i,a,u,f,y){const E=Nt(),M=Ud(E,n,i,a,u,f);return M!==ne&&Ua(wr(),Ti(),E,t,M,E[11],y,!1),Wp}function Sm(t,n,i,a,u,f,y,E,M){const B=Nt(),q=Vc(B,n,i,a,u,f,y,E);return q!==ne&&Ua(wr(),Ti(),B,t,q,B[11],M,!1),Sm}function Dm(t,n,i,a,u,f,y,E,M,B,q){const me=Nt(),Ee=tl(me,n,i,a,u,f,y,E,M,B);return Ee!==ne&&Ua(wr(),Ti(),me,t,Ee,me[11],q,!1),Dm}function $p(t,n,i,a,u,f,y,E,M,B,q,me,Ee){const Oe=Nt(),Qe=Bc(Oe,n,i,a,u,f,y,E,M,B,q,me);return Qe!==ne&&Ua(wr(),Ti(),Oe,t,Qe,Oe[11],Ee,!1),$p}function Am(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe){const Tt=Nt(),ot=mh(Tt,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe);return ot!==ne&&Ua(wr(),Ti(),Tt,t,ot,Tt[11],Qe,!1),Am}function Mm(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot){const sn=Nt(),Lt=_h(sn,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt);return Lt!==ne&&Ua(wr(),Ti(),sn,t,Lt,sn[11],ot,!1),Mm}function Kp(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn,Lt){const gr=Nt(),kr=yh(gr,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn);return kr!==ne&&Ua(wr(),Ti(),gr,t,kr,gr[11],Lt,!1),Kp}function Pm(t,n,i){const a=Nt(),u=Bd(a,n);return u!==ne&&Ua(wr(),Ti(),a,t,u,a[11],i,!1),Pm}function xm(t,n,i,a,u){const f=t[i+1],y=null===n;let E=a?ut(f):qr(f),M=!1;for(;0!==E&&(!1===M||y);){const q=t[E+1];Ay(t[E],n)&&(M=!0,t[E+1]=a?Go(q):or(q)),E=a?ut(q):qr(q)}M&&(t[i+1]=a?or(f):Go(f))}function Ay(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Cs(t,n)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zp(t){return t.substring(Po.key,Po.keyEnd)}function Zp(t){return t.substring(Po.value,Po.valueEnd)}function Rm(t,n){const i=Po.textEnd;return i===n?-1:(n=Po.keyEnd=function(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,Po.key=n,i),Th(t,n,i))}function My(t,n){const i=Po.textEnd;let a=Po.key=Th(t,n,i);return i===a?-1:(a=Po.keyEnd=function(t,n,i){let a;for(;n<i&&(45===(a=t.charCodeAt(n))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)n++;return n}(t,a,i),a=Py(t,a,i),a=Po.value=Th(t,a,i),a=Po.valueEnd=function(t,n,i){let a=-1,u=-1,f=-1,y=n,E=y;for(;y<i;){const M=t.charCodeAt(y++);if(59===M)return E;34===M||39===M?E=y=Nm(t,M,y,i):n===y-4&&85===f&&82===u&&76===a&&40===M?E=y=Nm(t,41,y,i):M>32&&(E=y),f=u,u=a,a=-33&M}return E}(t,a,i),Py(t,a,i))}function zc(t){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=t.length}function Th(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Py(t,n,i,a){return(n=Th(t,n,i))<i&&n++,n}function Nm(t,n,i,a){let u=-1,f=i;for(;f<a;){const y=t.charCodeAt(f++);if(y==n&&92!==u)return f;u=92==y&&92===u?0:y}throw new Error}function Om(t,n,i){return rl(t,n,i,!1),Om}function km(t,n){return rl(t,n,null,!0),km}function Lu(t){il(Oy,m0,t,!1)}function m0(t,n){for(let i=function(t){return zc(t),My(t,Th(t,0,Po.textEnd))}(n);i>=0;i=My(n,i))Oy(t,zp(n),Zp(n))}function Wd(t){il(Ao,Fu,t,!0)}function Fu(t,n){for(let i=function(t){return zc(t),Rm(t,Th(t,0,Po.textEnd))}(n);i>=0;i=Rm(n,i))Ao(t,zp(n),!0)}function rl(t,n,i,a){const u=Nt(),f=wr(),y=hs(2);f.firstUpdatePass&&Ry(f,t,y,a),n!==ne&&Wo(u,y,n)&&Fm(f,f.data[xi()],u,u[11],t,u[y+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=X(Ts(t)))),t}(n,i),a,y)}function il(t,n,i,a){const u=wr(),f=hs(2);u.firstUpdatePass&&Ry(u,null,f,a);const y=Nt();if(i!==ne&&Wo(y,f,i)){const E=u.data[xi()];if(ky(E,a)&&!xy(u,f)){let M=a?E.classesWithoutHost:E.stylesWithoutHost;null!==M&&(i=le(M,i||"")),Vp(u,E,y,i,a)}else!function(t,n,i,a,u,f,y,E){u===ne&&(u=Ce);let M=0,B=0,q=0<u.length?u[0]:null,me=0<f.length?f[0]:null;for(;null!==q||null!==me;){const Ee=M<u.length?u[M+1]:void 0,Oe=B<f.length?f[B+1]:void 0;let Tt,Qe=null;q===me?(M+=2,B+=2,Ee!==Oe&&(Qe=me,Tt=Oe)):null===me||null!==q&&q<me?(M+=2,Qe=q):(B+=2,Qe=me,Tt=Oe),null!==Qe&&Fm(t,n,i,a,Qe,Tt,y,E),q=M<u.length?u[M]:null,me=B<f.length?f[B]:null}}(u,E,y,y[11],y[f+1],y[f+1]=function(t,n,i){if(null==i||""===i)return Ce;const a=[],u=Ts(i);if(Array.isArray(u))for(let f=0;f<u.length;f++)t(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&t(a,f,u[f]);else"string"==typeof u&&n(a,u);return a}(t,n,i),a,f)}}function xy(t,n){return n>=t.expandoStartIndex}function Ry(t,n,i,a){const u=t.data;if(null===u[i+1]){const f=u[xi()],y=xy(t,i);ky(f,a)&&null===n&&!y&&(n=!1),n=function(t,n,i,a){const u=Es(t);let f=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=wh(i=Ny(null,t,n,i,a),n.attrs,a),f=null);else{const y=n.directiveStylingLast;if(-1===y||t[y]!==u)if(i=Ny(u,t,n,i,a),null===f){let M=function(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==qr(a))return t[ut(a)]}(t,n,a);void 0!==M&&Array.isArray(M)&&(M=Ny(null,t,n,M[1],a),M=wh(M,n.attrs,a),function(t,n,i,a){t[ut(i?n.classBindings:n.styleBindings)]=a}(t,n,a,M))}else f=function(t,n,i){let a;const u=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<u;f++)a=wh(a,t[f].hostAttrs,i);return wh(a,n.attrs,i)}(t,n,a)}return void 0!==f&&(a?n.residualClasses=f:n.residualStyles=f),i}(u,f,n,a),function(t,n,i,a,u,f){let y=f?n.classBindings:n.styleBindings,E=ut(y),M=qr(y);t[a]=i;let q,B=!1;if(Array.isArray(i)){const me=i;q=me[1],(null===q||Cs(me,q)>0)&&(B=!0)}else q=i;if(u)if(0!==M){const Ee=ut(t[E+1]);t[a+1]=lt(Ee,E),0!==Ee&&(t[Ee+1]=is(t[Ee+1],a)),t[E+1]=function(t,n){return 131071&t|n<<17}(t[E+1],a)}else t[a+1]=lt(E,0),0!==E&&(t[E+1]=is(t[E+1],a)),E=a;else t[a+1]=lt(M,0),0===E?E=a:t[M+1]=is(t[M+1],a),M=a;B&&(t[a+1]=or(t[a+1])),xm(t,q,a,!0),xm(t,q,a,!1),function(t,n,i,a,u){const f=u?t.residualClasses:t.residualStyles;null!=f&&"string"==typeof n&&Cs(f,n)>=0&&(i[a+1]=Go(i[a+1]))}(n,q,t,a,f),y=lt(E,M),f?n.classBindings=y:n.styleBindings=y}(u,f,n,i,y,a)}}function Ny(t,n,i,a,u){let f=null;const y=i.directiveEnd;let E=i.directiveStylingLast;for(-1===E?E=i.directiveStart:E++;E<y&&(f=n[E],a=wh(a,f.hostAttrs,u),f!==t);)E++;return null!==t&&(i.directiveStylingLast=E),a}function wh(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let f=0;f<n.length;f++){const y=n[f];"number"==typeof y?u=y:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ao(t,y,!!i||n[++f]))}return void 0===t?null:t}function Oy(t,n,i){Ao(t,n,Ts(i))}function Fm(t,n,i,a,u,f,y,E){if(!(3&n.type))return;const M=t.data,B=M[E+1];Zc(function(t){return 1==(1&t)}(B)?Vm(M,n,i,u,qr(B),y):void 0)||(Zc(f)||function(t){return 2==(2&t)}(B)&&(f=Vm(M,null,i,u,E,y)),function(t,n,i,a,u){const f=j(t);if(n)u?f?t.addClass(i,a):i.classList.add(a):f?t.removeClass(i,a):i.classList.remove(a);else{let y=-1===a.indexOf("-")?void 0:fu.DashCase;if(null==u)f?t.removeStyle(i,a,y):i.style.removeProperty(a);else{const E="string"==typeof u&&u.endsWith("!important");E&&(u=u.slice(0,-10),y|=fu.Important),f?t.setStyle(i,a,u,y):i.style.setProperty(a,u,E?"important":"")}}}(a,y,U(xi(),i),u,f))}function Vm(t,n,i,a,u,f){const y=null===n;let E;for(;u>0;){const M=t[u],B=Array.isArray(M),q=B?M[1]:M,me=null===q;let Ee=i[u+1];Ee===ne&&(Ee=me?Ce:void 0);let Oe=me?Jo(Ee,a):q===a?Ee:void 0;if(B&&!Zc(Oe)&&(Oe=Jo(M,a)),Zc(Oe)&&(E=Oe,y))return E;const Qe=t[u+1];u=y?ut(Qe):qr(Qe)}if(null!==n){let M=f?n.residualClasses:n.residualStyles;null!=M&&(E=Jo(M,a))}return E}function Zc(t){return void 0!==t}function ky(t,n){return 0!=(t.flags&(n?16:32))}function Ly(t,n=""){const i=Nt(),a=wr(),u=t+20,f=a.firstCreatePass?xd(a,u,1,n,null):a.data[u],y=i[u]=Kh(i[11],n);Xu(a,i,y,f),Ks(f,!1)}function Qp(t){return $d("",t,""),Qp}function $d(t,n,i){const a=Nt(),u=Fc(a,t,n,i);return u!==ne&&el(a,xi(),u),$d}function Um(t,n,i,a,u){const f=Nt(),y=Ud(f,t,n,i,a,u);return y!==ne&&el(f,xi(),y),Um}function qp(t,n,i,a,u,f,y){const E=Nt(),M=Vc(E,t,n,i,a,u,f,y);return M!==ne&&el(E,xi(),M),qp}function Xp(t,n,i,a,u,f,y,E,M){const B=Nt(),q=tl(B,t,n,i,a,u,f,y,E,M);return q!==ne&&el(B,xi(),q),Xp}function tc(t,n,i,a,u,f,y,E,M,B,q){const me=Nt(),Ee=Bc(me,t,n,i,a,u,f,y,E,M,B,q);return Ee!==ne&&el(me,xi(),Ee),tc}function tu(t,n,i,a,u,f,y,E,M,B,q,me,Ee){const Oe=Nt(),Qe=mh(Oe,t,n,i,a,u,f,y,E,M,B,q,me,Ee);return Qe!==ne&&el(Oe,xi(),Qe),tu}function la(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe){const Tt=Nt(),ot=_h(Tt,t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe);return ot!==ne&&el(Tt,xi(),ot),la}function Yp(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot){const sn=Nt(),Lt=yh(sn,t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot);return Lt!==ne&&el(sn,xi(),Lt),Yp}function Jp(t){const n=Nt(),i=Bd(n,t);return i!==ne&&el(n,xi(),i),Jp}function Sh(t,n,i){il(Ao,Fu,Fc(Nt(),t,n,i),!0)}function Dh(t,n,i,a,u){il(Ao,Fu,Ud(Nt(),t,n,i,a,u),!0)}function Ma(t,n,i,a,u,f,y){il(Ao,Fu,Vc(Nt(),t,n,i,a,u,f,y),!0)}function Fy(t,n,i,a,u,f,y,E,M){il(Ao,Fu,tl(Nt(),t,n,i,a,u,f,y,E,M),!0)}function eg(t,n,i,a,u,f,y,E,M,B,q){il(Ao,Fu,Bc(Nt(),t,n,i,a,u,f,y,E,M,B,q),!0)}function Kd(t,n,i,a,u,f,y,E,M,B,q,me,Ee){il(Ao,Fu,mh(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee),!0)}function Qc(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe){il(Ao,Fu,_h(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe),!0)}function tg(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot){il(Ao,Fu,yh(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot),!0)}function qc(t){il(Ao,Fu,Bd(Nt(),t),!0)}function Vy(t,n,i){Lu(Fc(Nt(),t,n,i))}function By(t,n,i,a,u){Lu(Ud(Nt(),t,n,i,a,u))}function Uy(t,n,i,a,u,f,y){Lu(Vc(Nt(),t,n,i,a,u,f,y))}function nc(t,n,i,a,u,f,y,E,M){Lu(tl(Nt(),t,n,i,a,u,f,y,E,M))}function jy(t,n,i,a,u,f,y,E,M,B,q){Lu(Bc(Nt(),t,n,i,a,u,f,y,E,M,B,q))}function Hy(t,n,i,a,u,f,y,E,M,B,q,me,Ee){Lu(mh(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee))}function Gy(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe){Lu(_h(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe))}function ng(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot){Lu(yh(Nt(),t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot))}function jm(t){Lu(Bd(Nt(),t))}function Ah(t,n,i,a,u){return rl(t,Fc(Nt(),n,i,a),u,!1),Ah}function zd(t,n,i,a,u,f,y){return rl(t,Ud(Nt(),n,i,a,u,f),y,!1),zd}function Sf(t,n,i,a,u,f,y,E,M){return rl(t,Vc(Nt(),n,i,a,u,f,y,E),M,!1),Sf}function rg(t,n,i,a,u,f,y,E,M,B,q){return rl(t,tl(Nt(),n,i,a,u,f,y,E,M,B),q,!1),rg}function Df(t,n,i,a,u,f,y,E,M,B,q,me,Ee){return rl(t,Bc(Nt(),n,i,a,u,f,y,E,M,B,q,me),Ee,!1),Df}function ig(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe){return rl(t,mh(Nt(),n,i,a,u,f,y,E,M,B,q,me,Ee,Oe),Qe,!1),ig}function Af(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot){return rl(t,_h(Nt(),n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt),ot,!1),Af}function Mf(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn,Lt){return rl(t,yh(Nt(),n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn),Lt,!1),Mf}function Pf(t,n,i){return rl(t,Bd(Nt(),n),i,!1),Pf}function sg(t,n,i){const a=Nt();return Wo(a,Jr(),n)&&Ua(wr(),Ti(),a,t,n,a[11],i,!0),sg}function xf(t,n,i){const a=Nt();if(Wo(a,Jr(),n)){const f=wr(),y=Ti();Ua(f,y,a,t,n,H_(Es(f.data),y,a),i,!0)}return xf}const rc=void 0;var $y=["en",[["a","p"],["AM","PM"],rc],[["AM","PM"],rc,rc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rc,"{1} 'at' {0}",rc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Xc={};function Ky(t,n,i){"string"!=typeof n&&(i=n,n=t[l.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Xc[n]=t,i&&(Xc[n][l.ExtraData]=i)}function Hm(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=r(n);if(i)return i;const a=n.split("-")[0];if(i=r(a),i)return i;if("en"===a)return $y;throw new Error(`Missing locale data for the locale "${t}".`)}function s(t){return Hm(t)[l.CurrencyCode]||null}function e(t){return Hm(t)[l.PluralCase]}function r(t){return t in Xc||(Xc[t]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[t]),Xc[t]}function o(){Xc={}}var l=(()=>((l=l||{})[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l))();const b=["zero","one","two","few","many"],K="en-US",Y="USD",ye={marker:"element"},Be={marker:"ICU"};var nt=(()=>((nt=nt||{})[nt.SHIFT=2]="SHIFT",nt[nt.APPEND_EAGERLY=1]="APPEND_EAGERLY",nt[nt.COMMENT=2]="COMMENT",nt))();let Wt=K;function An(t){(function(t,n){null==t&&tn(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(Wt=t.toLowerCase().replace(/_/g,"-"))}function Ni(t,n,i){const a=n.insertBeforeIndex,u=Array.isArray(a)?a[0]:a;return null===u?Sd(t,0,i):Me(i[u])}function ms(t,n,i,a,u){const f=n.insertBeforeIndex;if(Array.isArray(f)){let y=a,E=null;if(3&n.type||(E=y,y=u),null!==y&&0==(2&n.flags))for(let M=1;M<f.length;M++)Hs(t,y,i[f[M]],E,!1)}}function zi(t,n){if(t.push(n),t.length>1)for(let i=t.length-2;i>=0;i--){const a=t[i];lo(a)||Ss(a,n)&&null===Gs(a)&&Pa(a,n.index)}}function lo(t){return!(64&t.type)}function Ss(t,n){return lo(n)||t.index>n.index}function Gs(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function Pa(t,n){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=n:(yl(Ni,ms),t.insertBeforeIndex=n)}function ic(t,n){const i=t.data[n];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function WT(t,n,i){const a=Ng(t,i,64,null,null);return zi(n,a),a}function zy(t,n){const i=n[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function fb(t){return t>>>17}function pb(t){return(131070&t)>>>1}let Gm=0,Wm=0;function mb(t,n,i,a){const u=i[11];let y,f=null;for(let E=0;E<n.length;E++){const M=n[E];if("string"==typeof M){const B=n[++E];null===i[B]&&(i[B]=Kh(u,M))}else if("number"==typeof M)switch(1&M){case 0:const B=fb(M);let q,me;if(null===f&&(f=B,y=wd(u,a)),B===f?(q=a,me=y):(q=null,me=Me(i[B])),null!==me){const Tt=pb(M);Hs(u,me,i[Tt],q,!1);const sn=ic(t,Tt);if(null!==sn&&"object"==typeof sn){const Lt=zy(sn,i);null!==Lt&&mb(t,sn.create[Lt],i,i[sn.anchorIdx])}}break;case 1:const Oe=n[++E],Qe=n[++E];Nd(u,U(M>>>1,i),null,null,Oe,Qe,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${M}"`)}else switch(M){case Be:const B=n[++E],q=n[++E];null===i[q]&&pr(i[q]=Cg(u,B),i);break;case ye:const me=n[++E],Ee=n[++E];null===i[Ee]&&pr(i[Ee]=zh(u,me,null),i)}}}function _b(t,n,i,a,u){for(let f=0;f<i.length;f++){const y=i[f],E=i[++f];if(y&u){let M="";for(let B=f+1;B<=f+E;B++){const q=i[B];if("string"==typeof q)M+=q;else if("number"==typeof q)if(q<0)M+=qe(n[a-q]);else{const me=q>>>2;switch(3&q){case 1:const Ee=i[++B],Oe=i[++B],Qe=t.data[me];"string"==typeof Qe?Nd(n[11],n[me],null,Qe,Ee,M,Oe):Ua(t,Qe,n,Ee,M,n[11],Oe,!1);break;case 0:const Tt=n[me];null!==Tt&&zf(n[11],Tt,M);break;case 2:QT(t,ic(t,me),n,M);break;case 3:yb(t,ic(t,me),a,n)}}}}else{const M=i[f+1];if(M>0&&3==(3&M)){const q=ic(t,M>>>2);n[q.currentCaseLViewIndex]<0&&yb(t,q,a,n)}}f+=E}}function yb(t,n,i,a){let u=a[n.currentCaseLViewIndex];if(null!==u){let f=Gm;u<0&&(u=a[n.currentCaseLViewIndex]=~u,f=-1),_b(t,a,n.update[u],i,f)}}function QT(t,n,i,a){const u=function(t,n){let i=t.cases.indexOf(n);if(-1===i)switch(t.type){case 1:{const a=function(t,n){const i=e(n)(parseInt(t,10)),a=b[i];return void 0!==a?a:"other"}(n,Wt);i=t.cases.indexOf(a),-1===i&&"other"!==a&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(n,a);if(zy(n,i)!==u&&(vb(t,n,i),i[n.currentCaseLViewIndex]=null===u?null:~u,null!==u)){const y=i[n.anchorIdx];y&&mb(t,n.create[u],i,y)}}function vb(t,n,i){let a=zy(n,i);if(null!==a){const u=n.remove[a];for(let f=0;f<u.length;f++){const y=u[f];if(y>0){const E=U(y,i);null!==E&&vl(i[11],E)}else vb(t,ic(t,~y),i)}}}function XT(){const t=[];let i,a,n=-1;function f(E,M){n=0;const B=zy(E,M);a=null!==B?E.remove[B]:Ce}function y(){if(n<a.length){const E=a[n++];return E>0?i[E]:(t.push(n,a),f(i[1].data[~E],i),y())}return 0===t.length?null:(a=t.pop(),n=t.pop(),y())}return function(E,M){for(i=M;t.length;)t.pop();return f(E.value,M),y}}const Zy=/\ufffd(\d+):?\d*\ufffd/gi,YT=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,JT=/\ufffd(\d+)\ufffd/,bb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ew=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nw=/\uE500/g;function Cb(t,n,i,a,u,f,y){const E=Ju(t,a,1,null);let M=E<<nt.SHIFT,B=bo();n===B&&(B=null),null===B&&(M|=nt.APPEND_EAGERLY),y&&(M|=nt.COMMENT,function(t){void 0===rh&&(rh=t())}(XT)),u.push(M,null===f?"":f);const q=Ng(t,E,y?32:1,null===f?"":f,null);zi(i,q);const me=q.index;return Ks(q,!1),null!==B&&n!==B&&function(t,n){let i=t.insertBeforeIndex;null===i?(yl(Ni,ms),i=t.insertBeforeIndex=[null,n]):(function(t,n,i){t!=n&&tn(i,t,n,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(n))}(B,me),q}function sw(t,n,i,a,u,f,y){const E=y.match(Zy),M=Cb(t,n,i,f,a,E?null:y,!1);E&&og(u,y,M.index,null,0,null)}function og(t,n,i,a,u,f){const y=t.length,E=y+1;t.push(null,null);const M=y+2,B=n.split(Zy);let q=0;for(let me=0;me<B.length;me++){const Ee=B[me];if(1&me){const Oe=u+parseInt(Ee,10);t.push(-1-Oe),q|=Ib(Oe)}else""!==Ee&&t.push(Ee)}return t.push(i<<2|(a?1:0)),a&&t.push(a,f),t[y]=q,t[E]=t.length-M,q}function aw(t){let n=0;for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a&&a<0&&n++}return n}function Ib(t){return 1<<Math.min(t,31)}function Tb(t){let n,f,i="",a=0,u=!1;for(;null!==(n=ew.exec(t));)u?n[0]===`\ufffd/*${f}\ufffd`&&(a=n.index,u=!1):(i+=t.substring(a,n.index+n[0].length),f=n[1],u=!0);return i+=t.substr(a),i}function wb(t,n,i,a,u,f){let y=0;const E={type:u.type,currentCaseLViewIndex:Ju(t,n,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(t,n,i){t.push(Ib(n.mainBinding),2,-1-n.mainBinding,i<<2|2)})(i,u,f),function(t,n,i){const a=t.data[n];null===a?t.data[n]=i:a.value=i}(t,f,E);const M=u.values;for(let B=0;B<M.length;B++){const q=M[B],me=[];for(let Ee=0;Ee<q.length;Ee++){const Oe=q[Ee];if("string"!=typeof Oe){const Qe=me.push(Oe)-1;q[Ee]=`\x3c!--\ufffd${Qe}\ufffd--\x3e`}}y=dw(t,E,n,i,a,u.cases[B],q.join(""),me)|y}y&&function(t,n,i){t.push(n,1,i<<2|3)}(i,y,f)}function cw(t){const n=[],i=[];let a=1,u=0;const f=b0(t=t.replace(bb,function(y,E,M){return a="select"===M?0:1,u=parseInt(E.substr(1),10),""}));for(let y=0;y<f.length;){let E=f[y++].trim();1===a&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&n.push(E);const M=b0(f[y++]);n.length>i.length&&i.push(M)}return{type:a,mainBinding:u,cases:n,values:i}}function b0(t){if(!t)return[];let n=0;const i=[],a=[],u=/[{}]/g;let f;for(u.lastIndex=0;f=u.exec(t);){const E=f.index;if("}"==f[0]){if(i.pop(),0==i.length){const M=t.substring(n,E);bb.test(M)?a.push(cw(M)):a.push(M),n=E+1}}else{if(0==i.length){const M=t.substring(n,E);a.push(M),n=E+1}i.push("{")}}const y=t.substring(n);return a.push(y),a}function dw(t,n,i,a,u,f,y,E){const M=[],B=[],q=[];n.cases.push(f),n.create.push(M),n.remove.push(B),n.update.push(q);const Ee=Zu(Ur()).getInertBodyElement(y),Oe=cn(Ee)||Ee;return Oe?Sb(t,n,i,a,M,B,q,Oe,u,E,0):0}function Sb(t,n,i,a,u,f,y,E,M,B,q){let me=0,Ee=E.firstChild;for(;Ee;){const Oe=Ju(t,i,1,null);switch(Ee.nodeType){case Node.ELEMENT_NODE:const Qe=Ee,Tt=Qe.tagName.toLowerCase();if(yc.hasOwnProperty(Tt)){C0(u,ye,Tt,M,Oe),t.data[Oe]=Tt;const gr=Qe.attributes;for(let kr=0;kr<gr.length;kr++){const yi=gr.item(kr),ha=yi.name.toLowerCase();yi.value.match(Zy)?I.hasOwnProperty(ha)&&og(y,yi.value,Oe,yi.name,0,_i[ha]?wa:sa[ha]?Ya:null):gw(u,Oe,yi)}me=Sb(t,n,i,a,u,f,y,Ee,Oe,B,q+1)|me,Db(f,Oe,q)}break;case Node.TEXT_NODE:const ot=Ee.textContent||"",sn=ot.match(Zy);C0(u,null,sn?"":ot,M,Oe),Db(f,Oe,q),sn&&(me=og(y,ot,Oe,null,0,null)|me);break;case Node.COMMENT_NODE:const Lt=JT.exec(Ee.textContent||"");if(Lt){const kr=B[parseInt(Lt[1],10)];C0(u,Be,"",M,Oe),wb(t,i,a,M,kr,Oe),hw(f,Oe,q)}}Ee=Ee.nextSibling}return me}function Db(t,n,i){0===i&&t.push(n)}function hw(t,n,i){0===i&&(t.push(~n),t.push(n))}function C0(t,n,i,a,u){null!==n&&t.push(n),t.push(i,u,function(t,n,i){return 0|n<<17|i<<1}(0,a,u))}function gw(t,n,i){t.push(n<<1|1,i.name,i.value)}const mw=/\[(\ufffd.+?\ufffd?)\]/,_w=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,yw=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vw=/{([A-Z0-9_]+)}/g,Ew=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,bw=/\/\*/,Cw=/\d+\:(\d+)/;function Mb(t,n={}){let i=t;if(mw.test(t)){const a={},u=[0];i=i.replace(_w,(f,y,E)=>{const M=y||E,B=a[M]||[];if(B.length||(M.split("|").forEach(Tt=>{const ot=Tt.match(Cw),sn=ot?parseInt(ot[1],10):0,Lt=bw.test(Tt);B.push([sn,Lt,Tt])}),a[M]=B),!B.length)throw new Error(`i18n postprocess: unmatched placeholder - ${M}`);const q=u[u.length-1];let me=0;for(let Tt=0;Tt<B.length;Tt++)if(B[Tt][0]===q){me=Tt;break}const[Ee,Oe,Qe]=B[me];return Oe?u.pop():q!==Ee&&u.push(Ee),B.splice(me,1),Qe})}return Object.keys(n).length&&(i=i.replace(yw,(a,u,f,y,E,M)=>n.hasOwnProperty(f)?`${u}${n[f]}${M}`:a),i=i.replace(vw,(a,u)=>n.hasOwnProperty(u)?n[u]:a),i=i.replace(Ew,(a,u)=>{if(n.hasOwnProperty(u)){const f=n[u];if(!f.length)throw new Error(`i18n postprocess: unmatched ICU - ${a} with key: ${u}`);return f.shift()}return a})),i}function I0(t,n,i=-1){const a=wr(),u=Nt(),f=20+t,y=Er(a.consts,n),E=bo();a.firstCreatePass&&function(t,n,i,a,u,f){const y=bo(),E=[],M=[],B=[[]],q=function(t){return t.replace(nw," ")}(u=function(t,n){if(function(t){return-1===t}(n))return Tb(t);{const i=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,a=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return Tb(t.substring(i,a))}}(u,f)).split(tw);for(let me=0;me<q.length;me++){let Ee=q[me];if(0==(1&me)){const Oe=b0(Ee);for(let Qe=0;Qe<Oe.length;Qe++){let Tt=Oe[Qe];if(0==(1&Qe)){const ot=Tt;""!==ot&&sw(t,y,B[0],E,M,i,ot)}else{const ot=Tt;if("object"!=typeof ot)throw new Error(`Unable to parse ICU expression in "${u}" message.`);wb(t,i,M,n,ot,Cb(t,y,B[0],i,E,"",!0).index)}}}else{const Oe=47===Ee.charCodeAt(0),Tt=(Ee.charCodeAt(Oe?1:0),20+Number.parseInt(Ee.substring(Oe?2:1)));if(Oe)B.shift(),Ks(bo(),!1);else{const ot=WT(t,B[0],Tt);B.unshift([]),Ks(ot,!0)}}}t.data[a]={create:E,update:M}}(a,null===E?0:E.index,u,f,y,i);const M=a.data[f],q=si(a,E===u[6]?null:E,u);(function(t,n,i,a){const u=t[11];for(let f=0;f<n.length;f++){const y=n[f++],E=n[f],M=(y&nt.COMMENT)===nt.COMMENT,B=(y&nt.APPEND_EAGERLY)===nt.APPEND_EAGERLY,q=y>>>nt.SHIFT;let me=t[q];null===me&&(me=t[q]=M?u.createComment(E):Kh(u,E)),B&&null!==i&&Hs(u,i,me,a,!1)}})(u,M.create,q,E&&8&E.type?u[E.index]:null),Zo(!0)}function T0(){Zo(!1)}function Pb(t,n,i){I0(t,n,i),T0()}function xb(t,n){const i=wr();!function(t,n,i){const u=Ii().index,f=[];if(t.firstCreatePass&&null===t.data[n]){for(let y=0;y<i.length;y+=2){const E=i[y],M=i[y+1];if(""!==M){if(YT.test(M))throw new Error(`ICU expressions are not supported in attributes. Message: "${M}".`);og(f,M,u,E,aw(f),null)}}t.data[n]=f}}(i,t+20,Er(i.consts,n))}function w0(t){return function(t){t&&(Gm|=1<<Math.min(Wm,31)),Wm++}(Wo(Nt(),Jr(),t)),w0}function Rb(t){!function(t,n,i){if(Wm>0){const a=t.data[i];_b(t,n,Array.isArray(a)?a:a.update,Hi()-Wm-1,Gm)}Gm=0,Wm=0}(wr(),Nt(),t+20)}function Nb(t,n={}){return Mb(t,n)}function S0(t,n,i,a,u){if(t=ie(t),Array.isArray(t))for(let f=0;f<t.length;f++)S0(t[f],n,i,a,u);else{const f=wr(),y=Nt();let E=Lc(t)?t:ie(t.provide),M=bp(t);const B=Ii(),q=1048575&B.providerIndexes,me=B.directiveStart,Ee=B.providerIndexes>>20;if(Lc(t)||!t.multi){const Oe=new io(M,u,If),Qe=A0(E,n,u?q:q+Ee,me);-1===Qe?(rn(Zn(B,y),f,E),D0(f,t,n.length),n.push(E),B.directiveStart++,B.directiveEnd++,u&&(B.providerIndexes+=1048576),i.push(Oe),y.push(Oe)):(i[Qe]=Oe,y[Qe]=Oe)}else{const Oe=A0(E,n,q+Ee,me),Qe=A0(E,n,q,q+Ee),Tt=Oe>=0&&i[Oe],ot=Qe>=0&&i[Qe];if(u&&!ot||!u&&!Tt){rn(Zn(B,y),f,E);const sn=function(t,n,i,a,u){const f=new io(t,i,If);return f.multi=[],f.index=n,f.componentProviders=0,Ob(f,u,a&&!i),f}(u?ww:Tw,i.length,u,a,M);!u&&ot&&(i[Qe].providerFactory=sn),D0(f,t,n.length,0),n.push(E),B.directiveStart++,B.directiveEnd++,u&&(B.providerIndexes+=1048576),i.push(sn),y.push(sn)}else D0(f,t,Oe>-1?Oe:Qe,Ob(i[u?Qe:Oe],M,!u&&a));!u&&a&&ot&&i[Qe].componentProviders++}}}function D0(t,n,i,a){const u=Lc(n);if(u||function(t){return!!t.useClass}(n)){const y=(n.useClass||n).prototype.ngOnDestroy;if(y){const E=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const M=E.indexOf(i);-1===M?E.push(i,[a,y]):E[M+1].push(a,y)}else E.push(i,y)}}}function Ob(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function A0(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function Tw(t,n,i,a){return M0(this.multi,[])}function ww(t,n,i,a){const u=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Vu(i,i[1],this.providerFactory.index,a);f=E.slice(0,y),M0(u,f);for(let M=y;M<E.length;M++)f.push(E[M])}else f=[],M0(u,f);return f}function M0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function kb(t,n=[]){return i=>{i.providersResolver=(a,u)=>function(t,n,i){const a=wr();if(a.firstCreatePass){const u=hr(t);S0(i,a.data,a.blueprint,u,!0),S0(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class P0{}class ag{}function Lb(t){const n=Error(`No component factory found for ${X(t)}. Did you add it to @NgModule.entryComponents?`);return n[Fb]=t,n}const Fb="ngComponent";class Dw{resolveComponentFactory(n){throw Lb(n)}}let ug=(()=>{class t{}return t.NULL=new Dw,t})();class Aw{constructor(n,i,a){this._parent=i,this._ngModule=a,this._factories=new Map;for(let u=0;u<n.length;u++){const f=n[u];this._factories.set(f.componentType,f)}}resolveComponentFactory(n){let i=this._factories.get(n);if(!i&&this._parent&&(i=this._parent.resolveComponentFactory(n)),!i)throw Lb(n);return new x0(i,this._ngModule)}}class x0 extends ag{constructor(n,i){super(),this.factory=n,this.ngModule=i,this.selector=n.selector,this.componentType=n.componentType,this.ngContentSelectors=n.ngContentSelectors,this.inputs=n.inputs,this.outputs=n.outputs}create(n,i,a,u){return this.factory.create(n,i,a,u||this.ngModule)}}function Qy(...t){}function Vb(){return Rf(Ii(),Nt())}function Rf(t,n){return new sc(V(t,n))}const Bb=Vb,Mw=Bb;let sc=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=Mw,t})();function Ub(t){return t instanceof sc?t.nativeElement:t}class qy{}let jb=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pw(),t})();const Hb=Gb,Pw=Hb;function Gb(){const t=Nt(),i=Kt(Ii().index,t);return function(t){return t[11]}(_s(i)?i:t)}let R0=(()=>{class t{}return t.\u0275prov=wt({token:t,providedIn:"root",factory:()=>null}),t})();class Wb{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const N0=new Wb("12.2.16");class O0{constructor(){}supports(n){return gf(n)}create(n){return new $b(n)}}const Rw=(t,n)=>n;class $b{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Rw}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,f=null;for(;i||a;){const y=!a||i&&i.currentIndex<zb(a,u,f)?i:a,E=zb(y,u,f),M=y.currentIndex;if(y===a)u--,a=a._nextRemoved;else if(i=i._next,null==y.previousIndex)u++;else{f||(f=[]);const B=E-u,q=M-u;if(B!=q){for(let Ee=0;Ee<B;Ee++){const Oe=Ee<f.length?f[Ee]:f[Ee]=0,Qe=Oe+Ee;q<=Qe&&Qe<B&&(f[Ee]=Oe+1)}f[y.previousIndex]=q-B}}E!==M&&n(y,E,M)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!gf(n))throw new Error(`Error trying to diff '${X(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,f,y,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)f=n[E],y=this._trackByFn(E,f),null!==i&&Object.is(i.trackById,y)?(a&&(i=this._verifyReinsertion(i,f,y,E)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,y,E),a=!0),i=i._next}else u=0,function(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Vd()]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,E=>{y=this._trackByFn(u,E),null!==i&&Object.is(i.trackById,y)?(a&&(i=this._verifyReinsertion(i,E,y,u)),Object.is(i.item,E)||this._addIdentityChange(i,E)):(i=this._mismatch(i,E,y,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let f;return null===n?f=this._itTail:(f=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,u)):n=this._addAfter(new Nw(i,a),f,u),n}_verifyReinsertion(n,i,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?n=this._reinsertAfter(f,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,f=n._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Kb),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Nw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ow{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Kb{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new Ow,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zb(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class k0{constructor(){}supports(n){return n instanceof Map||xp(n)}create(){return new kw}}class kw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||xp(n)))throw new Error(`Error trying to diff '${X(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const f=u._prev,y=u._next;return f&&(f._next=y),y&&(y._prev=f),u._next=null,u._prev=null,u}const a=new Lw(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class Lw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function L0(){return new Xy([new O0])}let Xy=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(null!=a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||L0()),deps:[[t,new Fi,new ka]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=wt({token:t,providedIn:"root",factory:L0}),t})();function F0(){return new Yy([new k0])}let Yy=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||F0()),deps:[[t,new Fi,new ka]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(a)return a;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=wt({token:t,providedIn:"root",factory:F0}),t})();function Jy(t,n,i,a,u=!1){for(;null!==i;){const f=n[i.index];if(null!==f&&a.push(Me(f)),yr(f))for(let E=10;E<f.length;E++){const M=f[E],B=M[1].firstChild;null!==B&&Jy(M[1],M,B,a)}const y=i.type;if(8&y)Jy(t,n,i.child,a);else if(32&y){const E=Mo(i,n);let M;for(;M=E();)a.push(M)}else if(16&y){const E=Dd(n,i);if(Array.isArray(E))a.push(...E);else{const M=oa(n[16]);Jy(M[1],M,E,a,!0)}}i=u?i.projectionNext:i.next}return a}class Km{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Jy(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(yr(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Td(n,a),Ri(i,a))}this._attachedToViewContainer=!1}Qf(this._lView[1],this._lView)}onDestroy(n){tf(this._lView[1],this._lView,null,n)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,i){Fs(!0);try{mp(t,n,i)}finally{Fs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Ac(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Vw extends Km{constructor(n){super(n),this._view=n}detectChanges(){Od(this._view)}checkNoChanges(){!function(t){Fs(!0);try{Od(t)}finally{Fs(!1)}}(this._view)}get context(){return null}}const Zb=Qb,Bw=Zb;let V0=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bw,t})();function Qb(t){return function(t,n,i){if(Ds(t)&&!i){const a=Kt(t.index,n);return new Km(a,a)}return 47&t.type?new Km(n[16],n):null}(Ii(),Nt(),16==(16&t))}const jw=[new k0],qb=new Xy([new O0]),Xb=new Yy(jw),Yb=Jb,Gw=Yb;let Nf=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gw,t})();const Ww=Nf,$w=class extends Ww{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(n){const i=this._declarationTContainer.tViews,a=ef(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(i)),Il(i,a,n),new Km(a)}};function Jb(){return zm(Ii(),Nt())}function zm(t,n){return 4&t.type?new $w(n,t,Rf(t,n)):null}class Mh{}class B0{}const eC=tC,Kw=eC;let Zm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Kw,t})();function tC(){return iC(Ii(),Nt())}const zw=Zm,nC=class extends zw{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Rf(this._hostTNode,this._hostLView)}get injector(){return new za(this._hostTNode,this._hostLView)}get parentInjector(){const n=Gi(this._hostTNode,this._hostLView);if(D(n)){const i=L(n,this._hostLView),a=S(n);return new za(i[1].data[a+8],i)}return new za(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=rC(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,a){const u=n.createEmbeddedView(i||{});return this.insert(u,a),u}createComponent(n,i,a,u,f){const y=a||this.parentInjector;if(!f&&null==n.ngModule&&y){const M=y.get(Mh,null);M&&(f=M)}const E=n.create(y,u,void 0,f);return this.insert(E.hostView,i),E}insert(n,i){const a=n._lView,u=a[1];if(yr(a[3])){const q=this.indexOf(n);if(-1!==q)this.detach(q);else{const me=a[3],Ee=new nC(me,me[6],me[3]);Ee.detach(Ee.indexOf(n))}}const f=this._adjustIndex(i),y=this._lContainer;!function(t,n,i,a){const u=10+a,f=i.length;a>0&&(i[u-1][4]=n),a<f-10?(n[4]=i[u],bu(i,10+a,n)):(i.push(n),n[4]=null),n[3]=i;const y=n[17];null!==y&&i!==y&&function(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(y,n);const E=n[19];null!==E&&E.insertView(t),n[2]|=128}(u,a,y,f);const E=Dc(f,y),M=a[11],B=wd(M,y[7]);return null!==B&&function(t,n,i,a,u,f){a[0]=u,a[6]=n,Ac(t,a,i,1,u,f)}(u,y[6],M,a,B,E),n.attachToViewContainerRef(),bu(U0(y),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=rC(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Td(this._lContainer,i);a&&(Ri(U0(this._lContainer),i),Qf(a[1],a))}detach(n){const i=this._adjustIndex(n,-1),a=Td(this._lContainer,i);return a&&null!=Ri(U0(this._lContainer),i)?new Km(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function rC(t){return t[8]}function U0(t){return t[8]||(t[8]=[])}function iC(t,n){let i;const a=n[t.index];if(yr(a))i=a;else{let u;if(8&t.type)u=Me(a);else{const f=n[11];u=f.createComment("");const y=V(t,n);Hs(f,wd(f,y),u,function(t,n){return j(t)?t.nextSibling(n):n.nextSibling}(f,y),!1)}n[t.index]=i=fp(a,n,u,t),pp(n,i)}return new nC(i,t,n)}function sC(t,n,i,a){let u=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${n}'. Current value: '${i}'.`;return a&&(u+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,n){const i=new Error(t);return oC(i,n),i}(u,t)}function oC(t,n){t[Oh]=n,t[$l]=n.logError.bind(n)}function aC(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function ev(t,n,i){const a=t.state,u=1792&a;return u===n?(t.state=-1793&a|i,t.initIndex=-1,!0):u===i}function tv(t,n,i){return(1792&t.state)===n&&t.initIndex<=i&&(t.initIndex=i+1,!0)}function Qm(t,n){return t.nodes[n]}function ss(t,n){return t.nodes[n]}function Ph(t,n){return t.nodes[n]}function lg(t,n){return t.nodes[n]}function qm(t,n){return t.nodes[n]}class Xw{}const Hr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ml=()=>{},j0=new Map;function Ha(t){let n=j0.get(t);return n||(n=X(t)+"_"+j0.size,j0.set(t,n)),n}function Yw(t,n,i,a){if(Ou.isWrapped(a)){a=Ou.unwrap(a);const u=t.def.nodes[n].bindingIndex+i,f=Ou.unwrap(t.oldValues[u]);t.oldValues[u]=new Ou(f)}return a}const uC="$$undefined",lC="$$empty";function Jw(t){return{id:uC,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let eS=0;function Pl(t,n,i,a){return!(!(2&t.state)&&Object.is(t.oldValues[n.bindingIndex+i],a))}function co(t,n,i,a){return!!Pl(t,n,i,a)&&(t.oldValues[n.bindingIndex+i]=a,!0)}function oc(t,n,i,a){const u=t.oldValues[n.bindingIndex+i];if(1&t.state||!fh(u,a)){const f=n.bindings[i].name;throw sC(Hr.createDebugContext(t,n.nodeIndex),`${f}: ${u}`,`${f}: ${a}`,0!=(1&t.state))}}function cC(t){let n=t;for(;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function nS(t,n){let i=t;for(;i&&i!==n;)i.state|=64,i=i.viewContainerParent||i.parent}function dC(t,n,i,a){try{return cC(33554432&t.def.nodes[n].flags?ss(t,n).componentView:t),Hr.handleEvent(t,n,i,a)}catch(u){t.root.errorHandler.handleError(u)}}function H0(t){return t.parent?ss(t.parent,t.parentNodeDef.nodeIndex):null}function cg(t){return t.parent?t.parentNodeDef.parent:null}function Xm(t,n){switch(201347067&n.flags){case 1:return ss(t,n.nodeIndex).renderElement;case 2:return Qm(t,n.nodeIndex).renderText}}function rS(t,n){return t?`${t}:${n}`:n}function Of(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function iS(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function hC(t){return 1<<t%32}function G0(t){const n={};let i=0;const a={};return t&&t.forEach(([u,f])=>{"number"==typeof u?(n[u]=f,i|=hC(u)):a[u]=f}),{matchedQueries:n,references:a,matchedQueryIds:i}}function Ym(t,n){return t.map(i=>{let a,u;return Array.isArray(i)?[u,a]=i:(u=0,a=i),a&&("function"==typeof a||"object"==typeof a)&&n&&Object.defineProperty(a,js,{value:n,configurable:!0}),{flags:u,token:a,tokenKey:Ha(a)}})}function W0(t,n,i){let a=i.renderParent;return a?0==(1&a.flags)||0==(33554432&a.flags)||a.element.componentRendererType&&(a.element.componentRendererType.encapsulation===At.ShadowDom||1===a.element.componentRendererType.encapsulation)?ss(t,i.renderParent.nodeIndex).renderElement:void 0:n}const fC=new WeakMap;function dg(t){let n=fC.get(t);return n||(n=t(()=>Ml),n.factory=t,fC.set(t,n)),n}function nv(t,n,i,a,u){3===n&&(i=t.renderer.parentNode(Xm(t,t.def.lastRenderRootNode))),pC(t,n,0,t.def.nodes.length-1,i,a,u)}function pC(t,n,i,a,u,f,y){for(let E=i;E<=a;E++){const M=t.def.nodes[E];11&M.flags&&mC(t,M,n,u,f,y),E+=M.childCount}}function gC(t,n,i,a,u,f){let y=t;for(;y&&!Of(y);)y=y.parent;const E=y.parent,M=cg(y),q=M.nodeIndex+M.childCount;for(let me=M.nodeIndex+1;me<=q;me++){const Ee=E.def.nodes[me];Ee.ngContentIndex===n&&mC(E,Ee,i,a,u,f),me+=Ee.childCount}if(!E.parent){const me=t.root.projectableNodes[n];if(me)for(let Ee=0;Ee<me.length;Ee++)rv(t,me[Ee],i,a,u,f)}}function mC(t,n,i,a,u,f){if(8&n.flags)gC(t,n.ngContent.index,i,a,u,f);else{const y=Xm(t,n);if(3===i&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&rv(t,y,i,a,u,f),32&n.bindingFlags&&rv(ss(t,n.nodeIndex).componentView,y,i,a,u,f)):rv(t,y,i,a,u,f),16777216&n.flags){const E=ss(t,n.nodeIndex).viewContainer._embeddedViews;for(let M=0;M<E.length;M++)nv(E[M],i,a,u,f)}1&n.flags&&!n.element.name&&pC(t,i,n.nodeIndex+1,n.nodeIndex+n.childCount,a,u,f)}}function rv(t,n,i,a,u,f){const y=t.renderer;switch(i){case 1:y.appendChild(a,n);break;case 2:y.insertBefore(a,n,u);break;case 3:y.removeChild(a,n);break;case 0:f.push(n)}}const oS=/^:([^:]+):(.+)$/;function $0(t){if(":"===t[0]){const n=t.match(oS);return[n[1],n[2]]}return["",t]}function K0(t){let n=0;for(let i=0;i<t.length;i++)n|=t[i].flags;return n}function aS(t,n){let i="";for(let a=0;a<2*t;a+=2)i=i+n[a]+Br(n[a+1]);return i+n[2*t]}function uS(t,n,i,a,u,f,y,E,M,B,q,me,Ee,Oe,Qe,Tt,ot,sn,Lt,gr){switch(t){case 1:return n+Br(i)+a;case 2:return n+Br(i)+a+Br(u)+f;case 3:return n+Br(i)+a+Br(u)+f+Br(y)+E;case 4:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B;case 5:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B+Br(q)+me;case 6:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B+Br(q)+me+Br(Ee)+Oe;case 7:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B+Br(q)+me+Br(Ee)+Oe+Br(Qe)+Tt;case 8:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B+Br(q)+me+Br(Ee)+Oe+Br(Qe)+Tt+Br(ot)+sn;case 9:return n+Br(i)+a+Br(u)+f+Br(y)+E+Br(M)+B+Br(q)+me+Br(Ee)+Oe+Br(Qe)+Tt+Br(ot)+sn+Br(Lt)+gr;default:throw new Error("Does not support more than 9 expressions")}}function Br(t){return null!=t?t.toString():""}const lS={},Jm={},cS=Ha(as),dS=Ha(Tl),hS=Ha(Mh);function fS(t,n,i,a){return i=ie(i),{index:-1,deps:Ym(a,X(n)),flags:t,token:n,value:i}}function pS(t){const n={},i=[];let a=null;for(let u=0;u<t.length;u++){const f=t[u];f.token===wl&&(a=f.value),1073741824&f.flags&&i.push(f.token),f.index=u,n[Ha(f.token)]=f}return{factory:null,providersByKey:n,providers:t,modules:i,scope:a}}function nu(t,n,i=as.THROW_IF_NOT_FOUND){const a=gs(t);try{if(8&n.flags)return n.token;if(2&n.flags&&(i=null),1&n.flags)return t._parent.get(n.token,i);const u=n.tokenKey;switch(u){case cS:case dS:case hS:return t}const f=t._def.providersByKey[u];let y;if(f){let E=t._providers[f.index];return void 0===E&&(E=t._providers[f.index]=z0(t,f)),E===Jm?void 0:E}if((y=wn(n.token))&&function(t,n){const i=ie(n.providedIn);return null!=i&&("any"===i||i===t._def.scope||function(t,n){return t._def.modules.indexOf(n)>-1}(t,i))}(t,y)){const E=t._providers.length;return t._def.providers[E]=t._def.providersByKey[n.tokenKey]={flags:5120,value:y.factory,deps:[],index:E,token:n.token},t._providers[E]=Jm,t._providers[E]=z0(t,t._def.providersByKey[n.tokenKey])}return 4&n.flags?i:t._parent.get(n.token,i)}finally{gs(a)}}function z0(t,n){let i;switch(201347067&n.flags){case 512:i=function(t,n,i){const a=i.length;switch(a){case 0:return new n;case 1:return new n(nu(t,i[0]));case 2:return new n(nu(t,i[0]),nu(t,i[1]));case 3:return new n(nu(t,i[0]),nu(t,i[1]),nu(t,i[2]));default:const u=[];for(let f=0;f<a;f++)u[f]=nu(t,i[f]);return new n(...u)}}(t,n.value,n.deps);break;case 1024:i=function(t,n,i){const a=i.length;switch(a){case 0:return n();case 1:return n(nu(t,i[0]));case 2:return n(nu(t,i[0]),nu(t,i[1]));case 3:return n(nu(t,i[0]),nu(t,i[1]),nu(t,i[2]));default:const u=[];for(let f=0;f<a;f++)u[f]=nu(t,i[f]);return n(...u)}}(t,n.value,n.deps);break;case 2048:i=nu(t,n.deps[0]);break;case 256:i=n.value}return i!==Jm&&null!==i&&"object"==typeof i&&!(131072&n.flags)&&"function"==typeof i.ngOnDestroy&&(n.flags|=131072),void 0===i?Jm:i}function Z0(t,n){const i=t.viewContainer._embeddedViews;if((null==n||n>=i.length)&&(n=i.length-1),n<0)return null;const a=i[n];return a.viewContainerParent=null,Ri(i,n),Hr.dirtyParentQueries(a),Q0(a),a}function _C(t,n,i){const a=n?Xm(n,n.def.lastRenderRootNode):t.renderElement,u=i.renderer.parentNode(a),f=i.renderer.nextSibling(a);nv(i,2,u,f,void 0)}function Q0(t){nv(t,3,null,null,void 0)}const SS={};function DS(t,n,i,a,u,f){return new AS(t,n,i,a,u,f)}function yC(t){return t.viewDefFactory}class AS extends ag{constructor(n,i,a,u,f,y){super(),this.selector=n,this.componentType=i,this._inputs=u,this._outputs=f,this.ngContentSelectors=y,this.viewDefFactory=a}get inputs(){const n=[],i=this._inputs;for(let a in i)n.push({propName:a,templateName:i[a]});return n}get outputs(){const n=[];for(let i in this._outputs)n.push({propName:i,templateName:this._outputs[i]});return n}create(n,i,a,u){if(!u)throw new Error("ngModule should be provided");const f=dg(this.viewDefFactory),y=f.nodes[0].element.componentProvider.nodeIndex,E=Hr.createRootView(n,i||[],a,f,u,SS),M=Ph(E,y).instance;return a&&E.renderer.setAttribute(ss(E,0).renderElement,"ng-version",N0.full),new MS(E,new e_(E),M)}}class MS extends P0{constructor(n,i,a){super(),this._view=n,this._viewRef=i,this._component=a,this._elDef=this._view.def.nodes[0],this.hostView=i,this.changeDetectorRef=i,this.instance=a}get location(){return new sc(ss(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new t_(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(n){this._viewRef.onDestroy(n)}}function PS(t,n,i){return new xS(t,n,i)}class xS{constructor(n,i,a){this._view=n,this._elDef=i,this._data=a,this._embeddedViews=[]}get element(){return new sc(this._data.renderElement)}get injector(){return new t_(this._view,this._elDef)}get parentInjector(){let n=this._view,i=this._elDef.parent;for(;!i&&n;)i=cg(n),n=n.parent;return n?new t_(n,i):new t_(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const a=Z0(this._data,i);Hr.destroyView(a)}}get(n){const i=this._embeddedViews[n];if(i){const a=new e_(i);return a.attachToViewContainerRef(this),a}return null}get length(){return this._embeddedViews.length}createEmbeddedView(n,i,a){const u=n.createEmbeddedView(i||{});return this.insert(u,a),u}createComponent(n,i,a,u,f){const y=a||this.parentInjector;!f&&!(n instanceof x0)&&(f=y.get(Mh));const E=n.create(y,u,void 0,f);return this.insert(E.hostView,i),E}insert(n,i){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const a=n;return function(t,n,i,a){let u=n.viewContainer._embeddedViews;null==i&&(i=u.length),a.viewContainerParent=t,bu(u,i,a),function(t,n){const i=H0(n);if(!i||i===t||16&n.state)return;n.state|=16;let a=i.template._projectedViews;a||(a=i.template._projectedViews=[]),a.push(n),function(t,n){if(4&n.flags)return;t.nodeFlags|=4,n.flags|=4;let i=n.parent;for(;i;)i.childFlags|=4,i=i.parent}(n.parent.def,n.parentNodeDef)}(n,a),Hr.dirtyParentQueries(a),_C(n,i>0?u[i-1]:null,a)}(this._view,this._data,i,a._view),a.attachToViewContainerRef(this),n}move(n,i){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const a=this._embeddedViews.indexOf(n._view);return function(t,n,i){const a=t.viewContainer._embeddedViews,u=a[n];Ri(a,n),null==i&&(i=a.length),bu(a,i,u),Hr.dirtyParentQueries(u),Q0(u),_C(t,i>0?a[i-1]:null,u)}(this._data,a,i),n}indexOf(n){return this._embeddedViews.indexOf(n._view)}remove(n){const i=Z0(this._data,n);i&&Hr.destroyView(i)}detach(n){const i=Z0(this._data,n);return i?new e_(i):null}}function RS(t){return new e_(t)}class e_{constructor(n){this._view=n,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const n=[];return nv(t,0,void 0,void 0,n),n}(this._view)}get context(){return this._view.context}set context(n){this._view.context=n}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){cC(this._view)}detach(){this._view.state&=-5}detectChanges(){const n=this._view.root.rendererFactory;n.begin&&n.begin();try{Hr.checkAndUpdateView(this._view)}finally{n.end&&n.end()}}checkNoChanges(){Hr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Hr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Q0(this._view),Hr.dirtyParentQueries(this._view)}attachToAppRef(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}attachToViewContainerRef(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n}}function NS(t,n){return new OS(t,n)}class OS extends Nf{constructor(n,i){super(),this._parentView=n,this._def=i}createEmbeddedView(n){return new e_(Hr.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))}get elementRef(){return new sc(ss(this._parentView,this._def.nodeIndex).renderElement)}}function vC(t,n){return new t_(t,n)}class t_{constructor(n,i){this.view=n,this.elDef=i}get(n,i=as.THROW_IF_NOT_FOUND){return Hr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:Ha(n)},i)}}function kS(t,n){const i=t.def.nodes[n];if(1&i.flags){const a=ss(t,i.nodeIndex);return i.element.template?a.template:a.renderElement}if(2&i.flags)return Qm(t,i.nodeIndex).renderText;if(20240&i.flags)return Ph(t,i.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${n}`)}function EC(t,n,i,a){return new LS(t,n,i,a)}class LS{constructor(n,i,a,u){this._moduleType=n,this._parent=i,this._bootstrapComponents=a,this._def=u,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const n=t._def,i=t._providers=Us(n.providers.length);for(let a=0;a<n.providers.length;a++){const u=n.providers[a];4096&u.flags||void 0===i[a]&&(i[a]=z0(t,u))}}(this)}get(n,i=as.THROW_IF_NOT_FOUND,a=ln.Default){let u=0;return a&ln.SkipSelf?u|=1:a&ln.Self&&(u|=4),nu(this,{token:n,tokenKey:Ha(n),flags:u},i)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(ug)}destroy(){if(this._destroyed)throw new Error(`The ng module ${X(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,n){const i=t._def,a=new Set;for(let u=0;u<i.providers.length;u++)if(131072&i.providers[u].flags){const y=t._providers[u];if(y&&y!==Jm){const E=y.ngOnDestroy;"function"==typeof E&&!a.has(y)&&(E.apply(y),a.add(y))}}}(this),this._destroyListeners.forEach(n=>n())}onDestroy(n){this._destroyListeners.push(n)}}const FS=Ha(jb),VS=Ha(sc),BS=Ha(Zm),US=Ha(Nf),bC=Ha(V0),jS=Ha(as),HS=Ha(Tl);function GS(t,n,i,a,u,f,y,E){const M=[];if(y)for(let q in y){const[me,Ee]=y[q];M[me]={flags:8,name:q,nonMinifiedName:Ee,ns:null,securityContext:null,suffix:null}}const B=[];if(E)for(let q in E)B.push({type:1,propName:q,target:null,eventName:E[q]});return iv(t,n|=16384,i,a,u,u,f,M,B)}function WS(t,n,i){return iv(-1,t|=16,null,0,n,n,i)}function $S(t,n,i,a,u){return iv(-1,t,n,0,i,a,u)}function iv(t,n,i,a,u,f,y,E,M){const{matchedQueries:B,references:q,matchedQueryIds:me}=G0(i);M||(M=[]),E||(E=[]),f=ie(f);const Ee=Ym(y,X(u));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:B,matchedQueryIds:me,references:q,ngContentIndex:-1,childCount:a,bindings:E,bindingFlags:K0(E),outputs:M,element:null,provider:{token:u,value:f,deps:Ee},text:null,query:null,ngContent:null}}function KS(t,n){return CC(t,n)}function zS(t,n){let i=t;for(;i.parent&&!Of(i);)i=i.parent;return q0(i.parent,cg(i),!0,n.provider.value,n.provider.deps)}function ZS(t,n){const a=q0(t,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(let u=0;u<n.outputs.length;u++){const f=n.outputs[u],y=a[f.propName];if(!ec(y))throw new Error(`@Output ${f.propName} not initialized in '${a.constructor.name}'.`);{const E=y.subscribe(QS(t,n.parent.nodeIndex,f.eventName));t.disposables[n.outputIndex+u]=E.unsubscribe.bind(E)}}return a}function QS(t,n,i){return a=>dC(t,n,i,a)}function CC(t,n){const i=(8192&n.flags)>0,a=n.provider;switch(201347067&n.flags){case 512:return q0(t,n.parent,i,a.value,a.deps);case 1024:return function(t,n,i,a,u){const f=u.length;switch(f){case 0:return a();case 1:return a(ru(t,n,i,u[0]));case 2:return a(ru(t,n,i,u[0]),ru(t,n,i,u[1]));case 3:return a(ru(t,n,i,u[0]),ru(t,n,i,u[1]),ru(t,n,i,u[2]));default:const y=[];for(let E=0;E<f;E++)y.push(ru(t,n,i,u[E]));return a(...y)}}(t,n.parent,i,a.value,a.deps);case 2048:return ru(t,n.parent,i,a.deps[0]);case 256:return a.value}}function q0(t,n,i,a,u){const f=u.length;switch(f){case 0:return new a;case 1:return new a(ru(t,n,i,u[0]));case 2:return new a(ru(t,n,i,u[0]),ru(t,n,i,u[1]));case 3:return new a(ru(t,n,i,u[0]),ru(t,n,i,u[1]),ru(t,n,i,u[2]));default:const y=[];for(let E=0;E<f;E++)y.push(ru(t,n,i,u[E]));return new a(...y)}}const kf={};function ru(t,n,i,a,u=as.THROW_IF_NOT_FOUND){if(8&a.flags)return a.token;const f=t;2&a.flags&&(u=null);const y=a.tokenKey;y===bC&&(i=!(!n||!n.element.componentView)),n&&1&a.flags&&(i=!1,n=n.parent);let E=t;for(;E;){if(n)switch(y){case FS:return IC(E,n,i).renderer;case VS:return new sc(ss(E,n.nodeIndex).renderElement);case BS:return ss(E,n.nodeIndex).viewContainer;case US:if(n.element.template)return ss(E,n.nodeIndex).template;break;case bC:return RS(IC(E,n,i));case jS:case HS:return vC(E,n);default:const B=(i?n.element.allProviders:n.element.publicProviders)[y];if(B){let q=Ph(E,B.nodeIndex);return q||(q={instance:CC(E,B)},E.nodes[B.nodeIndex]=q),q.instance}}i=Of(E),n=cg(E),E=E.parent,4&a.flags&&(E=null)}const M=f.root.injector.get(a.token,kf);return M!==kf||u===kf?M:f.root.ngModule.injector.get(a.token,u)}function IC(t,n,i){let a;if(i)a=ss(t,n.nodeIndex).componentView;else for(a=t;a.parent&&!Of(a);)a=a.parent;return a}function ac(t,n,i,a,u,f){if(32768&i.flags){const M=ss(t,i.parent.nodeIndex).componentView;2&M.def.flags&&(M.state|=8)}if(n.instance[i.bindings[a].name]=u,524288&i.flags){f=f||{};const M=Ou.unwrap(t.oldValues[i.bindingIndex+a]);f[i.bindings[a].nonMinifiedName]=new Rs(M,u,0!=(2&t.state))}return t.oldValues[i.bindingIndex+a]=u,f}function X0(t,n){if(!(t.def.nodeFlags&n))return;const i=t.def.nodes;let a=0;for(let u=0;u<i.length;u++){const f=i[u];let y=f.parent;for(!y&&f.flags&n&&TC(t,u,f.flags&n,a++),0==(f.childFlags&n)&&(u+=f.childCount);y&&1&y.flags&&u===y.nodeIndex+y.childCount;)y.directChildFlags&n&&(a=JS(t,y,n,a)),y=y.parent}}function JS(t,n,i,a){for(let u=n.nodeIndex+1;u<=n.nodeIndex+n.childCount;u++){const f=t.def.nodes[u];f.flags&i&&TC(t,u,f.flags&i,a++),u+=f.childCount}return a}function TC(t,n,i,a){const u=Ph(t,n);if(!u)return;const f=u.instance;!f||(Hr.setCurrentNode(t,n),1048576&i&&tv(t,512,a)&&f.ngAfterContentInit(),2097152&i&&f.ngAfterContentChecked(),4194304&i&&tv(t,768,a)&&f.ngAfterViewInit(),8388608&i&&f.ngAfterViewChecked(),131072&i&&f.ngOnDestroy())}class wC extends ug{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Rn(n);return new Y0(i,this.ngModule)}}function SC(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}const DC=new wi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vh});class Y0 extends ag{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(T).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return SC(this.componentDef.inputs)}get outputs(){return SC(this.componentDef.outputs)}create(n,i,a,u){const f=(u=u||this.ngModule)?function(t,n){return{get:(i,a,u)=>{const f=t.get(i,kf,u);return f!==kf||a===kf?f:n.get(i,a,u)}}}(n,u.injector):n,y=f.get(qy,H),E=f.get(R0,null),M=y.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",q=a?dp(M,a,this.componentDef.encapsulation):zh(y.createRenderer(null,this.componentDef),B,function(t){const n=t.toLowerCase();return"svg"===n?ri:"math"===n?po:null}(B)),me=this.componentDef.onPush?576:528,Ee=Pp(),Oe=cp(0,null,null,1,0,null,null,null,null,null),Qe=ef(null,Oe,Ee,me,null,null,y,M,E,f);let Tt,ot;Zs(Qe);try{const sn=Mp(q,this.componentDef,Qe,y,M);if(q)if(a)So(M,q,["ng-version",N0.full]);else{const{attrs:Lt,classes:gr}=function(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let f=t[a];if("string"==typeof f)2===u?""!==f&&n.push(f,t[++a]):8===u&&i.push(f);else{if(!Ba(u))break;u=f}a++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Lt&&So(M,q,Lt),gr&&gr.length>0&&oh(M,q,gr.join(" "))}if(ot=te(Oe,20),void 0!==i){const Lt=ot.projection=[];for(let gr=0;gr<this.ngContentSelectors.length;gr++){const kr=i[gr];Lt.push(null!=kr?Array.from(kr):null)}}Tt=lm(sn,this.componentDef,Qe,Ee,[cm]),Il(Oe,Qe,null)}finally{Qs()}return new AC(this.componentType,Tt,Rf(ot,Qe),Qe,ot)}}class AC extends P0{constructor(n,i,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.instance=i,this.hostView=this.changeDetectorRef=new Vw(u),this.componentType=n}get injector(){return new za(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function MC(t,n,i,a){return Ae(()=>{const u=t;null!==n&&(u.hasOwnProperty("decorators")&&void 0!==u.decorators?u.decorators.push(...n):u.decorators=n),null!==i&&(u.ctorParameters=i),null!==a&&(u.propDecorators=u.hasOwnProperty("propDecorators")&&void 0!==u.propDecorators?Object.assign(Object.assign({},u.propDecorators),a):a)})}const hg=new Map;function rD(t,n){const i=hg.get(t);PC(t,i&&i.moduleType,n.moduleType),hg.set(t,n)}function PC(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${X(n)} vs ${X(n.name)}`)}function xC(t){const n=new Set;!function i(a){const u=Lr(a,!0),f=u.id;if(null!==f){PC(f,hg.get(f),a),hg.set(f,a)}const y=Ys(u.imports);for(const E of y)n.has(E)||(n.add(E),i(E))}(t)}function RC(t){return hg.get(t)||He[t]}class NC extends Mh{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wC(this);const a=Lr(n),u=n[_t]||null;u&&An(u),this._bootstrapComponents=Ys(a.bootstrap),this._r3Injector=Ld(n,i,[{provide:Mh,useValue:this},{provide:ug,useValue:this.componentFactoryResolver}],X(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=as.THROW_IF_NOT_FOUND,a=ln.Default){return n===as||n===Mh||n===Tl?this:this._r3Injector.get(n,i,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class sv extends B0{constructor(n){super(),this.moduleType=n,null!==Lr(n)&&xC(n)}create(n){return new NC(this.moduleType,n)}}function OC(t,n,i){const a=ji()+t,u=Nt();return u[a]===ne?ku(u,a,i?n.call(i):n()):ph(u,a)}function kC(t,n,i,a){return J0(Nt(),ji(),t,n,i,a)}function LC(t,n,i,a,u){return eE(Nt(),ji(),t,n,i,a,u)}function FC(t,n,i,a,u,f){return tE(Nt(),ji(),t,n,i,a,u,f)}function VC(t,n,i,a,u,f,y){return nE(Nt(),ji(),t,n,i,a,u,f,y)}function BC(t,n,i,a,u,f,y,E){const M=ji()+t,B=Nt(),q=ja(B,M,i,a,u,f);return Wo(B,M+4,y)||q?ku(B,M+5,E?n.call(E,i,a,u,f,y):n(i,a,u,f,y)):ph(B,M+5)}function UC(t,n,i,a,u,f,y,E,M){const B=ji()+t,q=Nt(),me=ja(q,B,i,a,u,f);return Jl(q,B+4,y,E)||me?ku(q,B+6,M?n.call(M,i,a,u,f,y,E):n(i,a,u,f,y,E)):ph(q,B+6)}function jC(t,n,i,a,u,f,y,E,M,B){const q=ji()+t,me=Nt();let Ee=ja(me,q,i,a,u,f);return gh(me,q+4,y,E,M)||Ee?ku(me,q+7,B?n.call(B,i,a,u,f,y,E,M):n(i,a,u,f,y,E,M)):ph(me,q+7)}function HC(t,n,i,a,u,f,y,E,M,B,q){const me=ji()+t,Ee=Nt(),Oe=ja(Ee,me,i,a,u,f);return ja(Ee,me+4,y,E,M,B)||Oe?ku(Ee,me+8,q?n.call(q,i,a,u,f,y,E,M,B):n(i,a,u,f,y,E,M,B)):ph(Ee,me+8)}function GC(t,n,i,a){return rE(Nt(),ji(),t,n,i,a)}function n_(t,n){const i=t[n];return i===ne?void 0:i}function J0(t,n,i,a,u,f){const y=n+i;return Wo(t,y,u)?ku(t,y+1,f?a.call(f,u):a(u)):n_(t,y+1)}function eE(t,n,i,a,u,f,y){const E=n+i;return Jl(t,E,u,f)?ku(t,E+2,y?a.call(y,u,f):a(u,f)):n_(t,E+2)}function tE(t,n,i,a,u,f,y,E){const M=n+i;return gh(t,M,u,f,y)?ku(t,M+3,E?a.call(E,u,f,y):a(u,f,y)):n_(t,M+3)}function nE(t,n,i,a,u,f,y,E,M){const B=n+i;return ja(t,B,u,f,y,E)?ku(t,B+4,M?a.call(M,u,f,y,E):a(u,f,y,E)):n_(t,B+4)}function rE(t,n,i,a,u,f){let y=n+i,E=!1;for(let M=0;M<u.length;M++)Wo(t,y++,u[M])&&(E=!0);return E?ku(t,y,a.apply(f,u)):n_(t,y)}function WC(t,n){const i=wr();let a;const u=t+20;i.firstCreatePass?(a=function(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}throw new Xe("302",`The pipe '${t}' could not be found!`)}(n,i.pipeRegistry),i.data[u]=a,a.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(u,a.onDestroy)):a=i.data[u];const f=a.factory||(a.factory=cs(a.type)),y=Rr(If);try{const E=de(!1),M=f();return de(E),vm(i,Nt(),u,M),M}finally{Rr(y)}}function $C(t,n,i){const a=t+20,u=Nt(),f=Ye(u,a);return i_(u,r_(u,a)?J0(u,ji(),n,f.transform,i,f):f.transform(i))}function KC(t,n,i,a){const u=t+20,f=Nt(),y=Ye(f,u);return i_(f,r_(f,u)?eE(f,ji(),n,y.transform,i,a,y):y.transform(i,a))}function zC(t,n,i,a,u){const f=t+20,y=Nt(),E=Ye(y,f);return i_(y,r_(y,f)?tE(y,ji(),n,E.transform,i,a,u,E):E.transform(i,a,u))}function ZC(t,n,i,a,u,f){const y=t+20,E=Nt(),M=Ye(E,y);return i_(E,r_(E,y)?nE(E,ji(),n,M.transform,i,a,u,f,M):M.transform(i,a,u,f))}function QC(t,n,i){const a=t+20,u=Nt(),f=Ye(u,a);return i_(u,r_(u,a)?rE(u,ji(),n,f.transform,i,f):f.transform.apply(f,i))}function r_(t,n){return t[1].data[n].pure}function i_(t,n){return Ou.isWrapped(n)&&(n=Ou.unwrap(n),t[Hi()]=ne),n}function iE(t){return n=>{setTimeout(t,void 0,n)}}const Yc=class extends h.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){var u,f,y;let E=n,M=i||(()=>null),B=a;if(n&&"object"==typeof n){const me=n;E=null===(u=me.next)||void 0===u?void 0:u.bind(me),M=null===(f=me.error)||void 0===f?void 0:f.bind(me),B=null===(y=me.complete)||void 0===y?void 0:y.bind(me)}this.__isAsync&&(M=iE(M),E&&(E=iE(E)),B&&(B=iE(B)));const q=super.subscribe({next:E,error:M,complete:B});return n instanceof R.w&&n.add(q),q}};function oD(){return this._results[Vd()]()}class s_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Vd(),a=s_.prototype;a[i]||(a[i]=oD)}get changes(){return this._changes||(this._changes=new Yc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const u=ao(n);(this._changesDetected=!function(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],f=n[a];if(i&&(u=i(u),f=i(f)),f!==u)return!1}return!0}(a._results,u,i))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sE{constructor(n){this.queryList=n,this.matches=null}clone(){return new sE(this.queryList)}setDirty(){this.queryList.setDirty()}}class oE{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let f=0;f<a;f++){const y=i.getByIndex(f);u.push(this.queries[y.indexInDeclarationView].clone())}return new oE(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==iI(n,i).matches&&this.queries[i].setDirty()}}class qC{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class aE{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,f=this.getByIndex(a).embeddedTView(n,u);f&&(f.indexInDeclarationView=a,null!==i?i.push(f):i=[f])}return null!==i?new aE(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class uE{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new uE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const f=a[u];this.matchTNodeWithReadOption(n,i,lD(i,f)),this.matchTNodeWithReadOption(n,i,ou(i,n,f,!1,!1))}else a===Nf?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ou(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===sc||u===Zm||u===Nf&&4&i.type)this.addMatch(i.index,-2);else{const f=ou(i,n,u,!1,!1);null!==f&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function lD(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function dD(t,n,i,a){return-1===i?function(t,n){return 11&t.type?Rf(t,n):4&t.type?zm(t,n):null}(n,t):-2===i?function(t,n,i){return i===sc?Rf(n,t):i===Nf?zm(n,t):i===Zm?iC(n,t):void 0}(t,n,a):Vu(t,t[1],i,n)}function XC(t,n,i,a){const u=n[19].queries[a];if(null===u.matches){const f=t.data,y=i.matches,E=[];for(let M=0;M<y.length;M+=2){const B=y[M];E.push(B<0?null:dD(n,f[B],y[M+1],i.metadata.read))}u.matches=E}return u.matches}function lE(t,n,i,a){const u=t.queries.getByIndex(i),f=u.matches;if(null!==f){const y=XC(t,n,u,i);for(let E=0;E<f.length;E+=2){const M=f[E];if(M>0)a.push(y[E/2]);else{const B=f[E+1],q=n[-M];for(let me=10;me<q.length;me++){const Ee=q[me];Ee[17]===Ee[3]&&lE(Ee[1],Ee,B,a)}if(null!==q[9]){const me=q[9];for(let Ee=0;Ee<me.length;Ee++){const Oe=me[Ee];lE(Oe[1],Oe,B,a)}}}}}return a}function YC(t){const n=Nt(),i=wr(),a=_a();to(a+1);const u=iI(i,a);if(t.dirty&&Pn(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const f=u.crossesNgTemplate?lE(i,n,a,[]):XC(i,n,u,a);t.reset(f,Ub),t.notifyOnChanges()}return!0}return!1}function JC(t,n,i){const a=wr();a.firstCreatePass&&(rI(a,new qC(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),nI(a,Nt(),n)}function eI(t,n,i,a){const u=wr();if(u.firstCreatePass){const f=Ii();rI(u,new qC(n,i,a),f.index),function(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}nI(u,Nt(),i)}function tI(){return t=Nt(),n=_a(),t[19].queries[n].queryList;var t,n}function nI(t,n,i){const a=new s_(4==(4&i));tf(t,n,a,a.destroy),null===n[19]&&(n[19]=new oE),n[19].queries.push(new sE(a))}function rI(t,n,i){null===t.queries&&(t.queries=new aE),t.queries.track(new uE(n,i))}function iI(t,n){return t.queries.getByIndex(n)}function sI(t,n){return zm(t,n)}const mu=(()=>({\u0275\u0275attribute:mf,\u0275\u0275attributeInterpolate1:Rp,\u0275\u0275attributeInterpolate2:fm,\u0275\u0275attributeInterpolate3:Np,\u0275\u0275attributeInterpolate4:pm,\u0275\u0275attributeInterpolate5:gm,\u0275\u0275attributeInterpolate6:mm,\u0275\u0275attributeInterpolate7:_m,\u0275\u0275attributeInterpolate8:Op,\u0275\u0275attributeInterpolateV:_f,\u0275\u0275defineComponent:lr,\u0275\u0275defineDirective:Yn,\u0275\u0275defineInjectable:wt,\u0275\u0275defineInjector:dn,\u0275\u0275defineNgModule:ke,\u0275\u0275definePipe:$n,\u0275\u0275directiveInject:If,\u0275\u0275getInheritedFactory:Uu,\u0275\u0275inject:Kr,\u0275\u0275injectAttribute:Oo,\u0275\u0275invalidFactory:Fp,\u0275\u0275invalidFactoryDep:qa,\u0275\u0275templateRefExtractor:sI,\u0275\u0275NgOnChangesFeature:ni,\u0275\u0275ProvidersFeature:kb,\u0275\u0275CopyDefinitionFeature:ay,\u0275\u0275InheritDefinitionFeature:ff,\u0275\u0275nextContext:Ih,\u0275\u0275namespaceHTML:To,\u0275\u0275namespaceMathML:Yo,\u0275\u0275namespaceSVG:no,\u0275\u0275enableBindings:Ko,\u0275\u0275disableBindings:Ms,\u0275\u0275elementStart:Bp,\u0275\u0275elementEnd:Up,\u0275\u0275element:jp,\u0275\u0275elementContainerStart:Eh,\u0275\u0275elementContainerEnd:bh,\u0275\u0275elementContainer:Cm,\u0275\u0275pureFunction0:OC,\u0275\u0275pureFunction1:kC,\u0275\u0275pureFunction2:LC,\u0275\u0275pureFunction3:FC,\u0275\u0275pureFunction4:VC,\u0275\u0275pureFunction5:BC,\u0275\u0275pureFunction6:UC,\u0275\u0275pureFunction7:jC,\u0275\u0275pureFunction8:HC,\u0275\u0275pureFunctionV:GC,\u0275\u0275getCurrentView:Ch,\u0275\u0275restoreView:ga,\u0275\u0275listener:nl,\u0275\u0275projection:wy,\u0275\u0275syntheticHostProperty:xf,\u0275\u0275syntheticHostListener:Gd,\u0275\u0275pipeBind1:$C,\u0275\u0275pipeBind2:KC,\u0275\u0275pipeBind3:zC,\u0275\u0275pipeBind4:ZC,\u0275\u0275pipeBindV:QC,\u0275\u0275projectionDef:Ty,\u0275\u0275hostProperty:sg,\u0275\u0275property:Tf,\u0275\u0275propertyInterpolate:wm,\u0275\u0275propertyInterpolate1:Gp,\u0275\u0275propertyInterpolate2:Wp,\u0275\u0275propertyInterpolate3:Sm,\u0275\u0275propertyInterpolate4:Dm,\u0275\u0275propertyInterpolate5:$p,\u0275\u0275propertyInterpolate6:Am,\u0275\u0275propertyInterpolate7:Mm,\u0275\u0275propertyInterpolate8:Kp,\u0275\u0275propertyInterpolateV:Pm,\u0275\u0275pipe:WC,\u0275\u0275queryRefresh:YC,\u0275\u0275viewQuery:JC,\u0275\u0275loadQuery:tI,\u0275\u0275contentQuery:eI,\u0275\u0275reference:yf,\u0275\u0275classMap:Wd,\u0275\u0275classMapInterpolate1:Sh,\u0275\u0275classMapInterpolate2:Dh,\u0275\u0275classMapInterpolate3:Ma,\u0275\u0275classMapInterpolate4:Fy,\u0275\u0275classMapInterpolate5:eg,\u0275\u0275classMapInterpolate6:Kd,\u0275\u0275classMapInterpolate7:Qc,\u0275\u0275classMapInterpolate8:tg,\u0275\u0275classMapInterpolateV:qc,\u0275\u0275styleMap:Lu,\u0275\u0275styleMapInterpolate1:Vy,\u0275\u0275styleMapInterpolate2:By,\u0275\u0275styleMapInterpolate3:Uy,\u0275\u0275styleMapInterpolate4:nc,\u0275\u0275styleMapInterpolate5:jy,\u0275\u0275styleMapInterpolate6:Hy,\u0275\u0275styleMapInterpolate7:Gy,\u0275\u0275styleMapInterpolate8:ng,\u0275\u0275styleMapInterpolateV:jm,\u0275\u0275styleProp:Om,\u0275\u0275stylePropInterpolate1:Ah,\u0275\u0275stylePropInterpolate2:zd,\u0275\u0275stylePropInterpolate3:Sf,\u0275\u0275stylePropInterpolate4:rg,\u0275\u0275stylePropInterpolate5:Df,\u0275\u0275stylePropInterpolate6:ig,\u0275\u0275stylePropInterpolate7:Af,\u0275\u0275stylePropInterpolate8:Mf,\u0275\u0275stylePropInterpolateV:Pf,\u0275\u0275classProp:km,\u0275\u0275advance:be,\u0275\u0275template:ym,\u0275\u0275text:Ly,\u0275\u0275textInterpolate:Qp,\u0275\u0275textInterpolate1:$d,\u0275\u0275textInterpolate2:Um,\u0275\u0275textInterpolate3:qp,\u0275\u0275textInterpolate4:Xp,\u0275\u0275textInterpolate5:tc,\u0275\u0275textInterpolate6:tu,\u0275\u0275textInterpolate7:la,\u0275\u0275textInterpolate8:Yp,\u0275\u0275textInterpolateV:Jp,\u0275\u0275i18n:Pb,\u0275\u0275i18nAttributes:xb,\u0275\u0275i18nExp:w0,\u0275\u0275i18nStart:I0,\u0275\u0275i18nEnd:T0,\u0275\u0275i18nApply:Rb,\u0275\u0275i18nPostprocess:Nb,\u0275\u0275resolveWindow:Bh,\u0275\u0275resolveDocument:$f,\u0275\u0275resolveBody:Uh,\u0275\u0275setComponentScope:Mr,\u0275\u0275setNgModuleScope:Dt,\u0275\u0275sanitizeHtml:ci,\u0275\u0275sanitizeStyle:Cr,\u0275\u0275sanitizeResourceUrl:Sa,\u0275\u0275sanitizeScript:Qu,\u0275\u0275sanitizeUrl:vr,\u0275\u0275sanitizeUrlOrResourceUrl:Du,\u0275\u0275trustConstantHtml:Da,\u0275\u0275trustConstantResourceUrl:vc,forwardRef:J,resolveForwardRef:ie}))();let fg=null;function _D(){fg=null}const o_=[];let cE=!1;function oI(){if(!cE){cE=!0;try{for(let t=o_.length-1;t>=0;t--){const{moduleType:n,ngModule:i}=o_[t];i.declarations&&i.declarations.every(aI)&&(o_.splice(t,1),ED(n,i))}}finally{cE=!1}}}function aI(t){return Array.isArray(t)?t.every(aI):!!ie(t)}function uI(t,n={}){lI(t,n),function(t,n){o_.push({moduleType:t,ngModule:n})}(t,n)}function lI(t,n,i=!1){const a=ao(n.declarations||Ce);let u=null;Object.defineProperty(t,Ie,{configurable:!0,get:()=>(null===u&&(u=Si().compileNgModule(mu,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:ao(n.bootstrap||Ce).map(ie),declarations:a.map(ie),imports:ao(n.imports||Ce).map(ie).map(fI),exports:ao(n.exports||Ce).map(ie).map(fI),schemas:n.schemas?ao(n.schemas):null,id:n.id||null}),u.schemas||(u.schemas=[])),u)});let f=null;Object.defineProperty(t,Ot,{get:()=>{if(null===f){const E=Si();f=E.compileFactory(mu,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:Iu(t),target:E.FactoryTarget.NgModule,typeArgumentCount:0})}return f},configurable:!1});let y=null;Object.defineProperty(t,St,{get:()=>{if(null===y){const E={name:t.name,type:t,providers:n.providers||Ce,imports:[(n.imports||Ce).map(ie),(n.exports||Ce).map(ie)]};y=Si().compileInjector(mu,`ng:///${t.name}/\u0275inj.js`,E)}return y},configurable:!1})}let ov=new WeakMap,hE=new WeakMap;function vD(){ov=new WeakMap,hE=new WeakMap,o_.length=0}function ED(t,n){const i=ao(n.declarations||Ce),a=a_(t);i.forEach(u=>{u.hasOwnProperty(Te)?fE(Rn(u),a):!u.hasOwnProperty(Ke)&&!u.hasOwnProperty(Fe)&&(u.ngSelectorScope=t)})}function fE(t,n){t.directiveDefs=()=>Array.from(n.compilation.directives).map(i=>i.hasOwnProperty(Te)?Rn(i):Jn(i)).filter(i=>!!i),t.pipeDefs=()=>Array.from(n.compilation.pipes).map(i=>Pr(i)),t.schemas=n.schemas,t.tView=null}function a_(t){if(!pE(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const n=Lr(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const i={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Ys(n.imports).forEach(a=>{const u=a;if(!pE(u))throw new Error(`Importing ${u.name} which does not have a \u0275mod property`);const f=a_(u);f.exported.directives.forEach(y=>i.compilation.directives.add(y)),f.exported.pipes.forEach(y=>i.compilation.pipes.add(y))}),Ys(n.declarations).forEach(a=>{Pr(a)?i.compilation.pipes.add(a):i.compilation.directives.add(a)}),Ys(n.exports).forEach(a=>{const u=a;if(pE(u)){const f=a_(u);f.exported.directives.forEach(y=>{i.compilation.directives.add(y),i.exported.directives.add(y)}),f.exported.pipes.forEach(y=>{i.compilation.pipes.add(y),i.exported.pipes.add(y)})}else Pr(u)?i.exported.pipes.add(u):i.exported.directives.add(u)}),n.transitiveCompileScopes=i,i}function fI(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function pE(t){return!!Lr(t)}let gE=0;function pI(t,n){let i=null;(function(t,n){ns(n)&&(du.set(t,n),ta.add(t))})(t,n),mI(t,n),Object.defineProperty(t,Te,{get:()=>{if(null===i){const a=Si();if(ns(n)){const B=[`Component '${t.name}' is not resolved:`];throw n.templateUrl&&B.push(` - templateUrl: ${n.templateUrl}`),n.styleUrls&&n.styleUrls.length&&B.push(` - styleUrls: ${JSON.stringify(n.styleUrls)}`),B.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(B.join("\n"))}const u=fg;let f=n.preserveWhitespaces;void 0===f&&(f=null!==u&&void 0!==u.preserveWhitespaces&&u.preserveWhitespaces);let y=n.encapsulation;void 0===y&&(y=null!==u&&void 0!==u.defaultEncapsulation?u.defaultEncapsulation:At.Emulated);const E=n.templateUrl||`ng:///${t.name}/template.html`,M=Object.assign(Object.assign({},_I(t,n)),{typeSourceSpan:a.createParseSourceSpan("Component",t.name,E),template:n.template||"",preserveWhitespaces:f,styles:n.styles||Ce,animations:n.animations,directives:[],changeDetection:n.changeDetection,pipes:new Map,encapsulation:y,interpolation:n.interpolation,viewProviders:n.viewProviders||null});gE++;try{M.usesInheritance&&yI(t),i=a.compileComponent(mu,E,M)}finally{gE--}if(0===gE&&oI(),function(t){return void 0!==t.ngSelectorScope}(t)){const B=a_(t.ngSelectorScope);fE(i,B)}}return i},configurable:!1})}function mE(t,n){let i=null;mI(t,n||{}),Object.defineProperty(t,Ke,{get:()=>{if(null===i){const a=gI(t,n||{});i=Si().compileDirective(mu,a.sourceMapUrl,a.metadata)}return i},configurable:!1})}function gI(t,n){const i=t&&t.name,a=`ng:///${i}/\u0275dir.js`,u=Si(),f=_I(t,n);return f.typeSourceSpan=u.createParseSourceSpan("Directive",i,a),f.usesInheritance&&yI(t),{metadata:f,sourceMapUrl:a}}function mI(t,n){let i=null;Object.defineProperty(t,Ot,{get:()=>{if(null===i){const a=gI(t,n),u=Si();i=u.compileFactory(mu,`ng:///${t.name}/\u0275fac.js`,{name:a.metadata.name,type:a.metadata.type,typeArgumentCount:0,deps:Iu(t),target:u.FactoryTarget.Directive})}return i},configurable:!1})}function ID(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function _I(t,n){const i=Wu(),a=i.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==n.selector?n.selector:null,host:n.host||on,propMetadata:a,inputs:n.inputs||Ce,outputs:n.outputs||Ce,queries:vI(t,a,EI),lifecycle:{usesOnChanges:i.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ID(t),exportAs:SD(n.exportAs),providers:n.providers||null,viewQueries:vI(t,a,bI)}}function yI(t){const n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;)!Jn(i)&&!Rn(i)&&AD(i)&&mE(i,null),i=Object.getPrototypeOf(i)}function TD(t){return"string"==typeof t?II(t):ie(t)}function wD(t,n){return{propertyName:t,predicate:TD(n.selector),descendants:n.descendants,first:n.first,read:n.read?n.read:null,static:!!n.static,emitDistinctChangesOnly:!!n.emitDistinctChangesOnly}}function vI(t,n,i){const a=[];for(const u in n)if(n.hasOwnProperty(u)){const f=n[u];f.forEach(y=>{if(i(y)){if(!y.selector)throw new Error(`Can't construct a query for the property "${u}" of "${rt(t)}" since the query selector wasn't defined.`);if(f.some(CI))throw new Error("Cannot combine @Input decorators with query decorators");a.push(wD(u,y))}})}return a}function SD(t){return void 0===t?null:II(t)}function EI(t){const n=t.ngMetadataName;return"ContentChild"===n||"ContentChildren"===n}function bI(t){const n=t.ngMetadataName;return"ViewChild"===n||"ViewChildren"===n}function CI(t){return"Input"===t.ngMetadataName}function II(t){return t.split(",").map(n=>n.trim())}const DD=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function AD(t){const n=Wu();if(DD.some(a=>n.hasLifecycleHook(t,a)))return!0;const i=n.propMetadata(t);for(const a in i){const u=i[a];for(let f=0;f<u.length;f++){const y=u[f],E=y.ngMetadataName;if(CI(y)||EI(y)||bI(y)||"Output"===E||"HostBinding"===E||"HostListener"===E)return!0}}return!1}function TI(t,n){let i=null,a=null;Object.defineProperty(t,Ot,{get:()=>{if(null===a){const u=wI(t,n),f=Si();a=f.compileFactory(mu,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u.type,typeArgumentCount:0,deps:Iu(t),target:f.FactoryTarget.Pipe})}return a},configurable:!1}),Object.defineProperty(t,Fe,{get:()=>{if(null===i){const u=wI(t,n);i=Si().compilePipe(mu,`ng:///${u.name}/\u0275pipe.js`,u)}return i},configurable:!1})}function wI(t,n){return{type:t,name:t.name,pipeName:n.name,pure:void 0===n.pure||n.pure}}const SI=Na("Directive",(t={})=>t,void 0,void 0,(t,n)=>LD(t,n)),MD=Na("Component",(t={})=>Object.assign({changeDetection:dt.Default},t),SI,void 0,(t,n)=>kD(t,n)),PD=Na("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,n)=>FD(t,n)),xD=jr("Input",t=>({bindingPropertyName:t})),RD=jr("Output",t=>({bindingPropertyName:t})),ND=jr("HostBinding",t=>({hostPropertyName:t})),OD=jr("HostListener",(t,n)=>({eventName:t,args:n})),DI=pI,AI=mE,MI=TI,kD=DI,LD=AI,FD=MI,VD=Na("NgModule",t=>t,void 0,void 0,(t,n)=>BD(t,n)),PI=uI,BD=PI,_E=new wi("Application Initializer");let pg=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Qy,this.reject=Qy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(Im(f))i.push(f);else if(ec(f)){const y=new Promise((E,M)=>{f.subscribe({complete:E,error:M})});i.push(y)}}Promise.all(i).then(()=>{a()}).catch(u=>{this.reject(u)}),0===i.length&&a(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Kr(_E,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const xI=new wi("AppId");function RI(){return`${yE()}${yE()}${yE()}`}const NI={provide:xI,useFactory:RI,deps:[]};function yE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const OI=new wi("Platform Initializer"),kI=new wi("Platform ID"),LI=new wi("appBootstrapListener"),UD=new wi("Application Packages Root URL");let FI=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const av=new wi("LocaleId"),VI=new wi("DefaultCurrencyCode"),jD=new wi("Translations"),HD=new wi("TranslationsFormat");var Jc=(()=>((Jc=Jc||{})[Jc.Error=0]="Error",Jc[Jc.Warning=1]="Warning",Jc[Jc.Ignore=2]="Ignore",Jc))();const BI=!0,u_=BI;class UI{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const uv=function(t){return new sv(t)},GD=uv,jI=function(t){return Promise.resolve(uv(t))},WD=jI,vE=function(t){const n=uv(t),a=Ys(Lr(t).declarations).reduce((u,f)=>{const y=Rn(f);return y&&u.push(new Y0(y)),u},[]);return new UI(n,a)},$D=vE,HI=function(t){return Promise.resolve(vE(t))},KD=HI;let l_=(()=>{class t{constructor(){this.compileModuleSync=GD,this.compileModuleAsync=WD,this.compileModuleAndAllComponentsSync=$D,this.compileModuleAndAllComponentsAsync=KD}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const GI=new wi("compilerOptions");class WI{}const zD=(()=>Promise.resolve(0))();function EE(t){"undefined"==typeof Zone?zD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class sl{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yc(!1),this.onMicrotaskEmpty=new Yc(!1),this.onStable=new Yc(!1),this.onError=new Yc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=Cn.requestAnimationFrame,n=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Cn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,CE(t),t.isCheckStableRunning=!0,bE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),CE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,f,y,E)=>{try{return $I(t),i.invokeTask(u,f,y,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||t.shouldCoalesceRunChangeDetection)&&n(),KI(t)}},onInvoke:(i,a,u,f,y,E,M)=>{try{return $I(t),i.invoke(u,f,y,E,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),KI(t)}},onHasTask:(i,a,u,f)=>{i.hasTask(u,f),a===u&&("microTask"==f.change?(t._hasPendingMicrotasks=f.microTask,CE(t),bE(t)):"macroTask"==f.change&&(t.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,u,f)=>(i.handleError(u,f),t.runOutsideAngular(()=>t.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+u,n,QD,Qy,Qy);try{return f.runTask(y,i,a)}finally{f.cancelTask(y)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const QD={};function bE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function CE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $I(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function KI(t){t._nesting--,bE(t)}class zI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yc,this.onMicrotaskEmpty=new Yc,this.onStable=new Yc,this.onError=new Yc}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}let ZI=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sl.assertNotInAngularZone(),EE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())EE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:u})}whenStable(i,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,a,u){return[]}}return t.\u0275fac=function(i){return new(i||t)(Kr(sl))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),IE=(()=>{class t{constructor(){this._applications=new Map,TE.addToWindow(this)}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return TE.findTestabilityInTree(this,i,a)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class YD{addToWindow(n){}findTestabilityInTree(n,i,a){return null}}function JD(t){TE=t}let TE=new YD,QI=!0,qI=!1;function wE(){return qI=!0,QI}function eA(){if(qI)throw new Error("Cannot enable prod mode after platform setup.");QI=!1}let uc,tA=XI;function XI(t,n,i){const a=new sv(i);return Promise.resolve(a)}let iA=YI;function YI(t){return t.isBoundToModule}const SE=new wi("AllowMultipleToken");class sA{constructor(n,i){this.name=n,this.token=i}}function JI(t){if(uc&&!uc.destroyed&&!uc.injector.get(SE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uc=t.get(AE);const n=t.get(OI,null);return n&&n.forEach(i=>i()),uc}function eT(t,n,i=[]){const a=`Platform: ${n}`,u=new wi(a);return(f=[])=>{let y=DE();if(!y||y.injector.get(SE,!1))if(t)t(i.concat(f).concat({provide:u,useValue:!0}));else{const E=i.concat(f).concat({provide:u,useValue:!0},{provide:wl,useValue:"platform"});JI(as.create({providers:E,name:a}))}return tT(u)}}function tT(t){const n=DE();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}function oA(){uc&&!uc.destroyed&&uc.destroy()}function DE(){return uc&&!uc.destroyed?uc:null}let AE=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const E=function(t,n){let i;return i="noop"===t?new zI:("zone.js"===t?void 0:t)||new sl({enableLongStackTrace:wE(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),M=[{provide:sl,useValue:E}];return E.run(()=>{const B=as.create({providers:M,parent:this.injector,name:i.moduleType.name}),q=i.create(B),me=q.injector.get(Ho,null);if(!me)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const Ee=E.onError.subscribe({next:Oe=>{me.handleError(Oe)}});q.onDestroy(()=>{ME(this._modules,q),Ee.unsubscribe()})}),function(t,n,i){try{const a=i();return Im(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(me,E,()=>{const Ee=q.injector.get(pg);return Ee.runInitializers(),Ee.donePromise.then(()=>(u_&&An(q.injector.get(av,K)||K),this._moduleDoBootstrap(q),q))})})}bootstrapModule(i,a=[]){const u=nT({},a);return tA(this.injector,u,i).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(i){const a=i.injector.get(c_);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${X(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Kr(as))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();function nT(t,n){return Array.isArray(n)?n.reduce(nT,t):Object.assign(Object.assign({},t),n)}let c_=(()=>{class t{constructor(i,a,u,f,y){this._zone=i,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new z.y(B=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{B.next(this._stable),B.complete()})}),M=new z.y(B=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{sl.assertNotInAngularZone(),EE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,B.next(!0))})})});const me=this._zone.onUnstable.subscribe(()=>{sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{B.next(!1)}))});return()=>{q.unsubscribe(),me.unsubscribe()}});this.isStable=(0,ue.T)(E,M.pipe((0,pe.B)()))}bootstrap(i,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=i instanceof ag?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(u.componentType);const f=iA(u)?void 0:this._injector.get(Mh),E=u.create(as.NULL,[],a||u.selector,f),M=E.location.nativeElement,B=E.injector.get(ZI,null),q=B&&E.injector.get(IE);return B&&q&&q.registerApplication(M,B),E.onDestroy(()=>{this.detachView(E.hostView),ME(this.components,E),q&&q.unregisterApplication(M)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;ME(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(LI,[]).concat(this._bootstrapListeners).forEach(u=>u(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(Kr(sl),Kr(as),Kr(Ho),Kr(ug),Kr(pg))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();function ME(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}class cA{}function dA(t){const n=RC(t);if(!n)throw sT(t);return n}function iT(t){const n=RC(t);if(!n)throw sT(t);return new sv(n)}const hA=iT;function sT(t){return new Error(`No module with ID ${t} loaded`)}class aT{}const pA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gA=(()=>{class t{constructor(i,a){this._compiler=i,this._config=a||pA}load(i){return!u_&&this._compiler instanceof l_?this.loadFactory(i):this.loadAndCompile(i)}loadAndCompile(i){let[a,u]=i.split("#");return void 0===u&&(u="default"),P(8255)(a).then(f=>f[u]).then(f=>uT(f,a,u)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(i){let[a,u]=i.split("#"),f="NgFactory";return void 0===u&&(u="default",f=""),P(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(y=>y[u+f]).then(y=>uT(y,a,u))}}return t.\u0275fac=function(i){return new(i||t)(Kr(l_),Kr(aT,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();function uT(t,n,i){if(!t)throw new Error(`Cannot find '${i}' in '${n}'`);return t}class lT extends V0{}class mA extends lT{}class cT{constructor(n,i){this.name=n,this.callback=i}}class d_{constructor(n,i,a){this.listeners=[],this.parent=null,this._debugContext=a,this.nativeNode=n,i&&i instanceof ca&&i.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ca extends d_{constructor(n,i,a){super(n,i,a),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=n}addChild(n){n&&(this.childNodes.push(n),n.parent=this)}removeChild(n){const i=this.childNodes.indexOf(n);-1!==i&&(n.parent=null,this.childNodes.splice(i,1))}insertChildrenAfter(n,i){const a=this.childNodes.indexOf(n);-1!==a&&(this.childNodes.splice(a+1,0,...i),i.forEach(u=>{u.parent&&u.parent.removeChild(u),n.parent=this}))}insertBefore(n,i){const a=this.childNodes.indexOf(n);-1===a?this.addChild(i):(i.parent&&i.parent.removeChild(i),i.parent=this,this.childNodes.splice(a,0,i))}query(n){return this.queryAll(n)[0]||null}queryAll(n){const i=[];return dT(this,n,i),i}queryAllNodes(n){const i=[];return hT(this,n,i),i}get children(){return this.childNodes.filter(n=>n instanceof ca)}triggerEventHandler(n,i){this.listeners.forEach(a=>{a.name==n&&a.callback(i)})}}function _A(t){return t.map(n=>n.nativeElement)}function dT(t,n,i){t.childNodes.forEach(a=>{a instanceof ca&&(n(a)&&i.push(a),dT(a,n,i))})}function hT(t,n,i){t instanceof ca&&t.childNodes.forEach(a=>{n(a)&&i.push(a),a instanceof ca&&hT(a,n,i)})}class PE{constructor(n){this.nativeNode=n}get parent(){const n=this.nativeNode.parentNode;return n?new h_(n):null}get injector(){return Y_(this.nativeNode)}get componentInstance(){const n=this.nativeNode;return n&&(sm(n)||X_(n))}get context(){return sm(this.nativeNode)||Tp(this.nativeNode)}get listeners(){return ey(this.nativeNode).filter(n=>"dom"===n.type)}get references(){return function(t){const n=rs(t);return null===n?{}:(void 0===n.localRefs&&(n.localRefs=function(t,n){const i=t[1].data[n];if(i&&i.localNames){const a={};let u=i.index+1;for(let f=0;f<i.localNames.length;f+=2)a[i.localNames[f]]=t[u],u++;return a}return null}(n.lView,n.nodeIndex)),n.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const n=rs(t);if(null===n)return[];const a=n.lView[1],u=a.data[n.nodeIndex],f=[],E=u.directiveEnd;for(let M=1048575&u.providerIndexes;M<E;M++){let B=a.data[M];Yl(B)&&(B=B.type),f.push(B)}return f}(this.nativeNode)}}class h_ extends PE{constructor(n){super(n)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const n=rs(this.nativeNode);return null!==n?n.lView[1].data[n.nodeIndex].value:this.nativeNode.nodeName}get properties(){const n=rs(this.nativeNode);if(null===n)return{};const i=n.lView,a=i[1].data,u=a[n.nodeIndex],f={};return function(t,n){if(t){let i=Object.getPrototypeOf(t);const a=Node.prototype;for(;null!==i&&i!==a;){const u=Object.getOwnPropertyDescriptors(i);for(let f in u)if(!f.startsWith("__")&&!f.startsWith("on")){const y=t[f];vA(y)&&(n[f]=y)}i=Object.getPrototypeOf(i)}}}(this.nativeElement,f),function(t,n,i,a){let u=n.propertyBindings;if(null!==u)for(let f=0;f<u.length;f++){const y=u[f],M=a[y].split("\ufffd"),B=M[0];if(M.length>1){let q=M[1];for(let me=1;me<M.length-1;me++)q+=qe(i[y+me-1])+M[me+1];t[B]=q}else t[B]=i[y]}}(f,u,i,a),f}get attributes(){const n={},i=this.nativeElement;if(!i)return n;const a=rs(i);if(null===a)return{};const f=a.lView[1].data[a.nodeIndex].attrs,y=[];if(f){let M=0;for(;M<f.length;){const B=f[M];if("string"!=typeof B)break;n[B]=f[M+1],y.push(B.toLowerCase()),M+=2}}const E=i.attributes;for(let M=0;M<E.length;M++){const B=E[M],q=B.name.toLowerCase();-1===y.indexOf(q)&&(n[q]=B.value)}return n}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const n={},a=this.nativeElement.className;return(a&&"string"!=typeof a?a.baseVal.split(" "):a.split(" ")).forEach(f=>n[f]=!0),n}get childNodes(){const n=this.nativeNode.childNodes,i=[];for(let a=0;a<n.length;a++)i.push(cv(n[a]));return i}get children(){const n=this.nativeElement;if(!n)return[];const i=n.children,a=[];for(let u=0;u<i.length;u++)a.push(cv(i[u]));return a}query(n){return this.queryAll(n)[0]||null}queryAll(n){const i=[];return fT(this,n,i,!0),i}queryAllNodes(n){const i=[];return fT(this,n,i,!1),i}triggerEventHandler(n,i){const a=this.nativeNode,u=[];this.listeners.forEach(f=>{if(f.name===n){const y=f.callback;y.call(a,i),u.push(y)}}),"function"==typeof a.eventListeners&&a.eventListeners(n).forEach(f=>{if(-1!==f.toString().indexOf("__ngUnwrap__")){const y=f("__ngUnwrap__");return-1===u.indexOf(y)&&y.call(a,i)}})}}function vA(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function fT(t,n,i,a){const u=rs(t.nativeNode);null!==u?Lf(u.lView[1].data[u.nodeIndex],u.lView,n,i,a,t.nativeNode):RE(t.nativeNode,n,i,a)}function Lf(t,n,i,a,u,f){const y=function(t,n){const i=null===t?-1:t.index;return-1!==i?Me(n[i]):null}(t,n);if(11&t.type){if(xE(y,i,a,u,f),Ds(t)){const M=Kt(t.index,n);M&&M[1].firstChild&&Lf(M[1].firstChild,M,i,a,u,f)}else t.child&&Lf(t.child,n,i,a,u,f),y&&RE(y,i,a,u);const E=n[t.index];yr(E)&&pT(E,i,a,u,f)}else if(4&t.type){const E=n[t.index];xE(E[7],i,a,u,f),pT(E,i,a,u,f)}else if(16&t.type){const E=n[16],B=E[6].projection[t.projection];if(Array.isArray(B))for(let q of B)xE(q,i,a,u,f);else if(B){const q=E[3];Lf(q[1].data[B.index],q,i,a,u,f)}}else t.child&&Lf(t.child,n,i,a,u,f);if(f!==y){const E=4&t.flags?t.projectionNext:t.next;E&&Lf(E,n,i,a,u,f)}}function pT(t,n,i,a,u){for(let f=10;f<t.length;f++){const y=t[f],E=y[1].firstChild;E&&Lf(E,y,n,i,a,u)}}function xE(t,n,i,a,u){if(u!==t){const f=da(t);if(!f)return;(a&&f instanceof h_&&n(f)&&-1===i.indexOf(f)||!a&&n(f)&&-1===i.indexOf(f))&&i.push(f)}}function RE(t,n,i,a){const u=t.childNodes,f=u.length;for(let y=0;y<f;y++){const E=u[y],M=da(E);M&&((a&&M instanceof h_&&n(M)&&-1===i.indexOf(M)||!a&&n(M)&&-1===i.indexOf(M))&&i.push(M),RE(E,n,i,a))}}const lv=new Map,NE="__ng_debug__";function cv(t){return t instanceof Node?(t.hasOwnProperty(NE)||(t[NE]=t.nodeType==Node.ELEMENT_NODE?new h_(t):new PE(t)),t[NE]):null}const da=cv;function CA(t){return function(t){return lv.get(t)||null}(t)}const TA=function(t){return null};function dv(t){lv.set(t.nativeNode,t)}const SA=PE,DA=h_,AA=eT(null,"core",[{provide:kI,useValue:"unknown"},{provide:AE,deps:[as]},{provide:IE,deps:[]},{provide:FI,deps:[]}]);function gT(){return qb}function mT(){return Xb}function _T(t){return t=t||u_&&"undefined"!=typeof $localize&&$localize.locale||K,u_&&An(t),t}const yT=[{provide:c_,useClass:c_,deps:[sl,as,Ho,ug,pg]},{provide:DC,deps:[sl],useFactory:vT},{provide:pg,useClass:pg,deps:[[new ka,_E]]},{provide:l_,useClass:l_,deps:[]},NI,{provide:Xy,useFactory:gT,deps:[]},{provide:Yy,useFactory:mT,deps:[]},{provide:av,useFactory:_T,deps:[[new Gu(av),new ka,new Fi]]},{provide:VI,useValue:Y}];function vT(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}let PA=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Kr(c_))},t.\u0275mod=ke({type:t}),t.\u0275inj=dn({providers:yT}),t})();function xA(t,n,i,a,u,f){t|=1;const{matchedQueries:y,references:E,matchedQueryIds:M}=G0(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:y,matchedQueryIds:M,references:E,ngContentIndex:i,childCount:a,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:f?dg(f):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:u||Ml},provider:null,text:null,query:null,ngContent:null}}function RA(t,n,i,a,u,f,y=[],E,M,B,q,me){B||(B=Ml);const{matchedQueries:Ee,references:Oe,matchedQueryIds:Qe}=G0(i);let Tt=null,ot=null;f&&([Tt,ot]=$0(f)),E=E||[];const sn=[];for(let kr=0;kr<E.length;kr++){const[yi,ha,xl]=E[kr],[y_,_g]=$0(ha);let yg,vg;switch(15&yi){case 4:vg=xl;break;case 1:case 8:yg=xl}sn[kr]={flags:yi,ns:y_,name:_g,nonMinifiedName:_g,securityContext:yg,suffix:vg}}M=M||[];const Lt=[];for(let kr=0;kr<M.length;kr++){const[yi,ha]=M[kr];Lt[kr]={type:0,target:yi,eventName:ha,propName:null}}const gr=(y=y||[]).map(([kr,yi])=>{const[ha,xl]=$0(kr);return[ha,xl,yi]});return me=function(t){return t&&t.id===uC&&(t.id=null!=t.encapsulation&&t.encapsulation!==At.None||t.styles.length||Object.keys(t.data).length?"c"+eS++:lC),t&&t.id===lC&&(t=null),t||null}(me),q&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:Ee,matchedQueryIds:Qe,references:Oe,ngContentIndex:a,childCount:u,bindings:sn,bindingFlags:K0(sn),outputs:Lt,element:{ns:Tt,name:ot,attrs:gr,template:null,componentProvider:null,componentView:q||null,componentRendererType:me,publicProviders:null,allProviders:null,handleEvent:B||Ml},provider:null,text:null,query:null,ngContent:null}}function NA(t,n,i){const a=i.element,u=t.root.selectorOrNode,f=t.renderer;let y;if(t.parent||!u){y=a.name?f.createElement(a.name,a.ns):f.createComment("");const E=W0(t,n,i);E&&f.appendChild(E,y)}else y=f.selectRootElement(u,!!a.componentRendererType&&a.componentRendererType.encapsulation===At.ShadowDom);if(a.attrs)for(let E=0;E<a.attrs.length;E++){const[M,B,q]=a.attrs[E];f.setAttribute(y,B,q,M)}return y}function OA(t,n,i,a){for(let u=0;u<i.outputs.length;u++){const f=i.outputs[u],y=kA(t,i.nodeIndex,rS(f.target,f.eventName));let E=f.target,M=t;"component"===f.target&&(E=null,M=n);const B=M.renderer.listen(E||a,f.eventName,y);t.disposables[i.outputIndex+u]=B}}function kA(t,n,i){return a=>dC(t,n,i,a)}function lc(t,n,i,a){if(!co(t,n,i,a))return!1;const u=n.bindings[i],f=ss(t,n.nodeIndex),y=f.renderElement,E=u.name;switch(15&u.flags){case 1:!function(t,n,i,a,u,f){const y=n.securityContext;let E=y?t.root.sanitizer.sanitize(y,f):f;E=null!=E?E.toString():null;const M=t.renderer;null!=f?M.setAttribute(i,u,E,a):M.removeAttribute(i,u,a)}(t,u,y,u.ns,E,a);break;case 2:!function(t,n,i,a){const u=t.renderer;a?u.addClass(n,i):u.removeClass(n,i)}(t,y,E,a);break;case 4:!function(t,n,i,a,u){let f=t.root.sanitizer.sanitize(bn.STYLE,u);if(null!=f){f=f.toString();const E=n.suffix;null!=E&&(f+=E)}else f=null;const y=t.renderer;null!=f?y.setStyle(i,a,f):y.removeStyle(i,a)}(t,u,y,E,a);break;case 8:!function(t,n,i,a,u){const f=n.securityContext;let y=f?t.root.sanitizer.sanitize(f,u):u;t.renderer.setProperty(i,a,y)}(33554432&n.flags&&32&u.flags?f.componentView:t,u,y,E,a)}return!0}function HA(t,n,i){let a=[];for(let u in i)a.push({propName:u,bindingType:i[u]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:n,filterId:hC(n),bindings:a},ngContent:null}}function GA(t){return new s_(t)}function WA(t){const n=t.def.nodeMatchedQueries;for(;t.parent&&iS(t);){let i=t.parentNodeDef;t=t.parent;const a=i.nodeIndex+i.childCount;for(let u=0;u<=a;u++){const f=t.def.nodes[u];67108864&f.flags&&536870912&f.flags&&(f.query.filterId&n)===f.query.filterId&&qm(t,u).setDirty(),(1&f.flags&&u+f.childCount<i.nodeIndex||!(67108864&f.childFlags)||!(536870912&f.childFlags))&&(u+=f.childCount)}}if(134217728&t.def.nodeFlags)for(let i=0;i<t.def.nodes.length;i++){const a=t.def.nodes[i];134217728&a.flags&&536870912&a.flags&&qm(t,i).setDirty(),i+=a.childCount}}function $A(t,n){const i=qm(t,n.nodeIndex);if(!i.dirty)return;let a,u;if(67108864&n.flags){const E=n.parent.parent;u=f_(t,E.nodeIndex,E.nodeIndex+E.childCount,n.query,[]),a=Ph(t,n.parent.nodeIndex).instance}else 134217728&n.flags&&(u=f_(t,0,t.def.nodes.length-1,n.query,[]),a=t.component);i.reset(u,Ub);const f=n.query.bindings;let y=!1;for(let E=0;E<f.length;E++){const M=f[E];let B;switch(M.bindingType){case 0:B=i.first;break;case 1:B=i,y=!0}a[M.propName]=B}y&&i.notifyOnChanges()}function f_(t,n,i,a,u){for(let f=n;f<=i;f++){const y=t.def.nodes[f],E=y.matchedQueries[a.id];if(null!=E&&u.push(ET(t,y,E)),1&y.flags&&y.element.template&&(y.element.template.nodeMatchedQueries&a.filterId)===a.filterId){const M=ss(t,f);if((y.childMatchedQueries&a.filterId)===a.filterId&&(f_(t,f+1,f+y.childCount,a,u),f+=y.childCount),16777216&y.flags){const q=M.viewContainer._embeddedViews;for(let me=0;me<q.length;me++){const Ee=q[me],Oe=H0(Ee);Oe&&Oe===M&&f_(Ee,0,Ee.def.nodes.length-1,a,u)}}const B=M.template._projectedViews;if(B)for(let q=0;q<B.length;q++){const me=B[q];f_(me,0,me.def.nodes.length-1,a,u)}}(y.childMatchedQueries&a.filterId)!==a.filterId&&(f+=y.childCount)}return u}function ET(t,n,i){if(null!=i)switch(i){case 1:return ss(t,n.nodeIndex).renderElement;case 0:return new sc(ss(t,n.nodeIndex).renderElement);case 2:return ss(t,n.nodeIndex).template;case 3:return ss(t,n.nodeIndex).viewContainer;case 4:return Ph(t,n.nodeIndex).instance}}function KA(t,n){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:n}}}function zA(t,n,i){const a=W0(t,n,i);a&&gC(t,i.ngContent.index,1,a,null,void 0)}function ZA(t,n){return OE(128,t,Us(n+1))}function QA(t,n){return OE(32,t,Us(n))}function qA(t,n){const i=Object.keys(n),a=i.length,u=[];for(let f=0;f<a;f++){u.push(i[f])}return OE(64,t,u)}function OE(t,n,i){const a=[];for(let u=0;u<i.length;u++){const f=i[u];a.push({flags:8,name:f,ns:null,nonMinifiedName:f,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:a,bindingFlags:K0(a),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function eM(t,n,i){const a=[];for(let u=1;u<i.length;u++)a[u-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:i[u]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:a,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:i[0]},query:null,ngContent:null}}function tM(t,n,i){let a;const u=t.renderer;a=u.createText(i.text.prefix);const f=W0(t,n,i);return f&&u.appendChild(f,a),{renderText:a}}function cc(t,n){return(null!=t?t.toString():"")+n.suffix}function iM(t,n,i,a){let u=0,f=0,y=0,E=0,M=0,B=null,q=null,me=!1,Ee=!1,Oe=null;for(let Tt=0;Tt<n.length;Tt++){const ot=n[Tt];if(ot.nodeIndex=Tt,ot.parent=B,ot.bindingIndex=u,ot.outputIndex=f,ot.renderParent=q,y|=ot.flags,M|=ot.matchedQueryIds,ot.element){const sn=ot.element;sn.publicProviders=B?B.element.publicProviders:Object.create(null),sn.allProviders=sn.publicProviders,me=!1,Ee=!1,ot.element.template&&(M|=ot.element.template.nodeMatchedQueries)}if(sM(B,ot,n.length),u+=ot.bindings.length,f+=ot.outputs.length,!q&&3&ot.flags&&(Oe=ot),20224&ot.flags){me||(me=!0,B.element.publicProviders=Object.create(B.element.publicProviders),B.element.allProviders=B.element.publicProviders);const Lt=0!=(32768&ot.flags);0==(8192&ot.flags)||Lt?B.element.publicProviders[Ha(ot.provider.token)]=ot:(Ee||(Ee=!0,B.element.allProviders=Object.create(B.element.publicProviders)),B.element.allProviders[Ha(ot.provider.token)]=ot),Lt&&(B.element.componentProvider=ot)}if(B?(B.childFlags|=ot.flags,B.directChildFlags|=ot.flags,B.childMatchedQueries|=ot.matchedQueryIds,ot.element&&ot.element.template&&(B.childMatchedQueries|=ot.element.template.nodeMatchedQueries)):E|=ot.flags,ot.childCount>0)B=ot,bT(ot)||(q=ot);else for(;B&&Tt===B.nodeIndex+B.childCount;){const sn=B.parent;sn&&(sn.childFlags|=B.childFlags,sn.childMatchedQueries|=B.childMatchedQueries),B=sn,q=B&&bT(B)?B.renderParent:B}}return{factory:null,nodeFlags:y,rootNodeFlags:E,nodeMatchedQueries:M,flags:t,nodes:n,updateDirectives:i||Ml,updateRenderer:a||Ml,handleEvent:(Tt,ot,sn,Lt)=>n[ot].element.handleEvent(Tt,sn,Lt),bindingCount:u,outputCount:f,lastRenderRootNode:Oe}}function bT(t){return 0!=(1&t.flags)&&null===t.element.name}function sM(t,n,i){const a=n.element&&n.element.template;if(a){if(!a.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(a.lastRenderRootNode&&16777216&a.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${n.nodeIndex}!`)}if(20224&n.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${n.nodeIndex}!`);if(n.query){if(67108864&n.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${n.nodeIndex}!`);if(134217728&n.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${n.nodeIndex}!`)}if(n.childCount){const u=t?t.nodeIndex+t.childCount:i-1;if(n.nodeIndex<=u&&n.nodeIndex+n.childCount>u)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${n.nodeIndex}!`)}}function CT(t,n,i,a){const u=kE(t.root,t.renderer,t,n,i);return LE(u,t.component,a),FE(u),u}function IT(t,n,i){const a=kE(t,t.renderer,null,null,n);return LE(a,i,i),FE(a),a}function TT(t,n,i,a){const u=n.element.componentRendererType;let f;return f=u?t.root.rendererFactory.createRenderer(a,u):t.root.renderer,kE(t.root,f,t,n.element.componentProvider,i)}function kE(t,n,i,a,u){const f=new Array(u.nodes.length),y=u.outputCount?new Array(u.outputCount):null;return{def:u,parent:i,viewContainerParent:null,parentNodeDef:a,context:null,component:null,nodes:f,state:13,root:t,renderer:n,oldValues:new Array(u.bindingCount),disposables:y,initIndex:-1}}function LE(t,n,i){t.component=n,t.context=i}function FE(t){let n;Of(t)&&(n=ss(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const i=t.def,a=t.nodes;for(let u=0;u<i.nodes.length;u++){const f=i.nodes[u];let y;switch(Hr.setCurrentNode(t,u),201347067&f.flags){case 1:const E=NA(t,n,f);let M;if(33554432&f.flags){const B=dg(f.element.componentView);M=Hr.createComponentView(t,f,B,E)}OA(t,M,f,E),y={renderElement:E,componentView:M,viewContainer:null,template:f.element.template?NS(t,f):void 0},16777216&f.flags&&(y.viewContainer=PS(t,f,y));break;case 2:y=tM(t,n,f);break;case 512:case 1024:case 2048:case 256:y=a[u],!y&&!(4096&f.flags)&&(y={instance:KS(t,f)});break;case 16:y={instance:zS(t,f)};break;case 16384:y=a[u],y||(y={instance:ZS(t,f)}),32768&f.flags&&LE(ss(t,f.parent.nodeIndex).componentView,y.instance,y.instance);break;case 32:case 64:case 128:y={value:void 0};break;case 67108864:case 134217728:y=GA(-2147483648==(-2147483648&f.flags));break;case 8:zA(t,n,f),y=void 0}a[u]=y}p_(t,os.CreateViewNodes),BE(t,201326592,268435456,0)}function hv(t){ST(t),Hr.updateDirectives(t,1),pv(t,os.CheckNoChanges),Hr.updateRenderer(t,1),p_(t,os.CheckNoChanges),t.state&=-97}function fv(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ev(t,0,256),ST(t),Hr.updateDirectives(t,0),pv(t,os.CheckAndUpdate),BE(t,67108864,536870912,0);let n=ev(t,256,512);X0(t,2097152|(n?1048576:0)),Hr.updateRenderer(t,0),p_(t,os.CheckAndUpdate),BE(t,134217728,536870912,0),n=ev(t,512,768),X0(t,8388608|(n?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ev(t,768,1024)}function wT(t,n,i,a,u,f,y,E,M,B,q,me,Ee){return 0===i?function(t,n,i,a,u,f,y,E,M,B,q,me){switch(201347067&n.flags){case 1:return function(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=n.bindings.length;let Oe=!1;return Ee>0&&lc(t,n,0,i)&&(Oe=!0),Ee>1&&lc(t,n,1,a)&&(Oe=!0),Ee>2&&lc(t,n,2,u)&&(Oe=!0),Ee>3&&lc(t,n,3,f)&&(Oe=!0),Ee>4&&lc(t,n,4,y)&&(Oe=!0),Ee>5&&lc(t,n,5,E)&&(Oe=!0),Ee>6&&lc(t,n,6,M)&&(Oe=!0),Ee>7&&lc(t,n,7,B)&&(Oe=!0),Ee>8&&lc(t,n,8,q)&&(Oe=!0),Ee>9&&lc(t,n,9,me)&&(Oe=!0),Oe}(t,n,i,a,u,f,y,E,M,B,q,me);case 2:return function(t,n,i,a,u,f,y,E,M,B,q,me){let Ee=!1;const Oe=n.bindings,Qe=Oe.length;if(Qe>0&&co(t,n,0,i)&&(Ee=!0),Qe>1&&co(t,n,1,a)&&(Ee=!0),Qe>2&&co(t,n,2,u)&&(Ee=!0),Qe>3&&co(t,n,3,f)&&(Ee=!0),Qe>4&&co(t,n,4,y)&&(Ee=!0),Qe>5&&co(t,n,5,E)&&(Ee=!0),Qe>6&&co(t,n,6,M)&&(Ee=!0),Qe>7&&co(t,n,7,B)&&(Ee=!0),Qe>8&&co(t,n,8,q)&&(Ee=!0),Qe>9&&co(t,n,9,me)&&(Ee=!0),Ee){let Tt=n.text.prefix;Qe>0&&(Tt+=cc(i,Oe[0])),Qe>1&&(Tt+=cc(a,Oe[1])),Qe>2&&(Tt+=cc(u,Oe[2])),Qe>3&&(Tt+=cc(f,Oe[3])),Qe>4&&(Tt+=cc(y,Oe[4])),Qe>5&&(Tt+=cc(E,Oe[5])),Qe>6&&(Tt+=cc(M,Oe[6])),Qe>7&&(Tt+=cc(B,Oe[7])),Qe>8&&(Tt+=cc(q,Oe[8])),Qe>9&&(Tt+=cc(me,Oe[9]));const ot=Qm(t,n.nodeIndex).renderText;t.renderer.setValue(ot,Tt)}return Ee}(t,n,i,a,u,f,y,E,M,B,q,me);case 16384:return function(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=Ph(t,n.nodeIndex),Oe=Ee.instance;let Tt,Qe=!1;const ot=n.bindings.length;return ot>0&&Pl(t,n,0,i)&&(Qe=!0,Tt=ac(t,Ee,n,0,i,Tt)),ot>1&&Pl(t,n,1,a)&&(Qe=!0,Tt=ac(t,Ee,n,1,a,Tt)),ot>2&&Pl(t,n,2,u)&&(Qe=!0,Tt=ac(t,Ee,n,2,u,Tt)),ot>3&&Pl(t,n,3,f)&&(Qe=!0,Tt=ac(t,Ee,n,3,f,Tt)),ot>4&&Pl(t,n,4,y)&&(Qe=!0,Tt=ac(t,Ee,n,4,y,Tt)),ot>5&&Pl(t,n,5,E)&&(Qe=!0,Tt=ac(t,Ee,n,5,E,Tt)),ot>6&&Pl(t,n,6,M)&&(Qe=!0,Tt=ac(t,Ee,n,6,M,Tt)),ot>7&&Pl(t,n,7,B)&&(Qe=!0,Tt=ac(t,Ee,n,7,B,Tt)),ot>8&&Pl(t,n,8,q)&&(Qe=!0,Tt=ac(t,Ee,n,8,q,Tt)),ot>9&&Pl(t,n,9,me)&&(Qe=!0,Tt=ac(t,Ee,n,9,me,Tt)),Tt&&Oe.ngOnChanges(Tt),65536&n.flags&&tv(t,256,n.nodeIndex)&&Oe.ngOnInit(),262144&n.flags&&Oe.ngDoCheck(),Qe}(t,n,i,a,u,f,y,E,M,B,q,me);case 32:case 64:case 128:return function(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=n.bindings;let Oe=!1;const Qe=Ee.length;if(Qe>0&&co(t,n,0,i)&&(Oe=!0),Qe>1&&co(t,n,1,a)&&(Oe=!0),Qe>2&&co(t,n,2,u)&&(Oe=!0),Qe>3&&co(t,n,3,f)&&(Oe=!0),Qe>4&&co(t,n,4,y)&&(Oe=!0),Qe>5&&co(t,n,5,E)&&(Oe=!0),Qe>6&&co(t,n,6,M)&&(Oe=!0),Qe>7&&co(t,n,7,B)&&(Oe=!0),Qe>8&&co(t,n,8,q)&&(Oe=!0),Qe>9&&co(t,n,9,me)&&(Oe=!0),Oe){const Tt=lg(t,n.nodeIndex);let ot;switch(201347067&n.flags){case 32:ot=[],Qe>0&&ot.push(i),Qe>1&&ot.push(a),Qe>2&&ot.push(u),Qe>3&&ot.push(f),Qe>4&&ot.push(y),Qe>5&&ot.push(E),Qe>6&&ot.push(M),Qe>7&&ot.push(B),Qe>8&&ot.push(q),Qe>9&&ot.push(me);break;case 64:ot={},Qe>0&&(ot[Ee[0].name]=i),Qe>1&&(ot[Ee[1].name]=a),Qe>2&&(ot[Ee[2].name]=u),Qe>3&&(ot[Ee[3].name]=f),Qe>4&&(ot[Ee[4].name]=y),Qe>5&&(ot[Ee[5].name]=E),Qe>6&&(ot[Ee[6].name]=M),Qe>7&&(ot[Ee[7].name]=B),Qe>8&&(ot[Ee[8].name]=q),Qe>9&&(ot[Ee[9].name]=me);break;case 128:const sn=i;switch(Qe){case 1:ot=sn.transform(i);break;case 2:ot=sn.transform(a);break;case 3:ot=sn.transform(a,u);break;case 4:ot=sn.transform(a,u,f);break;case 5:ot=sn.transform(a,u,f,y);break;case 6:ot=sn.transform(a,u,f,y,E);break;case 7:ot=sn.transform(a,u,f,y,E,M);break;case 8:ot=sn.transform(a,u,f,y,E,M,B);break;case 9:ot=sn.transform(a,u,f,y,E,M,B,q);break;case 10:ot=sn.transform(a,u,f,y,E,M,B,q,me)}}Tt.value=ot}return Oe}(t,n,i,a,u,f,y,E,M,B,q,me);default:throw"unreachable"}}(t,n,a,u,f,y,E,M,B,q,me,Ee):function(t,n,i){switch(201347067&n.flags){case 1:return function(t,n,i){let a=!1;for(let u=0;u<i.length;u++)lc(t,n,u,i[u])&&(a=!0);return a}(t,n,i);case 2:return function(t,n,i){const a=n.bindings;let u=!1;for(let f=0;f<i.length;f++)co(t,n,f,i[f])&&(u=!0);if(u){let f="";for(let E=0;E<i.length;E++)f+=cc(i[E],a[E]);f=n.text.prefix+f;const y=Qm(t,n.nodeIndex).renderText;t.renderer.setValue(y,f)}return u}(t,n,i);case 16384:return function(t,n,i){const a=Ph(t,n.nodeIndex),u=a.instance;let y,f=!1;for(let E=0;E<i.length;E++)Pl(t,n,E,i[E])&&(f=!0,y=ac(t,a,n,E,i[E],y));return y&&u.ngOnChanges(y),65536&n.flags&&tv(t,256,n.nodeIndex)&&u.ngOnInit(),262144&n.flags&&u.ngDoCheck(),f}(t,n,i);case 32:case 64:case 128:return function(t,n,i){const a=n.bindings;let u=!1;for(let f=0;f<i.length;f++)co(t,n,f,i[f])&&(u=!0);if(u){const f=lg(t,n.nodeIndex);let y;switch(201347067&n.flags){case 32:y=i;break;case 64:y={};for(let B=0;B<i.length;B++)y[a[B].name]=i[B];break;case 128:const E=i[0],M=i.slice(1);y=E.transform(...M)}f.value=y}return u}(t,n,i);default:throw"unreachable"}}(t,n,a)}function ST(t){const n=t.def;if(4&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const a=n.nodes[i];if(4&a.flags){const u=ss(t,i).template._projectedViews;if(u)for(let f=0;f<u.length;f++){const y=u[f];y.state|=32,nS(y,t)}}else 0==(4&a.childFlags)&&(i+=a.childCount)}}function DT(t,n,i,a,u,f,y,E,M,B,q,me,Ee){return 0===i?function(t,n,i,a,u,f,y,E,M,B,q,me){const Ee=n.bindings.length;Ee>0&&oc(t,n,0,i),Ee>1&&oc(t,n,1,a),Ee>2&&oc(t,n,2,u),Ee>3&&oc(t,n,3,f),Ee>4&&oc(t,n,4,y),Ee>5&&oc(t,n,5,E),Ee>6&&oc(t,n,6,M),Ee>7&&oc(t,n,7,B),Ee>8&&oc(t,n,8,q),Ee>9&&oc(t,n,9,me)}(t,n,a,u,f,y,E,M,B,q,me,Ee):function(t,n,i){for(let a=0;a<i.length;a++)oc(t,n,a,i[a])}(t,n,a),!1}function cM(t,n){if(qm(t,n.nodeIndex).dirty)throw sC(Hr.createDebugContext(t,n.nodeIndex),`Query ${n.query.id} not dirty`,`Query ${n.query.id} dirty`,0!=(1&t.state))}function VE(t){if(!(128&t.state)){if(pv(t,os.Destroy),p_(t,os.Destroy),X0(t,131072),t.disposables)for(let n=0;n<t.disposables.length;n++)t.disposables[n]();(function(t){if(!(16&t.state))return;const n=H0(t);if(n){const i=n.template._projectedViews;i&&(Ri(i,i.indexOf(t)),Hr.dirtyParentQueries(t))}})(t),t.renderer.destroyNode&&function(t){const n=t.def.nodes.length;for(let i=0;i<n;i++){const a=t.def.nodes[i];1&a.flags?t.renderer.destroyNode(ss(t,i).renderElement):2&a.flags?t.renderer.destroyNode(Qm(t,i).renderText):(67108864&a.flags||134217728&a.flags)&&qm(t,i).destroy()}}(t),Of(t)&&t.renderer.destroy(),t.state|=128}}var os=(()=>((os=os||{})[os.CreateViewNodes=0]="CreateViewNodes",os[os.CheckNoChanges=1]="CheckNoChanges",os[os.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",os[os.CheckAndUpdate=3]="CheckAndUpdate",os[os.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",os[os.Destroy=5]="Destroy",os))();function p_(t,n){const i=t.def;if(33554432&i.nodeFlags)for(let a=0;a<i.nodes.length;a++){const u=i.nodes[a];33554432&u.flags?AT(ss(t,a).componentView,n):0==(33554432&u.childFlags)&&(a+=u.childCount)}}function pv(t,n){const i=t.def;if(16777216&i.nodeFlags)for(let a=0;a<i.nodes.length;a++){const u=i.nodes[a];if(16777216&u.flags){const f=ss(t,a).viewContainer._embeddedViews;for(let y=0;y<f.length;y++)AT(f[y],n)}else 0==(16777216&u.childFlags)&&(a+=u.childCount)}}function AT(t,n){const i=t.state;switch(n){case os.CheckNoChanges:0==(128&i)&&(12==(12&i)?hv(t):64&i&&gv(t,os.CheckNoChangesProjectedViews));break;case os.CheckNoChangesProjectedViews:0==(128&i)&&(32&i?hv(t):64&i&&gv(t,n));break;case os.CheckAndUpdate:0==(128&i)&&(12==(12&i)?fv(t):64&i&&gv(t,os.CheckAndUpdateProjectedViews));break;case os.CheckAndUpdateProjectedViews:0==(128&i)&&(32&i?fv(t):64&i&&gv(t,n));break;case os.Destroy:VE(t);break;case os.CreateViewNodes:FE(t)}}function gv(t,n){pv(t,n),p_(t,n)}function BE(t,n,i,a){if(!(t.def.nodeFlags&n&&t.def.nodeFlags&i))return;const u=t.def.nodes.length;for(let f=0;f<u;f++){const y=t.def.nodes[f];if(y.flags&n&&y.flags&i)switch(Hr.setCurrentNode(t,y.nodeIndex),a){case 0:$A(t,y);break;case 1:cM(t,y)}(!(y.childFlags&n)||!(y.childFlags&i))&&(f+=y.childCount)}}let MT=!1;function g_(){if(MT)return;MT=!0;const t=wE()?{setCurrentNode:mg,createRootView:gM,createEmbeddedView:mM,createComponentView:_M,createNgModuleRef:yM,overrideProvider:vM,overrideComponentView:EM,clearOverrides:bM,checkAndUpdateView:IM,checkNoChangesView:TM,destroyView:wM,createDebugContext:(t,n)=>new HE(t,n),handleEvent:SM,updateDirectives:DM,updateRenderer:AM}:{setCurrentNode:()=>{},createRootView:pM,createEmbeddedView:CT,createComponentView:TT,createNgModuleRef:EC,overrideProvider:Ml,overrideComponentView:Ml,clearOverrides:Ml,checkAndUpdateView:fv,checkNoChangesView:hv,destroyView:VE,createDebugContext:(t,n)=>new HE(t,n),handleEvent:(t,n,i,a)=>t.def.handleEvent(t,n,i,a),updateDirectives:(t,n)=>t.def.updateDirectives(0===n?xT:RT,t),updateRenderer:(t,n)=>t.def.updateRenderer(0===n?xT:RT,t)};Hr.setCurrentNode=t.setCurrentNode,Hr.createRootView=t.createRootView,Hr.createEmbeddedView=t.createEmbeddedView,Hr.createComponentView=t.createComponentView,Hr.createNgModuleRef=t.createNgModuleRef,Hr.overrideProvider=t.overrideProvider,Hr.overrideComponentView=t.overrideComponentView,Hr.clearOverrides=t.clearOverrides,Hr.checkAndUpdateView=t.checkAndUpdateView,Hr.checkNoChangesView=t.checkNoChangesView,Hr.destroyView=t.destroyView,Hr.resolveDep=ru,Hr.createDebugContext=t.createDebugContext,Hr.handleEvent=t.handleEvent,Hr.updateDirectives=t.updateDirectives,Hr.updateRenderer=t.updateRenderer,Hr.dirtyParentQueries=WA}function pM(t,n,i,a,u,f){const y=u.injector.get(qy);return IT(PT(t,u,y,n,i),a,f)}function gM(t,n,i,a,u,f){const y=u.injector.get(qy),E=PT(t,u,new xM(y),n,i),M=jE(a);return Ff(Eo.create,IT,null,[E,M,f])}function PT(t,n,i,a,u){const f=n.injector.get(R0),y=n.injector.get(Ho),E=i.createRenderer(null,null);return{ngModule:n,injector:t,projectableNodes:a,selectorOrNode:u,sanitizer:f,rendererFactory:i,renderer:E,errorHandler:y}}function mM(t,n,i,a){const u=jE(i);return Ff(Eo.create,CT,null,[t,n,u,a])}function _M(t,n,i,a){return i=UE.get(n.element.componentProvider.provider.token)||jE(i),Ff(Eo.create,TT,null,[t,n,i,a])}function yM(t,n,i,a){const u=function(t){const{hasOverrides:n,hasDeprecatedOverrides:i}=function(f){let y=!1,E=!1;return 0===xh.size||(f.providers.forEach(M=>{const B=xh.get(M.token);3840&M.flags&&B&&(y=!0,E=E||B.deprecatedBehavior)}),f.modules.forEach(M=>{m_.forEach((B,q)=>{ie(wn(q).providedIn)===M&&(y=!0,E=E||B.deprecatedBehavior)})})),{hasOverrides:y,hasDeprecatedOverrides:E}}(t);return n?(function(f){for(let y=0;y<f.providers.length;y++){const E=f.providers[y];i&&(E.flags|=4096);const M=xh.get(E.token);M&&(E.flags=-3841&E.flags|M.flags,E.deps=Ym(M.deps),E.value=M.value)}if(m_.size>0){let y=new Set(f.modules);m_.forEach((E,M)=>{if(y.has(ie(wn(M).providedIn))){let B={token:M,flags:E.flags|(i?4096:0),deps:Ym(E.deps),value:E.value,index:f.providers.length};f.providers.push(B),f.providersByKey[Ha(M)]=B}})}}(t=t.factory(()=>Ml)),t):t}(a);return EC(t,n,i,u)}const xh=new Map,m_=new Map,UE=new Map;function vM(t){let n;xh.set(t.token,t),"function"==typeof t.token&&(n=wn(t.token))&&"function"==typeof n.providedIn&&m_.set(t.token,t)}function EM(t,n){const i=dg(yC(n)),a=dg(i.nodes[0].element.componentView);UE.set(t,a)}function bM(){xh.clear(),m_.clear(),UE.clear()}function jE(t){if(0===xh.size)return t;const n=function(u){const f=[];let y=null;for(let E=0;E<u.nodes.length;E++){const M=u.nodes[E];1&M.flags&&(y=M),y&&3840&M.flags&&xh.has(M.provider.token)&&(f.push(y.nodeIndex),y=null)}return f}(t);if(0===n.length)return t;t=t.factory(()=>Ml);for(let u=0;u<n.length;u++)a(t,n[u]);return t;function a(u,f){for(let y=f+1;y<u.nodes.length;y++){const E=u.nodes[y];if(1&E.flags)return;if(3840&E.flags){const M=E.provider,B=xh.get(M.token);B&&(E.flags=-3841&E.flags|B.flags,M.deps=Ym(B.deps),M.value=B.value)}}}}function xT(t,n,i,a,u,f,y,E,M,B,q,me,Ee){const Oe=t.def.nodes[n];return wT(t,Oe,i,a,u,f,y,E,M,B,q,me,Ee),224&Oe.flags?lg(t,n).value:void 0}function RT(t,n,i,a,u,f,y,E,M,B,q,me,Ee){const Oe=t.def.nodes[n];return DT(t,Oe,i,a,u,f,y,E,M,B,q,me,Ee),224&Oe.flags?lg(t,n).value:void 0}function IM(t){return Ff(Eo.detectChanges,fv,null,[t])}function TM(t){return Ff(Eo.checkNoChanges,hv,null,[t])}function wM(t){return Ff(Eo.destroy,VE,null,[t])}var Eo=(()=>((Eo=Eo||{})[Eo.create=0]="create",Eo[Eo.detectChanges=1]="detectChanges",Eo[Eo.checkNoChanges=2]="checkNoChanges",Eo[Eo.destroy=3]="destroy",Eo[Eo.handleEvent=4]="handleEvent",Eo))();let __,gg,mv;function mg(t,n){gg=t,mv=n}function SM(t,n,i,a){return mg(t,n),Ff(Eo.handleEvent,t.def.handleEvent,null,[t,n,i,a])}function DM(t,n){if(128&t.state)throw aC(Eo[__]);return mg(t,kT(t,0)),t.def.updateDirectives(function(a,u,f,...y){const E=a.def.nodes[u];return 0===n?NT(a,E,f,y):OT(a,E,f,y),16384&E.flags&&mg(a,kT(a,u)),224&E.flags?lg(a,E.nodeIndex).value:void 0},t)}function AM(t,n){if(128&t.state)throw aC(Eo[__]);return mg(t,LT(t,0)),t.def.updateRenderer(function(a,u,f,...y){const E=a.def.nodes[u];return 0===n?NT(a,E,f,y):OT(a,E,f,y),3&E.flags&&mg(a,LT(a,u)),224&E.flags?lg(a,E.nodeIndex).value:void 0},t)}function NT(t,n,i,a){if(wT(t,n,i,...a)){const f=1===i?a[0]:a;if(16384&n.flags){const y={};for(let B=0;B<n.bindings.length;B++){const q=n.bindings[B],me=f[B];8&q.flags&&(y[Gf(q.nonMinifiedName)]=Wf(me))}const E=n.parent,M=ss(t,E.nodeIndex).renderElement;if(E.element.name)for(let B in y){const q=y[B];null!=q?t.renderer.setAttribute(M,B,q):t.renderer.removeAttribute(M,B)}else t.renderer.setValue(M,bd(`bindings=${JSON.stringify(y,null,2)}`))}}}function OT(t,n,i,a){DT(t,n,i,...a)}function kT(t,n){for(let i=n;i<t.def.nodes.length;i++){const a=t.def.nodes[i];if(16384&a.flags&&a.bindings&&a.bindings.length)return i}return null}function LT(t,n){for(let i=n;i<t.def.nodes.length;i++){const a=t.def.nodes[i];if(3&a.flags&&a.bindings&&a.bindings.length)return i}return null}class HE{constructor(n,i){this.view=n,this.nodeIndex=i,null==i&&(this.nodeIndex=i=0),this.nodeDef=n.def.nodes[i];let a=this.nodeDef,u=n;for(;a&&0==(1&a.flags);)a=a.parent;if(!a)for(;!a&&u;)a=cg(u),u=u.parent;this.elDef=a,this.elView=u}get elOrCompView(){return ss(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return vC(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const n=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const a=this.elView.def.nodes[i];20224&a.flags&&n.push(a.provider.token),i+=a.childCount}return n}get references(){const n={};if(this.elDef){FT(this.elView,this.elDef,n);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const a=this.elView.def.nodes[i];20224&a.flags&&FT(this.elView,a,n),i+=a.childCount}}return n}get componentRenderElement(){const n=function(t){for(;t&&!Of(t);)t=t.parent;return t.parent?ss(t.parent,cg(t).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Xm(this.view,this.nodeDef):Xm(this.elView,this.elDef)}logError(n,...i){let a,u;2&this.nodeDef.flags?(a=this.view.def,u=this.nodeDef.nodeIndex):(a=this.elView.def,u=this.elDef.nodeIndex);const f=function(t,n){let i=-1;for(let a=0;a<=n;a++)3&t.nodes[a].flags&&i++;return i}(a,u);let y=-1;a.factory(()=>(y++,y===f?n.error.bind(n,...i):Ml)),y<f&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error(...i))}}function FT(t,n,i){for(let a in n.references)i[a]=ET(t,n,n.references[a])}function Ff(t,n,i,a){const u=__,f=gg,y=mv;try{__=t;const E=n.apply(i,a);return gg=f,mv=y,__=u,E}catch(E){throw function(t){return!!Xs(t)}(E)||!gg?E:function(t,n){return t instanceof Error||(t=new Error(t.toString())),oC(t,n),t}(E,GE())}}function GE(){return gg?new HE(gg,mv):null}class xM{constructor(n){this.delegate=n}createRenderer(n,i){return new RM(this.delegate.createRenderer(n,i))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class RM{constructor(n){this.delegate=n,this.debugContextFactory=GE,this.data=this.delegate.data}createDebugContext(n){return this.debugContextFactory(n)}destroyNode(n){const i=da(n);i&&(lv.delete(i.nativeNode),i instanceof d_&&(i.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(n)}destroy(){this.delegate.destroy()}createElement(n,i){const a=this.delegate.createElement(n,i),u=this.createDebugContext(a);if(u){const f=new ca(a,null,u);f.name=n,dv(f)}return a}createComment(n){const i=this.delegate.createComment(bd(n)),a=this.createDebugContext(i);return a&&dv(new d_(i,null,a)),i}createText(n){const i=this.delegate.createText(n),a=this.createDebugContext(i);return a&&dv(new d_(i,null,a)),i}appendChild(n,i){const a=da(n),u=da(i);a&&u&&a instanceof ca&&a.addChild(u),this.delegate.appendChild(n,i)}insertBefore(n,i,a,u){const f=da(n),y=da(i),E=da(a);f&&y&&f instanceof ca&&f.insertBefore(E,y),this.delegate.insertBefore(n,i,a,u)}removeChild(n,i){const a=da(n),u=da(i);a&&u&&a instanceof ca&&a.removeChild(u),this.delegate.removeChild(n,i)}selectRootElement(n,i){const a=this.delegate.selectRootElement(n,i),u=GE();return u&&dv(new ca(a,null,u)),a}setAttribute(n,i,a,u){const f=da(n);f&&f instanceof ca&&(f.attributes[u?u+":"+i:i]=a),this.delegate.setAttribute(n,i,a,u)}removeAttribute(n,i,a){const u=da(n);u&&u instanceof ca&&(u.attributes[a?a+":"+i:i]=null),this.delegate.removeAttribute(n,i,a)}addClass(n,i){const a=da(n);a&&a instanceof ca&&(a.classes[i]=!0),this.delegate.addClass(n,i)}removeClass(n,i){const a=da(n);a&&a instanceof ca&&(a.classes[i]=!1),this.delegate.removeClass(n,i)}setStyle(n,i,a,u){const f=da(n);f&&f instanceof ca&&(f.styles[i]=a),this.delegate.setStyle(n,i,a,u)}removeStyle(n,i,a){const u=da(n);u&&u instanceof ca&&(u.styles[i]=null),this.delegate.removeStyle(n,i,a)}setProperty(n,i,a){const u=da(n);u&&u instanceof ca&&(u.properties[i]=a),this.delegate.setProperty(n,i,a)}listen(n,i,a){if("string"!=typeof n){const u=da(n);u&&u.listeners.push(new cT(i,a))}return this.delegate.listen(n,i,a)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setValue(n,i){return this.delegate.setValue(n,i)}}function NM(t){return g_(),Hr.overrideProvider(t)}function OM(t,n){return g_(),Hr.overrideComponentView(t,n)}function kM(){return g_(),Hr.clearOverrides()}function LM(t,n,i){return new VM(t,n,i)}class VM extends B0{constructor(n,i,a){super(),this.moduleType=n,this._bootstrapComponents=i,this._ngModuleDefFactory=a}create(n){g_();const i=function(t){const n=Array.from(t.providers),i=Array.from(t.modules),a={};for(const u in t.providersByKey)a[u]=t.providersByKey[u];return{factory:t.factory,scope:t.scope,providers:n,modules:i,providersByKey:a}}(dg(this._ngModuleDefFactory));return Hr.createNgModuleRef(this.moduleType,n||as.NULL,this._bootstrapComponents,i)}}function BM(t){return Si().compileDirectiveDeclaration(mu,`ng:///${t.type.name}/\u0275fac.js`,t)}function UM(t){var n,i;MC(t.type,t.decorators,null!==(n=t.ctorParameters)&&void 0!==n?n:null,null!==(i=t.propDecorators)&&void 0!==i?i:null)}function jM(t){return Si().compileComponentDeclaration(mu,`ng:///${t.type.name}/\u0275cmp.js`,t)}function HM(t){return Si(function(t){switch(t){case ii.Directive:return"directive";case ii.Component:return"component";case ii.Injectable:return"injectable";case ii.Pipe:return"pipe";case ii.NgModule:;}}(t.target)).compileFactoryDeclaration(mu,`ng:///${t.type.name}/\u0275fac.js`,t)}function WM(t){return Si().compileInjectableDeclaration(mu,`ng:///${t.type.name}/\u0275prov.js`,t)}function $M(t){return Si().compileInjectorDeclaration(mu,`ng:///${t.type.name}/\u0275inj.js`,t)}function KM(t){return Si().compileNgModuleDeclaration(mu,`ng:///${t.type.name}/\u0275mod.js`,t)}function zM(t){return Si().compilePipeDeclaration(mu,`ng:///${t.type.name}/\u0275pipe.js`,t)}},3950:(It,ve,P)=>{"use strict";P.d(ve,{nm:()=>Zi});var h=P(2274);P(7716),P(2329);var pt=P(8239),Tn=P(8026),_n=P(3910),st=P(3854),jt=P(5422);const Ue=new Map,bt={activated:!1,tokenObservers:[]},gt={initialized:!1,enabled:!1};function Mt(je){return Ue.get(je)||bt}function Et(je,Ne){Ue.set(je,Ne)}function en(){return gt}class tn{constructor(Ne,it,Pt,Gt,pn){if(this.operation=Ne,this.retryPolicy=it,this.getWaitDuration=Pt,this.lowerBound=Gt,this.upperBound=pn,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>pn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ne){var it=this;return(0,pt.Z)(function*(){it.stop();try{it.pending=new st.BH,yield(je=it.getNextRun(Ne),new Promise(Ne=>{setTimeout(Ne,je)})),it.pending.resolve(),yield it.pending.promise,it.pending=new st.BH,yield it.operation(),it.pending.resolve(),yield it.pending.promise,it.process(!0).catch(()=>{})}catch(Pt){it.retryPolicy(Pt)?it.process(!1).catch(()=>{}):it.stop()}var je})()}getNextRun(Ne){if(Ne)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const it=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),it}}}const Zt=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ln(je){if(!Mt(je).activated)throw Zt.create("use-before-activation",{appName:je.name})}function Qt(je,Ne){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,pt.Z)(function*({url:je,body:Ne},it){var Pt,Gt;const pn={"Content-Type":"application/json"},Mn=it.getImmediate({optional:!0});if(Mn){const ys=yield Mn.getHeartbeatsHeader();ys&&(pn["X-Firebase-Client"]=ys)}const kn={method:"POST",body:JSON.stringify(Ne),headers:pn};let Hn,ti;try{Hn=yield fetch(je,kn)}catch(ys){throw Zt.create("fetch-network-error",{originalErrorMessage:null===(Pt=ys)||void 0===Pt?void 0:Pt.message})}if(200!==Hn.status)throw Zt.create("fetch-status-error",{httpStatus:Hn.status});try{ti=yield Hn.json()}catch(ys){throw Zt.create("fetch-parse-error",{originalErrorMessage:null===(Gt=ys)||void 0===Gt?void 0:Gt.message})}const ls=ti.ttl.match(/^([\d.]+)(s)$/);if(!ls||!ls[2]||isNaN(Number(ls[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ti.ttl}`});const Yr=1e3*Number(ls[1]),As=Date.now();return{token:ti.token,expireTimeMillis:As+Yr,issuedAtTimeMillis:As}})).apply(this,arguments)}function fn(je,Ne){const{projectId:it,appId:Pt,apiKey:Gt}=je.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${it}/apps/${Pt}:exchangeDebugToken?key=${Gt}`,body:{debug_token:Ne}}}const xn="firebase-app-check-store";let Fn=null;function Ir(){return Fn||(Fn=new Promise((je,Ne)=>{var it;try{const Pt=indexedDB.open("firebase-app-check-database",1);Pt.onsuccess=Gt=>{je(Gt.target.result)},Pt.onerror=Gt=>{var pn;Ne(Zt.create("storage-open",{originalErrorMessage:null===(pn=Gt.target.error)||void 0===pn?void 0:pn.message}))},Pt.onupgradeneeded=Gt=>{const pn=Gt.target.result;switch(Gt.oldVersion){case 0:pn.createObjectStore(xn,{keyPath:"compositeKey"})}}}catch(Pt){Ne(Zt.create("storage-open",{originalErrorMessage:null===(it=Pt)||void 0===it?void 0:it.message}))}}),Fn)}function mt(){return(mt=(0,pt.Z)(function*(je,Ne){const Pt=(yield Ir()).transaction(xn,"readwrite"),pn=Pt.objectStore(xn).put({compositeKey:je,value:Ne});return new Promise((Mn,kn)=>{pn.onsuccess=Hn=>{Mn()},Pt.onerror=Hn=>{var ti;kn(Zt.create("storage-set",{originalErrorMessage:null===(ti=Hn.target.error)||void 0===ti?void 0:ti.message}))}})})).apply(this,arguments)}const On=new jt.Yd("@firebase/app-check");function Cn(je,Ne){return(0,st.hl)()?function(je,Ne){return function(je,Ne){return mt.apply(this,arguments)}(function(je){return`${je.options.appId}-${je.name}`}(je),Ne)}(je,Ne).catch(it=>{On.warn(`Failed to write token to IndexedDB. Error: ${it}`)}):Promise.resolve()}function on(){return en().enabled}function Ce(){return Te.apply(this,arguments)}function Te(){return(Te=(0,pt.Z)(function*(){const je=en();if(je.enabled&&je.token)return je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fe={error:"UNKNOWN_ERROR"};function Ie(je){return st.US.encodeString(JSON.stringify(je),!1)}function _t(je){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,pt.Z)(function*(je,Ne=!1){const it=je.app;Ln(it);const Pt=Mt(it);let pn,Gt=Pt.token;if(!Gt){const Hn=yield Pt.cachedTokenPromise;Hn&&tt(Hn)&&(Gt=Hn)}if(!Ne&&Gt&&tt(Gt))return{token:Gt.token};let kn,Mn=!1;if(on()){Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=Qt(fn(it,yield Ce()),je.heartbeatServiceProvider).then(ti=>(Pt.exchangeTokenPromise=void 0,ti)),Mn=!0);const Hn=yield Pt.exchangeTokenPromise;return yield Cn(it,Hn),Et(it,Object.assign(Object.assign({},Pt),{token:Hn})),{token:Hn.token}}try{Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=Pt.provider.getToken().then(Hn=>(Pt.exchangeTokenPromise=void 0,Hn)),Mn=!0),Gt=yield Pt.exchangeTokenPromise}catch(Hn){"appCheck/throttled"===Hn.code?On.warn(Hn.message):On.error(Hn),pn=Hn}return Gt?(kn={token:Gt.token},Et(it,Object.assign(Object.assign({},Pt),{token:Gt})),yield Cn(it,Gt)):kn=He(pn),Mn&&er(it,kn),kn})).apply(this,arguments)}function jn(je,Ne){const it=Mt(je),Pt=it.tokenObservers.filter(Gt=>Gt.next!==Ne);0===Pt.length&&it.tokenRefresher&&it.tokenRefresher.isRunning()&&it.tokenRefresher.stop(),Et(je,Object.assign(Object.assign({},it),{tokenObservers:Pt}))}function lr(je){const{app:Ne}=je,it=Mt(Ne);let Pt=it.tokenRefresher;Pt||(Pt=function(je){const{app:Ne}=je;return new tn((0,pt.Z)(function*(){let Pt;if(Pt=Mt(Ne).token?yield _t(je,!0):yield _t(je),Pt.error)throw Pt.error}),()=>!0,()=>{const it=Mt(Ne);if(it.token){let Pt=it.token.issuedAtTimeMillis+.5*(it.token.expireTimeMillis-it.token.issuedAtTimeMillis)+3e5;return Pt=Math.min(Pt,it.token.expireTimeMillis-3e5),Math.max(0,Pt-Date.now())}return 0},3e4,96e4)}(je),Et(Ne,Object.assign(Object.assign({},it),{tokenRefresher:Pt}))),!Pt.isRunning()&&it.isTokenAutoRefreshEnabled&&Pt.start()}function er(je,Ne){const it=Mt(je).tokenObservers;for(const Pt of it)try{"EXTERNAL"===Pt.type&&null!=Ne.error?Pt.error(Ne.error):Pt.next(Ne)}catch(Gt){}}function tt(je){return je.expireTimeMillis-Date.now()>0}function He(je){return{token:Ie(Fe),error:je}}class ke{constructor(Ne,it){this.app=Ne,this.heartbeatServiceProvider=it}_delete(){const{tokenObservers:Ne}=Mt(this.app);for(const it of Ne)jn(this.app,it.next);return Promise.resolve()}}const Bn="app-check-internal";(0,Tn._registerComponent)(new _n.wA("app-check",je=>function(je,Ne){return new ke(je,Ne)}(je.getProvider("app").getImmediate(),je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((je,Ne,it)=>{je.getProvider(Bn).initialize()})),(0,Tn._registerComponent)(new _n.wA(Bn,je=>function(je){return{getToken:Ne=>_t(je,Ne),addTokenListener:Ne=>function(je,Ne,it,Pt){const{app:Gt}=je,pn=Mt(Gt),Mn={next:it,error:Pt,type:Ne};if(Et(Gt,Object.assign(Object.assign({},pn),{tokenObservers:[...pn.tokenObservers,Mn]})),pn.token&&tt(pn.token)){const kn=pn.token;Promise.resolve().then(()=>{it({token:kn.token}),lr(je)}).catch(()=>{})}pn.cachedTokenPromise.then(()=>lr(je))}(je,"INTERNAL",Ne),removeTokenListener:Ne=>jn(je.app,Ne)}}(je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Tn.registerVersion)("@firebase/app-check","0.5.10");class Zi{constructor(){return(0,h.vb)("app-check")}}"undefined"!=typeof window&&window},1325:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{AngularFireAuth:()=>gt,AngularFireAuthModule:()=>Mt,LANGUAGE_CODE:()=>st,PERSISTENCE:()=>Ue,SETTINGS:()=>Tn,TENANT_ID:()=>_n,USE_DEVICE_LANGUAGE:()=>jt,USE_EMULATOR:()=>pt,\u0275authFactory:()=>bt});var h=P(7716),R=P(9765),z=P(5917),ue=P(8891),pe=P(4402),ee=P(6682),ce=P(9746),X=P(3190),le=P(8002),$=P(7349),J=P(8049),ie=P(9499),we=P(2639),xe=P(5435),Xe=P(2274),et=P(8939),Se=P(8583),qe=P(3950),rt=P(7841);const pt=new h.InjectionToken("angularfire2.auth.use-emulator"),Tn=new h.InjectionToken("angularfire2.auth.settings"),_n=new h.InjectionToken("angularfire2.auth.tenant-id"),st=new h.InjectionToken("angularfire2.auth.langugage-code"),jt=new h.InjectionToken("angularfire2.auth.use-device-language"),Ue=new h.InjectionToken("angularfire.auth.persistence"),bt=(Et,en,xt,En,mr,Sn,ar,Dn)=>(0,et.\u0275cacheInstance)(`${Et.name}.auth`,"AngularFireAuth",Et.name,()=>{const tn=en.runOutsideAngular(()=>Et.auth());if(xt&&tn.useEmulator(...xt),En&&(tn.tenantId=En),tn.languageCode=mr,Sn&&tn.useDeviceLanguage(),ar)for(const[Dr,Ht]of Object.entries(ar))tn.settings[Dr]=Ht;return Dn&&tn.setPersistence(Dn),tn},[xt,En,mr,Sn,ar,Dn]);let gt=(()=>{class Et{constructor(xt,En,mr,Sn,ar,Dn,tn,Dr,Ht,Zt,wt,Ln){const dn=new R.xQ,wn=(0,z.of)(void 0).pipe((0,ce.QV)(ar.outsideAngular),(0,X.w)(()=>Sn.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4828)))),(0,le.U)(()=>(0,et.\u0275firebaseAppFactory)(xt,Sn,En)),(0,le.U)(Qt=>bt(Qt,Sn,Dn,Dr,Ht,Zt,tn,wt)),(0,$.d)({bufferSize:1,refCount:!1}));if((0,Se.isPlatformServer)(mr))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{wn.pipe((0,J.P)()).subscribe();const Ft=wn.pipe((0,X.w)(fn=>fn.getRedirectResult().then(St=>St,()=>null)),Xe.iC,(0,$.d)({bufferSize:1,refCount:!1})),ir=wn.pipe((0,X.w)(fn=>new ue.y(St=>({unsubscribe:Sn.runOutsideAngular(()=>fn.onAuthStateChanged(Xn=>St.next(Xn),Xn=>St.error(Xn),()=>St.complete()))})))),Ar=wn.pipe((0,X.w)(fn=>new ue.y(St=>({unsubscribe:Sn.runOutsideAngular(()=>fn.onIdTokenChanged(Xn=>St.next(Xn),Xn=>St.error(Xn),()=>St.complete()))}))));this.authState=Ft.pipe((0,ie.c)(ir),(0,we.R)(ar.outsideAngular),(0,ce.QV)(ar.insideAngular)),this.user=Ft.pipe((0,ie.c)(Ar),(0,we.R)(ar.outsideAngular),(0,ce.QV)(ar.insideAngular)),this.idToken=this.user.pipe((0,X.w)(fn=>fn?(0,pe.D)(fn.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,X.w)(fn=>fn?(0,pe.D)(fn.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,ee.T)(Ft,dn,this.authState.pipe((0,xe.h)(fn=>!fn))).pipe((0,le.U)(fn=>(null==fn?void 0:fn.user)?fn:null),(0,we.R)(ar.outsideAngular),(0,ce.QV)(ar.insideAngular))}return(0,et.\u0275lazySDKProxy)(this,wn,Sn,{spy:{apply:(Qt,Ft,ir)=>{(Qt.startsWith("signIn")||Qt.startsWith("createUser"))&&ir.then(Ar=>dn.next(Ar))}}})}}return Et.\u0275fac=function(xt){return new(xt||Et)(h.\u0275\u0275inject(et.FIREBASE_OPTIONS),h.\u0275\u0275inject(et.FIREBASE_APP_NAME,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(Xe.HU),h.\u0275\u0275inject(pt,8),h.\u0275\u0275inject(Tn,8),h.\u0275\u0275inject(_n,8),h.\u0275\u0275inject(st,8),h.\u0275\u0275inject(jt,8),h.\u0275\u0275inject(Ue,8),h.\u0275\u0275inject(qe.nm,8))},Et.\u0275prov=h.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac,providedIn:"any"}),Et})(),Mt=(()=>{class Et{constructor(){rt.Z.registerVersion("angularfire",Xe.q4.full,"auth-compat")}}return Et.\u0275fac=function(xt){return new(xt||Et)},Et.\u0275mod=h.\u0275\u0275defineNgModule({type:Et}),Et.\u0275inj=h.\u0275\u0275defineInjector({providers:[gt]}),Et})()},2626:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{AngularFireDatabase:()=>Xh,AngularFireDatabaseModule:()=>Yh,URL:()=>Ba,USE_EMULATOR:()=>Yf,auditTrail:()=>oh,createListReference:()=>Zl,fromRef:()=>vl,listChanges:()=>Ad,snapshotChanges:()=>zl,stateChanges:()=>Ru});var h=P(7716),R=P(3637),z=P(8891),ue=P(5917),pe=P(6682),ee=P(8002),ce=P(8345),X=P(3190),le=P(2145),$=P(7519),J=P(7057),ie=P(6888),we=P(2274),xe=P(8939),et=(P(4828),P(3394)),Se=P(3910),qe=P(8239),rt=P(8026),re=P(3854),pt=P(5422);const Tn="@firebase/database";let st="";function jt(p){st=p}class Ue{constructor(c){this.domStorage_=c,this.prefix_="firebase:"}set(c,d){null==d?this.domStorage_.removeItem(this.prefixedName_(c)):this.domStorage_.setItem(this.prefixedName_(c),(0,re.Pz)(d))}get(c){const d=this.domStorage_.getItem(this.prefixedName_(c));return null==d?null:(0,re.cI)(d)}remove(c){this.domStorage_.removeItem(this.prefixedName_(c))}prefixedName_(c){return this.prefix_+c}toString(){return this.domStorage_.toString()}}class bt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(c,d){null==d?delete this.cache_[c]:this.cache_[c]=d}get(c){return(0,re.r3)(this.cache_,c)?this.cache_[c]:null}remove(c){delete this.cache_[c]}}const gt=function(p){try{if("undefined"!=typeof window&&void 0!==window[p]){const c=window[p];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),new Ue(c)}}catch(c){}return new bt},Mt=gt("localStorage"),Et=gt("sessionStorage"),en=new pt.Yd("@firebase/database"),xt=function(){let p=1;return function(){return p++}}(),En=function(p){const c=(0,re.dS)(p),d=new re.gQ;d.update(c);const _=d.digest();return re.US.encodeByteArray(_)},mr=function(...p){let c="";for(let d=0;d<p.length;d++){const _=p[d];Array.isArray(_)||_&&"object"==typeof _&&"number"==typeof _.length?c+=mr.apply(null,_):c+="object"==typeof _?(0,re.Pz)(_):_,c+=" "}return c};let Sn=null,ar=!0;const Dn=function(p,c){(0,re.hu)(!c||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(en.logLevel=pt.in.VERBOSE,Sn=en.log.bind(en),c&&Et.set("logging_enabled",!0)):"function"==typeof p?Sn=p:(Sn=null,Et.remove("logging_enabled"))},tn=function(...p){if(!0===ar&&(ar=!1,null===Sn&&!0===Et.get("logging_enabled")&&Dn(!0)),Sn){const c=mr.apply(null,p);Sn(c)}},Dr=function(p){return function(...c){tn(p,...c)}},Ht=function(...p){const c="FIREBASE INTERNAL ERROR: "+mr(...p);en.error(c)},Zt=function(...p){const c=`FIREBASE FATAL ERROR: ${mr(...p)}`;throw en.error(c),new Error(c)},wt=function(...p){const c="FIREBASE WARNING: "+mr(...p);en.warn(c)},dn=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},Qt="[MIN_NAME]",Ft="[MAX_NAME]",ir=function(p,c){if(p===c)return 0;if(p===Qt||c===Ft)return-1;if(c===Qt||p===Ft)return 1;{const d=dt(p),_=dt(c);return null!==d?null!==_?d-_==0?p.length-c.length:d-_:-1:null!==_?1:p<c?-1:1}},Ar=function(p,c){return p===c?0:p<c?-1:1},fn=function(p,c){if(c&&p in c)return c[p];throw new Error("Missing required key ("+p+") in object: "+(0,re.Pz)(c))},St=function(p){if("object"!=typeof p||null===p)return(0,re.Pz)(p);const c=[];for(const _ in p)c.push(_);c.sort();let d="{";for(let _=0;_<c.length;_++)0!==_&&(d+=","),d+=(0,re.Pz)(c[_]),d+=":",d+=St(p[c[_]]);return d+="}",d},Xn=function(p,c){const d=p.length;if(d<=c)return[p];const _=[];for(let T=0;T<d;T+=c)_.push(p.substring(T,T+c>d?d:T+c));return _};function xn(p,c){for(const d in p)p.hasOwnProperty(d)&&c(d,p[d])}const ln=function(p){(0,re.hu)(!dn(p),"Invalid JSON number");const _=1023;let T,k,W,ne,be;0===p?(k=0,W=0,T=1/p==-1/0?1:0):(T=p<0,(p=Math.abs(p))>=Math.pow(2,1-_)?(ne=Math.min(Math.floor(Math.log(p)/Math.LN2),_),k=ne+_,W=Math.round(p*Math.pow(2,52-ne)-Math.pow(2,52))):(k=0,W=Math.round(p/Math.pow(2,-1074))));const Re=[];for(be=52;be;be-=1)Re.push(W%2?1:0),W=Math.floor(W/2);for(be=11;be;be-=1)Re.push(k%2?1:0),k=Math.floor(k/2);Re.push(T?1:0),Re.reverse();const lt=Re.join("");let ut="";for(be=0;be<64;be+=8){let Ut=parseInt(lt.substr(be,8),2).toString(16);1===Ut.length&&(Ut="0"+Ut),ut+=Ut}return ut.toLowerCase()},at=new RegExp("^-?(0*)\\d{1,10}$"),$e=-2147483648,Ae=2147483647,dt=function(p){if(at.test(p)){const c=Number(p);if(c>=$e&&c<=Ae)return c}return null},mt=function(p){try{p()}catch(c){setTimeout(()=>{throw wt("Exception was thrown by user callback.",c.stack||""),c},Math.floor(0))}},At=function(p,c){const d=setTimeout(p,c);return"object"==typeof d&&d.unref&&d.unref(),d};class Yt{constructor(c,d){this.appName_=c,this.appCheckProvider=d,this.appCheck=null==d?void 0:d.getImmediate({optional:!0}),this.appCheck||null==d||d.get().then(_=>this.appCheck=_)}getToken(c){return this.appCheck?this.appCheck.getToken(c):new Promise((d,_)=>{setTimeout(()=>{this.appCheck?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(_=>_.addTokenListener(c))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class On{constructor(c,d,_){this.appName_=c,this.firebaseOptions_=d,this.authProvider_=_,this.auth_=null,this.auth_=_.getImmediate({optional:!0}),this.auth_||_.onInit(T=>this.auth_=T)}getToken(c){return this.auth_?this.auth_.getToken(c).catch(d=>d&&"auth/token-not-initialized"===d.code?(tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,_)=>{setTimeout(()=>{this.auth_?this.getToken(c).then(d,_):d(null)},0)})}addTokenChangeListener(c){this.auth_?this.auth_.addAuthTokenListener(c):this.authProvider_.get().then(d=>d.addAuthTokenListener(c))}removeTokenChangeListener(c){this.authProvider_.get().then(d=>d.removeAuthTokenListener(c))}notifyForInvalidToken(){let c='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';c+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(c)}}let _r=(()=>{class p{constructor(d){this.accessToken=d}getToken(d){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(d){d(this.accessToken)}removeTokenChangeListener(d){}notifyForInvalidToken(){}}return p.OWNER="owner",p})();const Ce=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ie="websocket",_t="long_polling";class Ot{constructor(c,d,_,T,k=!1,W="",ne=!1){this.secure=d,this.namespace=_,this.webSocketOnly=T,this.nodeAdmin=k,this.persistenceKey=W,this.includeNamespaceInQueryParams=ne,this._host=c.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mt.get("host:"+c)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(c){c!==this.internalHost&&(this.internalHost=c,this.isCacheableHost()&&Mt.set("host:"+this._host,this.internalHost))}toString(){let c=this.toURLString();return this.persistenceKey&&(c+="<"+this.persistenceKey+">"),c}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jn(p,c,d){let _;if((0,re.hu)("string"==typeof c,"typeof type must == string"),(0,re.hu)("object"==typeof d,"typeof params must == object"),c===Ie)_=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(c!==_t)throw new Error("Unknown connection type: "+c);_=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(d.ns=p.namespace);const T=[];return xn(d,(k,W)=>{T.push(k+"="+W)}),_+T.join("&")}class lr{constructor(){this.counters_={}}incrementCounter(c,d=1){(0,re.r3)(this.counters_,c)||(this.counters_[c]=0),this.counters_[c]+=d}get(){return(0,re.p$)(this.counters_)}}const Mr={},er={};function tt(p){const c=p.toString();return Mr[c]||(Mr[c]=new lr),Mr[c]}class ke{constructor(c){this.onMessage_=c,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(c,d){this.closeAfterResponse=c,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(c,d){for(this.pendingResponses[c]=d;this.pendingResponses[this.currentResponseNum];){const _=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let T=0;T<_.length;++T)_[T]&&mt(()=>{this.onMessage_(_[T])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class cr{constructor(c,d,_,T,k,W,ne){this.connId=c,this.repoInfo=d,this.applicationId=_,this.appCheckToken=T,this.authToken=k,this.transportSessionId=W,this.lastSessionId=ne,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dr(c),this.stats_=tt(d),this.urlFn=be=>(this.appCheckToken&&(be.ac=this.appCheckToken),jn(d,_t,be))}open(c,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new ke(c),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,re.Yr)()||"complete"===document.readyState)p();else{let c=!1;const d=function(){document.body?c||(c=!0,p()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hi((...k)=>{const[W,ne,be,Re,lt]=k;if(this.incrementIncomingBytes_(k),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===W)this.id=ne,this.password=be;else{if("close"!==W)throw new Error("Unrecognized command received: "+W);ne?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ne,()=>{this.onClosed_()})):this.onClosed_()}},(...k)=>{const[W,ne]=k;this.incrementIncomingBytes_(k),this.myPacketOrderer.handleResponse(W,ne)},()=>{this.onClosed_()},this.urlFn);const _={start:"t"};_.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(_.cb=this.scriptTagHolder.uniqueCallbackIdentifier),_.v="5",this.transportSessionId&&(_.s=this.transportSessionId),this.lastSessionId&&(_.ls=this.lastSessionId),this.applicationId&&(_.p=this.applicationId),this.appCheckToken&&(_.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ce.test(location.hostname)&&(_.r="f");const T=this.urlFn(_);this.log_("Connecting via long-poll to "+T),this.scriptTagHolder.addTag(T,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cr.forceAllow_=!0}static forceDisallow(){cr.forceDisallow_=!0}static isAvailable(){return!((0,re.Yr)()||!cr.forceAllow_&&(cr.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(c){const d=(0,re.Pz)(c);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const _=(0,re.h$)(d),T=Xn(_,1840);for(let k=0;k<T.length;k++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,T.length,T[k]),this.curSegmentNum++}addDisconnectPingFrame(c,d){if((0,re.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const _={dframe:"t"};_.id=c,_.pw=d,this.myDisconnFrame.src=this.urlFn(_),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(c){const d=(0,re.Pz)(c).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class hi{constructor(c,d,_,T){if(this.onDisconnect=_,this.urlFn=T,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,re.Yr)())this.commandCB=c,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=xt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=c,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=hi.createIFrame_();let k="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(k='<script>document.domain="'+document.domain+'";<\/script>');const W="<html><body>"+k+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(W),this.myIFrame.doc.close()}catch(ne){tn("frame writing exception"),ne.stack&&tn(ne.stack),tn(ne)}}}static createIFrame_(){const c=document.createElement("iframe");if(c.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(c);try{c.contentWindow.document||tn("No IE domain setting required")}catch(d){const _=document.domain;c.src="javascript:void((function(){document.open();document.domain='"+_+"';document.close();})())"}return c.contentDocument?c.doc=c.contentDocument:c.contentWindow?c.doc=c.contentWindow.document:c.document&&(c.doc=c.document),c}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const c=this.onDisconnect;c&&(this.onDisconnect=null,c())}startLongPoll(c,d){for(this.myID=c,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const c={};c.id=this.myID,c.pw=this.myPW,c.ser=this.currentSerial;let d=this.urlFn(c),_="",T=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+_.length<=1870;){const W=this.pendingSegs.shift();_=_+"&seg"+T+"="+W.seg+"&ts"+T+"="+W.ts+"&d"+T+"="+W.d,T++}return d+=_,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(c,d,_){this.pendingSegs.push({seg:c,ts:d,d:_}),this.alive&&this.newRequest_()}addLongPollTag_(c,d){this.outstandingRequests.add(d);const _=()=>{this.outstandingRequests.delete(d),this.newRequest_()},T=setTimeout(_,Math.floor(25e3));this.addTag(c,()=>{clearTimeout(T),_()})}addTag(c,d){(0,re.Yr)()?this.doNodeLongPoll(c,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const _=this.myIFrame.doc.createElement("script");_.type="text/javascript",_.async=!0,_.src=c,_.onload=_.onreadystatechange=function(){const T=_.readyState;(!T||"loaded"===T||"complete"===T)&&(_.onload=_.onreadystatechange=null,_.parentNode&&_.parentNode.removeChild(_),d())},_.onerror=()=>{tn("Long-poll script failed to load: "+c),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(_)}catch(_){}},Math.floor(1))}}let Le=null;"undefined"!=typeof MozWebSocket?Le=MozWebSocket:"undefined"!=typeof WebSocket&&(Le=WebSocket);let Ve=(()=>{class p{constructor(d,_,T,k,W,ne,be){this.connId=d,this.applicationId=T,this.appCheckToken=k,this.authToken=W,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dr(this.connId),this.stats_=tt(_),this.connURL=p.connectionURL_(_,ne,be,k,T),this.nodeAdmin=_.nodeAdmin}static connectionURL_(d,_,T,k,W){const ne={v:"5"};return!(0,re.Yr)()&&"undefined"!=typeof location&&location.hostname&&Ce.test(location.hostname)&&(ne.r="f"),_&&(ne.s=_),T&&(ne.ls=T),k&&(ne.ac=k),W&&(ne.p=W),jn(d,Ie,ne)}open(d,_){this.onDisconnect=_,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mt.set("previous_websocket_failure",!0);try{let T;if((0,re.Yr)()){const W={headers:{"User-Agent":`Firebase/5/${st}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(W.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(W.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ne=process.env,be=0===this.connURL.indexOf("wss://")?ne.HTTPS_PROXY||ne.https_proxy:ne.HTTP_PROXY||ne.http_proxy;be&&(W.proxy={origin:be})}this.mySock=new Le(this.connURL,[],T)}catch(T){this.log_("Error instantiating WebSocket.");const k=T.message||T.data;return k&&this.log_(k),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=T=>{this.handleIncomingFrame(T)},this.mySock.onerror=T=>{this.log_("WebSocket error.  Closing connection.");const k=T.message||T.data;k&&this.log_(k),this.onClosed_()}}start(){}static forceDisallow(){p.forceDisallow_=!0}static isAvailable(){let d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const T=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);T&&T.length>1&&parseFloat(T[1])<4.4&&(d=!0)}return!d&&null!==Le&&!p.forceDisallow_}static previouslyFailed(){return Mt.isInMemoryStorage||!0===Mt.get("previous_websocket_failure")}markConnectionHealthy(){Mt.remove("previous_websocket_failure")}appendFrame_(d){if(this.frames.push(d),this.frames.length===this.totalFrames){const _=this.frames.join("");this.frames=null;const T=(0,re.cI)(_);this.onMessage(T)}}handleNewFrameCount_(d){this.totalFrames=d,this.frames=[]}extractFrameCount_(d){if((0,re.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){const _=Number(d);if(!isNaN(_))return this.handleNewFrameCount_(_),null}return this.handleNewFrameCount_(1),d}handleIncomingFrame(d){if(null===this.mySock)return;const _=d.data;if(this.bytesReceived+=_.length,this.stats_.incrementCounter("bytes_received",_.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(_);else{const T=this.extractFrameCount_(_);null!==T&&this.appendFrame_(T)}}send(d){this.resetKeepAlive();const _=(0,re.Pz)(d);this.bytesSent+=_.length,this.stats_.incrementCounter("bytes_sent",_.length);const T=Xn(_,16384);T.length>1&&this.sendString_(String(T.length));for(let k=0;k<T.length;k++)this.sendString_(T[k])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(d){try{this.mySock.send(d)}catch(_){this.log_("Exception thrown from WebSocket.send():",_.message||_.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p})(),_e=(()=>{class p{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[cr,Ve]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(d){const _=Ve&&Ve.isAvailable();let T=_&&!Ve.previouslyFailed();if(d.webSocketOnly&&(_||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),T=!0),T)this.transports_=[Ve];else{const k=this.transports_=[];for(const W of p.ALL_TRANSPORTS)W&&W.isAvailable()&&k.push(W);p.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return p.globalTransportInitialized_=!1,p})();class us{constructor(c,d,_,T,k,W,ne,be,Re,lt){this.id=c,this.repoInfo_=d,this.applicationId_=_,this.appCheckToken_=T,this.authToken_=k,this.onMessage_=W,this.onReady_=ne,this.onDisconnect_=be,this.onKill_=Re,this.lastSessionId=lt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dr("c:"+this.id+":"),this.transportManager_=new _e(d),this.log_("Connection created"),this.start_()}start_(){const c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),_=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,_)},Math.floor(0));const T=c.healthyTimeout||0;T>0&&(this.healthyTimeout_=At(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(T)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(c){return d=>{c===this.conn_?this.onConnectionLost_(d):c===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(c){return d=>{2!==this.state_&&(c===this.rx_?this.onPrimaryMessageReceived_(d):c===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(c){this.sendData_({t:"d",d:c})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(c){if("t"in c){const d=c.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(c){const d=fn("t",c),_=fn("d",c);if("c"===d)this.onSecondaryControl_(_);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(_)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(c){const d=fn("t",c),_=fn("d",c);"c"===d?this.onControl_(_):"d"===d&&this.onDataMessage_(_)}onDataMessage_(c){this.onPrimaryResponse_(),this.onMessage_(c)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(c){const d=fn("t",c);if("d"in c){const _=c.d;if("h"===d)this.onHandshake_(_);else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let T=0;T<this.pendingDataMessages.length;++T)this.onDataMessage_(this.pendingDataMessages[T]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(_):"r"===d?this.onReset_(_):"e"===d?Ht("Server Error: "+_):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ht("Unknown control packet command: "+d)}}onHandshake_(c){const d=c.ts,_=c.v,T=c.h;this.sessionId=c.s,this.repoInfo_.host=T,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==_&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const c=this.transportManager_.upgradeTransport();c&&this.startUpgrade_(c)}startUpgrade_(c){this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),_=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,_),At(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(c){this.log_("Reset packet received.  New host: "+c),this.repoInfo_.host=c,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(c,d){this.log_("Realtime connection established."),this.conn_=c,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):At(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const c=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===c||this.rx_===c)&&this.close()}onConnectionLost_(c){this.conn_=null,c||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(c){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(c),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(c){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(c)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _s{put(c,d,_,T){}merge(c,d,_,T){}refreshAuthToken(c){}refreshAppCheckToken(c){}onDisconnectPut(c,d,_){}onDisconnectMerge(c,d,_){}onDisconnectCancel(c,d){}reportStats(c){}}class yr{constructor(c){this.allowedEvents_=c,this.listeners_={},(0,re.hu)(Array.isArray(c)&&c.length>0,"Requires a non-empty array")}trigger(c,...d){if(Array.isArray(this.listeners_[c])){const _=[...this.listeners_[c]];for(let T=0;T<_.length;T++)_[T].callback.apply(_[T].context,d)}}on(c,d,_){this.validateEventType_(c),this.listeners_[c]=this.listeners_[c]||[],this.listeners_[c].push({callback:d,context:_});const T=this.getInitialEvent(c);T&&d.apply(_,T)}off(c,d,_){this.validateEventType_(c);const T=this.listeners_[c]||[];for(let k=0;k<T.length;k++)if(T[k].callback===d&&(!_||_===T[k].context))return void T.splice(k,1)}validateEventType_(c){(0,re.hu)(this.allowedEvents_.find(d=>d===c),"Unknown event: "+c)}}class Ui extends yr{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,re.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ui}getInitialEvent(c){return(0,re.hu)("online"===c,"Unknown event type: "+c),[this.online_]}currentlyOnline(){return this.online_}}class hr{constructor(c,d){if(void 0===d){this.pieces_=c.split("/");let _=0;for(let T=0;T<this.pieces_.length;T++)this.pieces_[T].length>0&&(this.pieces_[_]=this.pieces_[T],_++);this.pieces_.length=_,this.pieceNum_=0}else this.pieces_=c,this.pieceNum_=d}toString(){let c="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(c+="/"+this.pieces_[d]);return c||"/"}}function zn(){return new hr("")}function fr(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function je(p){return p.pieces_.length-p.pieceNum_}function Ne(p){let c=p.pieceNum_;return c<p.pieces_.length&&c++,new hr(p.pieces_,c)}function it(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Gt(p,c=0){return p.pieces_.slice(p.pieceNum_+c)}function pn(p){if(p.pieceNum_>=p.pieces_.length)return null;const c=[];for(let d=p.pieceNum_;d<p.pieces_.length-1;d++)c.push(p.pieces_[d]);return new hr(c,0)}function Mn(p,c){const d=[];for(let _=p.pieceNum_;_<p.pieces_.length;_++)d.push(p.pieces_[_]);if(c instanceof hr)for(let _=c.pieceNum_;_<c.pieces_.length;_++)d.push(c.pieces_[_]);else{const _=c.split("/");for(let T=0;T<_.length;T++)_[T].length>0&&d.push(_[T])}return new hr(d,0)}function kn(p){return p.pieceNum_>=p.pieces_.length}function Hn(p,c){const d=fr(p),_=fr(c);if(null===d)return c;if(d===_)return Hn(Ne(p),Ne(c));throw new Error("INTERNAL ERROR: innerPath ("+c+") is not within outerPath ("+p+")")}function ti(p,c){const d=Gt(p,0),_=Gt(c,0);for(let T=0;T<d.length&&T<_.length;T++){const k=ir(d[T],_[T]);if(0!==k)return k}return d.length===_.length?0:d.length<_.length?-1:1}function ls(p,c){if(je(p)!==je(c))return!1;for(let d=p.pieceNum_,_=c.pieceNum_;d<=p.pieces_.length;d++,_++)if(p.pieces_[d]!==c.pieces_[_])return!1;return!0}function Yr(p,c){let d=p.pieceNum_,_=c.pieceNum_;if(je(p)>je(c))return!1;for(;d<p.pieces_.length;){if(p.pieces_[d]!==c.pieces_[_])return!1;++d,++_}return!0}class As{constructor(c,d){this.errorPrefix_=d,this.parts_=Gt(c,0),this.byteLength_=Math.max(1,this.parts_.length);for(let _=0;_<this.parts_.length;_++)this.byteLength_+=(0,re.ug)(this.parts_[_]);fa(this)}}function fa(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mi(p))}function Mi(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}class Oi extends yr{constructor(){let c,d;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(d="visibilitychange",c="hidden"):void 0!==document.mozHidden?(d="mozvisibilitychange",c="mozHidden"):void 0!==document.msHidden?(d="msvisibilitychange",c="msHidden"):void 0!==document.webkitHidden&&(d="webkitvisibilitychange",c="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const _=!document[c];_!==this.visible_&&(this.visible_=_,this.trigger("visible",_))},!1)}static getInstance(){return new Oi}getInitialEvent(c){return(0,re.hu)("visible"===c,"Unknown event type: "+c),[this.visible_]}}const es=1e3;let ks,fi=(()=>{class p extends _s{constructor(d,_,T,k,W,ne,be,Re){if(super(),this.repoInfo_=d,this.applicationId_=_,this.onDataUpdate_=T,this.onConnectStatus_=k,this.onServerInfoUpdate_=W,this.authTokenProvider_=ne,this.appCheckTokenProvider_=be,this.authOverride_=Re,this.id=p.nextPersistentConnectionId_++,this.log_=Dr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=es,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Re&&!(0,re.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Oi.getInstance().on("visible",this.onVisible_,this),-1===d.host.indexOf("fblocal")&&Ui.getInstance().on("online",this.onOnline_,this)}sendRequest(d,_,T){const k=++this.requestNumber_,W={r:k,a:d,b:_};this.log_((0,re.Pz)(W)),(0,re.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(W),T&&(this.requestCBHash_[k]=T)}get(d){this.initConnection_();const _=new re.BH,k={action:"g",request:{p:d._path.toString(),q:d._queryObject},onComplete:ne=>{const be=ne.d;"ok"===ne.s?_.resolve(be):_.reject(be)}};this.outstandingGets_.push(k),this.outstandingGetCount_++;const W=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const ne=this.outstandingGets_[W];void 0===ne||k!==ne||(delete this.outstandingGets_[W],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+W+" timed out on connection"),_.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(W),_.promise}listen(d,_,T,k){this.initConnection_();const W=d._queryIdentifier,ne=d._path.toString();this.log_("Listen called for "+ne+" "+W),this.listens.has(ne)||this.listens.set(ne,new Map),(0,re.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,re.hu)(!this.listens.get(ne).has(W),"listen() called twice for same path/queryId.");const be={onComplete:k,hashFn:_,query:d,tag:T};this.listens.get(ne).set(W,be),this.connected_&&this.sendListen_(be)}sendGet_(d){const _=this.outstandingGets_[d];this.sendRequest("g",_.request,T=>{delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),_.onComplete&&_.onComplete(T)})}sendListen_(d){const _=d.query,T=_._path.toString(),k=_._queryIdentifier;this.log_("Listen on "+T+" for "+k);const W={p:T};d.tag&&(W.q=_._queryObject,W.t=d.tag),W.h=d.hashFn(),this.sendRequest("q",W,be=>{const Re=be.d,lt=be.s;p.warnOnListenWarnings_(Re,_),(this.listens.get(T)&&this.listens.get(T).get(k))===d&&(this.log_("listen response",be),"ok"!==lt&&this.removeListen_(T,k),d.onComplete&&d.onComplete(lt,Re))})}static warnOnListenWarnings_(d,_){if(d&&"object"==typeof d&&(0,re.r3)(d,"w")){const T=(0,re.DV)(d,"w");if(Array.isArray(T)&&~T.indexOf("no_index")){const k='".indexOn": "'+_._queryParams.getIndex().toString()+'"',W=_._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${k} at ${W} to your security rules for better performance.`)}}}refreshAuthToken(d){this.authToken_=d,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(d)}reduceReconnectDelayIfAdminCredential_(d){(d&&40===d.length||(0,re.GJ)(d))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(d){this.appCheckToken_=d,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const d=this.authToken_,_=(0,re.w9)(d)?"auth":"gauth",T={cred:d};null===this.authOverride_?T.noauth=!0:"object"==typeof this.authOverride_&&(T.authvar=this.authOverride_),this.sendRequest(_,T,k=>{const W=k.s,ne=k.d||"error";this.authToken_===d&&("ok"===W?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(W,ne))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},d=>{const _=d.s,T=d.d||"error";"ok"===_?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(_,T)})}unlisten(d,_){const T=d._path.toString(),k=d._queryIdentifier;this.log_("Unlisten called for "+T+" "+k),(0,re.hu)(d._queryParams.isDefault()||!d._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(T,k)&&this.connected_&&this.sendUnlisten_(T,k,d._queryObject,_)}sendUnlisten_(d,_,T,k){this.log_("Unlisten on "+d+" for "+_);const W={p:d};k&&(W.q=T,W.t=k),this.sendRequest("n",W)}onDisconnectPut(d,_,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",d,_,T):this.onDisconnectRequestQueue_.push({pathString:d,action:"o",data:_,onComplete:T})}onDisconnectMerge(d,_,T){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",d,_,T):this.onDisconnectRequestQueue_.push({pathString:d,action:"om",data:_,onComplete:T})}onDisconnectCancel(d,_){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",d,null,_):this.onDisconnectRequestQueue_.push({pathString:d,action:"oc",data:null,onComplete:_})}sendOnDisconnect_(d,_,T,k){const W={p:_,d:T};this.log_("onDisconnect "+d,W),this.sendRequest(d,W,ne=>{k&&setTimeout(()=>{k(ne.s,ne.d)},Math.floor(0))})}put(d,_,T,k){this.putInternal("p",d,_,T,k)}merge(d,_,T,k){this.putInternal("m",d,_,T,k)}putInternal(d,_,T,k,W){this.initConnection_();const ne={p:_,d:T};void 0!==W&&(ne.h=W),this.outstandingPuts_.push({action:d,request:ne,onComplete:k}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+_)}sendPut_(d){const _=this.outstandingPuts_[d].action,T=this.outstandingPuts_[d].request,k=this.outstandingPuts_[d].onComplete;this.outstandingPuts_[d].queued=this.connected_,this.sendRequest(_,T,W=>{this.log_(_+" response",W),delete this.outstandingPuts_[d],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),k&&k(W.s,W.d)})}reportStats(d){if(this.connected_){const _={c:d};this.log_("reportStats",_),this.sendRequest("s",_,T=>{"ok"!==T.s&&this.log_("reportStats","Error sending stats: "+T.d)})}}onDataMessage_(d){if("r"in d){this.log_("from server: "+(0,re.Pz)(d));const _=d.r,T=this.requestCBHash_[_];T&&(delete this.requestCBHash_[_],T(d.b))}else{if("error"in d)throw"A server-side error has occurred: "+d.error;"a"in d&&this.onDataPush_(d.a,d.b)}}onDataPush_(d,_){this.log_("handleServerMessage",d,_),"d"===d?this.onDataUpdate_(_.p,_.d,!1,_.t):"m"===d?this.onDataUpdate_(_.p,_.d,!0,_.t):"c"===d?this.onListenRevoked_(_.p,_.q):"ac"===d?this.onAuthRevoked_(_.s,_.d):"apc"===d?this.onAppCheckRevoked_(_.s,_.d):"sd"===d?this.onSecurityDebugPacket_(_):Ht("Unrecognized action received from server: "+(0,re.Pz)(d)+"\nAre you using the latest client?")}onReady_(d,_){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(d),this.lastSessionId=_,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(d){(0,re.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(d))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(d){d&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)),this.visible_=d}onOnline_(d){d?(this.log_("Browser went online."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const d=(new Date).getTime()-this.lastConnectionAttemptTime_;let _=Math.max(0,this.reconnectDelay_-d);_=Math.random()*_,this.log_("Trying to reconnect in "+_+"ms"),this.scheduleConnect_(_),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var d=this;return(0,qe.Z)(function*(){if(d.shouldReconnect_()){d.log_("Making a connection attempt"),d.lastConnectionAttemptTime_=(new Date).getTime(),d.lastConnectionEstablishedTime_=null;const _=d.onDataMessage_.bind(d),T=d.onReady_.bind(d),k=d.onRealtimeDisconnect_.bind(d),W=d.id+":"+p.nextConnectionId_++,ne=d.lastSessionId;let be=!1,Re=null;const lt=function(){Re?Re.close():(be=!0,k())};d.realtime_={close:lt,sendRequest:function(Nn){(0,re.hu)(Re,"sendRequest call when we're not connected not allowed."),Re.sendRequest(Nn)}};const Ut=d.forceTokenRefresh_;d.forceTokenRefresh_=!1;try{const[Nn,or]=yield Promise.all([d.authTokenProvider_.getToken(Ut),d.appCheckTokenProvider_.getToken(Ut)]);be?tn("getToken() completed but was canceled"):(tn("getToken() completed. Creating connection."),d.authToken_=Nn&&Nn.accessToken,d.appCheckToken_=or&&or.token,Re=new us(W,d.repoInfo_,d.applicationId_,d.appCheckToken_,d.authToken_,_,T,k,qr=>{wt(qr+" ("+d.repoInfo_.toString()+")"),d.interrupt("server_kill")},ne))}catch(Nn){d.log_("Failed to get token: "+Nn),be||(d.repoInfo_.nodeAdmin&&wt(Nn),lt())}}})()}interrupt(d){tn("Interrupting connection for reason: "+d),this.interruptReasons_[d]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(d){tn("Resuming connection for reason: "+d),delete this.interruptReasons_[d],(0,re.xb)(this.interruptReasons_)&&(this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(d){const _=d-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:_})}cancelSentTransactions_(){for(let d=0;d<this.outstandingPuts_.length;d++){const _=this.outstandingPuts_[d];_&&"h"in _.request&&_.queued&&(_.onComplete&&_.onComplete("disconnect"),delete this.outstandingPuts_[d],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(d,_){let T;T=_?_.map(W=>St(W)).join("$"):"default";const k=this.removeListen_(d,T);k&&k.onComplete&&k.onComplete("permission_denied")}removeListen_(d,_){const T=new hr(d).toString();let k;if(this.listens.has(T)){const W=this.listens.get(T);k=W.get(_),W.delete(_),0===W.size&&this.listens.delete(T)}else k=void 0;return k}onAuthRevoked_(d,_){tn("Auth token revoked: "+d+"/"+_),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===d||"permission_denied"===d)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(d,_){tn("App check token revoked: "+d+"/"+_),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===d||"permission_denied"===d)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(d){this.securityDebugCallback_?this.securityDebugCallback_(d):"msg"in d&&console.log("FIREBASE: "+d.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const d of this.listens.values())for(const _ of d.values())this.sendListen_(_);for(let d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){const d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(let d=0;d<this.outstandingGets_.length;d++)this.outstandingGets_[d]&&this.sendGet_(d)}sendConnectStats_(){const d={};let _="js";(0,re.Yr)()&&(_=this.repoInfo_.nodeAdmin?"admin_node":"node"),d["sdk."+_+"."+st.replace(/\./g,"-")]=1,(0,re.uI)()?d["framework.cordova"]=1:(0,re.b$)()&&(d["framework.reactnative"]=1),this.reportStats(d)}shouldReconnect_(){const d=Ui.getInstance().currentlyOnline();return(0,re.xb)(this.interruptReasons_)&&d}}return p.nextPersistentConnectionId_=0,p.nextConnectionId_=0,p})();class vn{constructor(c,d){this.name=c,this.node=d}static Wrap(c,d){return new vn(c,d)}}class Os{getCompare(){return this.compare.bind(this)}indexedValueChanged(c,d){const _=new vn(Qt,c),T=new vn(Qt,d);return 0!==this.compare(_,T)}minPost(){return vn.MIN}}class Ws extends Os{static get __EMPTY_NODE(){return ks}static set __EMPTY_NODE(c){ks=c}compare(c,d){return ir(c.name,d.name)}isDefinedOn(c){throw(0,re.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(c,d){return!1}minPost(){return vn.MIN}maxPost(){return new vn(Ft,ks)}makePost(c,d){return(0,re.hu)("string"==typeof c,"KeyIndex indexValue must always be a string."),new vn(c,ks)}toString(){return".key"}}const Ci=new Ws;class oi{constructor(c,d,_,T,k=null){this.isReverse_=T,this.resultGenerator_=k,this.nodeStack_=[];let W=1;for(;!c.isEmpty();)if(c=c,W=d?_(c.key,d):1,T&&(W*=-1),W<0)c=this.isReverse_?c.left:c.right;else{if(0===W){this.nodeStack_.push(c);break}this.nodeStack_.push(c),c=this.isReverse_?c.right:c.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,c=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value},this.isReverse_)for(c=c.left;!c.isEmpty();)this.nodeStack_.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack_.push(c),c=c.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const c=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(c.key,c.value):{key:c.key,value:c.value}}}let $s,ri=(()=>{class p{constructor(d,_,T,k,W){this.key=d,this.value=_,this.color=null!=T?T:p.RED,this.left=null!=k?k:ai.EMPTY_NODE,this.right=null!=W?W:ai.EMPTY_NODE}copy(d,_,T,k,W){return new p(null!=d?d:this.key,null!=_?_:this.value,null!=T?T:this.color,null!=k?k:this.left,null!=W?W:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)}reverseTraversal(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(d,_,T){let k=this;const W=T(d,k.key);return k=W<0?k.copy(null,null,null,k.left.insert(d,_,T),null):0===W?k.copy(null,_,null,null,null):k.copy(null,null,null,null,k.right.insert(d,_,T)),k.fixUp_()}removeMin_(){if(this.left.isEmpty())return ai.EMPTY_NODE;let d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.removeMin_(),null),d.fixUp_()}remove(d,_){let T,k;if(T=this,_(d,T.key)<0)!T.left.isEmpty()&&!T.left.isRed_()&&!T.left.left.isRed_()&&(T=T.moveRedLeft_()),T=T.copy(null,null,null,T.left.remove(d,_),null);else{if(T.left.isRed_()&&(T=T.rotateRight_()),!T.right.isEmpty()&&!T.right.isRed_()&&!T.right.left.isRed_()&&(T=T.moveRedRight_()),0===_(d,T.key)){if(T.right.isEmpty())return ai.EMPTY_NODE;k=T.right.min_(),T=T.copy(k.key,k.value,null,null,T.right.removeMin_())}T=T.copy(null,null,null,null,T.right.remove(d,_))}return T.fixUp_()}isRed_(){return this.color}fixUp_(){let d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d}moveRedLeft_(){let d=this.colorFlip_();return d.right.left.isRed_()&&(d=d.copy(null,null,null,null,d.right.rotateRight_()),d=d.rotateLeft_(),d=d.colorFlip_()),d}moveRedRight_(){let d=this.colorFlip_();return d.left.left.isRed_()&&(d=d.rotateRight_(),d=d.colorFlip_()),d}rotateLeft_(){const d=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)}rotateRight_(){const d=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)}colorFlip_(){const d=this.left.copy(null,null,!this.left.color,null,null),_=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,_)}checkMaxDepth_(){const d=this.check_();return Math.pow(2,d)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)}}return p.RED=!0,p.BLACK=!1,p})();class ai{constructor(c,d=ai.EMPTY_NODE){this.comparator_=c,this.root_=d}insert(c,d){return new ai(this.comparator_,this.root_.insert(c,d,this.comparator_).copy(null,null,ri.BLACK,null,null))}remove(c){return new ai(this.comparator_,this.root_.remove(c,this.comparator_).copy(null,null,ri.BLACK,null,null))}get(c){let d,_=this.root_;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d)return _.value;d<0?_=_.left:d>0&&(_=_.right)}return null}getPredecessorKey(c){let d,_=this.root_,T=null;for(;!_.isEmpty();){if(d=this.comparator_(c,_.key),0===d){if(_.left.isEmpty())return T?T.key:null;for(_=_.left;!_.right.isEmpty();)_=_.right;return _.key}d<0?_=_.left:d>0&&(T=_,_=_.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(c){return this.root_.inorderTraversal(c)}reverseTraversal(c){return this.root_.reverseTraversal(c)}getIterator(c){return new oi(this.root_,null,this.comparator_,!1,c)}getIteratorFrom(c,d){return new oi(this.root_,c,this.comparator_,!1,d)}getReverseIteratorFrom(c,d){return new oi(this.root_,c,this.comparator_,!0,d)}getReverseIterator(c){return new oi(this.root_,null,this.comparator_,!0,c)}}function ds(p,c){return ir(p.name,c.name)}function Ur(p,c){return ir(p,c)}ai.EMPTY_NODE=new class{copy(c,d,_,T,k){return this}insert(c,d,_){return new ri(c,d,null)}remove(c,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ae=function(p){return"number"==typeof p?"number:"+ln(p):"string:"+p},H=function(p){if(p.isLeafNode()){const c=p.val();(0,re.hu)("string"==typeof c||"number"==typeof c||"object"==typeof c&&(0,re.r3)(c,".sv"),"Priority must be a string or number.")}else(0,re.hu)(p===$s||p.isEmpty(),"priority of unexpected type.");(0,re.hu)(p===$s||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let he,yt,Vt,Me=(()=>{class p{constructor(d,_=p.__childrenNodeConstructor.EMPTY_NODE){this.value_=d,this.priorityNode_=_,this.lazyHash_=null,(0,re.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),H(this.priorityNode_)}static set __childrenNodeConstructor(d){he=d}static get __childrenNodeConstructor(){return he}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(d){return new p(this.value_,d)}getImmediateChild(d){return".priority"===d?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}getChild(d){return kn(d)?this:".priority"===fr(d)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(d,_){return null}updateImmediateChild(d,_){return".priority"===d?this.updatePriority(_):_.isEmpty()&&".priority"!==d?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,_).updatePriority(this.priorityNode_)}updateChild(d,_){const T=fr(d);return null===T?_:_.isEmpty()&&".priority"!==T?this:((0,re.hu)(".priority"!==T||1===je(d),".priority must be the last token in a path"),this.updateImmediateChild(T,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(d),_)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(d,_){return!1}val(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let d="";this.priorityNode_.isEmpty()||(d+="priority:"+ae(this.priorityNode_.val())+":");const _=typeof this.value_;d+=_+":",d+="number"===_?ln(this.value_):this.value_,this.lazyHash_=En(d)}return this.lazyHash_}getValue(){return this.value_}compareTo(d){return d===p.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof p.__childrenNodeConstructor?-1:((0,re.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))}compareToLeafNode_(d){const _=typeof d.value_,T=typeof this.value_,k=p.VALUE_TYPE_ORDER.indexOf(_),W=p.VALUE_TYPE_ORDER.indexOf(T);return(0,re.hu)(k>=0,"Unknown leaf type: "+_),(0,re.hu)(W>=0,"Unknown leaf type: "+T),k===W?"object"===T?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:W-k}withIndex(){return this}isIndexed(){return!0}equals(d){if(d===this)return!0;if(d.isLeafNode()){const _=d;return this.value_===_.value_&&this.priorityNode_.equals(_.priorityNode_)}return!1}}return p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p})();const te=new class extends Os{compare(c,d){const _=c.node.getPriority(),T=d.node.getPriority(),k=_.compareTo(T);return 0===k?ir(c.name,d.name):k}isDefinedOn(c){return!c.getPriority().isEmpty()}indexedValueChanged(c,d){return!c.getPriority().equals(d.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(Ft,new Me("[PRIORITY-POST]",Vt))}makePost(c,d){const _=yt(c);return new vn(d,new Me("[PRIORITY-POST]",_))}toString(){return".priority"}},Ye=Math.log(2);class Kt{constructor(c){this.count=parseInt(Math.log(c+1)/Ye,10),this.current_=this.count-1;const T=(k=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=c+1&T}nextBitIsOne(){const c=!(this.bits_&1<<this.current_);return this.current_--,c}}const Pn=function(p,c,d,_){p.sort(c);const T=function(be,Re){const lt=Re-be;let ut,Ut;if(0===lt)return null;if(1===lt)return ut=p[be],Ut=d?d(ut):ut,new ri(Ut,ut.node,ri.BLACK,null,null);{const Nn=parseInt(lt/2,10)+be,or=T(be,Nn),qr=T(Nn+1,Re);return ut=p[Nn],Ut=d?d(ut):ut,new ri(Ut,ut.node,ri.BLACK,or,qr)}},ne=function(be){let Re=null,lt=null,ut=p.length;const Ut=function(or,qr){const is=ut-or,bl=ut;ut-=or;const Go=T(is+1,bl),Mc=p[is],Yu=d?d(Mc):Mc;Nn(new ri(Yu,Mc.node,qr,null,Go))},Nn=function(or){Re?(Re.left=or,Re=or):(lt=or,Re=or)};for(let or=0;or<be.count;++or){const qr=be.nextBitIsOne(),is=Math.pow(2,be.count-(or+1));qr?Ut(is,ri.BLACK):(Ut(is,ri.BLACK),Ut(is,ri.RED))}return lt}(new Kt(p.length));return new ai(_||c,ne)};let Vr;const pi={};class Er{constructor(c,d){this.indexes_=c,this.indexSet_=d}static get Default(){return(0,re.hu)(pi&&te,"ChildrenNode.ts has not been loaded"),Vr=Vr||new Er({".priority":pi},{".priority":te}),Vr}get(c){const d=(0,re.DV)(this.indexes_,c);if(!d)throw new Error("No index defined for "+c);return d instanceof ai?d:null}hasIndex(c){return(0,re.r3)(this.indexSet_,c.toString())}addIndex(c,d){(0,re.hu)(c!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const _=[];let T=!1;const k=d.getIterator(vn.Wrap);let ne,W=k.getNext();for(;W;)T=T||c.isDefinedOn(W.node),_.push(W),W=k.getNext();ne=T?Pn(_,c.getCompare()):pi;const be=c.toString(),Re=Object.assign({},this.indexSet_);Re[be]=c;const lt=Object.assign({},this.indexes_);return lt[be]=ne,new Er(lt,Re)}addToIndexes(c,d){const _=(0,re.UI)(this.indexes_,(T,k)=>{const W=(0,re.DV)(this.indexSet_,k);if((0,re.hu)(W,"Missing index implementation for "+k),T===pi){if(W.isDefinedOn(c.node)){const ne=[],be=d.getIterator(vn.Wrap);let Re=be.getNext();for(;Re;)Re.name!==c.name&&ne.push(Re),Re=be.getNext();return ne.push(c),Pn(ne,W.getCompare())}return pi}{const ne=d.get(c.name);let be=T;return ne&&(be=be.remove(new vn(c.name,ne))),be.insert(c,c.node)}});return new Er(_,this.indexSet_)}removeFromIndexes(c,d){const _=(0,re.UI)(this.indexes_,T=>{if(T===pi)return T;{const k=d.get(c.name);return k?T.remove(new vn(c.name,k)):T}});return new Er(_,this.indexSet_)}}let Gr,Gn=(()=>{class p{constructor(d,_,T){this.children_=d,this.priorityNode_=_,this.indexMap_=T,this.lazyHash_=null,this.priorityNode_&&H(this.priorityNode_),this.children_.isEmpty()&&(0,re.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gr||(Gr=new p(new ai(Ur),null,Er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gr}updatePriority(d){return this.children_.isEmpty()?this:new p(this.children_,d,this.indexMap_)}getImmediateChild(d){if(".priority"===d)return this.getPriority();{const _=this.children_.get(d);return null===_?Gr:_}}getChild(d){const _=fr(d);return null===_?this:this.getImmediateChild(_).getChild(Ne(d))}hasChild(d){return null!==this.children_.get(d)}updateImmediateChild(d,_){if((0,re.hu)(_,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(_);{const T=new vn(d,_);let k,W;_.isEmpty()?(k=this.children_.remove(d),W=this.indexMap_.removeFromIndexes(T,this.children_)):(k=this.children_.insert(d,_),W=this.indexMap_.addToIndexes(T,this.children_));const ne=k.isEmpty()?Gr:this.priorityNode_;return new p(k,ne,W)}}updateChild(d,_){const T=fr(d);if(null===T)return _;{(0,re.hu)(".priority"!==fr(d)||1===je(d),".priority must be the last token in a path");const k=this.getImmediateChild(T).updateChild(Ne(d),_);return this.updateImmediateChild(T,k)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(d){if(this.isEmpty())return null;const _={};let T=0,k=0,W=!0;if(this.forEachChild(te,(ne,be)=>{_[ne]=be.val(d),T++,W&&p.INTEGER_REGEXP_.test(ne)?k=Math.max(k,Number(ne)):W=!1}),!d&&W&&k<2*T){const ne=[];for(const be in _)ne[be]=_[be];return ne}return d&&!this.getPriority().isEmpty()&&(_[".priority"]=this.getPriority().val()),_}hash(){if(null===this.lazyHash_){let d="";this.getPriority().isEmpty()||(d+="priority:"+ae(this.getPriority().val())+":"),this.forEachChild(te,(_,T)=>{const k=T.hash();""!==k&&(d+=":"+_+":"+k)}),this.lazyHash_=""===d?"":En(d)}return this.lazyHash_}getPredecessorChildName(d,_,T){const k=this.resolveIndex_(T);if(k){const W=k.getPredecessorKey(new vn(d,_));return W?W.name:null}return this.children_.getPredecessorKey(d)}getFirstChildName(d){const _=this.resolveIndex_(d);if(_){const T=_.minKey();return T&&T.name}return this.children_.minKey()}getFirstChild(d){const _=this.getFirstChildName(d);return _?new vn(_,this.children_.get(_)):null}getLastChildName(d){const _=this.resolveIndex_(d);if(_){const T=_.maxKey();return T&&T.name}return this.children_.maxKey()}getLastChild(d){const _=this.getLastChildName(d);return _?new vn(_,this.children_.get(_)):null}forEachChild(d,_){const T=this.resolveIndex_(d);return T?T.inorderTraversal(k=>_(k.name,k.node)):this.children_.inorderTraversal(_)}getIterator(d){return this.getIteratorFrom(d.minPost(),d)}getIteratorFrom(d,_){const T=this.resolveIndex_(_);if(T)return T.getIteratorFrom(d,k=>k);{const k=this.children_.getIteratorFrom(d.name,vn.Wrap);let W=k.peek();for(;null!=W&&_.compare(W,d)<0;)k.getNext(),W=k.peek();return k}}getReverseIterator(d){return this.getReverseIteratorFrom(d.maxPost(),d)}getReverseIteratorFrom(d,_){const T=this.resolveIndex_(_);if(T)return T.getReverseIteratorFrom(d,k=>k);{const k=this.children_.getReverseIteratorFrom(d.name,vn.Wrap);let W=k.peek();for(;null!=W&&_.compare(W,d)>0;)k.getNext(),W=k.peek();return k}}compareTo(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===vs?-1:0}withIndex(d){if(d===Ci||this.indexMap_.hasIndex(d))return this;{const _=this.indexMap_.addIndex(d,this.children_);return new p(this.children_,this.priorityNode_,_)}}isIndexed(d){return d===Ci||this.indexMap_.hasIndex(d)}equals(d){if(d===this)return!0;if(d.isLeafNode())return!1;{const _=d;if(this.getPriority().equals(_.getPriority())){if(this.children_.count()===_.children_.count()){const T=this.getIterator(te),k=_.getIterator(te);let W=T.getNext(),ne=k.getNext();for(;W&&ne;){if(W.name!==ne.name||!W.node.equals(ne.node))return!1;W=T.getNext(),ne=k.getNext()}return null===W&&null===ne}return!1}return!1}}resolveIndex_(d){return d===Ci?null:this.indexMap_.get(d.toString())}}return p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p})();const vs=new class extends Gn{constructor(){super(new ai(Ur),Gn.EMPTY_NODE,Er.Default)}compareTo(c){return c===this?0:1}equals(c){return c===this}getPriority(){return this}getImmediateChild(c){return Gn.EMPTY_NODE}isEmpty(){return!1}};function ui(p,c=null){if(null===p)return Gn.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(c=p[".priority"]),(0,re.hu)(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new Me(p,ui(c));if(p instanceof Array){let d=Gn.EMPTY_NODE;return xn(p,(_,T)=>{if((0,re.r3)(p,_)&&"."!==_.substring(0,1)){const k=ui(T);(k.isLeafNode()||!k.isEmpty())&&(d=d.updateImmediateChild(_,k))}}),d.updatePriority(ui(c))}{const d=[];let _=!1;if(xn(p,(W,ne)=>{if("."!==W.substring(0,1)){const be=ui(ne);be.isEmpty()||(_=_||!be.getPriority().isEmpty(),d.push(new vn(W,be)))}}),0===d.length)return Gn.EMPTY_NODE;const k=Pn(d,ds,W=>W.name,Ur);if(_){const W=Pn(d,te.getCompare());return new Gn(k,ui(c),new Er({".priority":W},{".priority":te}))}return new Gn(k,ui(c),Er.Default)}}Object.defineProperties(vn,{MIN:{value:new vn(Qt,Gn.EMPTY_NODE)},MAX:{value:new vn(Ft,vs)}}),Ws.__EMPTY_NODE=Gn.EMPTY_NODE,Me.__childrenNodeConstructor=Gn,$s=vs,Vt=vs,function(p){yt=p}(ui);class pa extends Os{constructor(c){super(),this.indexPath_=c,(0,re.hu)(!kn(c)&&".priority"!==fr(c),"Can't create PathIndex with empty path or .priority key")}extractChild(c){return c.getChild(this.indexPath_)}isDefinedOn(c){return!c.getChild(this.indexPath_).isEmpty()}compare(c,d){const _=this.extractChild(c.node),T=this.extractChild(d.node),k=_.compareTo(T);return 0===k?ir(c.name,d.name):k}makePost(c,d){const _=ui(c),T=Gn.EMPTY_NODE.updateChild(this.indexPath_,_);return new vn(d,T)}maxPost(){const c=Gn.EMPTY_NODE.updateChild(this.indexPath_,vs);return new vn(Ft,c)}toString(){return Gt(this.indexPath_,0).join("/")}}const Ko=new class extends Os{compare(c,d){const _=c.node.compareTo(d.node);return 0===_?ir(c.name,d.name):_}isDefinedOn(c){return!0}indexedValueChanged(c,d){return!c.equals(d)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(c,d){const _=ui(c);return new vn(d,_)}toString(){return".value"}},Ms="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ii=function(){let p=0;const c=[];return function(d){const _=d===p;let T;p=d;const k=new Array(8);for(T=7;T>=0;T--)k[T]=Ms.charAt(d%64),d=Math.floor(d/64);(0,re.hu)(0===d,"Cannot push at time == 0");let W=k.join("");if(_){for(T=11;T>=0&&63===c[T];T--)c[T]=0;c[T]++}else for(T=0;T<12;T++)c[T]=Math.floor(64*Math.random());for(T=0;T<12;T++)W+=Ms.charAt(c[T]);return(0,re.hu)(20===W.length,"nextPushId: Length should be 20."),W}}(),zo=function(p){if(p===""+Ae)return"-";const c=dt(p);if(null!=c)return""+(c+1);const d=new Array(p.length);for(let W=0;W<d.length;W++)d[W]=p.charAt(W);if(d.length<786)return d.push("-"),d.join("");let _=d.length-1;for(;_>=0&&"z"===d[_];)_--;if(-1===_)return Ft;const k=Ms.charAt(Ms.indexOf(d[_])+1);return d[_]=k,d.slice(0,_+1).join("")},bo=function(p){if(p===""+$e)return Qt;const c=dt(p);if(null!=c)return""+(c-1);const d=new Array(p.length);for(let _=0;_<d.length;_++)d[_]=p.charAt(_);return"-"===d[d.length-1]?1===d.length?""+Ae:(delete d[d.length-1],d.join("")):(d[d.length-1]=Ms.charAt(Ms.indexOf(d[d.length-1])-1),d.join("")+"z".repeat(786-d.length))};function Ks(p){return{type:"value",snapshotNode:p}}function zs(p,c){return{type:"child_added",snapshotNode:c,childName:p}}function Ls(p,c){return{type:"child_removed",snapshotNode:c,childName:p}}function go(p,c,d){return{type:"child_changed",snapshotNode:c,childName:p,oldSnap:d}}class Io{constructor(c){this.index_=c}updateChild(c,d,_,T,k,W){(0,re.hu)(c.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ne=c.getImmediateChild(d);return ne.getChild(T).equals(_.getChild(T))&&ne.isEmpty()===_.isEmpty()||(null!=W&&(_.isEmpty()?c.hasChild(d)?W.trackChildChange(Ls(d,ne)):(0,re.hu)(c.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ne.isEmpty()?W.trackChildChange(zs(d,_)):W.trackChildChange(go(d,_,ne))),c.isLeafNode()&&_.isEmpty())?c:c.updateImmediateChild(d,_).withIndex(this.index_)}updateFullNode(c,d,_){return null!=_&&(c.isLeafNode()||c.forEachChild(te,(T,k)=>{d.hasChild(T)||_.trackChildChange(Ls(T,k))}),d.isLeafNode()||d.forEachChild(te,(T,k)=>{if(c.hasChild(T)){const W=c.getImmediateChild(T);W.equals(k)||_.trackChildChange(go(T,k,W))}else _.trackChildChange(zs(T,k))})),d.withIndex(this.index_)}updatePriority(c,d){return c.isEmpty()?Gn.EMPTY_NODE:c.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fs{constructor(c){this.indexedFilter_=new Io(c.getIndex()),this.index_=c.getIndex(),this.startPost_=Fs.getStartPost_(c),this.endPost_=Fs.getEndPost_(c)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(c){return this.index_.compare(this.getStartPost(),c)<=0&&this.index_.compare(c,this.getEndPost())<=0}updateChild(c,d,_,T,k,W){return this.matches(new vn(d,_))||(_=Gn.EMPTY_NODE),this.indexedFilter_.updateChild(c,d,_,T,k,W)}updateFullNode(c,d,_){d.isLeafNode()&&(d=Gn.EMPTY_NODE);let T=d.withIndex(this.index_);T=T.updatePriority(Gn.EMPTY_NODE);const k=this;return d.forEachChild(te,(W,ne)=>{k.matches(new vn(W,ne))||(T=T.updateImmediateChild(W,Gn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(c,T,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(c){if(c.hasStart()){const d=c.getIndexStartName();return c.getIndex().makePost(c.getIndexStartValue(),d)}return c.getIndex().minPost()}static getEndPost_(c){if(c.hasEnd()){const d=c.getIndexEndName();return c.getIndex().makePost(c.getIndexEndValue(),d)}return c.getIndex().maxPost()}}class ji{constructor(c){this.rangedFilter_=new Fs(c),this.index_=c.getIndex(),this.limit_=c.getLimit(),this.reverse_=!c.isViewFromLeft()}updateChild(c,d,_,T,k,W){return this.rangedFilter_.matches(new vn(d,_))||(_=Gn.EMPTY_NODE),c.getImmediateChild(d).equals(_)?c:c.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(c,d,_,T,k,W):this.fullLimitUpdateChild_(c,d,_,k,W)}updateFullNode(c,d,_){let T;if(d.isLeafNode()||d.isEmpty())T=Gn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let k;T=Gn.EMPTY_NODE.withIndex(this.index_),k=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let W=0;for(;k.hasNext()&&W<this.limit_;){const ne=k.getNext();let be;if(be=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ne)<=0:this.index_.compare(ne,this.rangedFilter_.getEndPost())<=0,!be)break;T=T.updateImmediateChild(ne.name,ne.node),W++}}else{let k,W,ne,be;if(T=d.withIndex(this.index_),T=T.updatePriority(Gn.EMPTY_NODE),this.reverse_){be=T.getReverseIterator(this.index_),k=this.rangedFilter_.getEndPost(),W=this.rangedFilter_.getStartPost();const ut=this.index_.getCompare();ne=(Ut,Nn)=>ut(Nn,Ut)}else be=T.getIterator(this.index_),k=this.rangedFilter_.getStartPost(),W=this.rangedFilter_.getEndPost(),ne=this.index_.getCompare();let Re=0,lt=!1;for(;be.hasNext();){const ut=be.getNext();!lt&&ne(k,ut)<=0&&(lt=!0),lt&&Re<this.limit_&&ne(ut,W)<=0?Re++:T=T.updateImmediateChild(ut.name,Gn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(c,T,_)}updatePriority(c,d){return c}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(c,d,_,T,k){let W;if(this.reverse_){const ut=this.index_.getCompare();W=(Ut,Nn)=>ut(Nn,Ut)}else W=this.index_.getCompare();const ne=c;(0,re.hu)(ne.numChildren()===this.limit_,"");const be=new vn(d,_),Re=this.reverse_?ne.getFirstChild(this.index_):ne.getLastChild(this.index_),lt=this.rangedFilter_.matches(be);if(ne.hasChild(d)){const ut=ne.getImmediateChild(d);let Ut=T.getChildAfterChild(this.index_,Re,this.reverse_);for(;null!=Ut&&(Ut.name===d||ne.hasChild(Ut.name));)Ut=T.getChildAfterChild(this.index_,Ut,this.reverse_);const Nn=null==Ut?1:W(Ut,be);if(lt&&!_.isEmpty()&&Nn>=0)return null!=k&&k.trackChildChange(go(d,_,ut)),ne.updateImmediateChild(d,_);{null!=k&&k.trackChildChange(Ls(d,ut));const qr=ne.updateImmediateChild(d,Gn.EMPTY_NODE);return null!=Ut&&this.rangedFilter_.matches(Ut)?(null!=k&&k.trackChildChange(zs(Ut.name,Ut.node)),qr.updateImmediateChild(Ut.name,Ut.node)):qr}}return _.isEmpty()?c:lt&&W(Re,be)>=0?(null!=k&&(k.trackChildChange(Ls(Re.name,Re.node)),k.trackChildChange(zs(d,_))),ne.updateImmediateChild(d,_).updateImmediateChild(Re.name,Gn.EMPTY_NODE)):c}}class Hi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=te}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,re.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,re.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ft}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,re.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===te}copy(){const c=new Hi;return c.limitSet_=this.limitSet_,c.limit_=this.limit_,c.startSet_=this.startSet_,c.indexStartValue_=this.indexStartValue_,c.startNameSet_=this.startNameSet_,c.indexStartName_=this.indexStartName_,c.endSet_=this.endSet_,c.indexEndValue_=this.indexEndValue_,c.endNameSet_=this.endNameSet_,c.indexEndName_=this.indexEndName_,c.index_=this.index_,c.viewFrom_=this.viewFrom_,c}}function ma(p,c,d){const _=p.copy();return _.startSet_=!0,void 0===c&&(c=null),_.indexStartValue_=c,null!=d?(_.startNameSet_=!0,_.indexStartName_=d):(_.startNameSet_=!1,_.indexStartName_=""),_}function Qo(p,c,d){const _=p.copy();return _.endSet_=!0,void 0===c&&(c=null),_.indexEndValue_=c,void 0!==d?(_.endNameSet_=!0,_.indexEndName_=d):(_.endNameSet_=!1,_.indexEndName_=""),_}function xo(p,c){const d=p.copy();return d.index_=c,d}function Es(p){const c={};if(p.isDefault())return c;let d;return p.index_===te?d="$priority":p.index_===Ko?d="$value":p.index_===Ci?d="$key":((0,re.hu)(p.index_ instanceof pa,"Unrecognized index type!"),d=p.index_.toString()),c.orderBy=(0,re.Pz)(d),p.startSet_&&(c.startAt=(0,re.Pz)(p.indexStartValue_),p.startNameSet_&&(c.startAt+=","+(0,re.Pz)(p.indexStartName_))),p.endSet_&&(c.endAt=(0,re.Pz)(p.indexEndValue_),p.endNameSet_&&(c.endAt+=","+(0,re.Pz)(p.indexEndName_))),p.limitSet_&&(p.isViewFromLeft()?c.limitToFirst=p.limit_:c.limitToLast=p.limit_),c}function _a(p){const c={};if(p.startSet_&&(c.sp=p.indexStartValue_,p.startNameSet_&&(c.sn=p.indexStartName_)),p.endSet_&&(c.ep=p.indexEndValue_,p.endNameSet_&&(c.en=p.indexEndName_)),p.limitSet_){c.l=p.limit_;let d=p.viewFrom_;""===d&&(d=p.isViewFromLeft()?"l":"r"),c.vf=d}return p.index_!==te&&(c.i=p.index_.toString()),c}class to extends _s{constructor(c,d,_,T){super(),this.repoInfo_=c,this.onDataUpdate_=d,this.authTokenProvider_=_,this.appCheckTokenProvider_=T,this.log_=Dr("p:rest:"),this.listens_={}}reportStats(c){throw new Error("Method not implemented.")}static getListenId_(c,d){return void 0!==d?"tag$"+d:((0,re.hu)(c._queryParams.isDefault(),"should have a tag if it's not a default query."),c._path.toString())}listen(c,d,_,T){const k=c._path.toString();this.log_("Listen called for "+k+" "+c._queryIdentifier);const W=to.getListenId_(c,_),ne={};this.listens_[W]=ne;const be=Es(c._queryParams);this.restRequest_(k+".json",be,(Re,lt)=>{let ut=lt;if(404===Re&&(ut=null,Re=null),null===Re&&this.onDataUpdate_(k,ut,!1,_),(0,re.DV)(this.listens_,W)===ne){let Ut;Ut=Re?401===Re?"permission_denied":"rest_error:"+Re:"ok",T(Ut,null)}})}unlisten(c,d){const _=to.getListenId_(c,d);delete this.listens_[_]}get(c){const d=Es(c._queryParams),_=c._path.toString(),T=new re.BH;return this.restRequest_(_+".json",d,(k,W)=>{let ne=W;404===k&&(ne=null,k=null),null===k?(this.onDataUpdate_(_,ne,!1,null),T.resolve(ne)):T.reject(new Error(ne))}),T.promise}refreshAuthToken(c){}restRequest_(c,d={},_){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([T,k])=>{T&&T.accessToken&&(d.auth=T.accessToken),k&&k.token&&(d.ac=k.token);const W=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+c+"?ns="+this.repoInfo_.namespace+(0,re.xO)(d);this.log_("Sending REST request for "+W);const ne=new XMLHttpRequest;ne.onreadystatechange=()=>{if(_&&4===ne.readyState){this.log_("REST Response for "+W+" received. status:",ne.status,"response:",ne.responseText);let be=null;if(ne.status>=200&&ne.status<300){try{be=(0,re.cI)(ne.responseText)}catch(Re){wt("Failed to parse JSON response for "+W+": "+ne.responseText)}_(null,be)}else 401!==ne.status&&404!==ne.status&&wt("Got unsuccessful REST response for "+W+" Status: "+ne.status),_(ne.status);_=null}},ne.open("GET",W,!0),ne.send()})}}class qo{constructor(){this.rootNode_=Gn.EMPTY_NODE}getNode(c){return this.rootNode_.getChild(c)}updateSnapshot(c,d){this.rootNode_=this.rootNode_.updateChild(c,d)}}function fs(){return{value:null,children:new Map}}function Zs(p,c,d){if(kn(c))p.value=d,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(c,d);else{const _=fr(c);p.children.has(_)||p.children.set(_,fs()),Zs(p.children.get(_),c=Ne(c),d)}}function ya(p,c){if(kn(c))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;{const d=p.value;return p.value=null,d.forEachChild(te,(_,T)=>{Zs(p,new hr(_),T)}),ya(p,c)}}if(p.children.size>0){const d=fr(c);return c=Ne(c),p.children.has(d)&&ya(p.children.get(d),c)&&p.children.delete(d),0===p.children.size}return!0}function va(p,c,d){null!==p.value?d(c,p.value):function(p,c){p.children.forEach((d,_)=>{c(_,d)})}(p,(_,T)=>{va(T,new hr(c.toString()+"/"+_),d)})}class $a{constructor(c){this.collection_=c,this.last_=null}get(){const c=this.collection_.get(),d=Object.assign({},c);return this.last_&&xn(this.last_,(_,T)=>{d[_]=d[_]-T}),this.last_=c,d}}class xi{constructor(c,d){this.server_=d,this.statsToReport_={},this.statsListener_=new $a(c);const _=1e4+2e4*Math.random();At(this.reportStats_.bind(this),Math.floor(_))}reportStats_(){const c=this.statsListener_.get(),d={};let _=!1;xn(c,(T,k)=>{k>0&&(0,re.r3)(this.statsToReport_,T)&&(d[T]=k,_=!0)}),_&&this.server_.reportStats(d),At(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vi=(()=>(function(p){p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vi||(vi={})),vi))();function Yo(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}class To{constructor(c,d,_){this.path=c,this.affectedTree=d,this.revert=_,this.type=vi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(c){if(kn(this.path)){if(null!=this.affectedTree.value)return(0,re.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new hr(c));return new To(zn(),d,this.revert)}}return(0,re.hu)(fr(this.path)===c,"operationForChild called for unrelated child."),new To(Ne(this.path),this.affectedTree,this.revert)}}class _o{constructor(c,d){this.source=c,this.path=d,this.type=vi.LISTEN_COMPLETE}operationForChild(c){return kn(this.path)?new _o(this.source,zn()):new _o(this.source,Ne(this.path))}}class Vs{constructor(c,d,_){this.source=c,this.path=d,this.snap=_,this.type=vi.OVERWRITE}operationForChild(c){return kn(this.path)?new Vs(this.source,zn(),this.snap.getImmediateChild(c)):new Vs(this.source,Ne(this.path),this.snap)}}class yo{constructor(c,d,_){this.source=c,this.path=d,this.children=_,this.type=vi.MERGE}operationForChild(c){if(kn(this.path)){const d=this.children.subtree(new hr(c));return d.isEmpty()?null:d.value?new Vs(this.source,zn(),d.value):new yo(this.source,zn(),d)}return(0,re.hu)(fr(this.path)===c,"Can't get a merge for a child not on the path of the operation"),new yo(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ts{constructor(c,d,_){this.node_=c,this.fullyInitialized_=d,this.filtered_=_}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(c){if(kn(c))return this.isFullyInitialized()&&!this.filtered_;const d=fr(c);return this.isCompleteForChild(d)}isCompleteForChild(c){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(c)}getNode(){return this.node_}}class Ea{constructor(c){this.query_=c,this.index_=this.query_._queryParams.getIndex()}}function li(p,c,d,_,T,k){const W=_.filter(ne=>ne.type===d);W.sort((ne,be)=>function(p,c,d){if(null==c.childName||null==d.childName)throw(0,re.g5)("Should only compare child_ events.");const _=new vn(c.childName,c.snapshotNode),T=new vn(d.childName,d.snapshotNode);return p.index_.compare(_,T)}(p,ne,be)),W.forEach(ne=>{const be=function(p,c,d){return"value"===c.type||"child_removed"===c.type||(c.prevName=d.getPredecessorChildName(c.childName,c.snapshotNode,p.index_)),c}(p,ne,k);T.forEach(Re=>{Re.respondsTo(ne.type)&&c.push(Re.createEvent(be,p.query_))})})}function Bs(p,c){return{eventCache:p,serverCache:c}}function io(p,c,d,_){return Bs(new ts(c,d,_),p.serverCache)}function so(p,c,d,_){return Bs(p.eventCache,new ts(c,d,_))}function Ro(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function Wr(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}let wo;class $r{constructor(c,d=(()=>(wo||(wo=new ai(Ar)),wo))()){this.value=c,this.children=d}static fromObject(c){let d=new $r(null);return xn(c,(_,T)=>{d=d.set(new hr(_),T)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(c,d){if(null!=this.value&&d(this.value))return{path:zn(),value:this.value};if(kn(c))return null;{const _=fr(c),T=this.children.get(_);if(null!==T){const k=T.findRootMostMatchingPathAndValue(Ne(c),d);return null!=k?{path:Mn(new hr(_),k.path),value:k.value}:null}return null}}findRootMostValueAndPath(c){return this.findRootMostMatchingPathAndValue(c,()=>!0)}subtree(c){if(kn(c))return this;{const d=fr(c),_=this.children.get(d);return null!==_?_.subtree(Ne(c)):new $r(null)}}set(c,d){if(kn(c))return new $r(d,this.children);{const _=fr(c),k=(this.children.get(_)||new $r(null)).set(Ne(c),d),W=this.children.insert(_,k);return new $r(this.value,W)}}remove(c){if(kn(c))return this.children.isEmpty()?new $r(null):new $r(null,this.children);{const d=fr(c),_=this.children.get(d);if(_){const T=_.remove(Ne(c));let k;return k=T.isEmpty()?this.children.remove(d):this.children.insert(d,T),null===this.value&&k.isEmpty()?new $r(null):new $r(this.value,k)}return this}}get(c){if(kn(c))return this.value;{const d=fr(c),_=this.children.get(d);return _?_.get(Ne(c)):null}}setTree(c,d){if(kn(c))return d;{const _=fr(c),k=(this.children.get(_)||new $r(null)).setTree(Ne(c),d);let W;return W=k.isEmpty()?this.children.remove(_):this.children.insert(_,k),new $r(this.value,W)}}fold(c){return this.fold_(zn(),c)}fold_(c,d){const _={};return this.children.inorderTraversal((T,k)=>{_[T]=k.fold_(Mn(c,T),d)}),d(c,this.value,_)}findOnPath(c,d){return this.findOnPath_(c,zn(),d)}findOnPath_(c,d,_){const T=!!this.value&&_(d,this.value);if(T)return T;if(kn(c))return null;{const k=fr(c),W=this.children.get(k);return W?W.findOnPath_(Ne(c),Mn(d,k),_):null}}foreachOnPath(c,d){return this.foreachOnPath_(c,zn(),d)}foreachOnPath_(c,d,_){if(kn(c))return this;{this.value&&_(d,this.value);const T=fr(c),k=this.children.get(T);return k?k.foreachOnPath_(Ne(c),Mn(d,T),_):new $r(null)}}foreach(c){this.foreach_(zn(),c)}foreach_(c,d){this.children.inorderTraversal((_,T)=>{T.foreach_(Mn(c,_),d)}),this.value&&d(c,this.value)}foreachChild(c){this.children.inorderTraversal((d,_)=>{_.value&&c(d,_.value)})}}class oo{constructor(c){this.writeTree_=c}static empty(){return new oo(new $r(null))}}function Wi(p,c,d){if(kn(c))return new oo(new $r(d));{const _=p.writeTree_.findRootMostValueAndPath(c);if(null!=_){const T=_.path;let k=_.value;const W=Hn(T,c);return k=k.updateChild(W,d),new oo(p.writeTree_.set(T,k))}{const T=new $r(d),k=p.writeTree_.setTree(c,T);return new oo(k)}}}function So(p,c,d){let _=p;return xn(d,(T,k)=>{_=Wi(_,Mn(c,T),k)}),_}function ge(p,c){if(kn(c))return oo.empty();{const d=p.writeTree_.setTree(c,new $r(null));return new oo(d)}}function C(p,c){return null!=O(p,c)}function O(p,c){const d=p.writeTree_.findRootMostValueAndPath(c);return null!=d?p.writeTree_.get(d.path).getChild(Hn(d.path,c)):null}function fe(p){const c=[],d=p.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(te,(_,T)=>{c.push(new vn(_,T))}):p.writeTree_.children.inorderTraversal((_,T)=>{null!=T.value&&c.push(new vn(_,T.value))}),c}function D(p,c){if(kn(c))return p;{const d=O(p,c);return new oo(null!=d?new $r(d):p.writeTree_.subtree(c))}}function S(p){return p.writeTree_.isEmpty()}function w(p,c){return L(zn(),p.writeTree_,c)}function L(p,c,d){if(null!=c.value)return d.updateChild(p,c.value);{let _=null;return c.children.inorderTraversal((T,k)=>{".priority"===T?((0,re.hu)(null!==k.value,"Priority writes must always be leaf nodes"),_=k.value):d=L(Mn(p,T),k,d)}),!d.getChild(p).isEmpty()&&null!==_&&(d=d.updateChild(Mn(p,".priority"),_)),d}}function Z(p,c){return ps(c,p)}function nn(p,c){if(p.snap)return Yr(p.path,c);for(const d in p.children)if(p.children.hasOwnProperty(d)&&Yr(Mn(p.path,d),c))return!0;return!1}function Zn(p){return p.visible}function $t(p,c,d){let _=oo.empty();for(let T=0;T<p.length;++T){const k=p[T];if(c(k)){const W=k.path;let ne;if(k.snap)Yr(d,W)?(ne=Hn(d,W),_=Wi(_,ne,k.snap)):Yr(W,d)&&(ne=Hn(W,d),_=Wi(_,zn(),k.snap.getChild(ne)));else{if(!k.children)throw(0,re.g5)("WriteRecord should have .snap or .children");if(Yr(d,W))ne=Hn(d,W),_=So(_,ne,k.children);else if(Yr(W,d))if(ne=Hn(W,d),kn(ne))_=So(_,zn(),k.children);else{const be=(0,re.DV)(k.children,fr(ne));if(be){const Re=be.getChild(Ne(ne));_=Wi(_,zn(),Re)}}}}}return _}function an(p,c,d,_,T){if(_||T){const k=D(p.visibleWrites,c);return!T&&S(k)?d:T||null!=d||C(k,zn())?w($t(p.allWrites,function(Re){return(Re.visible||T)&&(!_||!~_.indexOf(Re.writeId))&&(Yr(Re.path,c)||Yr(c,Re.path))},c),d||Gn.EMPTY_NODE):null}{const k=O(p.visibleWrites,c);if(null!=k)return k;{const W=D(p.visibleWrites,c);return S(W)?d:null!=d||C(W,zn())?w(W,d||Gn.EMPTY_NODE):null}}}function vo(p,c,d,_){return an(p.writeTree,p.treePath,c,d,_)}function ol(p,c){return function(p,c,d){let _=Gn.EMPTY_NODE;const T=O(p.visibleWrites,c);if(T)return T.isLeafNode()||T.forEachChild(te,(k,W)=>{_=_.updateImmediateChild(k,W)}),_;if(d){const k=D(p.visibleWrites,c);return d.forEachChild(te,(W,ne)=>{const be=w(D(k,new hr(W)),ne);_=_.updateImmediateChild(W,be)}),fe(k).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}return fe(D(p.visibleWrites,c)).forEach(W=>{_=_.updateImmediateChild(W.name,W.node)}),_}(p.writeTree,p.treePath,c)}function Rl(p,c,d,_){return function(p,c,d,_,T){(0,re.hu)(_||T,"Either existingEventSnap or existingServerSnap must exist");const k=Mn(c,d);if(C(p.visibleWrites,k))return null;{const W=D(p.visibleWrites,k);return S(W)?T.getChild(d):w(W,T.getChild(d))}}(p.writeTree,p.treePath,c,d,_)}function ou(p,c){return function(p,c){return O(p.visibleWrites,c)}(p.writeTree,Mn(p.treePath,c))}function Ka(p,c,d){return function(p,c,d,_){const T=Mn(c,d),k=O(p.visibleWrites,T);return null!=k?k:_.isCompleteForChild(d)?w(D(p.visibleWrites,T),_.getNode().getImmediateChild(d)):null}(p.writeTree,p.treePath,c,d)}function Bu(p,c){return ps(Mn(p.treePath,c),p.writeTree)}function ps(p,c){return{treePath:p,writeTree:c}}class za{constructor(){this.changeMap=new Map}trackChildChange(c){const d=c.type,_=c.childName;(0,re.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,re.hu)(".priority"!==_,"Only non-priority child changes can be tracked.");const T=this.changeMap.get(_);if(T){const k=T.type;if("child_added"===d&&"child_removed"===k)this.changeMap.set(_,go(_,c.snapshotNode,T.snapshotNode));else if("child_removed"===d&&"child_added"===k)this.changeMap.delete(_);else if("child_removed"===d&&"child_changed"===k)this.changeMap.set(_,Ls(_,T.oldSnap));else if("child_changed"===d&&"child_added"===k)this.changeMap.set(_,zs(_,c.snapshotNode));else{if("child_changed"!==d||"child_changed"!==k)throw(0,re.g5)("Illegal combination of changes: "+c+" occurred after "+T);this.changeMap.set(_,go(_,c.snapshotNode,T.oldSnap))}}else this.changeMap.set(_,c)}getChanges(){return Array.from(this.changeMap.values())}}const br=new class{getCompleteChild(c){return null}getChildAfterChild(c,d,_){return null}};class Oo{constructor(c,d,_=null){this.writes_=c,this.viewCache_=d,this.optCompleteServerCache_=_}getCompleteChild(c){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(c))return d.getNode().getImmediateChild(c);{const _=null!=this.optCompleteServerCache_?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ka(this.writes_,c,_)}}getChildAfterChild(c,d,_){const T=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wr(this.viewCache_),k=function(p,c,d,_,T,k){return function(p,c,d,_,T,k,W){let ne;const be=D(p.visibleWrites,c),Re=O(be,zn());if(null!=Re)ne=Re;else{if(null==d)return[];ne=w(be,d)}if(ne=ne.withIndex(W),ne.isEmpty()||ne.isLeafNode())return[];{const lt=[],ut=W.getCompare(),Ut=k?ne.getReverseIteratorFrom(_,W):ne.getIteratorFrom(_,W);let Nn=Ut.getNext();for(;Nn&&lt.length<T;)0!==ut(Nn,_)&&lt.push(Nn),Nn=Ut.getNext();return lt}}(p.writeTree,p.treePath,c,d,_,T,k)}(this.writes_,T,d,1,_,c);return 0===k.length?null:k[0]}}function Fr(p,c,d,_,T,k){const W=c.eventCache;if(null!=ou(_,d))return c;{let ne,be;if(kn(d))if((0,re.hu)(c.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),c.serverCache.isFiltered()){const Re=Wr(c),ut=ol(_,Re instanceof Gn?Re:Gn.EMPTY_NODE);ne=p.filter.updateFullNode(c.eventCache.getNode(),ut,k)}else{const Re=vo(_,Wr(c));ne=p.filter.updateFullNode(c.eventCache.getNode(),Re,k)}else{const Re=fr(d);if(".priority"===Re){(0,re.hu)(1===je(d),"Can't have a priority with additional path components");const lt=W.getNode();be=c.serverCache.getNode();const ut=Rl(_,d,lt,be);ne=null!=ut?p.filter.updatePriority(lt,ut):W.getNode()}else{const lt=Ne(d);let ut;if(W.isCompleteForChild(Re)){be=c.serverCache.getNode();const Ut=Rl(_,d,W.getNode(),be);ut=null!=Ut?W.getNode().getImmediateChild(Re).updateChild(lt,Ut):W.getNode().getImmediateChild(Re)}else ut=Ka(_,Re,c.serverCache);ne=null!=ut?p.filter.updateChild(W.getNode(),Re,ut,lt,T,k):W.getNode()}}return io(c,ne,W.isFullyInitialized()||kn(d),p.filter.filtersNodes())}}function ko(p,c,d,_,T,k,W,ne){const be=c.serverCache;let Re;const lt=W?p.filter:p.filter.getIndexedFilter();if(kn(d))Re=lt.updateFullNode(be.getNode(),_,null);else if(lt.filtersNodes()&&!be.isFiltered()){const Nn=be.getNode().updateChild(d,_);Re=lt.updateFullNode(be.getNode(),Nn,null)}else{const Nn=fr(d);if(!be.isCompleteForPath(d)&&je(d)>1)return c;const or=Ne(d),is=be.getNode().getImmediateChild(Nn).updateChild(or,_);Re=".priority"===Nn?lt.updatePriority(be.getNode(),is):lt.updateChild(be.getNode(),Nn,is,or,br,null)}const ut=so(c,Re,be.isFullyInitialized()||kn(d),lt.filtersNodes());return Fr(p,ut,d,T,new Oo(T,ut,k),ne)}function jr(p,c,d,_,T,k,W){const ne=c.eventCache;let be,Re;const lt=new Oo(T,c,k);if(kn(d))Re=p.filter.updateFullNode(c.eventCache.getNode(),_,W),be=io(c,Re,!0,p.filter.filtersNodes());else{const ut=fr(d);if(".priority"===ut)Re=p.filter.updatePriority(c.eventCache.getNode(),_),be=io(c,Re,ne.isFullyInitialized(),ne.isFiltered());else{const Ut=Ne(d),Nn=ne.getNode().getImmediateChild(ut);let or;if(kn(Ut))or=_;else{const qr=lt.getCompleteChild(ut);or=null!=qr?".priority"===it(Ut)&&qr.getChild(pn(Ut)).isEmpty()?qr:qr.updateChild(Ut,_):Gn.EMPTY_NODE}be=Nn.equals(or)?c:io(c,p.filter.updateChild(ne.getNode(),ut,or,Ut,lt,W),ne.isFullyInitialized(),p.filter.filtersNodes())}}return be}function hn(p,c){return p.eventCache.isCompleteForChild(c)}function ul(p,c,d){return d.foreach((_,T)=>{c=c.updateChild(_,T)}),c}function ba(p,c,d,_,T,k,W,ne){if(c.serverCache.getNode().isEmpty()&&!c.serverCache.isFullyInitialized())return c;let Re,be=c;Re=kn(d)?_:new $r(null).setTree(d,_);const lt=c.serverCache.getNode();return Re.children.inorderTraversal((ut,Ut)=>{if(lt.hasChild(ut)){const or=ul(0,c.serverCache.getNode().getImmediateChild(ut),Ut);be=ko(p,be,new hr(ut),or,T,k,W,ne)}}),Re.children.inorderTraversal((ut,Ut)=>{const Nn=!c.serverCache.isCompleteForChild(ut)&&void 0===Ut.value;if(!lt.hasChild(ut)&&!Nn){const qr=ul(0,c.serverCache.getNode().getImmediateChild(ut),Ut);be=ko(p,be,new hr(ut),qr,T,k,W,ne)}}),be}class au{constructor(c,d){this.query_=c,this.eventRegistrations_=[];const _=this.query_._queryParams,T=new Io(_.getIndex()),k=function(p){return p.loadsAllData()?new Io(p.getIndex()):p.hasLimit()?new ji(p):new Fs(p)}(_);this.processor_=function(p){return{filter:p}}(k);const W=d.serverCache,ne=d.eventCache,be=T.updateFullNode(Gn.EMPTY_NODE,W.getNode(),null),Re=k.updateFullNode(Gn.EMPTY_NODE,ne.getNode(),null),lt=new ts(be,W.isFullyInitialized(),T.filtersNodes()),ut=new ts(Re,ne.isFullyInitialized(),k.filtersNodes());this.viewCache_=Bs(ut,lt),this.eventGenerator_=new Ea(this.query_)}get query(){return this.query_}}function Zd(p,c){const d=Wr(p.viewCache_);return d&&(p.query._queryParams.loadsAllData()||!kn(c)&&!d.getImmediateChild(fr(c)).isEmpty())?d.getChild(c):null}function ll(p){return 0===p.eventRegistrations_.length}function cl(p,c,d){const _=[];if(d){(0,re.hu)(null==c,"A cancel should cancel all event registrations.");const T=p.query._path;p.eventRegistrations_.forEach(k=>{const W=k.createCancelEvent(d,T);W&&_.push(W)})}if(c){let T=[];for(let k=0;k<p.eventRegistrations_.length;++k){const W=p.eventRegistrations_[k];if(W.matches(c)){if(c.hasAnyCallback()){T=T.concat(p.eventRegistrations_.slice(k+1));break}}else T.push(W)}p.eventRegistrations_=T}else p.eventRegistrations_=[];return _}function ft(p,c,d,_){c.type===vi.MERGE&&null!==c.source.queryId&&((0,re.hu)(Wr(p.viewCache_),"We should always have a full cache before handling merges"),(0,re.hu)(Ro(p.viewCache_),"Missing event cache, even though we have a server cache"));const T=p.viewCache_,k=function(p,c,d,_,T){const k=new za;let W,ne;if(d.type===vi.OVERWRITE){const Re=d;Re.source.fromUser?W=jr(p,c,Re.path,Re.snap,_,T,k):((0,re.hu)(Re.source.fromServer,"Unknown source."),ne=Re.source.tagged||c.serverCache.isFiltered()&&!kn(Re.path),W=ko(p,c,Re.path,Re.snap,_,T,ne,k))}else if(d.type===vi.MERGE){const Re=d;Re.source.fromUser?W=function(p,c,d,_,T,k,W){let ne=c;return _.foreach((be,Re)=>{const lt=Mn(d,be);hn(c,fr(lt))&&(ne=jr(p,ne,lt,Re,T,k,W))}),_.foreach((be,Re)=>{const lt=Mn(d,be);hn(c,fr(lt))||(ne=jr(p,ne,lt,Re,T,k,W))}),ne}(p,c,Re.path,Re.children,_,T,k):((0,re.hu)(Re.source.fromServer,"Unknown source."),ne=Re.source.tagged||c.serverCache.isFiltered(),W=ba(p,c,Re.path,Re.children,_,T,ne,k))}else if(d.type===vi.ACK_USER_WRITE){const Re=d;W=Re.revert?function(p,c,d,_,T,k){let W;if(null!=ou(_,d))return c;{const ne=new Oo(_,c,T),be=c.eventCache.getNode();let Re;if(kn(d)||".priority"===fr(d)){let lt;if(c.serverCache.isFullyInitialized())lt=vo(_,Wr(c));else{const ut=c.serverCache.getNode();(0,re.hu)(ut instanceof Gn,"serverChildren would be complete if leaf node"),lt=ol(_,ut)}lt=lt,Re=p.filter.updateFullNode(be,lt,k)}else{const lt=fr(d);let ut=Ka(_,lt,c.serverCache);null==ut&&c.serverCache.isCompleteForChild(lt)&&(ut=be.getImmediateChild(lt)),Re=null!=ut?p.filter.updateChild(be,lt,ut,Ne(d),ne,k):c.eventCache.getNode().hasChild(lt)?p.filter.updateChild(be,lt,Gn.EMPTY_NODE,Ne(d),ne,k):be,Re.isEmpty()&&c.serverCache.isFullyInitialized()&&(W=vo(_,Wr(c)),W.isLeafNode()&&(Re=p.filter.updateFullNode(Re,W,k)))}return W=c.serverCache.isFullyInitialized()||null!=ou(_,zn()),io(c,Re,W,p.filter.filtersNodes())}}(p,c,Re.path,_,T,k):function(p,c,d,_,T,k,W){if(null!=ou(T,d))return c;const ne=c.serverCache.isFiltered(),be=c.serverCache;if(null!=_.value){if(kn(d)&&be.isFullyInitialized()||be.isCompleteForPath(d))return ko(p,c,d,be.getNode().getChild(d),T,k,ne,W);if(kn(d)){let Re=new $r(null);return be.getNode().forEachChild(Ci,(lt,ut)=>{Re=Re.set(new hr(lt),ut)}),ba(p,c,d,Re,T,k,ne,W)}return c}{let Re=new $r(null);return _.foreach((lt,ut)=>{const Ut=Mn(d,lt);be.isCompleteForPath(Ut)&&(Re=Re.set(lt,be.getNode().getChild(Ut)))}),ba(p,c,d,Re,T,k,ne,W)}}(p,c,Re.path,Re.affectedTree,_,T,k)}else{if(d.type!==vi.LISTEN_COMPLETE)throw(0,re.g5)("Unknown operation type: "+d.type);W=function(p,c,d,_,T){const k=c.serverCache;return Fr(p,so(c,k.getNode(),k.isFullyInitialized()||kn(d),k.isFiltered()),d,_,br,T)}(p,c,d.path,_,k)}const be=k.getChanges();return function(p,c,d){const _=c.eventCache;if(_.isFullyInitialized()){const T=_.getNode().isLeafNode()||_.getNode().isEmpty(),k=Ro(p);(d.length>0||!p.eventCache.isFullyInitialized()||T&&!_.getNode().equals(k)||!_.getNode().getPriority().equals(k.getPriority()))&&d.push(Ks(Ro(c)))}}(c,W,be),{viewCache:W,changes:be}}(p.processor_,T,c,d,_);return function(p,c){(0,re.hu)(c.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,re.hu)(c.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,k.viewCache),(0,re.hu)(k.viewCache.serverCache.isFullyInitialized()||!T.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=k.viewCache,ii(p,k.changes,k.viewCache.eventCache.getNode(),null)}function ii(p,c,d,_){return function(p,c,d,_){const T=[],k=[];return c.forEach(W=>{"child_changed"===W.type&&p.index_.indexedValueChanged(W.oldSnap,W.snapshotNode)&&k.push(function(p,c){return{type:"child_moved",snapshotNode:c,childName:p}}(W.childName,W.snapshotNode))}),li(p,T,"child_removed",c,_,d),li(p,T,"child_added",c,_,d),li(p,T,"child_moved",k,_,d),li(p,T,"child_changed",c,_,d),li(p,T,"value",c,_,d),T}(p.eventGenerator_,c,d,_?[_]:p.eventRegistrations_)}let vu,Li;class Si{constructor(){this.views=new Map}}function Ol(p,c,d,_){const T=c.source.queryId;if(null!==T){const k=p.views.get(T);return(0,re.hu)(null!=k,"SyncTree gave us an op for an invalid query."),ft(k,c,d,_)}{let k=[];for(const W of p.views.values())k=k.concat(ft(W,c,d,_));return k}}function ao(p,c,d,_,T){const W=p.views.get(c._queryIdentifier);if(!W){let ne=vo(d,T?_:null),be=!1;ne?be=!0:_ instanceof Gn?(ne=ol(d,_),be=!1):(ne=Gn.EMPTY_NODE,be=!1);const Re=Bs(new ts(ne,be,!1),new ts(_,T,!1));return new au(c,Re)}return W}function Ri(p){const c=[];for(const d of p.views.values())d.query._queryParams.loadsAllData()||c.push(d);return c}function Us(p,c){let d=null;for(const _ of p.views.values())d=d||Zd(_,c);return d}function Oa(p,c){return c._queryParams.loadsAllData()?lu(p):p.views.get(c._queryIdentifier)}function kl(p,c){return null!=Oa(p,c)}function Qr(p){return null!=lu(p)}function lu(p){for(const c of p.views.values())if(c.query._queryParams.loadsAllData())return c;return null}let Jo=1;class Cs{constructor(c){this.listenProvider_=c,this.syncPointTree_=new $r(null),this.pendingWriteTree_={visibleWrites:oo.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dl(p,c,d,_,T){return function(p,c,d,_,T){(0,re.hu)(_>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===T&&(T=!0),p.allWrites.push({path:c,snap:d,writeId:_,visible:T}),T&&(p.visibleWrites=Wi(p.visibleWrites,c,d)),p.lastWriteId=_}(p.pendingWriteTree_,c,d,_,T),T?Ki(p,new Vs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,d)):[]}function F(p,c,d=!1){const _=function(p,c){for(let d=0;d<p.allWrites.length;d++){const _=p.allWrites[d];if(_.writeId===c)return _}return null}(p.pendingWriteTree_,c);if(function(p,c){const d=p.allWrites.findIndex(ne=>ne.writeId===c);(0,re.hu)(d>=0,"removeWrite called with nonexistent writeId.");const _=p.allWrites[d];p.allWrites.splice(d,1);let T=_.visible,k=!1,W=p.allWrites.length-1;for(;T&&W>=0;){const ne=p.allWrites[W];ne.visible&&(W>=d&&nn(ne,_.path)?T=!1:Yr(_.path,ne.path)&&(k=!0)),W--}return!!T&&(k?(function(p){p.visibleWrites=$t(p.allWrites,Zn,zn()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(_.snap?p.visibleWrites=ge(p.visibleWrites,_.path):xn(_.children,be=>{p.visibleWrites=ge(p.visibleWrites,Mn(_.path,be))}),!0))}(p.pendingWriteTree_,c)){let k=new $r(null);return null!=_.snap?k=k.set(zn(),!0):xn(_.children,W=>{k=k.set(new hr(W),!0)}),Ki(p,new To(_.path,k,d))}return[]}function G(p,c,d){return Ki(p,new Vs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,d))}function ct(p,c,d,_){const T=c._path,k=p.syncPointTree_.get(T);let W=[];if(k&&("default"===c._queryIdentifier||kl(k,c))){const ne=function(p,c,d,_){const T=c._queryIdentifier,k=[];let W=[];const ne=Qr(p);if("default"===T)for(const[be,Re]of p.views.entries())W=W.concat(cl(Re,d,_)),ll(Re)&&(p.views.delete(be),Re.query._queryParams.loadsAllData()||k.push(Re.query));else{const be=p.views.get(T);be&&(W=W.concat(cl(be,d,_)),ll(be)&&(p.views.delete(T),be.query._queryParams.loadsAllData()||k.push(be.query)))}return ne&&!Qr(p)&&k.push(new((0,re.hu)(vu,"Reference.ts has not been loaded"),vu)(c._repo,c._path)),{removed:k,events:W}}(k,c,d,_);(function(p){return 0===p.views.size})(k)&&(p.syncPointTree_=p.syncPointTree_.remove(T));const be=ne.removed;W=ne.events;const Re=-1!==be.findIndex(ut=>ut._queryParams.loadsAllData()),lt=p.syncPointTree_.findOnPath(T,(ut,Ut)=>Qr(Ut));if(Re&&!lt){const ut=p.syncPointTree_.subtree(T);if(!ut.isEmpty()){const Ut=function(p){return p.fold((c,d,_)=>{if(d&&Qr(d))return[lu(d)];{let T=[];return d&&(T=Ri(d)),xn(_,(k,W)=>{T=T.concat(W)}),T}})}(ut);for(let Nn=0;Nn<Ut.length;++Nn){const or=Ut[Nn],qr=or.query,is=Ia(p,or);p.listenProvider_.startListening(cu(qr),qs(p,qr),is.hashFn,is.onComplete)}}}if(!lt&&be.length>0&&!_)if(Re){const ut=null;p.listenProvider_.stopListening(cu(c),ut)}else be.forEach(ut=>{const Ut=p.queryToTagMap.get(ea(ut));p.listenProvider_.stopListening(cu(ut),Ut)});!function(p,c){for(let d=0;d<c.length;++d){const _=c[d];if(!_._queryParams.loadsAllData()){const T=ea(_),k=p.queryToTagMap.get(T);p.queryToTagMap.delete(T),p.tagToQueryMap.delete(k)}}}(p,be)}return W}function gn(p,c,d,_){const T=gs(p,_);if(null!=T){const k=Vo(T),W=k.path,ne=k.queryId,be=Hn(W,c);return Kr(p,W,new Vs(Yo(ne),be,d))}return[]}function sr(p,c){const d=p._path;let _=null,T=!1;c.syncPointTree_.foreachOnPath(d,(Re,lt)=>{const ut=Hn(Re,d);_=_||Us(lt,ut),T=T||Qr(lt)});let W,k=c.syncPointTree_.get(d);k?(T=T||Qr(k),_=_||Us(k,zn())):(k=new Si,c.syncPointTree_=c.syncPointTree_.set(d,k)),null!=_?W=!0:(W=!1,_=Gn.EMPTY_NODE,c.syncPointTree_.subtree(d).foreachChild((lt,ut)=>{const Ut=Us(ut,zn());Ut&&(_=_.updateImmediateChild(lt,Ut))}));const ne=kl(k,p);if(!ne&&!p._queryParams.loadsAllData()){const Re=ea(p);(0,re.hu)(!c.queryToTagMap.has(Re),"View does not exist, but we have a tag");const lt=Jo++;c.queryToTagMap.set(Re,lt),c.tagToQueryMap.set(lt,Re)}return{syncPoint:k,writesCache:Z(c.pendingWriteTree_,d),serverCache:_,serverCacheComplete:W,foundAncestorDefaultView:T,viewAlreadyExists:ne}}function Sr(p,c,d){const{syncPoint:_,serverCache:T,writesCache:k,serverCacheComplete:W,viewAlreadyExists:ne,foundAncestorDefaultView:be}=sr(c,p);let Re=function(p,c,d,_,T,k){const W=ao(p,c,_,T,k);return p.views.has(c._queryIdentifier)||p.views.set(c._queryIdentifier,W),function(p,c){p.eventRegistrations_.push(c)}(W,d),function(p,c){const d=p.viewCache_.eventCache,_=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(te,(k,W)=>{_.push(zs(k,W))}),d.isFullyInitialized()&&_.push(Ks(d.getNode())),ii(p,_,d.getNode(),c)}(W,d)}(_,c,d,k,T,W);if(!ne&&!be){const lt=Oa(_,c);Re=Re.concat(function(p,c,d){const _=c._path,T=qs(p,c),k=Ia(p,d),W=p.listenProvider_.startListening(cu(c),T,k.hashFn,k.onComplete),ne=p.syncPointTree_.subtree(_);if(T)(0,re.hu)(!Qr(ne.value),"If we're adding a query, it shouldn't be shadowed");else{const be=ne.fold((Re,lt,ut)=>{if(!kn(Re)&&lt&&Qr(lt))return[lu(lt).query];{let Ut=[];return lt&&(Ut=Ut.concat(Ri(lt).map(Nn=>Nn.query))),xn(ut,(Nn,or)=>{Ut=Ut.concat(or)}),Ut}});for(let Re=0;Re<be.length;++Re){const lt=be[Re];p.listenProvider_.stopListening(cu(lt),qs(p,lt))}}return W}(p,c,lt))}return Re}function qn(p,c,d){const T=p.pendingWriteTree_,k=p.syncPointTree_.findOnPath(c,(W,ne)=>{const Re=Us(ne,Hn(W,c));if(Re)return Re});return an(T,c,k,d,!0)}function Ki(p,c){return Fo(c,p.syncPointTree_,null,Z(p.pendingWriteTree_,zn()))}function Fo(p,c,d,_){if(kn(p.path))return js(p,c,d,_);{const T=c.get(zn());null==d&&null!=T&&(d=Us(T,zn()));let k=[];const W=fr(p.path),ne=p.operationForChild(W),be=c.children.get(W);if(be&&ne){const Re=d?d.getImmediateChild(W):null,lt=Bu(_,W);k=k.concat(Fo(ne,be,Re,lt))}return T&&(k=k.concat(Ol(T,p,_,d))),k}}function js(p,c,d,_){const T=c.get(zn());null==d&&null!=T&&(d=Us(T,zn()));let k=[];return c.children.inorderTraversal((W,ne)=>{const be=d?d.getImmediateChild(W):null,Re=Bu(_,W),lt=p.operationForChild(W);lt&&(k=k.concat(js(lt,ne,be,Re)))}),T&&(k=k.concat(Ol(T,p,_,d))),k}function Ia(p,c){const d=c.query,_=qs(p,d);return{hashFn:()=>(function(p){return p.viewCache_.serverCache.getNode()}(c)||Gn.EMPTY_NODE).hash(),onComplete:T=>{if("ok"===T)return _?function(p,c,d){const _=gs(p,d);if(_){const T=Vo(_),k=T.path,W=T.queryId,ne=Hn(k,c);return Kr(p,k,new _o(Yo(W),ne))}return[]}(p,d._path,_):function(p,c){return Ki(p,new _o({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c))}(p,d._path);{const k=function(p,c){let d="Unknown Error";"too_big"===p?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?d="Client doesn't have permission to access the desired data.":"unavailable"===p&&(d="The service is unavailable");const _=new Error(p+" at "+c._path.toString()+": "+d);return _.code=p.toUpperCase(),_}(T,d);return ct(p,d,null,k)}}}}function qs(p,c){const d=ea(c);return p.queryToTagMap.get(d)}function ea(p){return p._path.toString()+"$"+p._queryIdentifier}function gs(p,c){return p.tagToQueryMap.get(c)}function Vo(p){const c=p.indexOf("$");return(0,re.hu)(-1!==c&&c<p.length-1,"Bad queryKey."),{queryId:p.substr(c+1),path:new hr(p.substr(0,c))}}function Kr(p,c,d){const _=p.syncPointTree_.get(c);return(0,re.hu)(_,"Missing sync point for query tag that we're tracking"),Ol(_,d,Z(p.pendingWriteTree_,c),null)}function cu(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new((0,re.hu)(Li,"Reference.ts has not been loaded"),Li)(p._repo,p._path):p}class Xa{constructor(c){this.node_=c}getImmediateChild(c){const d=this.node_.getImmediateChild(c);return new Xa(d)}node(){return this.node_}}class Hu{constructor(c,d){this.syncTree_=c,this.path_=d}getImmediateChild(c){const d=Mn(this.path_,c);return new Hu(this.syncTree_,d)}node(){return qn(this.syncTree_,this.path_)}}const Gu=function(p,c,d){return p&&"object"==typeof p?((0,re.hu)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?ka(p[".sv"],c,d):"object"==typeof p[".sv"]?Cu(p[".sv"],c):void(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},ka=function(p,c,d){switch(p){case"timestamp":return d.timestamp;default:(0,re.hu)(!1,"Unexpected server value: "+p)}},Cu=function(p,c,d){p.hasOwnProperty("increment")||(0,re.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));const _=p.increment;"number"!=typeof _&&(0,re.hu)(!1,"Unexpected increment value: "+_);const T=c.node();if((0,re.hu)(null!=T,"Expected ChildrenNode.EMPTY_NODE for nulls"),!T.isLeafNode())return _;const W=T.getValue();return"number"!=typeof W?_:W+_},Fi=function(p,c,d,_){return Di(c,new Hu(d,p),_)},Ll=function(p,c,d){return Di(p,new Xa(c),d)};function Di(p,c,d){const _=p.getPriority().val(),T=Gu(_,c.getImmediateChild(".priority"),d);let k;if(p.isLeafNode()){const W=p,ne=Gu(W.getValue(),c,d);return ne!==W.getValue()||T!==W.getPriority().val()?new Me(ne,ui(T)):p}{const W=p;return k=W,T!==W.getPriority().val()&&(k=k.updatePriority(new Me(T))),W.forEachChild(te,(ne,be)=>{const Re=Di(be,c.getImmediateChild(ne),d);Re!==be&&(k=k.updateImmediateChild(ne,Re))}),k}}class Wu{constructor(c="",d=null,_={children:{},childCount:0}){this.name=c,this.parent=d,this.node=_}}function Iu(p,c){let d=c instanceof hr?c:new hr(c),_=p,T=fr(d);for(;null!==T;){const k=(0,re.DV)(_.node.children,T)||{children:{},childCount:0};_=new Wu(T,_,k),d=Ne(d),T=fr(d)}return _}function Bo(p){return p.node.value}function Fl(p,c){p.node.value=c,hl(p)}function $u(p){return p.node.childCount>0}function ta(p,c){xn(p.node.children,(d,_)=>{c(new Wu(d,p,_))})}function ed(p,c,d,_){d&&!_&&c(p),ta(p,T=>{ed(T,c,!0,_)}),d&&_&&c(p)}function ns(p){return new hr(null===p.parent?p.name:ns(p.parent)+"/"+p.name)}function hl(p){null!==p.parent&&function(p,c,d){const _=function(p){return void 0===Bo(p)&&!$u(p)}(d),T=(0,re.r3)(p.node.children,c);_&&T?(delete p.node.children[c],p.node.childCount--,hl(p)):!_&&!T&&(p.node.children[c]=d.node,p.node.childCount++,hl(p))}(p.parent,p.name,p)}const nd=/[\[\].#$\/\u0000-\u001F\u007F]/,Qd=/[\[\].#$\u0000-\u001F\u007F]/,fc=10485760,Tu=function(p){return"string"==typeof p&&0!==p.length&&!nd.test(p)},Vl=function(p){return"string"==typeof p&&0!==p.length&&!Qd.test(p)},na=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!dn(p)||p&&"object"==typeof p&&(0,re.r3)(p,".sv")},uo=function(p,c,d,_){_&&void 0===c||pc((0,re.gK)(p,"value"),c,d)},pc=function(p,c,d){const _=d instanceof hr?new As(d,p):d;if(void 0===c)throw new Error(p+"contains undefined "+Mi(_));if("function"==typeof c)throw new Error(p+"contains a function "+Mi(_)+" with contents = "+c.toString());if(dn(c))throw new Error(p+"contains "+c.toString()+" "+Mi(_));if("string"==typeof c&&c.length>fc/3&&(0,re.ug)(c)>fc)throw new Error(p+"contains a string greater than "+fc+" utf8 bytes "+Mi(_)+" ('"+c.substring(0,50)+"...')");if(c&&"object"==typeof c){let T=!1,k=!1;if(xn(c,(W,ne)=>{if(".value"===W)T=!0;else if(".priority"!==W&&".sv"!==W&&(k=!0,!Tu(W)))throw new Error(p+" contains an invalid key ("+W+") "+Mi(_)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(p,c){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(c),p.byteLength_+=(0,re.ug)(c),fa(p)})(_,W),pc(p,ne,_),function(p){const c=p.parts_.pop();p.byteLength_-=(0,re.ug)(c),p.parts_.length>0&&(p.byteLength_-=1)}(_)}),T&&k)throw new Error(p+' contains ".value" child '+Mi(_)+" in addition to actual children.")}},Ul=function(p,c,d,_){if(_&&void 0===c)return;const T=(0,re.gK)(p,"values");if(!c||"object"!=typeof c||Array.isArray(c))throw new Error(T+" must be an object containing the children to replace.");const k=[];xn(c,(W,ne)=>{const be=new hr(W);if(pc(T,ne,Mn(d,be)),".priority"===it(be)&&!na(ne))throw new Error(T+"contains an invalid value for '"+be.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");k.push(be)}),function(p,c){let d,_;for(d=0;d<c.length;d++){_=c[d];const k=Gt(_);for(let W=0;W<k.length;W++)if((".priority"!==k[W]||W!==k.length-1)&&!Tu(k[W]))throw new Error(p+"contains an invalid key ("+k[W]+") in path "+_.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}c.sort(ti);let T=null;for(d=0;d<c.length;d++){if(_=c[d],null!==T&&Yr(T,_))throw new Error(p+"contains a path "+T.toString()+" that is ancestor of another path "+_.toString());T=_}}(T,k)},Uo=function(p,c,d){if(!d||void 0!==c){if(dn(c))throw new Error((0,re.gK)(p,"priority")+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!na(c))throw new Error((0,re.gK)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ku=function(p,c,d,_){if(!(_&&void 0===d||Tu(d)))throw new Error((0,re.gK)(p,c)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},La=function(p,c,d,_){if(!(_&&void 0===d||Vl(d)))throw new Error((0,re.gK)(p,c)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jo=function(p,c){if(".info"===fr(c))throw new Error(p+" failed = Can't modify data under /.info/")},zu=function(p,c){const d=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||!Tu(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==d.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Vl(p)}(d))throw new Error((0,re.gK)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class rd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hu(p,c){let d=null;for(let _=0;_<c.length;_++){const T=c[_],k=T.getPath();null!==d&&!ls(k,d.path)&&(p.eventLists_.push(d),d=null),null===d&&(d={events:[],path:k}),d.events.push(T)}d&&p.eventLists_.push(d)}function ra(p,c,d){hu(p,d),Fa(p,_=>ls(_,c))}function Ts(p,c,d){hu(p,d),Fa(p,_=>Yr(_,c)||Yr(c,_))}function Fa(p,c){p.recursionDepth_++;let d=!0;for(let _=0;_<p.eventLists_.length;_++){const T=p.eventLists_[_];T&&(c(T.path)?(id(p.eventLists_[_]),p.eventLists_[_]=null):d=!1)}d&&(p.eventLists_=[]),p.recursionDepth_--}function id(p){for(let c=0;c<p.events.length;c++){const d=p.events[c];if(null!==d){p.events[c]=null;const _=d.getEventRunner();Sn&&tn("event: "+d.toString()),mt(_)}}}const gc="repo_interrupt";class mc{constructor(c,d,_,T){this.repoInfo_=c,this.forceRestClient_=d,this.authTokenProvider_=_,this.appCheckProvider_=T,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fs(),this.transactionQueueTree_=new Wu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xd(p){const d=p.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function Zu(p){return function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p}({timestamp:Xd(p)})}function od(p,c,d,_,T){p.dataUpdateCount++;const k=new hr(c);d=p.interceptServerDataCallback_?p.interceptServerDataCallback_(c,d):d;let W=[];if(T)if(_){const be=(0,re.UI)(d,Re=>ui(Re));W=function(p,c,d,_){const T=gs(p,_);if(T){const k=Vo(T),W=k.path,ne=k.queryId,be=Hn(W,c),Re=$r.fromObject(d);return Kr(p,W,new yo(Yo(ne),be,Re))}return[]}(p.serverSyncTree_,k,be,T)}else{const be=ui(d);W=gn(p.serverSyncTree_,k,be,T)}else if(_){const be=(0,re.UI)(d,Re=>ui(Re));W=function(p,c,d){const _=$r.fromObject(d);return Ki(p,new yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},c,_))}(p.serverSyncTree_,k,be)}else{const be=ui(d);W=G(p.serverSyncTree_,k,be)}let ne=k;W.length>0&&(ne=v(p,k)),Ts(p.eventQueue_,ne,W)}function ad(p,c){ud(p,"connected",c),!1===c&&function(p){_i(p,"onDisconnectEvents");const c=Zu(p),d=fs();va(p.onDisconnect_,zn(),(T,k)=>{const W=Fi(T,k,p.serverSyncTree_,c);Zs(d,T,W)});let _=[];va(d,zn(),(T,k)=>{_=_.concat(G(p.serverSyncTree_,T,k));const W=cn(p,T);v(p,W)}),p.onDisconnect_=fs(),Ts(p.eventQueue_,zn(),_)}(p)}function ud(p,c,d){const _=new hr("/.info/"+c),T=ui(d);p.infoData_.updateSnapshot(_,T);const k=G(p.infoSyncTree_,_,T);Ts(p.eventQueue_,_,k)}function ld(p){return p.nextWriteId_++}function Yd(p,c){const d=function(p,c){const d=c._path;let _=null;p.syncPointTree_.foreachOnPath(d,(Re,lt)=>{const ut=Hn(Re,d);_=_||Us(lt,ut)});let T=p.syncPointTree_.get(d);T?_=_||Us(T,zn()):(T=new Si,p.syncPointTree_=p.syncPointTree_.set(d,T));const k=null!=_,W=k?new ts(_,!0,!1):null;return function(p){return Ro(p.viewCache_)}(ao(T,c,Z(p.pendingWriteTree_,c._path),k?W.getNode():Gn.EMPTY_NODE,k))}(p.serverSyncTree_,c);return null!=d?Promise.resolve(d):p.server_.get(c).then(_=>{const T=ui(_).withIndex(c._queryParams.getIndex());if(c._queryParams.loadsAllData())G(p.serverSyncTree_,c._path,T);else{const W=function(p,c){const{syncPoint:d,serverCache:_,writesCache:T,serverCacheComplete:k}=sr(c,p),W=ao(d,c,T,_,k);return d.views.has(c._queryIdentifier)||d.views.set(c._queryIdentifier,W),c._queryParams.loadsAllData()?null:qs(p,c)}(p.serverSyncTree_,c);gn(p.serverSyncTree_,c._path,T,W)}return ct(p.serverSyncTree_,c,null).length>0&&_i(p,"unexpected cancel events in repoGetValue"),T},_=>(_i(p,"get for query "+(0,re.Pz)(c)+" failed: "+_),Promise.reject(new Error(_))))}function wa(p,c,d,_,T){_i(p,"set",{path:c.toString(),value:d,priority:_});const k=Zu(p),W=ui(d,_),ne=qn(p.serverSyncTree_,c),be=Ll(W,ne,k),Re=ld(p),lt=dl(p.serverSyncTree_,c,be,Re,!0);hu(p.eventQueue_,lt),p.server_.put(c.toString(),W.val(!0),(Ut,Nn)=>{const or="ok"===Ut;or||wt("set at "+c+" failed: "+Ut);const qr=F(p.serverSyncTree_,Re,!or);Ts(p.eventQueue_,c,qr),sa(0,T,Ut,Nn)});const ut=cn(p,c);v(p,ut),Ts(p.eventQueue_,ut,[])}function ia(p,c,d){p.server_.onDisconnectCancel(c.toString(),(_,T)=>{"ok"===_&&ya(p.onDisconnect_,c),sa(0,d,_,T)})}function _c(p,c,d,_){const T=ui(d);p.server_.onDisconnectPut(c.toString(),T.val(!0),(k,W)=>{"ok"===k&&Zs(p.onDisconnect_,c,T),sa(0,_,k,W)})}function pl(p,c,d){let _;_=".info"===fr(c._path)?ct(p.infoSyncTree_,c,d):ct(p.serverSyncTree_,c,d),ra(p.eventQueue_,c._path,_)}function Jd(p){p.persistentConnection_&&p.persistentConnection_.interrupt(gc)}function _i(p,...c){let d="";p.persistentConnection_&&(d=p.persistentConnection_.id+":"),tn(d,...c)}function sa(p,c,d,_){c&&mt(()=>{if("ok"===d)c(null);else{const T=(d||"error").toUpperCase();let k=T;_&&(k+=": "+_);const W=new Error(k);W.code=T,c(W)}})}function fd(p,c,d){return qn(p.serverSyncTree_,c,d)||Gn.EMPTY_NODE}function I(p,c=p.transactionQueueTree_){if(c||Ct(p,c),Bo(c)){const d=se(p,c);(0,re.hu)(d.length>0,"Sending zero length transaction queue"),d.every(T=>0===T.status)&&function(p,c,d){const _=d.map(Re=>Re.currentWriteId),T=fd(p,c,_);let k=T;const W=T.hash();for(let Re=0;Re<d.length;Re++){const lt=d[Re];(0,re.hu)(0===lt.status,"tryToSendTransactionQueue_: items in queue should all be run."),lt.status=1,lt.retryCount++;const ut=Hn(c,lt.path);k=k.updateChild(ut,lt.currentOutputSnapshotRaw)}const ne=k.val(!0),be=c;p.server_.put(be.toString(),ne,Re=>{_i(p,"transaction put response",{path:be.toString(),status:Re});let lt=[];if("ok"===Re){const ut=[];for(let Ut=0;Ut<d.length;Ut++)d[Ut].status=2,lt=lt.concat(F(p.serverSyncTree_,d[Ut].currentWriteId)),d[Ut].onComplete&&ut.push(()=>d[Ut].onComplete(null,!0,d[Ut].currentOutputSnapshotResolved)),d[Ut].unwatcher();Ct(p,Iu(p.transactionQueueTree_,c)),I(p,p.transactionQueueTree_),Ts(p.eventQueue_,c,lt);for(let Ut=0;Ut<ut.length;Ut++)mt(ut[Ut])}else{if("datastale"===Re)for(let ut=0;ut<d.length;ut++)d[ut].status=3===d[ut].status?4:0;else{wt("transaction at "+be.toString()+" failed: "+Re);for(let ut=0;ut<d.length;ut++)d[ut].status=4,d[ut].abortReason=Re}v(p,c)}},W)}(p,ns(c),d)}else $u(c)&&ta(c,d=>{I(p,d)})}function v(p,c){const d=Q(p,c),_=ns(d);return function(p,c,d){if(0===c.length)return;const _=[];let T=[];const W=c.filter(ne=>0===ne.status).map(ne=>ne.currentWriteId);for(let ne=0;ne<c.length;ne++){const be=c[ne],Re=Hn(d,be.path);let ut,lt=!1;if((0,re.hu)(null!==Re,"rerunTransactionsUnderNode_: relativePath should not be null."),4===be.status)lt=!0,ut=be.abortReason,T=T.concat(F(p.serverSyncTree_,be.currentWriteId,!0));else if(0===be.status)if(be.retryCount>=25)lt=!0,ut="maxretry",T=T.concat(F(p.serverSyncTree_,be.currentWriteId,!0));else{const Ut=fd(p,be.path,W);be.currentInputSnapshot=Ut;const Nn=c[ne].update(Ut.val());if(void 0!==Nn){pc("transaction failed: Data returned ",Nn,be.path);let or=ui(Nn);"object"==typeof Nn&&null!=Nn&&(0,re.r3)(Nn,".priority")||(or=or.updatePriority(Ut.getPriority()));const is=be.currentWriteId,bl=Zu(p),Go=Ll(or,Ut,bl);be.currentOutputSnapshotRaw=or,be.currentOutputSnapshotResolved=Go,be.currentWriteId=ld(p),W.splice(W.indexOf(is),1),T=T.concat(dl(p.serverSyncTree_,be.path,Go,be.currentWriteId,be.applyLocally)),T=T.concat(F(p.serverSyncTree_,is,!0))}else lt=!0,ut="nodata",T=T.concat(F(p.serverSyncTree_,be.currentWriteId,!0))}Ts(p.eventQueue_,d,T),T=[],lt&&(c[ne].status=2,setTimeout(c[ne].unwatcher,Math.floor(0)),c[ne].onComplete&&_.push("nodata"===ut?()=>c[ne].onComplete(null,!1,c[ne].currentInputSnapshot):()=>c[ne].onComplete(new Error(ut),!1,null)))}Ct(p,p.transactionQueueTree_);for(let ne=0;ne<_.length;ne++)mt(_[ne]);I(p,p.transactionQueueTree_)}(p,se(p,d),_),_}function Q(p,c){let d,_=p.transactionQueueTree_;for(d=fr(c);null!==d&&void 0===Bo(_);)_=Iu(_,d),d=fr(c=Ne(c));return _}function se(p,c){const d=[];return ze(p,c,d),d.sort((_,T)=>_.order-T.order),d}function ze(p,c,d){const _=Bo(c);if(_)for(let T=0;T<_.length;T++)d.push(_[T]);ta(c,T=>{ze(p,T,d)})}function Ct(p,c){const d=Bo(c);if(d){let _=0;for(let T=0;T<d.length;T++)2!==d[T].status&&(d[_]=d[T],_++);d.length=_,Fl(c,d.length>0?d:void 0)}ta(c,_=>{Ct(p,_)})}function cn(p,c){const d=ns(Q(p,c)),_=Iu(p.transactionQueueTree_,c);return function(p,c,d){let _=p.parent;for(;null!==_;){if(c(_))return!0;_=_.parent}}(_,T=>{zt(p,T)}),zt(p,_),ed(_,T=>{zt(p,T)}),d}function zt(p,c){const d=Bo(c);if(d){const _=[];let T=[],k=-1;for(let W=0;W<d.length;W++)3===d[W].status||(1===d[W].status?((0,re.hu)(k===W-1,"All SENT items should be at beginning of queue."),k=W,d[W].status=3,d[W].abortReason="set"):((0,re.hu)(0===d[W].status,"Unexpected transaction status in abort"),d[W].unwatcher(),T=T.concat(F(p.serverSyncTree_,d[W].currentWriteId,!0)),d[W].onComplete&&_.push(d[W].onComplete.bind(null,new Error("set"),!1,null))));-1===k?Fl(c,void 0):d.length=k+1,Ts(p.eventQueue_,ns(c),T);for(let W=0;W<_.length;W++)mt(_[W])}}const Cr=function(p,c){const d=vr(p),_=d.namespace;return"firebase.com"===d.domain&&Zt(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!_||"undefined"===_)&&"localhost"!==d.domain&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ot(d.host,d.secure,_,"ws"===d.scheme||"wss"===d.scheme,c,"",_!==d.subdomain),path:new hr(d.pathString)}},vr=function(p){let c="",d="",_="",T="",k="",W=!0,ne="https",be=443;if("string"==typeof p){let Re=p.indexOf("//");Re>=0&&(ne=p.substring(0,Re-1),p=p.substring(Re+2));let lt=p.indexOf("/");-1===lt&&(lt=p.length);let ut=p.indexOf("?");-1===ut&&(ut=p.length),c=p.substring(0,Math.min(lt,ut)),lt<ut&&(T=function(p){let c="";const d=p.split("/");for(let _=0;_<d.length;_++)if(d[_].length>0){let T=d[_];try{T=decodeURIComponent(T.replace(/\+/g," "))}catch(k){}c+="/"+T}return c}(p.substring(lt,ut)));const Ut=function(p){const c={};"?"===p.charAt(0)&&(p=p.substring(1));for(const d of p.split("&")){if(0===d.length)continue;const _=d.split("=");2===_.length?c[decodeURIComponent(_[0])]=decodeURIComponent(_[1]):wt(`Invalid query segment '${d}' in query '${p}'`)}return c}(p.substring(Math.min(p.length,ut)));Re=c.indexOf(":"),Re>=0?(W="https"===ne||"wss"===ne,be=parseInt(c.substring(Re+1),10)):Re=c.length;const Nn=c.slice(0,Re);if("localhost"===Nn.toLowerCase())d="localhost";else if(Nn.split(".").length<=2)d=Nn;else{const or=c.indexOf(".");_=c.substring(0,or).toLowerCase(),d=c.substring(or+1),k=_}"ns"in Ut&&(k=Ut.ns)}return{host:c,port:be,domain:d,subdomain:_,secure:W,scheme:ne,pathString:T,namespace:k}};class Sa{constructor(c,d,_,T){this.eventType=c,this.eventRegistration=d,this.snapshot=_,this.prevName=T}getPath(){const c=this.snapshot.ref;return"value"===this.eventType?c._path:c.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,re.Pz)(this.snapshot.exportVal())}}class Qu{constructor(c,d,_){this.eventRegistration=c,this.error=d,this.path=_}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Da{constructor(c,d){this.snapshotCallback=c,this.cancelCallback=d}onValue(c,d){this.snapshotCallback.call(null,c,d)}onCancel(c){return(0,re.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,c)}get hasCancelCallback(){return!!this.cancelCallback}matches(c){return this.snapshotCallback===c.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===c.snapshotCallback.userCallback&&this.snapshotCallback.context===c.snapshotCallback.context}}class vc{constructor(c,d){this._repo=c,this._path=d}cancel(){const c=new re.BH;return ia(this._repo,this._path,c.wrapCallback(()=>{})),c.promise}remove(){jo("OnDisconnect.remove",this._path);const c=new re.BH;return _c(this._repo,this._path,null,c.wrapCallback(()=>{})),c.promise}set(c){jo("OnDisconnect.set",this._path),uo("OnDisconnect.set",c,this._path,!1);const d=new re.BH;return _c(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}setWithPriority(c,d){jo("OnDisconnect.setWithPriority",this._path),uo("OnDisconnect.setWithPriority",c,this._path,!1),Uo("OnDisconnect.setWithPriority",d,!1);const _=new re.BH;return function(p,c,d,_,T){const k=ui(d,_);p.server_.onDisconnectPut(c.toString(),k.val(!0),(W,ne)=>{"ok"===W&&Zs(p.onDisconnect_,c,k),sa(0,T,W,ne)})}(this._repo,this._path,c,d,_.wrapCallback(()=>{})),_.promise}update(c){jo("OnDisconnect.update",this._path),Ul("OnDisconnect.update",c,this._path,!1);const d=new re.BH;return function(p,c,d,_){if((0,re.xb)(d))return tn("onDisconnect().update() called with empty data.  Don't do anything."),void sa(0,_,"ok",void 0);p.server_.onDisconnectMerge(c.toString(),d,(T,k)=>{"ok"===T&&xn(d,(W,ne)=>{const be=ui(ne);Zs(p.onDisconnect_,Mn(c,W),be)}),sa(0,_,T,k)})}(this._repo,this._path,c,d.wrapCallback(()=>{})),d.promise}}class Ai{constructor(c,d,_,T){this._repo=c,this._path=d,this._queryParams=_,this._orderByCalled=T}get key(){return kn(this._path)?null:it(this._path)}get ref(){return new Vi(this._repo,this._path)}get _queryIdentifier(){const c=_a(this._queryParams),d=St(c);return"{}"===d?"default":d}get _queryObject(){return _a(this._queryParams)}isEqual(c){if(!((c=(0,re.m9)(c))instanceof Ai))return!1;const d=this._repo===c._repo,_=ls(this._path,c._path);return d&&_&&this._queryIdentifier===c._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(p){let c="";for(let d=p.pieceNum_;d<p.pieces_.length;d++)""!==p.pieces_[d]&&(c+="/"+encodeURIComponent(String(p.pieces_[d])));return c||"/"}(this._path)}}function Du(p,c){if(!0===p._orderByCalled)throw new Error(c+": You can't combine multiple orderBy calls.")}function Aa(p){let c=null,d=null;if(p.hasStart()&&(c=p.getIndexStartValue()),p.hasEnd()&&(d=p.getIndexEndValue()),p.getIndex()===Ci){const _="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",T="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==Qt)throw new Error(_);if("string"!=typeof c)throw new Error(T)}if(p.hasEnd()){if(p.getIndexEndName()!==Ft)throw new Error(_);if("string"!=typeof d)throw new Error(T)}}else if(p.getIndex()===te){if(null!=c&&!na(c)||null!=d&&!na(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,re.hu)(p.getIndex()instanceof pa||p.getIndex()===Ko,"unknown index type."),null!=c&&"object"==typeof c||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Hl(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Vi extends Ai{constructor(c,d){super(c,d,new Hi,!1)}get parent(){const c=pn(this._path);return null===c?null:new Vi(this._repo,c)}get root(){let c=this;for(;null!==c.parent;)c=c.parent;return c}}class rs{constructor(c,d,_){this._node=c,this.ref=d,this._index=_}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(c){const d=new hr(c),_=Mu(this.ref,c);return new rs(this._node.getChild(d),_,te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(c){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(_,T)=>c(new rs(T,Mu(this.ref,_),te)))}hasChild(c){const d=new hr(c);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Au(p,c){return(p=(0,re.m9)(p))._checkNotDeleted("ref"),void 0!==c?Mu(p._root,c):p._root}function Gl(p,c){(p=(0,re.m9)(p))._checkNotDeleted("refFromURL");const d=Cr(c,p._repo.repoInfo_.nodeAdmin);zu("refFromURL",d);const _=d.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&_.host!==p._repo.repoInfo_.host&&Zt("refFromURL: Host name does not match the current database: (found "+_.host+" but expected "+p._repo.repoInfo_.host+")"),Au(p,d.path.toString())}function Mu(p,c){return null===fr((p=(0,re.m9)(p))._path)?((d=c)&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),La("child","path",d,!1)):La("child","path",c,!1),new Vi(p._repo,Mn(p._path,c));var d}function Wl(p,c){p=(0,re.m9)(p),jo("set",p._path),uo("set",c,p._path,!1);const d=new re.BH;return wa(p._repo,p._path,c,null,d.wrapCallback(()=>{})),d.promise}function Vf(p,c){Ul("update",c,p._path,!1);const d=new re.BH;return function(p,c,d,_){_i(p,"update",{path:c.toString(),value:d});let T=!0;const k=Zu(p),W={};if(xn(d,(ne,be)=>{T=!1,W[ne]=Fi(Mn(c,ne),ui(be),p.serverSyncTree_,k)}),T)tn("update() called with empty data.  Don't do anything."),sa(0,_,"ok",void 0);else{const ne=ld(p),be=function(p,c,d,_){!function(p,c,d,_){(0,re.hu)(_>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:c,children:d,writeId:_,visible:!0}),p.visibleWrites=So(p.visibleWrites,c,d),p.lastWriteId=_}(p.pendingWriteTree_,c,d,_);const T=$r.fromObject(d);return Ki(p,new yo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},c,T))}(p.serverSyncTree_,c,W,ne);hu(p.eventQueue_,be),p.server_.merge(c.toString(),d,(Re,lt)=>{const ut="ok"===Re;ut||wt("update at "+c+" failed: "+Re);const Ut=F(p.serverSyncTree_,ne,!ut),Nn=Ut.length>0?v(p,c):c;Ts(p.eventQueue_,Nn,Ut),sa(0,_,Re,lt)}),xn(d,Re=>{const lt=cn(p,Mn(c,Re));v(p,lt)}),Ts(p.eventQueue_,c,[])}}(p._repo,p._path,c,d.wrapCallback(()=>{})),d.promise}class _d{constructor(c){this.callbackContext=c}respondsTo(c){return"value"===c}createEvent(c,d){const _=d._queryParams.getIndex();return new Sa("value",this,new rs(c.snapshotNode,new Vi(d._repo,d._path),_))}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,null)}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new Qu(this,c,d):null}matches(c){return c instanceof _d&&(!c.callbackContext||!this.callbackContext||c.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yd{constructor(c,d){this.eventType=c,this.callbackContext=d}respondsTo(c){let d="children_added"===c?"child_added":c;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(c,d){return this.callbackContext.hasCancelCallback?new Qu(this,c,d):null}createEvent(c,d){(0,re.hu)(null!=c.childName,"Child events should have a childName.");const _=Mu(new Vi(d._repo,d._path),c.childName),T=d._queryParams.getIndex();return new Sa(c.type,this,new rs(c.snapshotNode,_,T),c.prevName)}getEventRunner(c){return"cancel"===c.getEventType()?()=>this.callbackContext.onCancel(c.error):()=>this.callbackContext.onValue(c.snapshot,c.prevName)}matches(c){return c instanceof yd&&this.eventType===c.eventType&&(!this.callbackContext||!c.callbackContext||this.callbackContext.matches(c.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bc(p,c,d,_,T){let k;if("object"==typeof _&&(k=void 0,T=_),"function"==typeof _&&(k=_),T&&T.onlyOnce){const be=d,Re=(lt,ut)=>{pl(p._repo,p,ne),be(lt,ut)};Re.userCallback=d.userCallback,Re.context=d.context,d=Re}const W=new Da(d,k||void 0),ne="value"===c?new _d(W):new yd(c,W);return function(p,c,d){let _;_=".info"===fr(c._path)?Sr(p.infoSyncTree_,c,d):Sr(p.serverSyncTree_,c,d),ra(p.eventQueue_,c._path,_)}(p._repo,p,ne),()=>pl(p._repo,p,ne)}function eh(p,c,d,_){return bc(p,"value",c,d,_)}function Bf(p,c,d,_){return bc(p,"child_added",c,d,_)}function Oh(p,c,d,_){return bc(p,"child_changed",c,d,_)}function th(p,c,d,_){return bc(p,"child_moved",c,d,_)}function $l(p,c,d,_){return bc(p,"child_removed",c,d,_)}function kh(p,c,d){let _=null;const T=d?new Da(d):null;"value"===c?_=new _d(T):c&&(_=new yd(c,T)),pl(p._repo,p,_)}class Pu{}class Xs extends Pu{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){uo("endAt",this._value,c._path,!0);const d=Qo(c._queryParams,this._value,this._key);if(Hl(d),Aa(d),c._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}class Uf extends Pu{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){uo("endBefore",this._value,c._path,!1);const d=function(p,c,d){let _,T;return p.index_===Ci?("string"==typeof c&&(c=bo(c)),T=Qo(p,c,d)):(_=null==d?Qt:bo(d),T=Qo(p,c,_)),T.endBeforeSet_=!0,T}(c._queryParams,this._value,this._key);if(Hl(d),Aa(d),c._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}class Ho extends Pu{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){uo("startAt",this._value,c._path,!0);const d=ma(c._queryParams,this._value,this._key);if(Hl(d),Aa(d),c._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}class Lh extends Pu{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){uo("startAfter",this._value,c._path,!1);const d=function(p,c,d){let _;if(p.index_===Ci)"string"==typeof c&&(c=zo(c)),_=ma(p,c,d);else{let T;T=null==d?Ft:zo(d),_=ma(p,c,T)}return _.startAfterSet_=!0,_}(c._queryParams,this._value,this._key);if(Hl(d),Aa(d),c._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ai(c._repo,c._path,d,c._orderByCalled)}}class jf extends Pu{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(c._repo,c._path,function(p,c){const d=p.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="l",d}(c._queryParams,this._limit),c._orderByCalled)}}class bd extends Pu{constructor(c){super(),this._limit=c}_apply(c){if(c._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ai(c._repo,c._path,function(p,c){const d=p.copy();return d.limitSet_=!0,d.limit_=c,d.viewFrom_="r",d}(c._queryParams,this._limit),c._orderByCalled)}}class Gf extends Pu{constructor(c){super(),this._path=c}_apply(c){Du(c,"orderByChild");const d=new hr(this._path);if(kn(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const _=new pa(d),T=xo(c._queryParams,_);return Aa(T),new Ai(c._repo,c._path,T,!0)}}class Fh extends Pu{_apply(c){Du(c,"orderByKey");const d=xo(c._queryParams,Ci);return Aa(d),new Ai(c._repo,c._path,d,!0)}}class Eg extends Pu{_apply(c){Du(c,"orderByPriority");const d=xo(c._queryParams,te);return Aa(d),new Ai(c._repo,c._path,d,!0)}}class Bh extends Pu{_apply(c){Du(c,"orderByValue");const d=xo(c._queryParams,Ko);return Aa(d),new Ai(c._repo,c._path,d,!0)}}class Uh extends Pu{constructor(c,d){super(),this._value=c,this._key=d}_apply(c){if(uo("equalTo",this._value,c._path,!1),c._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(c._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xs(this._value,this._key)._apply(new Ho(this._value,this._key)._apply(c))}}function Ys(p,...c){let d=(0,re.m9)(p);for(const _ of c)d=_._apply(d);return d}(function(p){(0,re.hu)(!vu,"__referenceConstructor has already been defined"),vu=p})(Vi),function(p){(0,re.hu)(!Li,"__referenceConstructor has already been defined"),Li=p}(Vi);const Kl={};function fu(p,c,d,_,T){let k=_||p.options.databaseURL;void 0===k&&(p.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tn("Using default host for project ",p.options.projectId),k=`${p.options.projectId}-default-rtdb.firebaseio.com`);let be,Re,W=Cr(k,T),ne=W.repoInfo;"undefined"!=typeof process&&process.env&&(Re=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Re?(be=!0,k=`http://${Re}?ns=${ne.namespace}`,W=Cr(k,T),ne=W.repoInfo):be=!W.repoInfo.secure;const lt=T&&be?new _r(_r.OWNER):new On(p.name,p.options,c);zu("Invalid Firebase Database URL",W),kn(W.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");const ut=function(p,c,d,_){let T=Kl[c.name];T||(T={},Kl[c.name]=T);let k=T[p.toURLString()];return k&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),k=new mc(p,false,d,_),T[p.toURLString()]=k,k}(ne,p,lt,new Yt(p.name,d));return new Hh(ut,p)}class Hh{constructor(c,d){this._repoInternal=c,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(p,c,d){if(p.stats_=tt(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new to(p.repoInfo_,(_,T,k,W)=>{od(p,_,T,k,W)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(()=>ad(p,!0),0);else{if(null!=d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,re.Pz)(d)}catch(_){throw new Error("Invalid authOverride provided: "+_)}}p.persistentConnection_=new fi(p.repoInfo_,c,(_,T,k,W)=>{od(p,_,T,k,W)},_=>{ad(p,_)},_=>{!function(p,c){xn(c,(d,_)=>{ud(p,d,_)})}(p,_)},p.authTokenProvider_,p.appCheckProvider_,d),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(_=>{p.server_.refreshAuthToken(_)}),p.appCheckProvider_.addTokenChangeListener(_=>{p.server_.refreshAppCheckToken(_.token)}),p.statsReporter_=function(p,c){const d=p.toString();return er[d]||(er[d]=c()),er[d]}(p.repoInfo_,()=>new xi(p.stats_,p.server_)),p.infoData_=new qo,p.infoSyncTree_=new Cs({startListening:(_,T,k,W)=>{let ne=[];const be=p.infoData_.getNode(_._path);return be.isEmpty()||(ne=G(p.infoSyncTree_,_._path,be),setTimeout(()=>{W("ok")},0)),ne},stopListening:()=>{}}),ud(p,"connected",!1),p.serverSyncTree_=new Cs({startListening:(_,T,k,W)=>(p.server_.listen(_,k,T,(ne,be)=>{const Re=W(ne,be);Ts(p.eventQueue_,_._path,Re)}),[]),stopListening:(_,T)=>{p.server_.unlisten(_,T)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,zn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(p,c){const d=Kl[c];(!d||d[p.key]!==p)&&Zt(`Database ${c}(${p.repoInfo_}) has already been deleted.`),Jd(p),delete d[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(c){null===this._rootInternal&&Zt("Cannot call "+c+" on a deleted database.")}}function oa(){_e.IS_TRANSPORT_INITIALIZED&&wt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Gh(){oa(),cr.forceDisallow()}function Tc(){oa(),Ve.forceDisallow(),cr.forceAllow()}function wc(p,c){Dn(p,c)}class Ig{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}fi.prototype.simpleListen=function(p,c){this.sendRequest("q",{p},c)},fi.prototype.echo=function(p,c){this.sendRequest("echo",{d:p},c)},jt(rt.SDK_VERSION),(0,rt._registerComponent)(new Se.wA("database",(c,{instanceIdentifier:d})=>fu(c.getProvider("app").getImmediate(),c.getProvider("auth-internal"),c.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,rt.registerVersion)(Tn,"0.13.2",void 0),(0,rt.registerVersion)(Tn,"0.13.2","esm2017");const Zf=new pt.Yd("@firebase/database-compat"),Td=function(p){Zf.warn("FIREBASE WARNING: "+p)};class qf{constructor(c){this._delegate=c}cancel(c){(0,re.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,re.Wj)("OnDisconnect.cancel","onComplete",c,!0);const d=this._delegate.cancel();return c&&d.then(()=>c(null),_=>c(_)),d}remove(c){(0,re.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,re.Wj)("OnDisconnect.remove","onComplete",c,!0);const d=this._delegate.remove();return c&&d.then(()=>c(null),_=>c(_)),d}set(c,d){(0,re.Dv)("OnDisconnect.set",1,2,arguments.length),(0,re.Wj)("OnDisconnect.set","onComplete",d,!0);const _=this._delegate.set(c);return d&&_.then(()=>d(null),T=>d(T)),_}setWithPriority(c,d,_){(0,re.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,re.Wj)("OnDisconnect.setWithPriority","onComplete",_,!0);const T=this._delegate.setWithPriority(c,d);return _&&T.then(()=>_(null),k=>_(k)),T}update(c,d){if((0,re.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(c)){const T={};for(let k=0;k<c.length;++k)T[""+k]=c[k];c=T,Td("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,re.Wj)("OnDisconnect.update","onComplete",d,!0);const _=this._delegate.update(c);return d&&_.then(()=>d(null),T=>d(T)),_}}class Dg{constructor(c,d){this.committed=c,this.snapshot=d}toJSON(){return(0,re.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pu{constructor(c,d){this._database=c,this._delegate=d}val(){return(0,re.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,re.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,re.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,re.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(c){return(0,re.Dv)("DataSnapshot.child",0,1,arguments.length),c=String(c),La("DataSnapshot.child","path",c,!1),new pu(this._database,this._delegate.child(c))}hasChild(c){return(0,re.Dv)("DataSnapshot.hasChild",1,1,arguments.length),La("DataSnapshot.hasChild","path",c,!1),this._delegate.hasChild(c)}getPriority(){return(0,re.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(c){return(0,re.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,re.Wj)("DataSnapshot.forEach","action",c,!1),this._delegate.forEach(d=>c(new pu(this._database,d)))}hasChildren(){return(0,re.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,re.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,re.Dv)("DataSnapshot.ref",0,0,arguments.length),new Hs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class si{constructor(c,d){this.database=c,this._delegate=d}on(c,d,_,T){var k;(0,re.Dv)("Query.on",2,4,arguments.length),(0,re.Wj)("Query.on","callback",d,!1);const W=si.getCancelAndContextArgs_("Query.on",_,T),ne=(Re,lt)=>{d.call(W.context,new pu(this.database,Re),lt)};ne.userCallback=d,ne.context=W.context;const be=null===(k=W.cancel)||void 0===k?void 0:k.bind(W.context);switch(c){case"value":return eh(this._delegate,ne,be),d;case"child_added":return Bf(this._delegate,ne,be),d;case"child_removed":return $l(this._delegate,ne,be),d;case"child_changed":return Oh(this._delegate,ne,be),d;case"child_moved":return th(this._delegate,ne,be),d;default:throw new Error((0,re.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(c,d,_){if((0,re.Dv)("Query.off",0,3,arguments.length),function(p,c,d){if(void 0!==c)switch(c){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,re.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,c),(0,re.Wj)("Query.off","callback",d,!0),(0,re.lb)("Query.off","context",_,!0),d){const T=()=>{};T.userCallback=d,T.context=_,kh(this._delegate,c,T)}else kh(this._delegate,c)}get(){return function(p){return Yd((p=(0,re.m9)(p))._repo,p).then(c=>new rs(c,new Vi(p._repo,p._path),p._queryParams.getIndex()))}(this._delegate).then(c=>new pu(this.database,c))}once(c,d,_,T){(0,re.Dv)("Query.once",1,4,arguments.length),(0,re.Wj)("Query.once","callback",d,!0);const k=si.getCancelAndContextArgs_("Query.once",_,T),W=new re.BH,ne=(Re,lt)=>{const ut=new pu(this.database,Re);d&&d.call(k.context,ut,lt),W.resolve(ut)};ne.userCallback=d,ne.context=k.context;const be=Re=>{k.cancel&&k.cancel.call(k.context,Re),W.reject(Re)};switch(c){case"value":eh(this._delegate,ne,be,{onlyOnce:!0});break;case"child_added":Bf(this._delegate,ne,be,{onlyOnce:!0});break;case"child_removed":$l(this._delegate,ne,be,{onlyOnce:!0});break;case"child_changed":Oh(this._delegate,ne,be,{onlyOnce:!0});break;case"child_moved":th(this._delegate,ne,be,{onlyOnce:!0});break;default:throw new Error((0,re.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return W.promise}limitToFirst(c){return(0,re.Dv)("Query.limitToFirst",1,1,arguments.length),new si(this.database,Ys(this._delegate,function(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new jf(p)}(c)))}limitToLast(c){return(0,re.Dv)("Query.limitToLast",1,1,arguments.length),new si(this.database,Ys(this._delegate,function(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bd(p)}(c)))}orderByChild(c){return(0,re.Dv)("Query.orderByChild",1,1,arguments.length),new si(this.database,Ys(this._delegate,function(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return La("orderByChild","path",p,!1),new Gf(p)}(c)))}orderByKey(){return(0,re.Dv)("Query.orderByKey",0,0,arguments.length),new si(this.database,Ys(this._delegate,new Fh))}orderByPriority(){return(0,re.Dv)("Query.orderByPriority",0,0,arguments.length),new si(this.database,Ys(this._delegate,new Eg))}orderByValue(){return(0,re.Dv)("Query.orderByValue",0,0,arguments.length),new si(this.database,Ys(this._delegate,new Bh))}startAt(c=null,d){return(0,re.Dv)("Query.startAt",0,2,arguments.length),new si(this.database,Ys(this._delegate,function(p=null,c){return Ku("startAt","key",c,!0),new Ho(p,c)}(c,d)))}startAfter(c=null,d){return(0,re.Dv)("Query.startAfter",0,2,arguments.length),new si(this.database,Ys(this._delegate,function(p,c){return Ku("startAfter","key",c,!0),new Lh(p,c)}(c,d)))}endAt(c=null,d){return(0,re.Dv)("Query.endAt",0,2,arguments.length),new si(this.database,Ys(this._delegate,function(p,c){return Ku("endAt","key",c,!0),new Xs(p,c)}(c,d)))}endBefore(c=null,d){return(0,re.Dv)("Query.endBefore",0,2,arguments.length),new si(this.database,Ys(this._delegate,function(p,c){return Ku("endBefore","key",c,!0),new Uf(p,c)}(c,d)))}equalTo(c,d){return(0,re.Dv)("Query.equalTo",1,2,arguments.length),new si(this.database,Ys(this._delegate,function(p,c){return Ku("equalTo","key",c,!0),new Uh(p,c)}(c,d)))}toString(){return(0,re.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,re.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(c){if((0,re.Dv)("Query.isEqual",1,1,arguments.length),!(c instanceof si))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(c._delegate)}static getCancelAndContextArgs_(c,d,_){const T={cancel:void 0,context:void 0};if(d&&_)T.cancel=d,(0,re.Wj)(c,"cancel",T.cancel,!0),T.context=_,(0,re.lb)(c,"context",T.context,!0);else if(d)if("object"==typeof d&&null!==d)T.context=d;else{if("function"!=typeof d)throw new Error((0,re.gK)(c,"cancelOrContext")+" must either be a cancel callback or a context object.");T.cancel=d}return T}get ref(){return new Hs(this.database,new Vi(this._delegate._repo,this._delegate._path))}}class Hs extends si{constructor(c,d){super(c,new Ai(d._repo,d._path,new Hi,!1)),this.database=c,this._delegate=d}getKey(){return(0,re.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(c){return(0,re.Dv)("Reference.child",1,1,arguments.length),"number"==typeof c&&(c=String(c)),new Hs(this.database,Mu(this._delegate,c))}getParent(){(0,re.Dv)("Reference.parent",0,0,arguments.length);const c=this._delegate.parent;return c?new Hs(this.database,c):null}getRoot(){return(0,re.Dv)("Reference.root",0,0,arguments.length),new Hs(this.database,this._delegate.root)}set(c,d){(0,re.Dv)("Reference.set",1,2,arguments.length),(0,re.Wj)("Reference.set","onComplete",d,!0);const _=Wl(this._delegate,c);return d&&_.then(()=>d(null),T=>d(T)),_}update(c,d){if((0,re.Dv)("Reference.update",1,2,arguments.length),Array.isArray(c)){const T={};for(let k=0;k<c.length;++k)T[""+k]=c[k];c=T,Td("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jo("Reference.update",this._delegate._path),(0,re.Wj)("Reference.update","onComplete",d,!0);const _=Vf(this._delegate,c);return d&&_.then(()=>d(null),T=>d(T)),_}setWithPriority(c,d,_){(0,re.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,re.Wj)("Reference.setWithPriority","onComplete",_,!0);const T=function(p,c,d){if(jo("setWithPriority",p._path),uo("setWithPriority",c,p._path,!1),Uo("setWithPriority",d,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";const _=new re.BH;return wa(p._repo,p._path,c,d,_.wrapCallback(()=>{})),_.promise}(this._delegate,c,d);return _&&T.then(()=>_(null),k=>_(k)),T}remove(c){(0,re.Dv)("Reference.remove",0,1,arguments.length),(0,re.Wj)("Reference.remove","onComplete",c,!0);const d=function(p){return jo("remove",p._path),Wl(p,null)}(this._delegate);return c&&d.then(()=>c(null),_=>c(_)),d}transaction(c,d,_){(0,re.Dv)("Reference.transaction",1,3,arguments.length),(0,re.Wj)("Reference.transaction","transactionUpdate",c,!1),(0,re.Wj)("Reference.transaction","onComplete",d,!0),function(p,c,d,_){if(void 0!==d&&"boolean"!=typeof d)throw new Error((0,re.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,_);const T=function(p,c,d){var _;if(p=(0,re.m9)(p),jo("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";const T=null===(_=null==d?void 0:d.applyLocally)||void 0===_||_,k=new re.BH,ne=eh(p,()=>{});return function(p,c,d,_,T,k){_i(p,"transaction on "+c);const W={path:c,update:d,onComplete:_,status:null,order:xt(),applyLocally:k,retryCount:0,unwatcher:T,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ne=fd(p,c,void 0);W.currentInputSnapshot=ne;const be=W.update(ne.val());if(void 0===be)W.unwatcher(),W.currentOutputSnapshotRaw=null,W.currentOutputSnapshotResolved=null,W.onComplete&&W.onComplete(null,!1,W.currentInputSnapshot);else{pc("transaction failed: Data returned ",be,W.path),W.status=0;const Re=Iu(p.transactionQueueTree_,c),lt=Bo(Re)||[];let ut;lt.push(W),Fl(Re,lt),"object"==typeof be&&null!==be&&(0,re.r3)(be,".priority")?(ut=(0,re.DV)(be,".priority"),(0,re.hu)(na(ut),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ut=(qn(p.serverSyncTree_,c)||Gn.EMPTY_NODE).getPriority().val();const Ut=Zu(p),Nn=ui(be,ut),or=Ll(Nn,ne,Ut);W.currentOutputSnapshotRaw=Nn,W.currentOutputSnapshotResolved=or,W.currentWriteId=ld(p);const qr=dl(p.serverSyncTree_,c,or,W.currentWriteId,W.applyLocally);Ts(p.eventQueue_,c,qr),I(p,p.transactionQueueTree_)}}(p._repo,p._path,c,(be,Re,lt)=>{let ut=null;be?k.reject(be):(ut=new rs(lt,new Vi(p._repo,p._path),te),k.resolve(new Ig(Re,ut)))},ne,T),k.promise}(this._delegate,c,{applyLocally:_}).then(k=>new Dg(k.committed,new pu(this.database,k.snapshot)));return d&&T.then(k=>d(null,k.committed,k.snapshot),k=>d(k,!1,null)),T}setPriority(c,d){(0,re.Dv)("Reference.setPriority",1,2,arguments.length),(0,re.Wj)("Reference.setPriority","onComplete",d,!0);const _=function(p,c){p=(0,re.m9)(p),jo("setPriority",p._path),Uo("setPriority",c,!1);const d=new re.BH;return wa(p._repo,Mn(p._path,".priority"),c,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,c);return d&&_.then(()=>d(null),T=>d(T)),_}push(c,d){(0,re.Dv)("Reference.push",0,2,arguments.length),(0,re.Wj)("Reference.push","onComplete",d,!0);const _=function(p,c){p=(0,re.m9)(p),jo("push",p._path),uo("push",c,p._path,!0);const d=Xd(p._repo),_=Ii(d),T=Mu(p,_),k=Mu(p,_);let W;return W=null!=c?Wl(k,c).then(()=>k):Promise.resolve(k),T.then=W.then.bind(W),T.catch=W.then.bind(W,void 0),T}(this._delegate,c),T=_.then(W=>new Hs(this.database,W));d&&T.then(()=>d(null),W=>d(W));const k=new Hs(this.database,_);return k.then=T.then.bind(T),k.catch=T.catch.bind(T,void 0),k}onDisconnect(){return jo("Reference.onDisconnect",this._delegate._path),new qf(new vc(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gl{constructor(c,d){this._delegate=c,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Gh,forceLongPolling:Tc}}useEmulator(c,d,_={}){!function(p,c,d,_={}){(p=(0,re.m9)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");const T=p._repoInternal;let k;if(T.repoInfo_.nodeAdmin)_.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),k=new _r(_r.OWNER);else if(_.mockUserToken){const W="string"==typeof _.mockUserToken?_.mockUserToken:(0,re.Sg)(_.mockUserToken,p.app.options.projectId);k=new _r(W)}!function(p,c,d,_){p.repoInfo_=new Ot(`${c}:${d}`,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams),_&&(p.authTokenProvider_=_)}(T,c,d,k)}(this._delegate,c,d,_)}ref(c){if((0,re.Dv)("database.ref",0,1,arguments.length),c instanceof Hs){const d=Gl(this._delegate,c.toString());return new Hs(this,d)}{const d=Au(this._delegate,c);return new Hs(this,d)}}refFromURL(c){(0,re.Dv)("database.refFromURL",1,1,arguments.length);const _=Gl(this._delegate,c);return new Hs(this,_)}goOffline(){return(0,re.Dv)("database.goOffline",0,0,arguments.length),function(p){(p=(0,re.m9)(p))._checkNotDeleted("goOffline"),Jd(p._repo)}(this._delegate)}goOnline(){return(0,re.Dv)("database.goOnline",0,0,arguments.length),function(p){(p=(0,re.m9)(p))._checkNotDeleted("goOnline"),function(p){p.persistentConnection_&&p.persistentConnection_.resume(gc)}(p._repo)}(this._delegate)}}gl.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:p=>function(p){return{".sv":{increment:p}}}(p)};var ml=Object.freeze({__proto__:null,initStandalone:function({app:p,url:c,version:d,customAuthImpl:_,namespace:T,nodeAdmin:k=!1}){jt(d);const W=new Se.zt("auth-internal",new Se.H0("database-standalone"));return W.setComponent(new Se.wA("auth-internal",()=>_,"PRIVATE")),{instance:new gl(fu(p,W,void 0,c,k),p),namespace:T}}});const wd=gl.ServerValue;!function(p){p.INTERNAL.registerComponent(new Se.wA("database-compat",(c,{instanceIdentifier:d})=>{const _=c.getProvider("app-compat").getImmediate(),T=c.getProvider("database").getImmediate({identifier:d});return new gl(T,_)},"PUBLIC").setServiceProps({Reference:Hs,Query:si,Database:gl,DataSnapshot:pu,enableLogging:wc,INTERNAL:ml,ServerValue:wd}).setMultipleInstances(!0)),p.registerVersion("@firebase/database-compat","0.2.2")}(et.Z);var xu=P(1325),Sd=P(3950),_l=P(7841);function Xu(p){return null==p}function Sc(p){return"function"==typeof p.set}function Dd(p,c){return Sc(c)?c:p.ref(c)}function Dc(p,c){if(function(p){return"string"==typeof p}(p))return c.stringCase();if(Sc(p))return c.firebaseCase();if(function(p){return"function"==typeof p.exportVal}(p))return c.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof p)}function vl(p,c,d="on",_=R.z){return new z.y(T=>{let k=null;return k=p[d](c,(W,ne)=>{_.schedule(()=>{T.next({snapshot:W,prevKey:ne})}),"once"===d&&_.schedule(()=>T.complete())},W=>{_.schedule(()=>T.error(W))}),"on"===d?{unsubscribe(){null!=k&&p.off(c,k)}}:{unsubscribe(){}}}).pipe((0,ee.U)(T=>{const{snapshot:k,prevKey:W}=T;let ne=null;return k.exists()&&(ne=k.key),{type:c,payload:k,prevKey:W,key:ne}}),(0,ce.B)())}function Ad(p,c,d){return vl(p,"value","once",d).pipe((0,X.w)(_=>{const T=[(0,ue.of)(_)];return c.forEach(k=>T.push(vl(p,k,"on",d))),(0,pe.T)(...T).pipe((0,le.R)(Zh,[]))}),(0,$.x)())}function Ac(p,c){const d=p.length;for(let _=0;_<d;_++)if(p[_].payload.key===c)return _;return-1}function Zh(p,c){const{payload:d,prevKey:_,key:T}=c,k=Ac(p,T),W=function(p,c){if(Xu(c))return 0;{const d=Ac(p,c);return-1===d?p.length:d+1}}(p,_);switch(c.type){case"value":if(c.payload&&c.payload.exists()){let ne=null;c.payload.forEach(be=>{const Re={payload:be,type:"value",prevKey:ne,key:be.key};return ne=be.key,p=[...p,Re],!1})}return p;case"child_added":if(k>-1){const ne=p[k-1];(ne&&ne.key||null)!==_&&(p=p.filter(be=>be.payload.key!==d.key)).splice(W,0,c)}else{if(null==_)return[c,...p];(p=p.slice()).splice(W,0,c)}return p;case"child_removed":return p.filter(ne=>ne.payload.key!==d.key);case"child_changed":return p.map(ne=>ne.payload.key===T?c:ne);case"child_moved":if(k>-1){const ne=p.splice(k,1)[0];return(p=p.slice()).splice(W,0,ne),p}return p;default:return p}}function Md(p){return(Xu(p)||0===p.length)&&(p=["child_added","child_removed","child_changed","child_moved"]),p}function zl(p,c,d){return Ad(p,c=Md(c),d)}function Ru(p,c,d){const _=(c=Md(c)).map(T=>vl(p,T,"on",d));return(0,pe.T)(..._)}function oh(p,c,d){return function(p,c,d){return function(p,c){return vl(p,"value","on",c).pipe((0,ee.U)(d=>{let _;return d.payload.forEach(T=>(_=T.key,!1)),{data:d,lastKeyToLoad:_}}))}(p,d).pipe((0,J.M)(c),(0,ee.U)(([T,k])=>{const W=T.lastKeyToLoad,ne=k.map(be=>be.key);return{actions:k,lastKeyToLoad:W,loadedKeys:ne}}),(0,ie.n)(T=>-1===T.loadedKeys.indexOf(T.lastKeyToLoad)),(0,ee.U)(T=>T.actions))}(p,Ru(p,c).pipe((0,le.R)((T,k)=>[...T,k],[])),d)}function qh(p,c){return function(_,T){return Dc(_,{stringCase:()=>p.child(_)[c](T),firebaseCase:()=>_[c](T),snapshotCase:()=>_.ref[c](T)})}}function Mg(p){return function(d){return d?Dc(d,{stringCase:()=>p.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):p.remove()}}function Zl(p,c){const d=c.schedulers.outsideAngular,_=c.schedulers.ngZone.run(()=>p.ref);return{query:p,update:qh(_,"update"),set:qh(_,"set"),push:T=>_.push(T),remove:Mg(_),snapshotChanges:T=>zl(p,T,d).pipe(we.iC),stateChanges:T=>Ru(p,T,d).pipe(we.iC),auditTrail:T=>oh(p,T,d).pipe(we.iC),valueChanges:(T,k)=>zl(p,T,d).pipe((0,ee.U)(ne=>ne.map(be=>k&&k.idField?Object.assign(Object.assign({},be.payload.val()),{[k.idField]:be.key}):be.payload.val())),we.iC)}}function El(p,c){return function(){return vl(p,"value","on",c)}}const Ba=new h.InjectionToken("angularfire2.realtimeDatabaseURL"),Yf=new h.InjectionToken("angularfire2.database.use-emulator");let Xh=(()=>{class p{constructor(d,_,T,k,W,ne,be,Re,lt,ut,Ut,Nn,or,qr,is){this.schedulers=ne;const bl=be,Go=(0,xe.\u0275firebaseAppFactory)(d,W,_);Re&&(0,xu.\u0275authFactory)(Go,W,lt,Ut,Nn,or,ut,qr),this.database=(0,xe.\u0275cacheInstance)(`${Go.name}.database.${T}`,"AngularFireDatabase",Go.name,()=>{const Mc=W.runOutsideAngular(()=>Go.database(T||void 0));return bl&&Mc.useEmulator(...bl),Mc},[bl])}list(d,_){const T=this.schedulers.ngZone.runOutsideAngular(()=>Dd(this.database,d));let k=T;return _&&(k=_(T)),Zl(k,this)}object(d){return function(p,c){return{query:p,snapshotChanges:()=>El(p,c.schedulers.outsideAngular)().pipe(we.iC),update:d=>p.ref.update(d),set:d=>p.ref.set(d),remove:()=>p.ref.remove(),valueChanges:()=>El(p,c.schedulers.outsideAngular)().pipe(we.iC,(0,ee.U)(_=>_.payload.exists()?_.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dd(this.database,d)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return p.\u0275fac=function(d){return new(d||p)(h.\u0275\u0275inject(xe.FIREBASE_OPTIONS),h.\u0275\u0275inject(xe.FIREBASE_APP_NAME,8),h.\u0275\u0275inject(Ba,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(we.HU),h.\u0275\u0275inject(Yf,8),h.\u0275\u0275inject(xu.AngularFireAuth,8),h.\u0275\u0275inject(xu.USE_EMULATOR,8),h.\u0275\u0275inject(xu.SETTINGS,8),h.\u0275\u0275inject(xu.TENANT_ID,8),h.\u0275\u0275inject(xu.LANGUAGE_CODE,8),h.\u0275\u0275inject(xu.USE_DEVICE_LANGUAGE,8),h.\u0275\u0275inject(xu.PERSISTENCE,8),h.\u0275\u0275inject(Sd.nm,8))},p.\u0275prov=h.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"any"}),p})(),Yh=(()=>{class p{constructor(){_l.Z.registerVersion("angularfire",we.q4.full,"rtdb-compat")}}return p.\u0275fac=function(d){return new(d||p)},p.\u0275mod=h.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=h.\u0275\u0275defineInjector({providers:[Xh]}),p})()},4384:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{AngularFirestore:()=>Ky,AngularFirestoreCollection:()=>Mf,AngularFirestoreCollectionGroup:()=>sg,AngularFirestoreDocument:()=>Pf,AngularFirestoreModule:()=>Hm,ENABLE_PERSISTENCE:()=>xf,PERSISTENCE_SETTINGS:()=>rc,SETTINGS:()=>Wy,USE_EMULATOR:()=>$y,associateQuery:()=>Xc,combineChange:()=>ig,combineChanges:()=>rg,docChanges:()=>zd,fromCollectionRef:()=>Ah,fromDocRef:()=>jm,fromRef:()=>ng,sortedChanges:()=>Sf,validateEventsArray:()=>Af});var st,h=P(7716),R=P(3637),z=P(8891),ue=P(4402),pe=P(5917),ee=P(2274),ce=P(9761),X=P(9328),le=P(8002),$=P(2145),J=P(7519),ie=P(5435),we=P(8939),xe=P(8583),et=(P(4828),P(3394)),Se=P(8239),qe=P(8026),rt=P(3910),re=P(5422),pt=P(3854),Tn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_n={},jt=jt||{},Ue=Tn||self;function bt(){}function gt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function Mt(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var en="closure_uid_"+(1e9*Math.random()>>>0),xt=0;function En(s,e,r){return s.call.apply(s.bind,arguments)}function mr(s,e,r){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),s.apply(e,l)}}return function(){return s.apply(e,arguments)}}function Sn(s,e,r){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?En:mr).apply(null,arguments)}function ar(s,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function Dn(s,e){function r(){}r.prototype=e.prototype,s.Z=e.prototype,s.prototype=new r,s.prototype.constructor=s,s.Vb=function(o,l,g){for(var b=Array(arguments.length-2),x=2;x<arguments.length;x++)b[x-2]=arguments[x];return e.prototype[l].apply(o,b)}}function tn(){this.s=this.s,this.o=this.o}var Ht={};tn.prototype.s=!1,tn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,en)&&s[en]||(s[en]=++xt)}(this);delete Ht[s]}},tn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let r=0;r<s.length;r++)if(r in s&&s[r]===e)return r;return-1},wt=Array.prototype.forEach?function(s,e,r){Array.prototype.forEach.call(s,e,r)}:function(s,e,r){const o=s.length,l="string"==typeof s?s.split(""):s;for(let g=0;g<o;g++)g in l&&e.call(r,l[g],g,s)};function dn(s){return Array.prototype.concat.apply([],arguments)}function wn(s){const e=s.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=s[o];return r}return[]}function Qt(s){return/^[\s\xa0]*$/.test(s)}var fn,Ft=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function ir(s,e){return-1!=s.indexOf(e)}function Ar(s,e){return s<e?-1:s>e?1:0}e:{var St=Ue.navigator;if(St){var Xn=St.userAgent;if(Xn){fn=Xn;break e}}fn=""}function xn(s,e,r){for(const o in s)e.call(r,s[o],o,s)}function ln(s){const e={};for(const r in s)e[r]=s[r];return e}var Fn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ir(s,e){let r,o;for(let l=1;l<arguments.length;l++){for(r in o=arguments[l],o)s[r]=o[r];for(let g=0;g<Fn.length;g++)r=Fn[g],Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}}function Rr(s){return Rr[" "](s),s}Rr[" "]=bt;var On,s,$e=ir(fn,"Opera"),Ae=ir(fn,"Trident")||ir(fn,"MSIE"),dt=ir(fn,"Edge"),mt=dt||Ae,Xt=ir(fn,"Gecko")&&!(ir(fn.toLowerCase(),"webkit")&&!ir(fn,"Edge"))&&!(ir(fn,"Trident")||ir(fn,"MSIE"))&&!ir(fn,"Edge"),At=ir(fn.toLowerCase(),"webkit")&&!ir(fn,"Edge");function Yt(){var s=Ue.document;return s?s.documentMode:void 0}e:{var _r="",Wn=(s=fn,Xt?/rv:([^\);]+)(\)|;)/.exec(s):dt?/Edge\/([\d\.]+)/.exec(s):Ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):At?/WebKit\/(\S+)/.exec(s):$e?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Wn&&(_r=Wn?Wn[1]:""),Ae){var Cn=Yt();if(null!=Cn&&Cn>parseFloat(_r)){On=String(Cn);break e}}On=_r}var Nr={};function yn(){return e=Nr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Ft(String(On)).split("."),r=Ft("9").split("."),o=Math.max(e.length,r.length);for(let b=0;0==s&&b<o;b++){var l=e[b]||"",g=r[b]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;s=Ar(0==l[1].length?0:parseInt(l[1],10),0==g[1].length?0:parseInt(g[1],10))||Ar(0==l[2].length,0==g[2].length)||Ar(l[2],g[2]),l=l[3],g=g[3]}while(0==s)}return 0<=s}();var e}var Te=Ue.document&&Ae&&(Yt()||parseInt(On,10))||void 0,Ke=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ue.addEventListener("test",bt,e),Ue.removeEventListener("test",bt,e)}catch(r){}return s}();function Fe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function Ie(s,e){if(Fe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Xt){e:{try{Rr(e.nodeName);var l=!0;break e}catch(g){}l=!1}l||(e=null)}}else"mouseover"==r?e=s.fromElement:"mouseout"==r&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:_t[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ie.Z.h.call(this)}}Fe.prototype.h=function(){this.defaultPrevented=!0},Dn(Ie,Fe);var _t={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),mn=0;function jn(s,e,r,o,l){this.listener=s,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=l,this.key=++mn,this.ca=this.fa=!1}function lr(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Mr(s){this.src=s,this.g={},this.h=0}function er(s,e){var r=e.type;if(r in s.g){var g,o=s.g[r],l=Zt(o,e);(g=0<=l)&&Array.prototype.splice.call(o,l,1),g&&(lr(e),0==s.g[r].length&&(delete s.g[r],s.h--))}}function tt(s,e,r,o){for(var l=0;l<s.length;++l){var g=s[l];if(!g.ca&&g.listener==e&&g.capture==!!r&&g.ia==o)return l}return-1}Mr.prototype.add=function(s,e,r,o,l){var g=s.toString();(s=this.g[g])||(s=this.g[g]=[],this.h++);var b=tt(s,e,o,l);return-1<b?(e=s[b],r||(e.fa=!1)):((e=new jn(e,this.src,g,!!o,l)).fa=r,s.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),ke={};function Dt(s,e,r,o,l){if(o&&o.once)return $n(s,e,r,o,l);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Dt(s,e[g],r,o,l);return null}return r=Jt(r),s&&s[Ot]?s.N(e,r,Mt(o)?!!o.capture:!!o,l):qt(s,e,r,!1,o,l)}function qt(s,e,r,o,l,g){if(!e)throw Error("Invalid event type");var b=Mt(l)?!!l.capture:!!l,x=tr(s);if(x||(s[He]=x=new Mr(s)),(r=x.add(e,r,o,b,g)).proxy)return r;if(o=function(){var e=Lr;return function s(r){return e.call(s.src,s.listener,r)}}(),r.proxy=o,o.src=s,o.listener=r,s.addEventListener)Ke||(l=b),void 0===l&&(l=!1),s.addEventListener(e.toString(),o,l);else if(s.attachEvent)s.attachEvent(Pr(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return r}function $n(s,e,r,o,l){if(Array.isArray(e)){for(var g=0;g<e.length;g++)$n(s,e[g],r,o,l);return null}return r=Jt(r),s&&s[Ot]?s.O(e,r,Mt(o)?!!o.capture:!!o,l):qt(s,e,r,!0,o,l)}function Rn(s,e,r,o,l){if(Array.isArray(e))for(var g=0;g<e.length;g++)Rn(s,e[g],r,o,l);else o=Mt(o)?!!o.capture:!!o,r=Jt(r),s&&s[Ot]?(s=s.i,(e=String(e).toString())in s.g&&-1<(r=tt(g=s.g[e],r,o,l))&&(lr(g[r]),Array.prototype.splice.call(g,r,1),0==g.length&&(delete s.g[e],s.h--))):s&&(s=tr(s))&&(e=s.g[e.toString()],s=-1,e&&(s=tt(e,r,o,l)),(r=-1<s?e[s]:null)&&Jn(r))}function Jn(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[Ot])er(e.i,s);else{var r=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(r,o,s.capture):e.detachEvent?e.detachEvent(Pr(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=tr(e))?(er(r,s),0==r.h&&(r.src=null,e[He]=null)):lr(s)}}}function Pr(s){return s in ke?ke[s]:ke[s]="on"+s}function Lr(s,e){if(s.ca)s=!0;else{e=new Ie(e,this);var r=s.listener,o=s.ia||s.src;s.fa&&Jn(s),s=r.call(o,e)}return s}function tr(s){return(s=s[He])instanceof Mr?s:null}var xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jt(s){return"function"==typeof s?s:(s[xr]||(s[xr]=function(e){return s.handleEvent(e)}),s[xr])}function un(){tn.call(this),this.i=new Mr(this),this.P=this,this.I=null}function Qn(s,e){var r,o=s.I;if(o)for(r=[];o;o=o.I)r.push(o);if(s=s.P,o=e.type||e,"string"==typeof e)e=new Fe(e,s);else if(e instanceof Fe)e.target=e.target||s;else{var l=e;Ir(e=new Fe(o,s),l)}if(l=!0,r)for(var g=r.length-1;0<=g;g--){var b=e.g=r[g];l=zr(b,o,!0,e)&&l}if(l=zr(b=e.g=s,o,!0,e)&&l,l=zr(b,o,!1,e)&&l,r)for(g=0;g<r.length;g++)l=zr(b=e.g=r[g],o,!1,e)&&l}function zr(s,e,r,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,g=0;g<e.length;++g){var b=e[g];if(b&&!b.ca&&b.capture==r){var x=b.listener,K=b.ia||b.src;b.fa&&er(s.i,b),l=!1!==x.call(K,o)&&l}}return l&&!o.defaultPrevented}Dn(un,tn),un.prototype[Ot]=!0,un.prototype.removeEventListener=function(s,e,r,o){Rn(this,s,e,r,o)},un.prototype.M=function(){if(un.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var r=s.g[e],o=0;o<r.length;o++)lr(r[o]);delete s.g[e],s.h--}}this.I=null},un.prototype.N=function(s,e,r,o){return this.i.add(String(s),e,!1,r,o)},un.prototype.O=function(s,e,r,o){return this.i.add(String(s),e,!0,r,o)};var Xr=Ue.JSON.stringify;function Tr(){var s=Ze;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var Le,cr=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new hi,s=>s.reset());class hi{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Bi(s){Ue.setTimeout(()=>{throw s},0)}function Vn(s,e){Le||function(){var s=Ue.Promise.resolve(void 0);Le=function(){s.then(vt)}}(),_e||(Le(),_e=!0),Ze.add(s,e)}var _e=!1,Ze=new class{constructor(){this.h=this.g=null}add(e,r){const o=cr.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function vt(){for(var s;s=Tr();){try{s.h.call(s.g)}catch(r){Bi(r)}var e=cr;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}_e=!1}function In(s,e){un.call(this),this.h=s||1,this.g=e||Ue,this.j=Sn(this.kb,this),this.l=Date.now()}function Bn(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function ur(s,e,r){if("function"==typeof s)r&&(s=Sn(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Sn(s.handleEvent,s)}return 2147483647<Number(e)?-1:Ue.setTimeout(s,e||0)}function Kn(s){s.g=ur(()=>{s.g=null,s.i&&(s.i=!1,Kn(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Dn(In,un),(st=In.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qn(this,"tick"),this.da&&(Bn(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){In.Z.M.call(this),Bn(this),delete this.g};class xs extends tn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kn(this)}M(){super.M(),this.g&&(Ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(s){tn.call(this),this.h=s,this.g={}}Dn(Zi,tn);var Qi=[];function qi(s,e,r,o){Array.isArray(r)||(r&&(Qi[0]=r.toString()),r=Qi);for(var l=0;l<r.length;l++){var g=Dt(e,r[l],o||s.handleEvent,!1,s.h||s);if(!g)break;s.g[g.key]=g}}function Xi(s){xn(s.g,function(e,r){this.g.hasOwnProperty(r)&&Jn(e)},s),s.g={}}function ei(){this.g=!0}function us(s,e,r,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var o=r[s];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var g=l[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var b=1;b<l.length;b++)l[b]=""}}}return Xr(r)}catch(x){return e}}(s,r)+(o?" "+o:"")})}Zi.prototype.M=function(){Zi.Z.M.call(this),Xi(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.Aa=function(){this.g=!1},ei.prototype.info=function(){};var Ui={},Ds=null;function Ji(){return Ds=Ds||new un}function hr(s){Fe.call(this,Ui.Ma,s)}function zn(s){const e=Ji();Qn(e,new hr(e,s))}function fr(s,e){Fe.call(this,Ui.STAT_EVENT,s),this.stat=e}function je(s){const e=Ji();Qn(e,new fr(e,s))}function Ne(s,e){Fe.call(this,Ui.Na,s),this.size=e}function it(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ue.setTimeout(function(){s()},e)}Ui.Ma="serverreachability",Dn(hr,Fe),Ui.STAT_EVENT="statevent",Dn(fr,Fe),Ui.Na="timingevent",Dn(Ne,Fe);var Pt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pn(){}function kn(){}pn.prototype.h=null;var Yr,Hn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ti(){Fe.call(this,"d")}function ls(){Fe.call(this,"c")}function As(){}function ys(s,e,r,o){this.l=s,this.j=e,this.m=r,this.X=o||1,this.V=new Zi(this),this.P=fa,this.W=new In(s=mt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eo}function eo(){this.i=null,this.g="",this.h=!1}Dn(ti,Fe),Dn(ls,Fe),Dn(As,pn),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Yr=new As;var fa=45e3,Mi={},Oi={};function es(s,e,r){s.K=1,s.v=Me(Ur(e)),s.s=r,s.U=!0,ho(s,null)}function ho(s,e){s.F=Date.now(),ni(s),s.A=Ur(s.v);var r=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),nr(r.h,"t",o),s.C=0,r=s.l.H,s.h=new eo,s.g=io(s.l,r?e:null,!s.s),0<s.O&&(s.L=new xs(Sn(s.Ia,s,s.g),s.O)),qi(s.V,s.g,"readystatechange",s.gb),e=s.H?ln(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),zn(1),function(s,e,r,o,l,g){s.info(function(){if(s.g)if(g)for(var b="",x=g.split("&"),K=0;K<x.length;K++){var Y=x[K].split("=");if(1<Y.length){var ye=Y[0];Y=Y[1];var Be=ye.split("_");b=2<=Be.length&&"type"==Be[1]?b+(ye+"=")+Y+"&":b+(ye+"=redacted&")}}else b=null;else b=g;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+r+"\n"+b})}(s.j,s.u,s.A,s.m,s.X,s.s)}function fo(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function cs(s,e,r){let l,o=!0;for(;!s.I&&s.C<r.length;){if(l=Rs(s,r),l==Oi){4==e&&(s.o=4,je(14),o=!1),us(s.j,s.m,null,"[Incomplete Response]");break}if(l==Mi){s.o=4,je(15),us(s.j,s.m,r,"[Invalid Chunk]"),o=!1;break}us(s.j,s.m,l,null),Os(s,l)}fo(s)&&l!=Oi&&l!=Mi&&(s.h.g="",s.C=0),4!=e||0!=r.length||s.h.h||(s.o=1,je(16),o=!1),s.i=s.i&&o,o?0<r.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),yo(e),e.L=!0,je(11))):(us(s.j,s.m,r,"[Invalid Chunked Response]"),vn(s),fi(s))}function Rs(s,e){var r=s.C,o=e.indexOf("\n",r);return-1==o?Oi:(r=Number(e.substring(r,o)),isNaN(r)?Mi:(o+=1)+r>e.length?Oi:(e=e.substr(o,r),s.C=o+r,e))}function ni(s){s.Y=Date.now()+s.P,ki(s,s.P)}function ki(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=it(Sn(s.eb,s),e)}function Ns(s){s.B&&(Ue.clearTimeout(s.B),s.B=null)}function fi(s){0==s.l.G||s.I||bs(s.l,s)}function vn(s){Ns(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,Bn(s.W),Xi(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Os(s,e){try{var r=s.l;if(0!=r.G&&(r.g==s||Nt(r.i,s)))if(r.I=s.N,!s.J&&Nt(r.i,s)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(Y){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=it(Sn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;Ea(r),mo(r)}Vs(r),je(18)}if(1>=Ms(r.i)&&r.ka){try{r.ka()}catch(Y){}r.ka=void 0}}else ro(r,11)}else if((s.J||r.g==s)&&Ea(r),!Qt(e))for(l=r.Ca.g.parse(e),e=0;e<l.length;e++){let Y=l[e];if(r.U=Y[0],Y=Y[1],2==r.G)if("c"==Y[0]){r.J=Y[1],r.la=Y[2];const ye=Y[3];null!=ye&&(r.ma=ye,r.h.info("VER="+r.ma));const Be=Y[4];null!=Be&&(r.za=Be,r.h.info("SVER="+r.za));const nt=Y[5];null!=nt&&"number"==typeof nt&&0<nt&&(r.K=o=1.5*nt,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const Rt=s.g;if(Rt){const Wt=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wt){var g=o.i;!g.g&&(ir(Wt,"spdy")||ir(Wt,"quic")||ir(Wt,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(wr(g,g.h),g.h=null))}if(o.D){const An=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(o.sa=An,he(o.F,o.D,An))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-s.F,r.h.info("Handshake RTT: "+r.O+"ms"));var b=s;if((o=r).oa=Bs(o,o.H?o.la:null,o.W),b.J){ga(o.i,b);var x=b,K=o.K;K&&x.setTimeout(K),x.B&&(Ns(x),ni(x)),o.g=b}else _o(o);0<r.l.length&&vi(r)}else"stop"!=Y[0]&&"close"!=Y[0]||ro(r,7);else 3==r.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?ro(r,7):Qs(r):"noop"!=Y[0]&&r.j&&r.j.wa(Y),r.A=0)}zn(4)}catch(Y){}}function Ws(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(gt(s)||"string"==typeof s)wt(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var r=s.T();else if(s.R&&"function"==typeof s.R)r=void 0;else if(gt(s)||"string"==typeof s){r=[];for(var o=s.length,l=0;l<o;l++)r.push(l)}else for(l in r=[],o=0,s)r[o++]=l;l=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(gt(s)){for(var e=[],r=s.length,o=0;o<r;o++)e.push(s[o]);return e}for(o in e=[],r=0,s)e[r++]=s[o];return e}(s)).length;for(var g=0;g<l;g++)e.call(void 0,o[g],r&&r[g],s)}}function Ci(s,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Ci)for(r=s.T(),o=0;o<r.length;o++)this.set(r[o],s.get(r[o]));else for(o in s)this.set(o,s[o])}function oi(s){if(s.i!=s.g.length){for(var e=0,r=0;e<s.g.length;){var o=s.g[e];ri(s.h,o)&&(s.g[r++]=o),e++}s.g.length=r}if(s.i!=s.g.length){var l={};for(r=e=0;e<s.g.length;)ri(l,o=s.g[e])||(s.g[r++]=o,l[o]=1),e++;s.g.length=r}}function ri(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(st=ys.prototype).setTimeout=function(s){this.P=s},st.gb=function(s){s=s.target;const e=this.L;e&&3==fs(s)?e.l():this.Ia(s)},st.Ia=function(s){try{if(s==this.g)e:{const ye=fs(this.g);var e=this.g.Da();const Be=this.g.ba();if(!(3>ye)&&(3!=ye||mt||this.g&&(this.h.h||this.g.ga()||Zs(this.g)))){this.I||4!=ye||7==e||zn(8==e||0>=Be?3:2),Ns(this);var r=this.g.ba();this.N=r;t:if(fo(this)){var o=Zs(this.g);s="";var l=o.length,g=4==fs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vn(this),fi(this);var b="";break t}this.h.i=new Ue.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:g&&e==l-1});o.splice(0,l),this.h.g+=s,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==r,function(s,e,r,o,l,g,b){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+r+"\n"+g+" "+b})}(this.j,this.u,this.A,this.m,this.X,ye,r),this.i){if(this.$&&!this.J){t:{if(this.g){var x,K=this.g;if((x=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qt(x)){var Y=x;break t}}Y=null}if(!(r=Y)){this.i=!1,this.o=3,je(12),vn(this),fi(this);break e}us(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Os(this,r)}this.U?(cs(this,ye,b),mt&&this.i&&3==ye&&(qi(this.V,this.W,"tick",this.fb),this.W.start())):(us(this.j,this.m,b,null),Os(this,b)),4==ye&&vn(this),this.i&&!this.I&&(4==ye?bs(this.l,this):(this.i=!1,ni(this)))}else 400==r&&0<b.indexOf("Unknown SID")?(this.o=3,je(12)):(this.o=0,je(13)),vn(this),fi(this)}}}catch(ye){}},st.fb=function(){if(this.g){var s=fs(this.g),e=this.g.ga();this.C<e.length&&(Ns(this),cs(this,s,e),this.i&&4!=s&&ni(this))}},st.cancel=function(){this.I=!0,vn(this)},st.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zn(3),je(17)),vn(this),this.o=2,fi(this)):ki(this,this.Y-s)},(st=Ci.prototype).R=function(){oi(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},st.T=function(){return oi(this),this.g.concat()},st.get=function(s,e){return ri(this.h,s)?this.h[s]:e},st.set=function(s,e){ri(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},st.forEach=function(s,e){for(var r=this.T(),o=0;o<r.length;o++){var l=r[o],g=this.get(l);s.call(e,g,l,this)}};var po=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ds(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof ds){this.g=void 0!==e?e:s.g,$s(this,s.j),this.s=s.s,j(this,s.i),ae(this,s.m),this.l=s.l,e=s.h;var r=new pi;r.i=e.i,e.g&&(r.g=new Ci(e.g),r.h=e.h),H(this,r),this.o=s.o}else s&&(r=String(s).match(po))?(this.g=!!e,$s(this,r[1]||"",!0),this.s=U(r[2]||""),j(this,r[3]||"",!0),ae(this,r[4]),this.l=U(r[5]||"",!0),H(this,r[6]||"",!0),this.o=U(r[7]||"")):(this.g=!!e,this.h=new pi(null,this.g))}function Ur(s){return new ds(s)}function $s(s,e,r){s.j=r?U(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function j(s,e,r){s.i=r?U(e,!0):e}function ae(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function H(s,e,r){e instanceof pi?(s.h=e,function(s,e){e&&!s.j&&(Er(s),s.i=null,s.g.forEach(function(r,o){var l=o.toLowerCase();o!=l&&(Gr(this,o),nr(this,l,r))},s)),s.j=e}(s.h,s.g)):(r||(e=V(e,Pn)),s.h=new pi(e,s.g))}function he(s,e,r){s.h.set(e,r)}function Me(s){return he(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function U(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function V(s,e,r){return"string"==typeof s?(s=encodeURI(s).replace(e,N),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function N(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ds.prototype.toString=function(){var s=[],e=this.j;e&&s.push(V(e,te,!0),":");var r=this.i;return(r||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(V(e,te,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&s.push("/"),s.push(V(r,"/"==r.charAt(0)?Kt:Ye,!0))),(r=this.h.toString())&&s.push("?",r),(r=this.o)&&s.push("#",V(r,Vr)),s.join("")};var te=/[#\/\?@]/g,Ye=/[#\?:]/g,Kt=/[#\?]/g,Pn=/[#\?@]/g,Vr=/#/g;function pi(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function Er(s){s.g||(s.g=new Ci,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var o=s[r].indexOf("="),l=null;if(0<=o){var g=s[r].substring(0,o);l=s[r].substring(o+1)}else g=s[r];e(g,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(e,r){s.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Gr(s,e){Er(s),e=vs(s,e),ri(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,ri((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&oi(s)))}function Gn(s,e){return Er(s),e=vs(s,e),ri(s.g.h,e)}function nr(s,e,r){Gr(s,e),0<r.length&&(s.i=null,s.g.set(vs(s,e),wn(r)),s.h+=r.length)}function vs(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function pa(s){this.l=s||Ga,s=Ue.PerformanceNavigationTiming?0<(s=Ue.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ue.g&&Ue.g.Ea&&Ue.g.Ea()&&Ue.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=pi.prototype).add=function(s,e){Er(this),this.i=null,s=vs(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(e),this.h+=1,this},st.forEach=function(s,e){Er(this),this.g.forEach(function(r,o){wt(r,function(l){s.call(e,l,o,this)},this)},this)},st.T=function(){Er(this);for(var s=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var l=s[o],g=0;g<l.length;g++)r.push(e[o]);return r},st.R=function(s){Er(this);var e=[];if("string"==typeof s)Gn(this,s)&&(e=dn(e,this.g.get(vs(this,s))));else{s=this.g.R();for(var r=0;r<s.length;r++)e=dn(e,s[r])}return e},st.set=function(s,e){return Er(this),this.i=null,Gn(this,s=vs(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},st.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],l=encodeURIComponent(String(o));o=this.R(o);for(var g=0;g<o.length;g++){var b=l;""!==o[g]&&(b+="="+encodeURIComponent(String(o[g]))),s.push(b)}}return this.i=s.join("&")};var Ga=10;function Ko(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Ms(s){return s.h?1:s.g?s.g.size:0}function Nt(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function wr(s,e){s.g?s.g.add(e):s.h=e}function ga(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Ii(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const r of s.g.values())e=e.concat(r.D);return e}return wn(s.i)}function zo(){}function bo(){this.g=new zo}function Ks(s,e,r){const o=r||"";try{Ws(s,function(l,g){let b=l;Mt(l)&&(b=Xr(l)),e.push(o+g+"="+encodeURIComponent(b))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Ls(s,e,r,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(g){}}function go(s){this.l=s.$b||null,this.j=s.ib||!1}function Co(s,e){un.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Io,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pa.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},zo.prototype.stringify=function(s){return Ue.JSON.stringify(s,void 0)},zo.prototype.parse=function(s){return Ue.JSON.parse(s,void 0)},Dn(go,pn),go.prototype.g=function(){return new Co(this.l,this.j)},go.prototype.i=function(s){return function(){return s}}({}),Dn(Co,un);var Io=0;function Fs(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ji(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Hi(s)}function Hi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(st=Co.prototype).open=function(s,e){if(this.readyState!=Io)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Hi(this)},st.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Ue).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ji(this)),this.readyState=Io},st.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ue.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ji(this):Hi(this),3==this.readyState&&Fs(this)}},st.Ua=function(s){this.g&&(this.response=this.responseText=s,ji(this))},st.Ta=function(s){this.g&&(this.response=s,ji(this))},st.ha=function(){this.g&&ji(this)},st.setRequestHeader=function(s,e){this.v.append(s,e)},st.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var r=e.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=e.next();return s.join("\r\n")},Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Wa=Ue.JSON.parse;function Jr(s){un.call(this),this.headers=new Ci,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hs,this.K=this.L=!1}Dn(Jr,un);var hs="",ma=/^https?$/i,Zo=["POST","PUT"];function xa(s){return"content-type"==s.toLowerCase()}function xo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Es(s),to(s)}function Es(s){s.D||(s.D=!0,Qn(s,"complete"),Qn(s,"error"))}function _a(s){if(s.h&&void 0!==jt&&(!s.C[1]||4!=fs(s)||2!=s.ba()))if(s.v&&4==fs(s))ur(s.Fa,0,s);else if(Qn(s,"readystatechange"),4==fs(s)){s.h=!1;try{const x=s.ba();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===x){var l=String(s.H).match(po)[1]||null;if(!l&&Ue.self&&Ue.self.location){var g=Ue.self.location.protocol;l=g.substr(0,g.length-1)}o=!ma.test(l?l.toLowerCase():"")}r=o}if(r)Qn(s,"complete"),Qn(s,"success");else{s.m=6;try{var b=2<fs(s)?s.g.statusText:""}catch(K){b=""}s.j=b+" ["+s.ba()+"]",Es(s)}}finally{to(s)}}}function to(s,e){if(s.g){qo(s);const r=s.g,o=s.C[0]?bt:null;s.g=null,s.C=null,e||Qn(s,"ready");try{r.onreadystatechange=o}catch(l){}}}function qo(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ue.clearTimeout(s.A),s.A=null)}function fs(s){return s.g?s.g.readyState:0}function Zs(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case hs:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function va(s,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(s){let e="";return xn(s,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):he(s,e,r))}function Pi(s,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||e}function $a(s){this.za=0,this.l=[],this.h=new ei,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pi("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pi("baseRetryDelayMs",5e3,s),this.$a=Pi("retryDelaySeedMs",1e4,s),this.Ya=Pi("forwardChannelMaxRetries",2,s),this.ra=Pi("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new pa(s&&s.concurrentRequestLimit),this.Ca=new bo,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Qs(s){if(Xo(s),3==s.G){var e=s.V++,r=Ur(s.F);he(r,"SID",s.J),he(r,"RID",e),he(r,"TYPE","terminate"),Yo(s,r),(e=new ys(s,s.h,e,void 0)).K=2,e.v=Me(Ur(r)),r=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(r=Ue.navigator.sendBeacon(e.v.toString(),"")),!r&&Ue.Image&&((new Image).src=e.v,r=!0),r||(e.g=io(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ni(e)}iu(s)}function mo(s){s.g&&(yo(s),s.g.cancel(),s.g=null)}function Xo(s){mo(s),s.u&&(Ue.clearTimeout(s.u),s.u=null),Ea(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ue.clearTimeout(s.m),s.m=null)}function xi(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&vi(s)}function vi(s){Ko(s.i)||s.m||(s.m=!0,Vn(s.Ha,s),s.C=0)}function no(s,e){var r;r=e?e.m:s.V++;const o=Ur(s.F);he(o,"SID",s.J),he(o,"RID",r),he(o,"AID",s.U),Yo(s,o),s.o&&s.s&&va(o,s.o,s.s),r=new ys(s,s.h,r,s.C+1),null===s.o&&(r.H=s.s),e&&(s.l=e.D.concat(s.l)),e=To(s,r,1e3),r.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),wr(s.i,r),es(r,o,e)}function Yo(s,e){s.j&&Ws({},function(r,o){he(e,o,r)})}function To(s,e,r){r=Math.min(s.l.length,r);var o=s.j?Sn(s.j.Oa,s.j,s):null;e:{var l=s.l;let g=-1;for(;;){const b=["count="+r];-1==g?0<r?(g=l[0].h,b.push("ofs="+g)):g=0:b.push("ofs="+g);let x=!0;for(let K=0;K<r;K++){let Y=l[K].h;const ye=l[K].g;if(Y-=g,0>Y)g=Math.max(0,l[K].h-100),x=!1;else try{Ks(ye,b,"req"+Y+"_")}catch(Be){o&&o(ye)}}if(x){o=b.join("&");break e}}}return s=s.l.splice(0,r),e.D=s,o}function _o(s){s.g||s.u||(s.Y=1,Vn(s.Ga,s),s.A=0)}function Vs(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=it(Sn(s.Ga,s),li(s,s.A)),s.A++,0))}function yo(s){null!=s.B&&(Ue.clearTimeout(s.B),s.B=null)}function ts(s){s.g=new ys(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=Ur(s.oa);he(e,"RID","rpc"),he(e,"SID",s.J),he(e,"CI",s.N?"0":"1"),he(e,"AID",s.U),Yo(s,e),he(e,"TYPE","xmlhttp"),s.o&&s.s&&va(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var r=s.g;s=s.la,r.K=1,r.v=Me(Ur(e)),r.s=null,r.U=!0,ho(r,s)}function Ea(s){null!=s.v&&(Ue.clearTimeout(s.v),s.v=null)}function bs(s,e){var r=null;if(s.g==e){Ea(s),yo(s),s.g=null;var o=2}else{if(!Nt(s.i,e))return;r=e.D,ga(s.i,e),o=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var l=s.C;Qn(o=Ji(),new Ne(o,r,e,l)),vi(s)}else _o(s);else if(3==(l=e.o)||0==l&&0<s.I||!(1==o&&function(s,e){return!(Ms(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=it(Sn(s.Ha,s,e),li(s,s.C)),s.C++,0)))}(s,e)||2==o&&Vs(s)))switch(r&&0<r.length&&(e=s.i,e.i=e.i.concat(r)),l){case 1:ro(s,5);break;case 4:ro(s,10);break;case 3:ro(s,6);break;default:ro(s,2)}}function li(s,e){let r=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(r*=2),r*e}function ro(s,e){if(s.h.info("Error code "+e),2==e){var r=null;s.j&&(r=null);var o=Sn(s.jb,s);r||(r=new ds("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||$s(r,"https"),Me(r)),function(s,e){const r=new ei;if(Ue.Image){const o=new Image;o.onload=ar(Ls,r,o,"TestLoadImage: loaded",!0,e),o.onerror=ar(Ls,r,o,"TestLoadImage: error",!1,e),o.onabort=ar(Ls,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=ar(Ls,r,o,"TestLoadImage: timeout",!1,e),Ue.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(r.toString(),o)}else je(2);s.G=0,s.j&&s.j.va(e),iu(s),Xo(s)}function iu(s){s.G=0,s.I=-1,s.j&&((0!=Ii(s.i).length||0!=s.l.length)&&(s.i.i.length=0,wn(s.l),s.l.length=0),s.j.ua())}function Bs(s,e,r){let o=function(s){return s instanceof ds?Ur(s):new ds(s,void 0)}(r);if(""!=o.i)e&&j(o,e+"."+o.i),ae(o,o.m);else{const l=Ue.location;o=function(s,e,r,o){var l=new ds(null,void 0);return s&&$s(l,s),e&&j(l,e),r&&ae(l,r),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,r)}return s.aa&&xn(s.aa,function(l,g){he(o,g,l)}),r=s.sa,(e=s.D)&&r&&he(o,e,r),he(o,"VER",s.ma),Yo(s,o),o}function io(s,e,r){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(r&&s.Ba&&!s.qa?new go({ib:!0}):s.qa)).L=s.H,e}function so(){}function Ro(){if(Ae&&!(10<=Number(Te)))throw Error("Environmental error: no available transport.")}function Wr(s,e){un.call(this),this.g=new $a(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Qt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qt(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new $r(this)}function wo(s){ti.call(this);var e=s.__sm__;if(e){e:{for(const r in e){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function su(){ls.call(this),this.status=1}function $r(s){this.g=s}(st=Jr.prototype).ea=function(s,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yr.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Yr),this.g.onreadystatechange=Sn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(g){return void xo(this,g)}s=r||"";const l=new Ci(this.headers);o&&Ws(o,function(g,b){l.set(b,g)}),o=function(s){e:{var e=xa;const r=s.length,o="string"==typeof s?s.split(""):s;for(let l=0;l<r;l++)if(l in o&&e.call(void 0,o[l],l,s)){e=l;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(l.T()),r=Ue.FormData&&s instanceof Ue.FormData,!(0<=Zt(Zo,e))||o||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(g,b){this.g.setRequestHeader(b,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qo(this),0<this.B&&((this.K=function(s){return Ae&&yn()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.pa,this)):this.A=ur(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(g){xo(this,g)}},st.pa=function(){void 0!==jt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},st.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Qn(this,"complete"),Qn(this,"abort"),to(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),to(this,!0)),Jr.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?_a(this):this.cb())},st.cb=function(){_a(this)},st.ba=function(){try{return 2<fs(this)?this.g.status:-1}catch(s){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},st.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Wa(e)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=$a.prototype).ma=8,st.G=1,st.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},st.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const l=new ys(this,this.h,s,void 0);let g=this.s;if(this.P&&(g?(g=ln(g),Ir(g,this.P)):g=this.P),null===this.o&&(l.H=g),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=To(this,l,e),he(r=Ur(this.F),"RID",s),he(r,"CVER",22),this.D&&he(r,"X-HTTP-Session-Id",this.D),Yo(this,r),this.o&&g&&va(r,this.o,g),wr(this.i,l),this.Ra&&he(r,"TYPE","init"),this.ja?(he(r,"$req",e),he(r,"SID","null"),l.$=!0,es(l,r,null)):es(l,r,e),this.G=2}}else 3==this.G&&(s?no(this,s):0==this.l.length||Ko(this.i)||no(this))},st.Ga=function(){if(this.u=null,ts(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=it(Sn(this.bb,this),s)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,je(10),mo(this),ts(this))},st.ab=function(){null!=this.v&&(this.v=null,mo(this),Vs(this),je(19))},st.jb=function(s){s?(this.h.info("Successfully pinged google.com"),je(2)):(this.h.info("Failed to ping google.com"),je(1))},(st=so.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},Ro.prototype.g=function(s,e){return new Wr(s,e)},Dn(Wr,un),Wr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,r=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Vn(Sn(s.hb,s,e))),je(0),s.W=e,s.aa=r||{},s.N=s.X,s.F=Bs(s,null,s.W),vi(s)},Wr.prototype.close=function(){Qs(this.g)},Wr.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,xi(this.g,e)}else this.v?((e={}).__data__=Xr(s),xi(this.g,e)):xi(this.g,s)},Wr.prototype.M=function(){this.g.j=null,delete this.j,Qs(this.g),delete this.g,Wr.Z.M.call(this)},Dn(wo,ti),Dn(su,ls),Dn($r,so),$r.prototype.xa=function(){Qn(this.g,"a")},$r.prototype.wa=function(s){Qn(this.g,new wo(s))},$r.prototype.va=function(s){Qn(this.g,new su(s))},$r.prototype.ua=function(){Qn(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Wr.prototype.send=Wr.prototype.u,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,Gt.COMPLETE="complete",kn.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",un.prototype.listen=un.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var oo=_n.createWebChannelTransport=function(){return new Ro},Wi=_n.getStatEventTarget=function(){return Ji()},So=_n.ErrorCode=Pt,ge=_n.EventType=Gt,C=_n.Event=Ui,O=_n.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fe=_n.FetchXmlHttpFactory=go,D=_n.WebChannel=kn,S=_n.XhrIo=Jr;const w="@firebase/firestore";class L{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}L.UNAUTHENTICATED=new L(null),L.GOOGLE_CREDENTIALS=new L("google-credentials-uid"),L.FIRST_PARTY=new L("first-party-uid"),L.MOCK_USER=new L("mock-user");let Z="9.8.4";const de=new re.Yd("@firebase/firestore");function Pe(){return de.logLevel}function Ge(s,...e){if(de.logLevel<=re.in.DEBUG){const r=e.map(Zn);de.debug(`Firestore (${Z}): ${s}`,...r)}}function nn(s,...e){if(de.logLevel<=re.in.ERROR){const r=e.map(Zn);de.error(`Firestore (${Z}): ${s}`,...r)}}function Or(s,...e){if(de.logLevel<=re.in.WARN){const r=e.map(Zn);de.warn(`Firestore (${Z}): ${s}`,...r)}}function Zn(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function $t(s="Unexpected state"){const e=`FIRESTORE (${Z}) INTERNAL ASSERTION FAILED: `+s;throw nn(e),new Error(e)}function an(s,e){s||$t()}function rn(s,e){return s}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends pt.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class No{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(L.UNAUTHENTICATED))}shutdown(){}}class ol{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Rl{constructor(e){this.t=e,this.currentUser=L.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let l=this.i;const g=Y=>this.i!==l?(l=this.i,r(Y)):Promise.resolve();let b=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new gi,e.enqueueRetryable(()=>g(this.currentUser))};const x=()=>{const Y=b;e.enqueueRetryable((0,Se.Z)(function*(){yield Y.promise,yield g(o.currentUser)}))},K=Y=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Y=>K(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?K(Y):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new gi)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(an("string"==typeof o.accessToken),new No(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new L(e)}}class ou{constructor(e,r,o){this.type="FirstParty",this.user=L.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Vu{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new ou(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(L.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const o=g=>{null!=g.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const b=g.token!==this.p;return this.p=g.token,Ge("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?r(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const l=g=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.g.onInit(g=>l(g)),setTimeout(()=>{if(!this.appCheck){const g=this.g.getImmediate({optional:!0});g?l(g):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(an("string"==typeof r.token),this.p=r.token,new Ka(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function za(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}class Uu{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=za(40);for(let g=0;g<l.length;++g)o.length<20&&l[g]<r&&(o+=e.charAt(l[g]%e.length))}return o}}function br(s,e){return s<e?-1:s>e?1:0}function Oo(s,e,r){return s.length===e.length&&s.every((o,l)=>r(o,e[l]))}function Ra(s){return s+"\0"}class mi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new kt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new kt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new kt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new mi(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?br(this.nanoseconds,e.nanoseconds):br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new mi(0,0))}static max(){return new rr(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Na{constructor(e,r,o){void 0===r?r=0:r>e.length&&$t(),void 0===o?o=e.length-r:o>e.length-r&&$t(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Na.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const g=e.get(l),b=r.get(l);if(g<b)return-1;if(g>b)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Fr extends Na{construct(e,r,o){return new Fr(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new kt(ht.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Fr(r)}static emptyPath(){return new Fr([])}}const ko=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jr extends Na{construct(e,r,o){return new jr(e,r,o)}static isValidIdentifier(e){return ko.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jr(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const g=()=>{if(0===o.length)throw new kt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let b=!1;for(;l<e.length;){const x=e[l];if("\\"===x){if(l+1===e.length)throw new kt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const K=e[l+1];if("\\"!==K&&"."!==K&&"`"!==K)throw new kt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=K,l+=2}else"`"===x?(b=!b,l++):"."!==x||b?(o+=x,l++):(g(),l++)}if(g(),b)throw new kt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jr(r)}static emptyPath(){return new jr([])}}class hn{constructor(e){this.path=e}static fromPath(e){return new hn(Fr.fromString(e))}static fromName(e){return new hn(Fr.fromString(e).popFirst(5))}static empty(){return new hn(Fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Fr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new Fr(e.slice()))}}class al{constructor(e,r,o,l){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=l}}function ul(s){return s.fields.find(e=>2===e.kind)}function ba(s){return s.fields.filter(e=>2!==e.kind)}al.UNKNOWN_ID=-1;class wi{constructor(e,r){this.fieldPath=e,this.kind=r}}class _u{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new _u(0,Lo.min())}}function yu(s,e){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=rr.fromTimestamp(1e9===o?new mi(r+1,0):new mi(r,o));return new Lo(l,hn.empty(),e)}function au(s){return new Lo(s.readTime,s.key,-1)}class Lo{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Lo(rr.min(),hn.empty(),-1)}static max(){return new Lo(rr.max(),hn.empty(),-1)}}function Nl(s,e){let r=s.readTime.compareTo(e.readTime);return 0!==r?r:(r=hn.comparator(s.documentKey,e.documentKey),0!==r?r:br(s.largestBatchId,e.largestBatchId))}const Zd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ll{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function uu(s){return cl.apply(this,arguments)}function cl(){return(cl=(0,Se.Z)(function*(s){if(s.code!==ht.FAILED_PRECONDITION||s.message!==Zd)throw s;Ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ft{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ft((o,l)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,l)},this.catchCallback=g=>{this.wrapFailure(r,g).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ft?r:ft.resolve(r)}catch(r){return ft.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ft.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ft.reject(r)}static resolve(e){return new ft((r,o)=>{r(e)})}static reject(e){return new ft((r,o)=>{o(e)})}static waitFor(e){return new ft((r,o)=>{let l=0,g=0,b=!1;e.forEach(x=>{++l,x.next(()=>{++g,b&&g===l&&r()},K=>o(K))}),b=!0,g===l&&r()})}static or(e){let r=ft.resolve(!1);for(const o of e)r=r.next(l=>l?ft.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,g)=>{o.push(r.call(this,l,g))}),this.waitFor(o)}static mapArray(e,r){return new ft((o,l)=>{const g=e.length,b=new Array(g);let x=0;for(let K=0;K<g;K++){const Y=K;r(e[Y]).next(ye=>{b[Y]=ye,++x,x===g&&o(b)},ye=>l(ye))}})}static doWhile(e,r){return new ft((o,l)=>{const g=()=>{!0===e()?r().next(()=>{g()},l):o()};g()})}}class Za{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.T=new gi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{r.error?this.T.reject(new Si(e,r.error)):this.T.resolve()},this.transaction.onerror=o=>{const l=ao(o.target.error);this.T.reject(new Si(e,l))}}static open(e,r,o,l){try{return new Za(r,e.transaction(l,o))}catch(g){throw new Si(r,g)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Eu(r)}}class ii{constructor(e,r,o){this.name=e,this.version=r,this.P=o,12.2===ii.v((0,pt.z$)())&&nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Qa(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,pt.hl)())return!1;if(ii.S())return!0;const e=(0,pt.z$)(),r=ii.v(e),o=0<r&&r<10,l=ii.D(e),g=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||g)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,r){return e.store(r)}static v(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var r=this;return(0,Se.Z)(function*(){return r.db||(Ge("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,l)=>{const g=indexedDB.open(r.name,r.version);g.onsuccess=b=>{o(b.target.result)},g.onblocked=()=>{l(new Si(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=b=>{const x=b.target.error;l("VersionError"===x.name?new kt(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new kt(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Si(e,x))},g.onupgradeneeded=b=>{Ge("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',b.oldVersion),r.P.O(b.target.result,g.transaction,b.oldVersion,r.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.M&&(r.db.onversionchange=o=>r.M(o)),r.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,l){var g=this;return(0,Se.Z)(function*(){const b="readonly"===r;let x=0;for(;;){++x;try{g.db=yield g.k(e);const K=Za.open(g.db,e,b?"readonly":"readwrite",o),Y=l(K).next(ye=>(K.R(),ye)).catch(ye=>(K.abort(ye),ft.reject(ye))).toPromise();return Y.catch(()=>{}),yield K.A,Y}catch(K){const Y=K,ye="FirebaseError"!==Y.name&&x<3;if(Ge("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ye),g.close(),!ye)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class vu{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Qa(this.$.delete())}}class Si extends kt{constructor(e,r){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Do(s){return"IndexedDbTransactionError"===s.name}class Eu{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Ge("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Qa(o)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Qa(this.store.add(e))}get(e){return Qa(this.store.get(e)).next(r=>(void 0===r&&(r=null),Ge("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Qa(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Qa(this.store.count())}K(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),g=[];return this.G(l,(b,x)=>{g.push(x)}).next(()=>g)}{const l=this.store.getAll(o.range);return new ft((g,b)=>{l.onerror=x=>{b(x.target.error)},l.onsuccess=x=>{g(x.target.result)}})}}j(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new ft((l,g)=>{o.onerror=b=>{g(b.target.error)},o.onsuccess=b=>{l(b.target.result)}})}W(e,r){Ge("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const l=this.cursor(o);return this.G(l,(g,b,x)=>x.delete())}J(e,r){let o;r?o=e:(o={},r=e);const l=this.cursor(o);return this.G(l,r)}Y(e){const r=this.cursor({});return new ft((o,l)=>{r.onerror=g=>{const b=ao(g.target.error);l(b)},r.onsuccess=g=>{const b=g.target.result;b?e(b.primaryKey,b.value).next(x=>{x?b.continue():o()}):o()}})}G(e,r){const o=[];return new ft((l,g)=>{e.onerror=b=>{g(b.target.error)},e.onsuccess=b=>{const x=b.target.result;if(!x)return void l();const K=new vu(x),Y=r(x.primaryKey,x.value,K);if(Y instanceof ft){const ye=Y.catch(Be=>(K.done(),ft.reject(Be)));o.push(ye)}K.isDone?l():null===K.U?x.continue():x.continue(K.U)}}).next(()=>ft.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Qa(s){return new ft((e,r)=>{s.onsuccess=o=>{e(o.target.result)},s.onerror=o=>{const l=ao(o.target.error);r(l)}})}let Ol=!1;function ao(s){const e=ii.v((0,pt.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const o=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ol||(Ol=!0,setTimeout(()=>{throw o},0)),o}}return s}class Ca{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var r=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Se.Z)(function*(){r.task=null;try{Ge("IndexBackiller",`Documents written: ${yield r.X.tt()}`)}catch(o){Do(o)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield uu(o)}yield r.Z(1)}))}}class bu{constructor(e,r){this.localStore=e,this.persistence=r}tt(e=50){var r=this;return(0,Se.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.et(o,e))})()}et(e,r){const o=new Set;let l=r,g=!0;return ft.doWhile(()=>!0===g&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(b=>{if(null!==b&&!o.has(b))return Ge("IndexBackiller",`Processing collection: ${b}`),this.nt(e,b,l).next(x=>{l-=x,o.add(b)});g=!1})).next(()=>r-l)}nt(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(l=>this.localStore.localDocuments.getNextDocuments(e,r,l,o).next(g=>{const b=g.changes;return this.localStore.indexManager.updateIndexEntries(e,b).next(()=>this.st(l,g)).next(x=>(Ge("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>b.size)}))}st(e,r){let o=e;return r.changes.forEach((l,g)=>{const b=au(g);Nl(b,o)>0&&(o=b)}),new Lo(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}class Ri{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.it(o),this.rt=o=>r.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Us(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Oa(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function kl(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}Ri.ot=-1;class Qr{constructor(e,r){this.comparator=e,this.root=r||Li.EMPTY}insert(e,r){return new Qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Li.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=r?o(e.key,r):1,r&&l&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Li{constructor(e,r,o,l,g){this.key=e,this.value=r,this.color=null!=o?o:Li.RED,this.left=null!=l?l:Li.EMPTY,this.right=null!=g?g:Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,g){return new Li(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const g=o(e,l.key);return l=g<0?l.copy(null,null,null,l.left.insert(e,r,o),null):0===g?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(e,l.key)){if(l.right.isEmpty())return Li.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const e=this.left.check();if(e!==this.right.check())throw $t();return e+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(s,e,r,o,l){return this}insert(s,e,r){return new Li(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ao(this.data.getIterator())}getIteratorFrom(e){return new Ao(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,g=o.getNext().key;if(0!==this.comparator(l,g))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ei(this.comparator);return r.data=e,r}}class Ao{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jo(s){return s.hasNext()?s.getNext():void 0}class Cs{constructor(e){this.fields=e,e.sort(jr.comparator)}static empty(){return new Cs([])}unionWith(e){let r=new Ei(jr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Cs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Is{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Is(r)}static fromUint8Array(e){const r=function(o){let l="";for(let g=0;g<o.length;++g)l+=String.fromCharCode(o[g]);return l}(e);return new Is(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Is.EMPTY_BYTE_STRING=new Is("");const F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G(s){if(an(!!s),"string"==typeof s){let e=0;const r=F.exec(s);if(an(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:oe(s.seconds),nanos:oe(s.nanos)}}function oe(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function De(s){return"string"==typeof s?Is.fromBase64String(s):Is.fromUint8Array(s)}function Je(s){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ct(s){const e=s.mapValue.fields.__previous_value__;return Je(e)?ct(e):e}function Bt(s){const e=G(s.mapValue.fields.__local_write_time__.timestampValue);return new mi(e.seconds,e.nanos)}class gn{constructor(e,r,o,l,g,b,x,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=g,this.forceLongPolling=b,this.autoDetectLongPolling=x,this.useFetchStreams=K}}class Un{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Un("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Un&&e.projectId===this.projectId&&e.database===this.database}}function sr(s){return null==s}function Sr(s){return 0===s&&1/s==-1/0}function qn(s){return"number"==typeof s&&Number.isInteger(s)&&!Sr(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const $i={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ki={nullValue:"NULL_VALUE"};function Fo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Je(s)?4:Hu(s)?9007199254740991:10:$t()}function js(s,e){if(s===e)return!0;const r=Fo(s);if(r!==Fo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bt(s).isEqual(Bt(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const g=G(o.timestampValue),b=G(l.timestampValue);return g.seconds===b.seconds&&g.nanos===b.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return l=e,De(s.bytesValue).isEqual(De(l.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,l){return oe(o.geoPointValue.latitude)===oe(l.geoPointValue.latitude)&&oe(o.geoPointValue.longitude)===oe(l.geoPointValue.longitude)}(s,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return oe(o.integerValue)===oe(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const g=oe(o.doubleValue),b=oe(l.doubleValue);return g===b?Sr(g)===Sr(b):isNaN(g)&&isNaN(b)}return!1}(s,e);case 9:return Oo(s.arrayValue.values||[],e.arrayValue.values||[],js);case 10:return function(o,l){const g=o.mapValue.fields||{},b=l.mapValue.fields||{};if(Us(g)!==Us(b))return!1;for(const x in g)if(g.hasOwnProperty(x)&&(void 0===b[x]||!js(g[x],b[x])))return!1;return!0}(s,e);default:return $t()}var l}function Ia(s,e){return void 0!==(s.values||[]).find(r=>js(r,e))}function qs(s,e){if(s===e)return 0;const r=Fo(s),o=Fo(e);if(r!==o)return br(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return br(s.booleanValue,e.booleanValue);case 2:return function(l,g){const b=oe(l.integerValue||l.doubleValue),x=oe(g.integerValue||g.doubleValue);return b<x?-1:b>x?1:b===x?0:isNaN(b)?isNaN(x)?0:-1:1}(s,e);case 3:return ea(s.timestampValue,e.timestampValue);case 4:return ea(Bt(s),Bt(e));case 5:return br(s.stringValue,e.stringValue);case 6:return function(l,g){const b=De(l),x=De(g);return b.compareTo(x)}(s.bytesValue,e.bytesValue);case 7:return function(l,g){const b=l.split("/"),x=g.split("/");for(let K=0;K<b.length&&K<x.length;K++){const Y=br(b[K],x[K]);if(0!==Y)return Y}return br(b.length,x.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,g){const b=br(oe(l.latitude),oe(g.latitude));return 0!==b?b:br(oe(l.longitude),oe(g.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(l,g){const b=l.values||[],x=g.values||[];for(let K=0;K<b.length&&K<x.length;++K){const Y=qs(b[K],x[K]);if(Y)return Y}return br(b.length,x.length)}(s.arrayValue,e.arrayValue);case 10:return function(l,g){if(l===$i.mapValue&&g===$i.mapValue)return 0;if(l===$i.mapValue)return 1;if(g===$i.mapValue)return-1;const b=l.fields||{},x=Object.keys(b),K=g.fields||{},Y=Object.keys(K);x.sort(),Y.sort();for(let ye=0;ye<x.length&&ye<Y.length;++ye){const Be=br(x[ye],Y[ye]);if(0!==Be)return Be;const nt=qs(b[x[ye]],K[Y[ye]]);if(0!==nt)return nt}return br(x.length,Y.length)}(s.mapValue,e.mapValue);default:throw $t()}}function ea(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return br(s,e);const r=G(s),o=G(e),l=br(r.seconds,o.seconds);return 0!==l?l:br(r.nanos,o.nanos)}function gs(s){return Vo(s)}function Vo(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const l=G(o);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?De(s.bytesValue).toBase64():"referenceValue"in s?hn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(o){let l="[",g=!0;for(const b of o.values||[])g?g=!1:l+=",",l+=Vo(b);return l+"]"}(s.arrayValue):"mapValue"in s?function(o){const l=Object.keys(o.fields||{}).sort();let g="{",b=!0;for(const x of l)b?b=!1:g+=",",g+=`${x}:${Vo(o.fields[x])}`;return g+"}"}(s.mapValue):$t();var e}function Kr(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qa(s){return!!s&&"integerValue"in s}function cu(s){return!!s&&"arrayValue"in s}function Ta(s){return!!s&&"nullValue"in s}function ju(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function dc(s){return!!s&&"mapValue"in s}function Xa(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Oa(s.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Xa(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Xa(s.arrayValue.values[r]);return e}return Object.assign({},s)}function Hu(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function hc(s){return"nullValue"in s?Ki:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Kr(Un.empty(),hn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:$t()}function Gu(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Kr(Un.empty(),hn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?$i:$t()}function ka(s,e){const r=qs(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Cu(s,e){const r=qs(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!dc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(r)}setAll(e){let r=jr.emptyPath(),o={},l=[];e.forEach((b,x)=>{if(!r.isImmediateParentOf(x)){const K=this.getFieldsMap(r);this.applyChanges(K,o,l),o={},l=[],r=x.popLast()}b?o[x.lastSegment()]=Xa(b):l.push(x.lastSegment())});const g=this.getFieldsMap(r);this.applyChanges(g,o,l)}delete(e){const r=this.field(e.popLast());dc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return js(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Oa(r,(l,g)=>e[l]=g);for(const l of o)delete e[l]}clone(){return new Fi(Xa(this.value))}}function Ll(s){const e=[];return Oa(s.fields,(r,o)=>{const l=new jr([r]);if(dc(o)){const g=Ll(o.mapValue).fields;if(0===g.length)e.push(l);else for(const b of g)e.push(l.child(b))}else e.push(l)}),new Cs(e)}class Di{constructor(e,r,o,l,g,b){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.data=g,this.documentState=b}static newInvalidDocument(e){return new Di(e,0,rr.min(),rr.min(),Fi.empty(),0)}static newFoundDocument(e,r,o){return new Di(e,1,r,rr.min(),o,0)}static newNoDocument(e,r){return new Di(e,2,r,rr.min(),Fi.empty(),0)}static newUnknownDocument(e,r){return new Di(e,3,r,rr.min(),Fi.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wu{constructor(e,r=null,o=[],l=[],g=null,b=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=g,this.startAt=b,this.endAt=x,this.ut=null}}function Iu(s,e=null,r=[],o=[],l=null,g=null,b=null){return new Wu(s,e,r,o,l,g,b)}function Bo(s){const e=rn(s);if(null===e.ut){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+gs(l.value);var l}).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),sr(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>gs(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>gs(o)).join(",")),e.ut=r}return e.ut}function $u(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<s.orderBy.length;l++)if(!pc(s.orderBy[l],e.orderBy[l]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let l=0;l<s.filters.length;l++)if((r=s.filters[l]).op!==(o=e.filters[l]).op||!r.field.isEqual(o.field)||!js(r.value,o.value))return!1;var r,o;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ul(s.startAt,e.startAt)&&Ul(s.endAt,e.endAt)}function du(s){return hn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function ta(s,e){return s.filters.filter(r=>r instanceof ns&&r.field.isEqual(e))}function ed(s,e,r){let o=Ki,l=!0;for(const g of ta(s,e)){let b=Ki,x=!0;switch(g.op){case"<":case"<=":b=hc(g.value);break;case"==":case"in":case">=":b=g.value;break;case">":b=g.value,x=!1;break;case"!=":case"not-in":b=Ki}ka({value:o,inclusive:l},{value:b,inclusive:x})<0&&(o=b,l=x)}if(null!==r)for(let g=0;g<s.orderBy.length;++g)if(s.orderBy[g].field.isEqual(e)){const b=r.position[g];ka({value:o,inclusive:l},{value:b,inclusive:r.inclusive})<0&&(o=b,l=r.inclusive);break}return{value:o,inclusive:l}}function td(s,e,r){let o=$i,l=!0;for(const g of ta(s,e)){let b=$i,x=!0;switch(g.op){case">=":case">":b=Gu(g.value),x=!1;break;case"==":case"in":case"<=":b=g.value;break;case"<":b=g.value,x=!1;break;case"!=":case"not-in":b=$i}Cu({value:o,inclusive:l},{value:b,inclusive:x})>0&&(o=b,l=x)}if(null!==r)for(let g=0;g<s.orderBy.length;++g)if(s.orderBy[g].field.isEqual(e)){const b=r.position[g];Cu({value:o,inclusive:l},{value:b,inclusive:r.inclusive})>0&&(o=b,l=r.inclusive);break}return{value:o,inclusive:l}}class ns extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.ct(e,r,o):new hl(e,r,o):"array-contains"===r?new fc(e,o):"in"===r?new Tu(e,o):"not-in"===r?new Vl(e,o):"array-contains-any"===r?new fl(e,o):new ns(e,r,o)}static ct(e,r,o){return"in"===r?new Rh(e,o):new nd(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.at(qs(r,this.value)):null!==r&&Fo(this.value)===Fo(r)&&this.at(qs(r,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $t()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hl extends ns{constructor(e,r,o){super(e,r,o),this.key=hn.fromName(o.referenceValue)}matches(e){const r=hn.comparator(e.key,this.key);return this.at(r)}}class Rh extends ns{constructor(e,r){super(e,"in",r),this.keys=Qd(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class nd extends ns{constructor(e,r){super(e,"not-in",r),this.keys=Qd(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qd(s,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>hn.fromName(o.referenceValue))}class fc extends ns{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cu(r)&&Ia(r.arrayValue,this.value)}}class Tu extends ns{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ia(this.value.arrayValue,r)}}class Vl extends ns{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ia(this.value.arrayValue,r)}}class fl extends ns{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cu(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ia(this.value.arrayValue,o))}}class na{constructor(e,r){this.position=e,this.inclusive=r}}class uo{constructor(e,r="asc"){this.field=e,this.dir=r}}function pc(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Bl(s,e,r){let o=0;for(let l=0;l<s.position.length;l++){const g=e[l],b=s.position[l];if(o=g.field.isKeyField()?hn.comparator(hn.fromName(b.referenceValue),r.key):qs(b,r.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function Ul(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!js(s.position[r],e.position[r]))return!1;return!0}class Uo{constructor(e,r=null,o=[],l=[],g=null,b="F",x=null,K=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=g,this.limitType=b,this.startAt=x,this.endAt=K,this.lt=null,this.ft=null}}function Ku(s,e,r,o,l,g,b,x){return new Uo(s,e,r,o,l,g,b,x)}function La(s){return new Uo(s)}function jo(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function zu(s){for(const e of s.filters)if(e.ht())return e.field;return null}function rd(s){return null!==s.collectionGroup}function hu(s){const e=rn(s);if(null===e.lt){e.lt=[];const r=zu(e),o=jo(e);if(null!==r&&null===o)r.isKeyField()||e.lt.push(new uo(r)),e.lt.push(new uo(jr.keyField(),"asc"));else{let l=!1;for(const g of e.explicitOrderBy)e.lt.push(g),g.field.isKeyField()&&(l=!0);if(!l){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new uo(jr.keyField(),g))}}}return e.lt}function ra(s){const e=rn(s);if(!e.ft)if("F"===e.limitType)e.ft=Iu(e.path,e.collectionGroup,hu(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const g of hu(e))r.push(new uo(g.field,"desc"===g.dir?"asc":"desc"));const o=e.endAt?new na(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new na(e.startAt.position,e.startAt.inclusive):null;e.ft=Iu(e.path,e.collectionGroup,r,e.filters,e.limit,o,l)}return e.ft}function Ts(s,e,r){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function Fa(s,e){return $u(ra(s),ra(e))&&s.limitType===e.limitType}function id(s){return`${Bo(ra(s))}|lt:${s.limitType}`}function gc(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${gs(o.value)}`;var o}).join(", ")}]`),sr(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(r=>gs(r)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(r=>gs(r)).join(",")),`Target(${e})`}(ra(s))}; limitType=${s.limitType})`}function sd(s,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):hn.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(s,e)&&function(r,o){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(s,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(s,e)&&(o=e,!((r=s).startAt&&!function(l,g,b){const x=Bl(l,g,b);return l.inclusive?x<=0:x<0}(r.startAt,hu(r),o)||r.endAt&&!function(l,g,b){const x=Bl(l,g,b);return l.inclusive?x>=0:x>0}(r.endAt,hu(r),o)));var r,o}function mc(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qd(s){return(e,r)=>{let o=!1;for(const l of hu(s)){const g=Xd(l,e,r);if(0!==g)return g;o=o||l.field.isKeyField()}return 0}}function Xd(s,e,r){const o=s.field.isKeyField()?hn.comparator(e.key,r.key):function(l,g,b){const x=g.data.field(l),K=b.data.field(l);return null!==x&&null!==K?qs(x,K):$t()}(s.field,e,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return $t()}}function Zu(s,e){if(s.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sr(e)?"-0":e}}function od(s){return{integerValue:""+s}}function ad(s,e){return qn(e)?od(e):Zu(s,e)}class jl{constructor(){this._=void 0}}function ud(s,e,r){return s instanceof wa?function(o,l){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(g.fields.__previous_value__=l),{mapValue:g}}(r,e):s instanceof Ya?Va(s,e):s instanceof ia?_c(s,e):function(o,l){const g=Yd(o,l),b=cd(g)+cd(o._t);return qa(g)&&qa(o._t)?od(b):Zu(o.wt,b)}(s,e)}function ld(s,e,r){return s instanceof Ya?Va(s,e):s instanceof ia?_c(s,e):r}function Yd(s,e){return s instanceof Su?qa(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class wa extends jl{}class Ya extends jl{constructor(e){super(),this.elements=e}}function Va(s,e){const r=dd(e);for(const o of s.elements)r.some(l=>js(l,o))||r.push(o);return{arrayValue:{values:r}}}class ia extends jl{constructor(e){super(),this.elements=e}}function _c(s,e){let r=dd(e);for(const o of s.elements)r=r.filter(l=>!js(l,o));return{arrayValue:{values:r}}}class Su extends jl{constructor(e,r){super(),this.wt=e,this._t=r}}function cd(s){return oe(s.integerValue||s.doubleValue)}function dd(s){return cu(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class pl{constructor(e,r){this.field=e,this.transform=r}}class yc{constructor(e,r){this.version=e,this.transformResults=r}}class _i{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sa(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class hd{}function fd(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new zt(s.key,_i.none()):new Q(s.key,s.data,_i.none());{const r=s.data,o=Fi.empty();let l=new Ei(jr.comparator);for(let g of e.fields)if(!l.has(g)){let b=r.field(g);null===b&&g.length>1&&(g=g.popLast(),b=r.field(g)),null===b?o.delete(g):o.set(g,b),l=l.add(g)}return new se(s.key,o,new Cs(l.toArray()),_i.none())}}function I(s,e,r){s instanceof Q?function(o,l,g){const b=o.value.clone(),x=Ct(o.fieldTransforms,l,g.transformResults);b.setAll(x),l.convertToFoundDocument(g.version,b).setHasCommittedMutations()}(s,e,r):s instanceof se?function(o,l,g){if(!sa(o.precondition,l))return void l.convertToUnknownDocument(g.version);const b=Ct(o.fieldTransforms,l,g.transformResults),x=l.data;x.setAll(ze(o)),x.setAll(b),l.convertToFoundDocument(g.version,x).setHasCommittedMutations()}(s,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function m(s,e,r,o){return s instanceof Q?function(l,g,b,x){if(!sa(l.precondition,g))return b;const K=l.value.clone(),Y=cn(l.fieldTransforms,x,g);return K.setAll(Y),g.convertToFoundDocument(g.version,K).setHasLocalMutations(),null}(s,e,r,o):s instanceof se?function(l,g,b,x){if(!sa(l.precondition,g))return b;const K=cn(l.fieldTransforms,x,g),Y=g.data;return Y.setAll(ze(l)),Y.setAll(K),g.convertToFoundDocument(g.version,Y).setHasLocalMutations(),null===b?null:b.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ye=>ye.field))}(s,e,r,o):(b=r,sa(s.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):b);var g,b}function v(s,e){let r=null;for(const o of s.fieldTransforms){const l=e.data.field(o.field),g=Yd(o.transform,l||null);null!=g&&(null===r&&(r=Fi.empty()),r.set(o.field,g))}return r||null}function A(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===o||r&&o&&Oo(r,o,(l,g)=>function(s,e){return s.field.isEqual(e.field)&&(o=e.transform,(r=s.transform)instanceof Ya&&o instanceof Ya||r instanceof ia&&o instanceof ia?Oo(r.elements,o.elements,js):r instanceof Su&&o instanceof Su?js(r._t,o._t):r instanceof wa&&o instanceof wa);var r,o}(l,g))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var r,o}class Q extends hd{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class se extends hd{constructor(e,r,o,l,g=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function ze(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);e.set(r,o)}}),e}function Ct(s,e,r){const o=new Map;an(s.length===r.length);for(let l=0;l<r.length;l++){const g=s[l],b=g.transform,x=e.data.field(g.field);o.set(g.field,ld(b,x,r[l]))}return o}function cn(s,e,r){const o=new Map;for(const l of s){const g=l.transform,b=r.data.field(l.field);o.set(l.field,ud(g,b,e))}return o}class zt extends hd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bn extends hd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ci{constructor(e){this.count=e}}var Cr,vr;function Sa(s){switch(s){default:return $t();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function Qu(s){if(void 0===s)return nn("GRPC error has no .code"),ht.UNKNOWN;switch(s){case Cr.OK:return ht.OK;case Cr.CANCELLED:return ht.CANCELLED;case Cr.UNKNOWN:return ht.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ht.INTERNAL;case Cr.UNAVAILABLE:return ht.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ht.NOT_FOUND;case Cr.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Cr.ABORTED:return ht.ABORTED;case Cr.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Cr.DATA_LOSS:return ht.DATA_LOSS;default:return $t()}}(vr=Cr||(Cr={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class Da{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[l,g]of o)if(this.equalsFn(l,e))return g}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,r]],void this.innerSize++;for(let g=0;g<l.length;g++)if(this.equalsFn(l[g][0],e))return void(l[g]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(r,o)=>{for(const[l,g]of o)e(l,g)})}isEmpty(){return kl(this.inner)}size(){return this.innerSize}}const vc=new Qr(hn.comparator);function Ai(){return vc}const Du=new Qr(hn.comparator);function Aa(...s){let e=Du;for(const r of s)e=e.insert(r.key,r);return e}function Hl(s){let e=Du;return s.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Vi(){return Au()}function rs(){return Au()}function Au(){return new Da(s=>s.toString(),(s,e)=>s.isEqual(e))}const Gl=new Qr(hn.comparator),Mu=new Ei(hn.comparator);function pr(...s){let e=Mu;for(const r of s)e=e.add(r);return e}const pd=new Ei(br);function Ec(){return pd}class Wl{constructor(e,r,o,l,g){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,gd.createSynthesizedTargetChangeForCurrentChange(e,r)),new Wl(rr.min(),o,Ec(),Ai(),pr())}}class gd{constructor(e,r,o,l,g){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,r){return new gd(Is.EMPTY_BYTE_STRING,r,pr(),pr(),pr())}}class md{constructor(e,r,o,l){this.gt=e,this.removedTargetIds=r,this.key=o,this.yt=l}}class Vf{constructor(e,r){this.targetId=e,this.It=r}}class Nh{constructor(e,r,o=Is.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class _d{constructor(){this.Tt=0,this.Et=eh(),this.At=Is.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=pr(),r=pr(),o=pr();return this.Et.forEach((l,g)=>{switch(g){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:$t()}}),new gd(this.At,this.Rt,e,r,o)}Dt(){this.bt=!1,this.Et=eh()}Ct(e,r){this.bt=!0,this.Et=this.Et.insert(e,r)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class yd{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Ai(),this.Bt=bc(),this.Lt=new Ei(br)}Ut(e){for(const r of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt);for(const r of e.removedTargetIds)this.Kt(r,e.key,e.yt)}Gt(e){this.forEachTarget(e,r=>{const o=this.Qt(r);switch(e.state){case 0:this.jt(r)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(r);break;case 3:this.jt(r)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(r)&&(this.Wt(r),o.Vt(e.resumeToken));break;default:$t()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ft.forEach((o,l)=>{this.jt(l)&&r(l)})}zt(e){const r=e.targetId,o=e.It.count,l=this.Ht(r);if(l){const g=l.target;if(du(g))if(0===o){const b=new hn(g.path);this.Kt(r,b,Di.newNoDocument(b,rr.min()))}else an(1===o);else this.Jt(r)!==o&&(this.Wt(r),this.Lt=this.Lt.add(r))}}Yt(e){const r=new Map;this.Ft.forEach((g,b)=>{const x=this.Ht(b);if(x){if(g.current&&du(x.target)){const K=new hn(x.target.path);null!==this.$t.get(K)||this.Xt(b,K)||this.Kt(b,K,Di.newNoDocument(K,e))}g.vt&&(r.set(b,g.St()),g.Dt())}});let o=pr();this.Bt.forEach((g,b)=>{let x=!0;b.forEachWhile(K=>{const Y=this.Ht(K);return!Y||2===Y.purpose||(x=!1,!1)}),x&&(o=o.add(g))}),this.$t.forEach((g,b)=>b.setReadTime(e));const l=new Wl(e,r,this.Lt,this.$t,o);return this.$t=Ai(),this.Bt=bc(),this.Lt=new Ei(br),l}qt(e,r){if(!this.jt(e))return;const o=this.Xt(e,r.key)?2:0;this.Qt(e).Ct(r.key,o),this.$t=this.$t.insert(r.key,r),this.Bt=this.Bt.insert(r.key,this.Zt(r.key).add(e))}Kt(e,r,o){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,r)?l.Ct(r,1):l.xt(r),this.Bt=this.Bt.insert(r,this.Zt(r).delete(e)),o&&(this.$t=this.$t.insert(r,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const r=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let r=this.Ft.get(e);return r||(r=new _d,this.Ft.set(e,r)),r}Zt(e){let r=this.Bt.get(e);return r||(r=new Ei(br),this.Bt=this.Bt.insert(e,r)),r}jt(e){const r=null!==this.Ht(e);return r||Ge("WatchChangeAggregator","Detected inactive target",e),r}Ht(e){const r=this.Ft.get(e);return r&&r.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new _d),this.Mt.getRemoteKeysForTarget(e).forEach(r=>{this.Kt(e,r,null)})}Xt(e,r){return this.Mt.getRemoteKeysForTarget(e).has(r)}}function bc(){return new Qr(hn.comparator)}function eh(){return new Qr(hn.comparator)}const Bf={asc:"ASCENDING",desc:"DESCENDING"},Oh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class th{constructor(e,r){this.databaseId=e,this.dt=r}}function $l(s,e){return s.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kh(s,e){return s.dt?e.toBase64():e.toUint8Array()}function Pu(s,e){return $l(s,e.toTimestamp())}function Xs(s){return an(!!s),rr.fromTimestamp(function(e){const r=G(e);return new mi(r.seconds,r.nanos)}(s))}function Cc(s,e){return(r=s,new Fr(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function Uf(s){const e=Fr.fromString(s);return an(rh(e)),e}function vd(s,e){return Cc(s.databaseId,e.path)}function Ho(s,e){const r=Uf(e);if(r.get(1)!==s.databaseId.projectId)throw new kt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new kt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new hn(jf(r))}function nh(s,e){return Cc(s.databaseId,e)}function Lh(s){const e=Uf(s);return 4===e.length?Fr.emptyPath():jf(e)}function Ed(s){return new Fr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function jf(s){return an(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Hf(s,e,r){return{name:vd(s,e),fields:r.value.mapValue.fields}}function bd(s,e,r){const o=Ho(s,e.name),l=Xs(e.updateTime),g=new Fi({mapValue:{fields:e.fields}}),b=Di.newFoundDocument(o,l,g);return r&&b.setHasCommittedMutations(),r?b.setHasCommittedMutations():b}function Cd(s,e){let r;if(e instanceof Q)r={update:Hf(s,e.key,e.value)};else if(e instanceof zt)r={delete:vd(s,e.key)};else if(e instanceof se)r={update:Hf(s,e.key,e.data),updateMask:fu(e.fieldMask)};else{if(!(e instanceof bn))return $t();r={verify:vd(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(l,g){const b=g.transform;if(b instanceof wa)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Ya)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof ia)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Su)return{fieldPath:g.field.canonicalString(),increment:b._t};throw $t()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Pu(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:$t()),r;var l}function Fh(s,e){const r=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?_i.updateTime(Xs(l.updateTime)):void 0!==l.exists?_i.exists(l.exists):_i.none():_i.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(g,b){let x=null;"setToServerValue"in b?(an("REQUEST_TIME"===b.setToServerValue),x=new wa):"appendMissingElements"in b?x=new Ya(b.appendMissingElements.values||[]):"removeAllFromArray"in b?x=new ia(b.removeAllFromArray.values||[]):"increment"in b?x=new Su(g,b.increment):$t();const K=jr.fromServerFormat(b.fieldPath);return new pl(K,x)}(s,l)):[];var l;if(e.update){const l=Ho(s,e.update.name),g=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Cs((e.updateMask.fieldPaths||[]).map(Y=>jr.fromServerFormat(Y)));return new se(l,g,b,r,o)}return new Q(l,g,r,o)}if(e.delete){const l=Ho(s,e.delete);return new zt(l,r)}if(e.verify){const l=Ho(s,e.verify);return new bn(l,r)}return $t()}function Eg(s,e){return{documents:[nh(s,e.path)]}}function Vh(s,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=nh(s,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=nh(s,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(K){if(0===K.length)return;const Y=K.map(ye=>function(Be){if("=="===Be.op){if(ju(Be.value))return{unaryFilter:{field:Id(Be.field),op:"IS_NAN"}};if(Ta(Be.value))return{unaryFilter:{field:Id(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(ju(Be.value))return{unaryFilter:{field:Id(Be.field),op:"IS_NOT_NAN"}};if(Ta(Be.value))return{unaryFilter:{field:Id(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Id(Be.field),op:Ys(Be.op),value:Be.value}}}(ye));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);l&&(r.structuredQuery.where=l);const g=function(K){if(0!==K.length)return K.map(Y=>{return{field:Id((ye=Y).field),direction:Ic(ye.dir)};var ye})}(e.orderBy);g&&(r.structuredQuery.orderBy=g);const b=(Y=e.limit,s.dt||sr(Y)?Y:{value:Y});var Y,x,K;return null!==b&&(r.structuredQuery.limit=b),e.startAt&&(r.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(r.structuredQuery.endAt={before:!(K=e.endAt).inclusive,values:K.position}),r}function Bh(s){let e=Lh(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){an(1===o);const ye=r.from[0];ye.allDescendants?l=ye.collectionId:e=e.child(ye.collectionId)}let g=[];r.where&&(g=Uh(r.where));let b=[];r.orderBy&&(b=r.orderBy.map(ye=>{return new uo(Kl((Be=ye).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction));var Be}));let x=null;r.limit&&(x=function(ye){let Be;return Be="object"==typeof ye?ye.value:ye,sr(Be)?null:Be}(r.limit));let K=null;var ye;r.startAt&&(K=new na((ye=r.startAt).values||[],!!ye.before));let Y=null;return r.endAt&&(Y=function(ye){return new na(ye.values||[],!ye.before)}(r.endAt)),Ku(e,l,b,g,x,"F",K,Y)}function Uh(s){return s?void 0!==s.unaryFilter?[v_(s)]:void 0!==s.fieldFilter?[jh(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Uh(e)).reduce((e,r)=>e.concat(r)):$t():[]}function Ic(s){return Bf[s]}function Ys(s){return Oh[s]}function Id(s){return{fieldPath:s.canonicalString()}}function Kl(s){return jr.fromServerFormat(s.fieldPath)}function jh(s){return ns.create(Kl(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(s.fieldFilter.op),s.fieldFilter.value)}function v_(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Kl(s.unaryFilter.field);return ns.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Kl(s.unaryFilter.field);return ns.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Kl(s.unaryFilter.field);return ns.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Kl(s.unaryFilter.field);return ns.create(l,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}function fu(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function rh(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Mo(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=Hh(e)),e=bg(s.get(r),e);return Hh(e)}function bg(s,e){let r=e;const o=s.length;for(let l=0;l<o;l++){const g=s.charAt(l);switch(g){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=g}}return r}function Hh(s){return s+"\x01\x01"}function oa(s){const e=s.length;if(an(e>=2),2===e)return an("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Fr.emptyPath();const r=e-2,o=[];let l="";for(let g=0;g<e;){const b=s.indexOf("\x01",g);switch((b<0||b>r)&&$t(),s.charAt(b+1)){case"\x01":const x=s.substring(g,b);let K;0===l.length?K=x:(l+=x,K=l,l=""),o.push(K);break;case"\x10":l+=s.substring(g,b),l+="\0";break;case"\x11":l+=s.substring(g,b+1);break;default:$t()}g=b+2}return new Fr(o)}const Gh=["userId","batchId"];function Tc(s,e){return[s,Mo(e)]}function Wh(s,e,r){return[s,Mo(e),r]}const $h={},Kf=["prefixPath","collectionGroup","readTime","documentId"],E_=["prefixPath","collectionGroup","documentId"],wc=["collectionGroup","readTime","prefixPath","documentId"],Kh=["canonicalId","targetId"],zf=["targetId","path"],Cg=["path","targetId"],zh=["collectionId","parent"],Ig=["indexId","uid"],Tg=["uid","sequenceNumber"],b_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],C_=["indexId","uid","orderedDocumentKey"],wg=["userId","collectionPath","documentId"],Sg=["userId","collectionPath","largestBatchId"],Zf=["userId","collectionGroup","largestBatchId"],Td=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qf=[...Td,"documentOverlays"],ih=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qf=ih,Dg=[...qf,"indexConfiguration","indexState","indexEntries"];class pu extends ll{constructor(e,r){super(),this.ee=e,this.currentSequenceNumber=r}}function si(s,e){const r=rn(s);return ii.N(r.ee,e)}class Hs{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const g=this.mutations[l];g.key.isEqual(e.key)&&I(g,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=m(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=m(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=rs();return this.mutations.forEach(l=>{const g=e.get(l.key),b=g.overlayedDocument;let x=this.applyToLocalView(b,g.mutatedFields);x=r.has(l.key)?null:x;const K=fd(b,x);null!==K&&o.set(l.key,K),b.isValidDocument()||b.convertToNoDocument(rr.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),pr())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(r,o)=>A(r,o))&&Oo(this.baseMutations,e.baseMutations,(r,o)=>A(r,o))}}class gl{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){an(e.mutations.length===o.length);let l=Gl;const g=e.mutations;for(let b=0;b<g.length;b++)l=l.insert(g[b].key,o[b].version);return new gl(e,r,o,l)}}class sh{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ml{constructor(e,r,o,l,g=rr.min(),b=rr.min(),x=Is.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=x}withSequenceNumber(e){return new ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wd{constructor(e){this.ne=e}}function xu(s,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Sd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:vd(l=s.ne,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:$l(l,g.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return $t();o.unknownDocument={path:r.path.toArray(),version:_l(e.version)}}var l,g;return o}function Sd(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qu(s){const e=new mi(s.seconds,s.nanoseconds);return rr.fromTimestamp(e)}function yl(s,e){const r=(e.baseMutations||[]).map(g=>Fh(s.ne,g));for(let g=0;g<e.mutations.length-1;++g){const b=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(b.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const o=e.mutations.map(g=>Fh(s.ne,g)),l=mi.fromMillis(e.localWriteTimeMs);return new Hs(e.batchId,l,r,o)}function Xu(s){const e=qu(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?qu(s.lastLimboFreeSnapshotVersion):rr.min();let o;var l;return void 0!==s.query.documents?(an(1===(l=s.query).documents.length),o=ra(La(Lh(l.documents[0])))):o=ra(Bh(s.query)),new ml(o,s.targetId,0,s.lastListenSequenceNumber,e,r,Is.fromBase64String(s.resumeToken))}function Sc(s,e){const r=_l(e.snapshotVersion),o=_l(e.lastLimboFreeSnapshotVersion);let l;l=du(e.target)?Eg(s.ne,e.target):Vh(s.ne,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bo(e.target),readTime:r,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Dd(s){const e=Bh({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ts(e,e.limit,"L"):e}function Dc(s,e){return new sh(e.largestBatchId,Fh(s.ne,e.overlayMutation))}function vl(s,e){const r=e.path.lastSegment();return[s,Mo(e.path.popLast()),r]}function Ad(s,e,r,o){return{indexId:s,uid:e.uid||"",sequenceNumber:r,readTime:_l(o.readTime),documentKey:Mo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ac{getBundleMetadata(e,r){return Xf(e).get(r).next(o=>{if(o)return{id:(l=o).bundleId,createTime:qu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,r){return Xf(e).put({bundleId:(o=r).id,createTime:_l(Xs(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Zh(e).get(r).next(o=>{if(o)return{name:(l=o).name,query:Dd(l.bundledQuery),readTime:qu(l.readTime)};var l})}saveNamedQuery(e,r){return Zh(e).put({name:(o=r).name,readTime:_l(Xs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Xf(s){return si(s,"bundles")}function Zh(s){return si(s,"namedQueries")}class Md{constructor(e,r){this.wt=e,this.userId=r}static se(e,r){return new Md(e,r.uid||"")}getOverlay(e,r){return zl(e).get(vl(this.userId,r)).next(o=>o?Dc(this.wt,o):null)}getOverlays(e,r){const o=Vi();return ft.forEach(r,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,r,o){const l=[];return o.forEach((g,b)=>{const x=new sh(r,b);l.push(this.ie(e,x))}),ft.waitFor(l)}removeOverlaysForBatchId(e,r,o){const l=new Set;r.forEach(b=>l.add(Mo(b.getCollectionPath())));const g=[];return l.forEach(b=>{const x=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);g.push(zl(e).W("collectionPathOverlayIndex",x))}),ft.waitFor(g)}getOverlaysForCollection(e,r,o){const l=Vi(),g=Mo(r),b=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,Number.POSITIVE_INFINITY],!0);return zl(e).K("collectionPathOverlayIndex",b).next(x=>{for(const K of x){const Y=Dc(this.wt,K);l.set(Y.getKey(),Y)}return l})}getOverlaysForCollectionGroup(e,r,o,l){const g=Vi();let b;const x=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return zl(e).J({index:"collectionGroupOverlayIndex",range:x},(K,Y,ye)=>{const Be=Dc(this.wt,Y);g.size()<l||Be.largestBatchId===b?(g.set(Be.getKey(),Be),b=Be.largestBatchId):ye.done()}).next(()=>g)}ie(e,r){return zl(e).put(function(o,l,g){const[b,x,K]=vl(l,g.mutation.key);return{userId:l,collectionPath:x,documentId:K,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:Cd(o.ne,g.mutation)}}(this.wt,this.userId,r))}}function zl(s){return si(s,"documentOverlays")}class Ru{constructor(){}re(e,r){this.oe(e,r),r.ue()}oe(e,r){if("nullValue"in e)this.ce(r,5);else if("booleanValue"in e)this.ce(r,10),r.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(r,15),r.ae(oe(e.integerValue));else if("doubleValue"in e){const o=oe(e.doubleValue);isNaN(o)?this.ce(r,13):(this.ce(r,15),Sr(o)?r.ae(0):r.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(r,20),"string"==typeof o?r.he(o):(r.he(`${o.seconds||""}`),r.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,r),this.fe(r);else if("bytesValue"in e)this.ce(r,30),r.de(De(e.bytesValue)),this.fe(r);else if("referenceValue"in e)this._e(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(r,45),r.ae(o.latitude||0),r.ae(o.longitude||0)}else"mapValue"in e?Hu(e)?this.ce(r,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,r),this.fe(r)):"arrayValue"in e?(this.me(e.arrayValue,r),this.fe(r)):$t()}le(e,r){this.ce(r,25),this.ge(e,r)}ge(e,r){r.he(e)}we(e,r){const o=e.fields||{};this.ce(r,55);for(const l of Object.keys(o))this.le(l,r),this.oe(o[l],r)}me(e,r){const o=e.values||[];this.ce(r,50);for(const l of o)this.oe(l,r)}_e(e,r){this.ce(r,37),hn.fromName(e).path.forEach(o=>{this.ce(r,60),this.ge(o,r)})}ce(e,r){e.ae(r)}fe(e){e.ae(2)}}function oh(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function Qh(s){const e=64-function(r){let o=0;for(let l=0;l<8;++l){const g=oh(255&r[l]);if(o+=g,8!==g)break}return o}(s);return Math.ceil(e/8)}Ru.ye=new Ru;class I_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ie(o.value),o=r.next();this.Te()}Ee(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ae(o.value),o=r.next();this.Re()}be(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const l=r.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const l=r.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const r=this.Ve(e),o=Qh(r);this.Se(1+o),this.buffer[this.position++]=255&o;for(let l=r.length-o;l<r.length;++l)this.buffer[this.position++]=255&r[l]}De(e){const r=this.Ve(e),o=Qh(r);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let l=r.length-o;l<r.length;++l)this.buffer[this.position++]=~(255&r[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const r=function(l){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,l,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let l=1;l<r.length;++l)r[l]^=o?255:0;return r}Ie(e){const r=255&e;0===r?(this.xe(0),this.xe(255)):255===r?(this.xe(255),this.xe(0)):this.xe(r)}Ae(e){const r=255&e;0===r?(this.ke(0),this.ke(255)):255===r?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class qh{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Mg{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Zl{constructor(){this.Me=new I_,this.Fe=new qh(this.Me),this.$e=new Mg(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class El{constructor(e,r,o,l){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=l}Le(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new El(this.indexId,this.documentKey,this.arrayValue,o)}}function Ql(s,e){let r=s.indexId-e.indexId;return 0!==r?r:(r=Ba(s.arrayValue,e.arrayValue),0!==r?r:(r=Ba(s.directionalValue,e.directionalValue),0!==r?r:hn.comparator(s.documentKey,e.documentKey)))}function Ba(s,e){for(let r=0;r<s.length&&r<e.length;++r){const o=s[r]-e[r];if(0!==o)return o}return s.length-e.length}class Yf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const r of e.filters){const o=r;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const r=ul(e);if(void 0!==r&&!this.Qe(r))return!1;const o=ba(e);let l=0,g=0;for(;l<o.length&&this.Qe(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Ke){const b=o[l];if(!this.je(this.Ke,b)||!this.We(this.Ue[g++],b))return!1;++l}for(;l<o.length;++l){const b=o[l];if(g>=this.Ue.length||!this.We(this.Ue[g++],b))return!1}return!0}Qe(e){for(const r of this.qe)if(this.je(r,e))return!0;return!1}je(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class Xh{constructor(){this.ze=new Yh}addToCollectionParentIndex(e,r){return this.ze.add(r),ft.resolve()}getCollectionParents(e,r){return ft.resolve(this.ze.getEntries(r))}addFieldIndex(e,r){return ft.resolve()}deleteFieldIndex(e,r){return ft.resolve()}getDocumentsMatchingTarget(e,r){return ft.resolve(null)}getIndexType(e,r){return ft.resolve(0)}getFieldIndexes(e,r){return ft.resolve([])}getNextCollectionGroupToUpdate(e){return ft.resolve(null)}getMinOffset(e,r){return ft.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,r){return ft.resolve(Lo.min())}updateCollectionGroup(e,r,o){return ft.resolve()}updateIndexEntries(e,r){return ft.resolve()}}class Yh{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new Ei(Fr.comparator),g=!l.has(o);return this.index[r]=l.add(o),g}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Ei(Fr.comparator)).toArray()}}const p=new Uint8Array(0);class c{constructor(e,r){this.user=e,this.databaseId=r,this.He=new Yh,this.Je=new Da(o=>Bo(o),(o,l)=>$u(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.He.has(r)){const o=r.lastSegment(),l=r.popLast();e.addOnCommittedListener(()=>{this.He.add(r)});const g={collectionId:o,parent:Mo(l)};return d(e).put(g)}return ft.resolve()}getCollectionParents(e,r){const o=[],l=IDBKeyRange.bound([r,""],[Ra(r),""],!1,!0);return d(e).K(l).next(g=>{for(const b of g){if(b.collectionId!==r)break;o.push(oa(b.parent))}return o})}addFieldIndex(e,r){const o=T(e),l={indexId:(b=r).indexId,collectionGroup:b.collectionGroup,fields:b.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var b;delete l.indexId;const g=o.add(l);if(r.indexState){const b=k(e);return g.next(x=>{b.put(Ad(x,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return g.next()}deleteFieldIndex(e,r){const o=T(e),l=k(e),g=_(e);return o.delete(r.indexId).next(()=>l.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const o=_(e);let l=!0;const g=new Map;return ft.forEach(this.Ye(r),b=>this.Xe(e,b).next(x=>{l&&(l=!!x),g.set(b,x)})).next(()=>{if(l){let b=pr();const x=[];return ft.forEach(g,(K,Y)=>{var ye;Ge("IndexedDbIndexManager",`Using index ${ye=K,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(zi=>`${zi.fieldPath}:${zi.kind}`).join(",")}`} to execute ${Bo(r)}`);const Be=function(zi,lo){const Ss=ul(lo);if(void 0===Ss)return null;for(const Gs of ta(zi,Ss.fieldPath))switch(Gs.op){case"array-contains-any":return Gs.value.arrayValue.values||[];case"array-contains":return[Gs.value]}return null}(Y,K),nt=function(zi,lo){const Ss=new Map;for(const Gs of ba(lo))for(const Pa of ta(zi,Gs.fieldPath))switch(Pa.op){case"==":case"in":Ss.set(Gs.fieldPath.canonicalString(),Pa.value);break;case"not-in":case"!=":return Ss.set(Gs.fieldPath.canonicalString(),Pa.value),Array.from(Ss.values())}return null}(Y,K),Rt=function(zi,lo){const Ss=[];let Gs=!0;for(const Pa of ba(lo)){const ic=0===Pa.kind?ed(zi,Pa.fieldPath,zi.startAt):td(zi,Pa.fieldPath,zi.startAt);Ss.push(ic.value),Gs&&(Gs=ic.inclusive)}return new na(Ss,Gs)}(Y,K),Wt=function(zi,lo){const Ss=[];let Gs=!0;for(const Pa of ba(lo)){const ic=0===Pa.kind?td(zi,Pa.fieldPath,zi.endAt):ed(zi,Pa.fieldPath,zi.endAt);Ss.push(ic.value),Gs&&(Gs=ic.inclusive)}return new na(Ss,Gs)}(Y,K),An=this.Ze(K,Y,Rt),dr=this.Ze(K,Y,Wt),Ni=this.tn(K,Y,nt),ms=this.en(K.indexId,Be,An,Rt.inclusive,dr,Wt.inclusive,Ni);return ft.forEach(ms,zi=>o.j(zi,r.limit).next(lo=>{lo.forEach(Ss=>{const Gs=hn.fromSegments(Ss.documentKey);b.has(Gs)||(b=b.add(Gs),x.push(Gs))})}))}).next(()=>x)}return ft.resolve(null)})}Ye(e){let r=this.Je.get(e);return r||(r=[e],this.Je.set(e,r),r)}en(e,r,o,l,g,b,x){const K=(null!=r?r.length:1)*Math.max(o.length,g.length),Y=K/(null!=r?r.length:1),ye=[];for(let Be=0;Be<K;++Be){const nt=r?this.nn(r[Be/Y]):p,Rt=this.sn(e,nt,o[Be%Y],l),Wt=this.rn(e,nt,g[Be%Y],b),An=x.map(dr=>this.sn(e,nt,dr,!0));ye.push(...this.createRange(Rt,Wt,An))}return ye}sn(e,r,o,l){const g=new El(e,hn.empty(),r,o);return l?g:g.Le()}rn(e,r,o,l){const g=new El(e,hn.empty(),r,o);return l?g.Le():g}Xe(e,r){const o=new Yf(r),l=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,l).next(g=>{let b=null;for(const x of g)o.Ge(x)&&(!b||x.fields.length>b.fields.length)&&(b=x);return b})}getIndexType(e,r){let o=2;return ft.forEach(this.Ye(r),l=>this.Xe(e,l).next(g=>{g?0!==o&&g.fields.length<function(b){let x=new Ei(jr.comparator),K=!1;for(const Y of b.filters){const ye=Y;ye.field.isKeyField()||("array-contains"===ye.op||"array-contains-any"===ye.op?K=!0:x=x.add(ye.field))}for(const Y of b.orderBy)Y.field.isKeyField()||(x=x.add(Y.field));return x.size+(K?1:0)}(l)&&(o=1):o=0})).next(()=>o)}on(e,r){const o=new Zl;for(const l of ba(e)){const g=r.data.field(l.fieldPath);if(null==g)return null;const b=o.Be(l.kind);Ru.ye.re(g,b)}return o.Oe()}nn(e){const r=new Zl;return Ru.ye.re(e,r.Be(0)),r.Oe()}un(e,r){const o=new Zl;return Ru.ye.re(Kr(this.databaseId,r),o.Be(function(l){const g=ba(l);return 0===g.length?0:g[g.length-1].kind}(e))),o.Oe()}tn(e,r,o){if(null===o)return[];let l=[];l.push(new Zl);let g=0;for(const b of ba(e)){const x=o[g++];for(const K of l)if(this.cn(r,b.fieldPath)&&cu(x))l=this.an(l,b,x);else{const Y=K.Be(b.kind);Ru.ye.re(x,Y)}}return this.hn(l)}Ze(e,r,o){return this.tn(e,r,o.position)}hn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Oe();return r}an(e,r,o){const l=[...e],g=[];for(const b of o.arrayValue.values||[])for(const x of l){const K=new Zl;K.seed(x.Oe()),Ru.ye.re(b,K.Be(r.kind)),g.push(K)}return g}cn(e,r){return!!e.filters.find(o=>o instanceof ns&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=T(e),l=k(e);return(r?o.K("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.K()).next(g=>{const b=[];return ft.forEach(g,x=>l.get([x.indexId,this.uid]).next(K=>{b.push(function(Y,ye){const Be=ye?new _u(ye.sequenceNumber,new Lo(qu(ye.readTime),new hn(oa(ye.documentKey)),ye.largestBatchId)):_u.empty(),nt=Y.fields.map(([Rt,Wt])=>new wi(jr.fromServerFormat(Rt),Wt));return new al(Y.indexId,Y.collectionGroup,nt,Be)}(x,K))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,l)=>{const g=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==g?g:br(o.collectionGroup,l.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const l=T(e),g=k(e);return this.ln(e).next(b=>l.K("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>ft.forEach(x,K=>g.put(Ad(K.indexId,this.user,b,o)))))}updateIndexEntries(e,r){const o=new Map;return ft.forEach(r,(l,g)=>{const b=o.get(l.collectionGroup);return(b?ft.resolve(b):this.getFieldIndexes(e,l.collectionGroup)).next(x=>(o.set(l.collectionGroup,x),ft.forEach(x,K=>this.fn(e,l,K).next(Y=>{const ye=this.dn(g,K);return Y.isEqual(ye)?ft.resolve():this._n(e,g,K,Y,ye)}))))})}wn(e,r,o,l){return _(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(o,r.key),documentKey:r.key.path.toArray()})}mn(e,r,o,l){return _(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(o,r.key),r.key.path.toArray()])}fn(e,r,o){const l=_(e);let g=new Ei(Ql);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,r)])},(b,x)=>{g=g.add(new El(o.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>g)}dn(e,r){let o=new Ei(Ql);const l=this.on(r,e);if(null==l)return o;const g=ul(r);if(null!=g){const b=e.data.field(g.fieldPath);if(cu(b))for(const x of b.arrayValue.values||[])o=o.add(new El(r.indexId,e.key,this.nn(x),l))}else o=o.add(new El(r.indexId,e.key,p,l));return o}_n(e,r,o,l,g){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const b=[];return function(x,K,Y,ye,Be){const nt=x.getIterator(),Rt=K.getIterator();let Wt=Jo(nt),An=Jo(Rt);for(;Wt||An;){let dr=!1,Ni=!1;if(Wt&&An){const ms=Y(Wt,An);ms<0?Ni=!0:ms>0&&(dr=!0)}else null!=Wt?Ni=!0:dr=!0;dr?(ye(An),An=Jo(Rt)):Ni?(Be(Wt),Wt=Jo(nt)):(Wt=Jo(nt),An=Jo(Rt))}}(l,g,Ql,x=>{b.push(this.wn(e,r,o,x))},x=>{b.push(this.mn(e,r,o,x))}),ft.waitFor(b)}ln(e){let r=1;return k(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,g)=>{g.done(),r=l.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((b,x)=>Ql(b,x)).filter((b,x,K)=>!x||0!==Ql(b,K[x-1]));const l=[];l.push(e);for(const b of o){const x=Ql(b,e),K=Ql(b,r);if(0===x)l[0]=e.Le();else if(x>0&&K<0)l.push(b),l.push(b.Le());else if(K>0)break}l.push(r);const g=[];for(let b=0;b<l.length;b+=2)g.push(IDBKeyRange.bound([l[b].indexId,this.uid,l[b].arrayValue,l[b].directionalValue,p,[]],[l[b+1].indexId,this.uid,l[b+1].arrayValue,l[b+1].directionalValue,p,[]]));return g}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(W)}getMinOffset(e,r){return ft.mapArray(this.Ye(r),o=>this.Xe(e,o).next(l=>l||$t())).next(W)}}function d(s){return si(s,"collectionParents")}function _(s){return si(s,"indexEntries")}function T(s){return si(s,"indexConfiguration")}function k(s){return si(s,"indexState")}function W(s){an(0!==s.length);let e=s[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<s.length;o++){const l=s[o].indexState.offset;Nl(l,e)<0&&(e=l),r<l.largestBatchId&&(r=l.largestBatchId)}return new Lo(e.readTime,e.documentKey,r)}const ne={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class be{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new be(e,be.DEFAULT_COLLECTION_PERCENTILE,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Re(s,e,r){const o=s.store("mutations"),l=s.store("documentMutations"),g=[],b=IDBKeyRange.only(r.batchId);let x=0;const K=o.J({range:b},(ye,Be,nt)=>(x++,nt.delete()));g.push(K.next(()=>{an(1===x)}));const Y=[];for(const ye of r.mutations){const Be=Wh(e,ye.key.path,r.batchId);g.push(l.delete(Be)),Y.push(ye.key)}return ft.waitFor(g).next(()=>Y)}function lt(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw $t();e=s.noDocument}return JSON.stringify(e).length}be.DEFAULT_COLLECTION_PERCENTILE=10,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,be.DEFAULT=new be(41943040,be.DEFAULT_COLLECTION_PERCENTILE,be.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),be.DISABLED=new be(-1,0,0);class ut{constructor(e,r,o,l){this.userId=e,this.wt=r,this.indexManager=o,this.referenceDelegate=l,this.gn={}}static se(e,r,o,l){an(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new ut(g,r,o,l)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nn(e).J({index:"userMutationsIndex",range:o},(l,g,b)=>{r=!1,b.done()}).next(()=>r)}addMutationBatch(e,r,o,l){const g=or(e),b=Nn(e);return b.add({}).next(x=>{an("number"==typeof x);const K=new Hs(x,r,o,l),Y=function(nt,Rt,Wt){const An=Wt.baseMutations.map(Ni=>Cd(nt.ne,Ni)),dr=Wt.mutations.map(Ni=>Cd(nt.ne,Ni));return{userId:Rt,batchId:Wt.batchId,localWriteTimeMs:Wt.localWriteTime.toMillis(),baseMutations:An,mutations:dr}}(this.wt,this.userId,K),ye=[];let Be=new Ei((nt,Rt)=>br(nt.canonicalString(),Rt.canonicalString()));for(const nt of l){const Rt=Wh(this.userId,nt.key.path,x);Be=Be.add(nt.key.path.popLast()),ye.push(b.put(Y)),ye.push(g.put(Rt,$h))}return Be.forEach(nt=>{ye.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.gn[x]=K.keys()}),ft.waitFor(ye).next(()=>K)})}lookupMutationBatch(e,r){return Nn(e).get(r).next(o=>o?(an(o.userId===this.userId),yl(this.wt,o)):null)}yn(e,r){return this.gn[r]?ft.resolve(this.gn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const l=o.keys();return this.gn[r]=l,l}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return Nn(e).J({index:"userMutationsIndex",range:l},(b,x,K)=>{x.userId===this.userId&&(an(x.batchId>=o),g=yl(this.wt,x)),K.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Nn(e).J({index:"userMutationsIndex",range:r,reverse:!0},(l,g,b)=>{o=g.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nn(e).K("userMutationsIndex",r).next(o=>o.map(l=>yl(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Tc(this.userId,r.path),l=IDBKeyRange.lowerBound(o),g=[];return or(e).J({range:l},(b,x,K)=>{const[Y,ye,Be]=b,nt=oa(ye);if(Y===this.userId&&r.path.isEqual(nt))return Nn(e).get(Be).next(Rt=>{if(!Rt)throw $t();an(Rt.userId===this.userId),g.push(yl(this.wt,Rt))});K.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ei(br);const l=[];return r.forEach(g=>{const b=Tc(this.userId,g.path),x=IDBKeyRange.lowerBound(b),K=or(e).J({range:x},(Y,ye,Be)=>{const[nt,Rt,Wt]=Y,An=oa(Rt);nt===this.userId&&g.path.isEqual(An)?o=o.add(Wt):Be.done()});l.push(K)}),ft.waitFor(l).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1,g=Tc(this.userId,o),b=IDBKeyRange.lowerBound(g);let x=new Ei(br);return or(e).J({range:b},(K,Y,ye)=>{const[Be,nt,Rt]=K,Wt=oa(nt);Be===this.userId&&o.isPrefixOf(Wt)?Wt.length===l&&(x=x.add(Rt)):ye.done()}).next(()=>this.pn(e,x))}pn(e,r){const o=[],l=[];return r.forEach(g=>{l.push(Nn(e).get(g).next(b=>{if(null===b)throw $t();an(b.userId===this.userId),o.push(yl(this.wt,b))}))}),ft.waitFor(l).next(()=>o)}removeMutationBatch(e,r){return Re(e.ee,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.In(r.batchId)}),ft.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ft.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return or(e).J({range:o},(g,b,x)=>{if(g[0]===this.userId){const K=oa(g[1]);l.push(K)}else x.done()}).next(()=>{an(0===l.length)})})}containsKey(e,r){return Ut(e,this.userId,r)}Tn(e){return qr(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ut(s,e,r){const o=Tc(e,r.path),l=o[1],g=IDBKeyRange.lowerBound(o);let b=!1;return or(s).J({range:g,H:!0},(x,K,Y)=>{const[ye,Be,nt]=x;ye===e&&Be===l&&(b=!0),Y.done()}).next(()=>b)}function Nn(s){return si(s,"mutations")}function or(s){return si(s,"documentMutations")}function qr(s){return si(s,"mutationQueues")}class is{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new is(0)}static Rn(){return new is(-1)}}class bl{constructor(e,r){this.referenceDelegate=e,this.wt=r}allocateTargetId(e){return this.bn(e).next(r=>{const o=new is(r.highestTargetId);return r.highestTargetId=o.next(),this.Pn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(r=>rr.fromTimestamp(new mi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.bn(e).next(l=>(l.highestListenSequenceNumber=r,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.Pn(e,l)))}addTargetData(e,r){return this.vn(e,r).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(r,o),this.Pn(e,o))))}updateTargetData(e,r){return this.vn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Go(e).delete(r.targetId)).next(()=>this.bn(e)).next(o=>(an(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,r,o){let l=0;const g=[];return Go(e).J((b,x)=>{const K=Xu(x);K.sequenceNumber<=r&&null===o.get(K.targetId)&&(l++,g.push(this.removeTargetData(e,K)))}).next(()=>ft.waitFor(g)).next(()=>l)}forEachTarget(e,r){return Go(e).J((o,l)=>{const g=Xu(l);r(g)})}bn(e){return Mc(e).get("targetGlobalKey").next(r=>(an(null!==r),r))}Pn(e,r){return Mc(e).put("targetGlobalKey",r)}vn(e,r){return Go(e).put(Sc(this.wt,r))}Vn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Bo(r),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return Go(e).J({range:l,index:"queryTargetsIndex"},(b,x,K)=>{const Y=Xu(x);$u(r,Y.target)&&(g=Y,K.done())}).next(()=>g)}addMatchingKeys(e,r,o){const l=[],g=Yu(e);return r.forEach(b=>{const x=Mo(b.path);l.push(g.put({targetId:o,path:x})),l.push(this.referenceDelegate.addReference(e,o,b))}),ft.waitFor(l)}removeMatchingKeys(e,r,o){const l=Yu(e);return ft.forEach(r,g=>{const b=Mo(g.path);return ft.waitFor([l.delete([o,b]),this.referenceDelegate.removeReference(e,o,g)])})}removeMatchingKeysForTargetId(e,r){const o=Yu(e),l=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),l=Yu(e);let g=pr();return l.J({range:o,H:!0},(b,x,K)=>{const Y=oa(b[1]),ye=new hn(Y);g=g.add(ye)}).next(()=>g)}containsKey(e,r){const o=Mo(r.path),l=IDBKeyRange.bound([o],[Ra(o)],!1,!0);let g=0;return Yu(e).J({index:"documentTargetsIndex",H:!0,range:l},([b,x],K,Y)=>{0!==b&&(g++,Y.done())}).next(()=>g>0)}te(e,r){return Go(e).get(r).next(o=>o?Xu(o):null)}}function Go(s){return si(s,"targets")}function Mc(s){return si(s,"targetGlobal")}function Yu(s){return si(s,"targetDocuments")}function _v([s,e],[r,o]){const l=br(s,r);return 0===l?br(e,o):l}class ql{constructor(e){this.Sn=e,this.buffer=new Ei(_v),this.Dn=0}Cn(){return++this.Dn}xn(e){const r=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();_v(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Jf{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var r=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Se.Z)(function*(){r.Nn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Do(o)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield uu(o)}yield r.kn(3e5)}))}}class ep{constructor(e,r){this.On=e,this.params=r}calculateTargetCount(e,r){return this.On.Mn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return ft.resolve(Ri.ot);const o=new ql(r);return this.On.forEachTarget(e,l=>o.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>o.xn(l))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.On.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.On.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(ne)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ne):this.$n(e,r))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,r){let o,l,g,b,x,K,Y;const ye=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),l=this.params.maximumSequenceNumbersToCollect):l=Be,b=Date.now(),this.nthSequenceNumber(e,l))).next(Be=>(o=Be,x=Date.now(),this.removeTargets(e,o,r))).next(Be=>(g=Be,K=Date.now(),this.removeOrphanedDocuments(e,o))).next(Be=>(Y=Date.now(),Pe()<=re.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-ye}ms\n\tDetermined least recently used ${l} in `+(x-b)+`ms\n\tRemoved ${g} targets in `+(K-x)+`ms\n\tRemoved ${Be} documents in `+(Y-K)+`ms\nTotal Duration: ${Y-ye}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:g,documentsRemoved:Be})))}}class Pg{constructor(e,r){this.db=e,this.garbageCollector=new ep(this,r)}Mn(e){const r=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(l=>o+l))}Bn(e){let r=0;return this.Fn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Fn(e,r){return this.Ln(e,(o,l)=>r(l))}addReference(e,r,o){return xg(e,o)}removeReference(e,r,o){return xg(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return xg(e,r)}Un(e,r){return function(o,l){let g=!1;return qr(o).Y(b=>Ut(o,b,l).next(x=>(x&&(g=!0),ft.resolve(!x)))).next(()=>g)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let g=0;return this.Ln(e,(b,x)=>{if(x<=r){const K=this.Un(e,b).next(Y=>{if(!Y)return g++,o.getEntry(e,b).next(()=>(o.removeEntry(b,rr.min()),Yu(e).delete([0,Mo(b.path)])))});l.push(K)}}).next(()=>ft.waitFor(l)).next(()=>o.apply(e)).next(()=>g)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return xg(e,r)}Ln(e,r){const o=Yu(e);let l,g=Ri.ot;return o.J({index:"documentTargetsIndex"},([b,x],{path:K,sequenceNumber:Y})=>{0===b?(g!==Ri.ot&&r(new hn(oa(l)),g),g=Y,l=K):g=Ri.ot}).next(()=>{g!==Ri.ot&&r(new hn(oa(l)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xg(s,e){return Yu(s).put((o=s.currentSequenceNumber,{targetId:0,path:Mo(e.path),sequenceNumber:o}));var o}class T_{constructor(){this.changes=new Da(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?ft.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w_{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Pc(e).put(o)}removeEntry(e,r,o){return Pc(e).delete(function(l,g){const b=l.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],Sd(g),b[b.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.qn(e,o)))}getEntry(e,r){let o=Di.newInvalidDocument(r);return Pc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ah(r))},(l,g)=>{o=this.Kn(r,g)}).next(()=>o)}Gn(e,r){let o={size:0,document:Di.newInvalidDocument(r)};return Pc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ah(r))},(l,g)=>{o={document:this.Kn(r,g),size:lt(g)}}).next(()=>o)}getEntries(e,r){let o=Ai();return this.Qn(e,r,(l,g)=>{const b=this.Kn(l,g);o=o.insert(l,b)}).next(()=>o)}jn(e,r){let o=Ai(),l=new Qr(hn.comparator);return this.Qn(e,r,(g,b)=>{const x=this.Kn(g,b);o=o.insert(g,x),l=l.insert(g,lt(b))}).next(()=>({documents:o,Wn:l}))}Qn(e,r,o){if(r.isEmpty())return ft.resolve();let l=new Ei(tp);r.forEach(K=>l=l.add(K));const g=IDBKeyRange.bound(ah(l.first()),ah(l.last())),b=l.getIterator();let x=b.getNext();return Pc(e).J({index:"documentKeyIndex",range:g},(K,Y,ye)=>{const Be=hn.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;x&&tp(x,Be)<0;)o(x,null),x=b.getNext();x&&x.isEqual(Be)&&(o(x,Y),x=b.hasNext()?b.getNext():null),x?ye.q(ah(x)):ye.done()}).next(()=>{for(;x;)o(x,null),x=b.hasNext()?b.getNext():null})}getAllFromCollection(e,r,o){const l=[r.popLast().toArray(),r.lastSegment(),Sd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],g=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pc(e).K(IDBKeyRange.bound(l,g,!0)).next(b=>{let x=Ai();for(const K of b){const Y=this.Kn(hn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);x=x.insert(Y.key,Y)}return x})}getAllFromCollectionGroup(e,r,o,l){let g=Ai();const b=S_(r,o),x=S_(r,Lo.max());return Pc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,x,!0)},(K,Y,ye)=>{const Be=this.Kn(hn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);g=g.insert(Be.key,Be),g.size===l&&ye.done()}).next(()=>g)}newChangeBuffer(e){return new vv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Ev(e).get("remoteDocumentGlobalKey").next(r=>(an(!!r),r))}qn(e,r){return Ev(e).put("remoteDocumentGlobalKey",r)}Kn(e,r){if(r){const o=function(s,e){let r;if(e.document)r=bd(s.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=hn.fromSegments(e.noDocument.path),l=qu(e.noDocument.readTime);r=Di.newNoDocument(o,l),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return $t();{const o=hn.fromSegments(e.unknownDocument.path),l=qu(e.unknownDocument.version);r=Di.newUnknownDocument(o,l)}}return e.readTime&&r.setReadTime(function(o){const l=new mi(o[0],o[1]);return rr.fromTimestamp(l)}(e.readTime)),r}(this.wt,r);if(!o.isNoDocument()||!o.version.isEqual(rr.min()))return o}return Di.newInvalidDocument(e)}}function yv(s){return new w_(s)}class vv extends T_{constructor(e,r){super(),this.zn=e,this.trackRemovals=r,this.Hn=new Da(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const r=[];let o=0,l=new Ei((g,b)=>br(g.canonicalString(),b.canonicalString()));return this.changes.forEach((g,b)=>{const x=this.Hn.get(g);if(r.push(this.zn.removeEntry(e,g,x.readTime)),b.isValidDocument()){const K=xu(this.zn.wt,b);l=l.add(g.path.popLast()),o+=lt(K)-x.size,r.push(this.zn.addEntry(e,g,K))}else if(o-=x.size,this.trackRemovals){const K=xu(this.zn.wt,b.convertToNoDocument(rr.min()));r.push(this.zn.addEntry(e,g,K))}}),l.forEach(g=>{r.push(this.zn.indexManager.addToCollectionParentIndex(e,g))}),r.push(this.zn.updateMetadata(e,o)),ft.waitFor(r)}getFromCache(e,r){return this.zn.Gn(e,r).next(o=>(this.Hn.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.zn.jn(e,r).next(({documents:o,Wn:l})=>(l.forEach((g,b)=>{this.Hn.set(g,{size:b,readTime:o.get(g).readTime})}),o))}}function Ev(s){return si(s,"remoteDocumentGlobal")}function Pc(s){return si(s,"remoteDocumentsV14")}function ah(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function S_(s,e){const r=e.documentKey.path.toArray();return[s,Sd(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function tp(s,e){const r=s.path.toArray(),o=e.path.toArray();let l=0;for(let g=0;g<r.length-2&&g<o.length-2;++g)if(l=br(r[g],o[g]),l)return l;return l=br(r.length,o.length),l||(l=br(r[r.length-2],o[o.length-2]),l||br(r[r.length-1],o[o.length-1]))}class QE{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class bv{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.getBaseDocument(e,r,o))).next(l=>(null!==o&&m(o.mutation,l,Cs.empty(),mi.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,pr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=pr()){const l=Vi();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(g=>{let b=Aa();return g.forEach((x,K)=>{b=b.insert(x,K.overlayedDocument)}),b}))}getOverlayedDocuments(e,r){const o=Vi();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,pr()))}populateOverlays(e,r,o){const l=[];return o.forEach(g=>{r.has(g)||l.push(g)}),this.documentOverlayCache.getOverlays(e,l).next(g=>{g.forEach((b,x)=>{r.set(b,x)})})}computeViews(e,r,o,l){let g=Ai();const b=Au(),x=Au();return r.forEach((K,Y)=>{const ye=o.get(Y.key);l.has(Y.key)&&(void 0===ye||ye.mutation instanceof se)?g=g.insert(Y.key,Y):void 0!==ye&&(b.set(Y.key,ye.mutation.getFieldMask()),m(ye.mutation,Y,ye.mutation.getFieldMask(),mi.now()))}),this.recalculateAndSaveOverlays(e,g).next(K=>(K.forEach((Y,ye)=>b.set(Y,ye)),r.forEach((Y,ye)=>{var Be;return x.set(Y,new QE(ye,null!==(Be=b.get(Y))&&void 0!==Be?Be:null))}),x))}recalculateAndSaveOverlays(e,r){const o=Au();let l=new Qr((b,x)=>b-x),g=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(b=>{for(const x of b)x.keys().forEach(K=>{const Y=r.get(K);if(null===Y)return;let ye=o.get(K)||Cs.empty();ye=x.applyToLocalView(Y,ye),o.set(K,ye);const Be=(l.get(x.batchId)||pr()).add(K);l=l.insert(x.batchId,Be)})}).next(()=>{const b=[],x=l.getReverseIterator();for(;x.hasNext();){const K=x.getNext(),Y=K.key,ye=K.value,Be=rs();ye.forEach(nt=>{if(!g.has(nt)){const Rt=fd(r.get(nt),o.get(nt));null!==Rt&&Be.set(nt,Rt),g=g.add(nt)}}),b.push(this.documentOverlayCache.saveOverlays(e,Y,Be))}return ft.waitFor(b)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return hn.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):rd(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o);var l}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(g=>{const b=l-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-g.size):ft.resolve(Vi());let x=-1,K=g;return b.next(Y=>ft.forEach(Y,(ye,Be)=>(x<Be.largestBatchId&&(x=Be.largestBatchId),g.get(ye)?ft.resolve():this.getBaseDocument(e,ye,Be).next(nt=>{K=K.insert(ye,nt)}))).next(()=>this.populateOverlays(e,Y,g)).next(()=>this.computeViews(e,K,Y,pr())).next(ye=>({batchId:x,changes:Hl(ye)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new hn(r)).next(o=>{let l=Aa();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const l=r.collectionGroup;let g=Aa();return this.indexManager.getCollectionParents(e,l).next(b=>ft.forEach(b,x=>{const K=(Y=r,ye=x.child(l),new Uo(ye,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,ye;return this.getDocumentsMatchingCollectionQuery(e,K,o).next(Y=>{Y.forEach((ye,Be)=>{g=g.insert(ye,Be)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,r,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,r.path,o).next(g=>(l=g,this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId))).next(g=>{g.forEach((x,K)=>{const Y=K.getKey();null===l.get(Y)&&(l=l.insert(Y,Di.newInvalidDocument(Y)))});let b=Aa();return l.forEach((x,K)=>{const Y=g.get(x);void 0!==Y&&m(Y.mutation,K,Cs.empty(),mi.now()),sd(r,K)&&(b=b.insert(x,K))}),b})}getBaseDocument(e,r,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,r):ft.resolve(Di.newInvalidDocument(r))}}class qE{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,r){return ft.resolve(this.Jn.get(r))}saveBundleMetadata(e,r){var o;return this.Jn.set(r.id,{id:(o=r).id,version:o.version,createTime:Xs(o.createTime)}),ft.resolve()}getNamedQuery(e,r){return ft.resolve(this.Yn.get(r))}saveNamedQuery(e,r){return this.Yn.set(r.name,{name:(o=r).name,query:Dd(o.bundledQuery),readTime:Xs(o.readTime)}),ft.resolve();var o}}class XE{constructor(){this.overlays=new Qr(hn.comparator),this.Xn=new Map}getOverlay(e,r){return ft.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Vi();return ft.forEach(r,l=>this.getOverlay(e,l).next(g=>{null!==g&&o.set(l,g)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,g)=>{this.ie(e,r,g)}),ft.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.Xn.get(o);return void 0!==l&&(l.forEach(g=>this.overlays=this.overlays.remove(g)),this.Xn.delete(o)),ft.resolve()}getOverlaysForCollection(e,r,o){const l=Vi(),g=r.length+1,b=new hn(r.child("")),x=this.overlays.getIteratorFrom(b);for(;x.hasNext();){const K=x.getNext().value,Y=K.getKey();if(!r.isPrefixOf(Y.path))break;Y.path.length===g&&K.largestBatchId>o&&l.set(K.getKey(),K)}return ft.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let g=new Qr((Y,ye)=>Y-ye);const b=this.overlays.getIterator();for(;b.hasNext();){const Y=b.getNext().value;if(Y.getKey().getCollectionGroup()===r&&Y.largestBatchId>o){let ye=g.get(Y.largestBatchId);null===ye&&(ye=Vi(),g=g.insert(Y.largestBatchId,ye)),ye.set(Y.getKey(),Y)}}const x=Vi(),K=g.getIterator();for(;K.hasNext()&&(K.getNext().value.forEach((Y,ye)=>x.set(Y,ye)),!(x.size()>=l)););return ft.resolve(x)}ie(e,r,o){const l=this.overlays.get(o.key);if(null!==l){const b=this.Xn.get(l.largestBatchId).delete(o.key);this.Xn.set(l.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new sh(r,o));let g=this.Xn.get(r);void 0===g&&(g=pr(),this.Xn.set(r,g)),this.Xn.set(r,g.add(o.key))}}class D_{constructor(){this.Zn=new Ei(aa.ts),this.es=new Ei(aa.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,r){const o=new aa(e,r);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.rs(new aa(e,r))}os(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new hn(new Fr([])),o=new aa(r,e),l=new aa(r,e+1),g=[];return this.es.forEachInRange([o,l],b=>{this.rs(b),g.push(b.key)}),g}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const r=new hn(new Fr([])),o=new aa(r,e),l=new aa(r,e+1);let g=pr();return this.es.forEachInRange([o,l],b=>{g=g.add(b.key)}),g}containsKey(e){const r=new aa(e,0),o=this.Zn.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class aa{constructor(e,r){this.key=e,this.ls=r}static ts(e,r){return hn.comparator(e.key,r.key)||br(e.ls,r.ls)}static ns(e,r){return br(e.ls,r.ls)||hn.comparator(e.key,r.key)}}class YE{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.fs=1,this.ds=new Ei(aa.ts)}checkEmpty(e){return ft.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,l){const g=this.fs;this.fs++;const b=new Hs(g,r,o,l);this.mutationQueue.push(b);for(const x of l)this.ds=this.ds.add(new aa(x.key,g)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return ft.resolve(b)}lookupMutationBatch(e,r){return ft.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const l=this.ws(r+1),g=l<0?0:l;return ft.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new aa(r,0),l=new aa(r,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([o,l],b=>{const x=this._s(b.ls);g.push(x)}),ft.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Ei(br);return r.forEach(l=>{const g=new aa(l,0),b=new aa(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,b],x=>{o=o.add(x.ls)})}),ft.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let g=o;hn.isDocumentKey(g)||(g=g.child(""));const b=new aa(new hn(g),0);let x=new Ei(br);return this.ds.forEachWhile(K=>{const Y=K.key.path;return!!o.isPrefixOf(Y)&&(Y.length===l&&(x=x.add(K.ls)),!0)},b),ft.resolve(this.gs(x))}gs(e){const r=[];return e.forEach(o=>{const l=this._s(o);null!==l&&r.push(l)}),r}removeMutationBatch(e,r){an(0===this.ys(r.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return ft.forEach(r.mutations,l=>{const g=new aa(l.key,r.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,r){const o=new aa(r,0),l=this.ds.firstAfterOrEqual(o);return ft.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return ft.resolve()}ys(e,r){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const r=this.ws(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class JE{constructor(e){this.ps=e,this.docs=new Qr(hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),g=l?l.size:0,b=this.ps(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:b}),this.size+=b-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return ft.resolve(o?o.document.mutableCopy():Di.newInvalidDocument(r))}getEntries(e,r){let o=Ai();return r.forEach(l=>{const g=this.docs.get(l);o=o.insert(l,g?g.document.mutableCopy():Di.newInvalidDocument(l))}),ft.resolve(o)}getAllFromCollection(e,r,o){let l=Ai();const g=new hn(r.child("")),b=this.docs.getIteratorFrom(g);for(;b.hasNext();){const{key:x,value:{document:K}}=b.getNext();if(!r.isPrefixOf(x.path))break;x.path.length>r.length+1||Nl(au(K),o)<=0||(l=l.insert(K.key,K.mutableCopy()))}return ft.resolve(l)}getAllFromCollectionGroup(e,r,o,l){$t()}Is(e,r){return ft.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new eb(this)}getSize(e){return ft.resolve(this.size)}}class eb extends T_{constructor(e){super(),this.zn=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.zn.addEntry(e,l)):this.zn.removeEntry(o)}),ft.waitFor(r)}getFromCache(e,r){return this.zn.getEntry(e,r)}getAllFromCache(e,r){return this.zn.getEntries(e,r)}}class tb{constructor(e){this.persistence=e,this.Ts=new Da(r=>Bo(r),$u),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.Es=0,this.As=new D_,this.targetCount=0,this.Rs=is.An()}forEachTarget(e,r){return this.Ts.forEach((o,l)=>r(l)),ft.resolve()}getLastRemoteSnapshotVersion(e){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ft.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Es&&(this.Es=r),ft.resolve()}vn(e){this.Ts.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Rs=new is(r),this.highestTargetId=r),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,r){return this.vn(r),this.targetCount+=1,ft.resolve()}updateTargetData(e,r){return this.vn(r),ft.resolve()}removeTargetData(e,r){return this.Ts.delete(r.target),this.As.us(r.targetId),this.targetCount-=1,ft.resolve()}removeTargets(e,r,o){let l=0;const g=[];return this.Ts.forEach((b,x)=>{x.sequenceNumber<=r&&null===o.get(x.targetId)&&(this.Ts.delete(b),g.push(this.removeMatchingKeysForTargetId(e,x.targetId)),l++)}),ft.waitFor(g).next(()=>l)}getTargetCount(e){return ft.resolve(this.targetCount)}getTargetData(e,r){const o=this.Ts.get(r)||null;return ft.resolve(o)}addMatchingKeys(e,r,o){return this.As.ss(r,o),ft.resolve()}removeMatchingKeys(e,r,o){this.As.os(r,o);const l=this.persistence.referenceDelegate,g=[];return l&&r.forEach(b=>{g.push(l.markPotentiallyOrphaned(e,b))}),ft.waitFor(g)}removeMatchingKeysForTargetId(e,r){return this.As.us(r),ft.resolve()}getMatchingKeysForTargetId(e,r){const o=this.As.hs(r);return ft.resolve(o)}containsKey(e,r){return ft.resolve(this.As.containsKey(r))}}class Cv{constructor(e,r){this.bs={},this.overlays={},this.Ps=new Ri(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new tb(this),this.indexManager=new Xh,this.remoteDocumentCache=new JE(o=>this.referenceDelegate.Ss(o)),this.wt=new wd(r),this.Ds=new qE(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new XE,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.bs[e.toKey()];return o||(o=new YE(r,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,r,o){Ge("MemoryPersistence","Starting transaction:",e);const l=new xc(this.Ps.next());return this.referenceDelegate.Cs(),o(l).next(g=>this.referenceDelegate.xs(l).next(()=>g)).toPromise().then(g=>(l.raiseOnCommittedEvent(),g))}Ns(e,r){return ft.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,r)))}}class xc extends ll{constructor(e){super(),this.currentSequenceNumber=e}}class uh{constructor(e){this.persistence=e,this.ks=new D_,this.Os=null}static Ms(e){return new uh(e)}get Fs(){if(this.Os)return this.Os;throw $t()}addReference(e,r,o){return this.ks.addReference(o,r),this.Fs.delete(o.toString()),ft.resolve()}removeReference(e,r,o){return this.ks.removeReference(o,r),this.Fs.add(o.toString()),ft.resolve()}markPotentiallyOrphaned(e,r){return this.Fs.add(r.toString()),ft.resolve()}removeTarget(e,r){this.ks.us(r.targetId).forEach(l=>this.Fs.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(g=>this.Fs.add(g.toString()))}).next(()=>o.removeTargetData(e,r))}Cs(){this.Os=new Set}xs(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.Fs,o=>{const l=hn.fromPath(o);return this.$s(e,l).next(g=>{g||r.removeEntry(l,rr.min())})}).next(()=>(this.Os=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.Fs.delete(r.toString()):this.Fs.add(r.toString())})}Ss(e){return 0}$s(e,r){return ft.or([()=>ft.resolve(this.ks.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ns(e,r)])}}class Iv{constructor(e){this.wt=e}O(e,r,o,l){const g=new Za("createOrUpgrade",r);var x;o<1&&l>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0}),x.createObjectStore("documentMutations"),Rg(e),function(x){x.createObjectStore("remoteDocuments")}(e));let b=ft.resolve();return o<3&&l>=3&&(0!==o&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),Rg(e)),b=b.next(()=>function(x){const K=x.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rr.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",Y)}(g))),o<4&&l>=4&&(0!==o&&(b=b.next(()=>function(x,K){return K.store("mutations").K().next(Y=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gh,{unique:!0});const ye=K.store("mutations"),Be=Y.map(nt=>ye.put(nt));return ft.waitFor(Be)})}(e,g))),b=b.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(b=b.next(()=>this.Bs(g))),o<6&&l>=6&&(b=b.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(g)))),o<7&&l>=7&&(b=b.next(()=>this.Us(g))),o<8&&l>=8&&(b=b.next(()=>this.qs(e,g))),o<9&&l>=9&&(b=b.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(b=b.next(()=>this.Ks(g))),o<11&&l>=11&&(b=b.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(b=b.next(()=>{!function(x){const K=x.createObjectStore("documentOverlays",{keyPath:wg});K.createIndex("collectionPathOverlayIndex",Sg,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Zf,{unique:!1})}(e)})),o<13&&l>=13&&(b=b.next(()=>function(x){const K=x.createObjectStore("remoteDocumentsV14",{keyPath:Kf});K.createIndex("documentKeyIndex",E_),K.createIndex("collectionGroupIndex",wc)}(e)).next(()=>this.Gs(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(b=b.next(()=>this.Qs(e,g))),o<15&&l>=15&&(b=b.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Ig}).createIndex("sequenceNumberIndex",Tg,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:b_}).createIndex("documentKeyIndex",C_,{unique:!1})}(e))),b}Ls(e){let r=0;return e.store("remoteDocuments").J((o,l)=>{r+=lt(l)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.K().next(l=>ft.forEach(l,g=>{const b=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",b).next(x=>ft.forEach(x,K=>{an(K.userId===g.userId);const Y=yl(this.wt,K);return Re(e,g.userId,Y).next(()=>{})}))}))}Us(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const g=[];return o.J((b,x)=>{const K=new Fr(b),Y=[0,Mo(K)];g.push(r.get(Y).next(ye=>ye?ft.resolve():r.put({targetId:0,path:Mo(K),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ft.waitFor(g))})}qs(e,r){e.createObjectStore("collectionParents",{keyPath:zh});const o=r.store("collectionParents"),l=new Yh,g=b=>{if(l.add(b)){const x=b.lastSegment(),K=b.popLast();return o.put({collectionId:x,parent:Mo(K)})}};return r.store("remoteDocuments").J({H:!0},(b,x)=>{const K=new Fr(b);return g(K.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([b,x,K],Y)=>{const ye=oa(x);return g(ye.popLast())}))}Ks(e){const r=e.store("targets");return r.J((o,l)=>{const g=Xu(l),b=Sc(this.wt,g);return r.put(b)})}Gs(e,r){const o=r.store("remoteDocuments"),l=[];return o.J((g,b)=>{const x=r.store("remoteDocumentsV14"),K=(Y=b,Y.document?new hn(Fr.fromString(Y.document.name).popFirst(5)):Y.noDocument?hn.fromSegments(Y.noDocument.path):Y.unknownDocument?hn.fromSegments(Y.unknownDocument.path):$t()).path.toArray();var Y;const ye={prefixPath:K.slice(0,K.length-2),collectionGroup:K[K.length-2],documentId:K[K.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};l.push(x.put(ye))}).next(()=>ft.waitFor(l))}Qs(e,r){const o=r.store("mutations"),l=yv(this.wt),g=new Cv(uh.Ms,this.wt.ne);return o.K().next(b=>{const x=new Map;return b.forEach(K=>{var Y;let ye=null!==(Y=x.get(K.userId))&&void 0!==Y?Y:pr();yl(this.wt,K).keys().forEach(Be=>ye=ye.add(Be)),x.set(K.userId,ye)}),ft.forEach(x,(K,Y)=>{const ye=new L(Y),Be=Md.se(this.wt,ye),nt=g.getIndexManager(ye),Rt=ut.se(ye,this.wt,nt,g.referenceDelegate);return new bv(l,Rt,Be,nt).recalculateAndSaveOverlaysForDocumentKeys(new pu(r,Ri.ot),K).next()})})}}function Rg(s){s.createObjectStore("targetDocuments",{keyPath:zf}).createIndex("documentTargetsIndex",Cg,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Kh,{unique:!0}),s.createObjectStore("targetGlobal")}const Jh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(e,r,o,l,g,b,x,K,Y,ye,Be=14){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.js=g,this.window=b,this.document=x,this.Ws=Y,this.zs=ye,this.Hs=Be,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=nt=>Promise.resolve(),!np.V())throw new kt(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pg(this,l),this.ei=r+"main",this.wt=new wd(K),this.ni=new ii(this.ei,this.Hs,new Iv(this.wt)),this.Vs=new bl(this.referenceDelegate,this.wt),this.remoteDocumentCache=yv(this.wt),this.Ds=new Ac,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ye&&nn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(ht.FAILED_PRECONDITION,Jh);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ri(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var r=this;return this.ti=function(){var o=(0,Se.Z)(function*(l){if(r.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var r=(0,Se.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Se.Z)(function*(){r.started&&(yield r.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(r=>{r||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(r=>this.isPrimary&&!r?this.li(e).next(()=>!1):!!r&&this.fi(e).next(()=>!0))).catch(e=>{if(Do(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Pd(e).get("owner").next(r=>ft.resolve(this.di(r)))}_i(e){return rp(e).delete(this.clientId)}wi(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=si(o,"clientMetadata");return l.K().next(g=>{const b=e.gi(g,18e5),x=g.filter(K=>-1===b.indexOf(K));return ft.forEach(x,K=>l.delete(K.clientId)).next(()=>x)})}).catch(()=>[]);if(e.si)for(const o of r)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ft.resolve(!0):Pd(e).get("owner").next(r=>{if(null!==r&&this.mi(r.leaseTimestampMs,5e3)&&!this.pi(r.ownerId)){if(this.di(r)&&this.networkEnabled)return!0;if(!this.di(r)){if(!r.allowTabSynchronization)throw new kt(ht.FAILED_PRECONDITION,Jh);return!1}}return!(!this.networkEnabled||!this.inForeground)||rp(e).K().next(o=>void 0===this.gi(o,5e3).find(l=>{if(this.clientId!==l.clientId){const b=!this.inForeground&&l.inForeground,x=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||b&&x)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Ge("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new pu(r,Ri.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,r){return e.filter(o=>this.mi(o.updateTimeMs,r)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>rp(e).K().next(r=>this.gi(r,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,r){return ut.se(e,this.wt,r,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new c(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Md.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,r,o){Ge("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===r?"readonly":"readwrite",g=15===(b=this.Hs)?Dg:14===b?qf:13===b?ih:12===b?Qf:11===b?Td:void $t();var b;let x;return this.ni.runTransaction(e,l,g,K=>(x=new pu(K,this.Ps?this.Ps.next():Ri.ot),"readwrite-primary"===r?this.ai(x).next(Y=>!!Y||this.hi(x)).next(Y=>{if(!Y)throw nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new kt(ht.FAILED_PRECONDITION,Zd);return o(x)}).next(Y=>this.fi(x).next(()=>Y)):this.bi(x).next(()=>o(x)))).then(K=>(x.raiseOnCommittedEvent(),K))}bi(e){return Pd(e).get("owner").next(r=>{if(null!==r&&this.mi(r.leaseTimestampMs,5e3)&&!this.pi(r.ownerId)&&!this.di(r)&&!(this.zs||this.allowTabSynchronization&&r.allowTabSynchronization))throw new kt(ht.FAILED_PRECONDITION,Jh)})}fi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pd(e).put("owner",r)}static V(){return ii.V()}li(e){const r=Pd(e);return r.get("owner").next(o=>this.di(o)?(Ge("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ft.resolve())}mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(nn(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var r;try{const o=null!==(null===(r=this.si)||void 0===r?void 0:r.getItem(this.yi(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return nn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){nn("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pd(s){return si(s,"owner")}function rp(s){return si(s,"clientMetadata")}function Cl(s,e){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+e+"/"+r+"/"}class ip{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.Pi=o,this.vi=l}static Vi(e,r){let o=pr(),l=pr();for(const g of r.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:l=l.add(g.doc.key)}return new ip(e,r.fromCache,o,l)}}class A_{constructor(){this.Si=!1}initialize(e,r){this.Di=e,this.indexManager=r,this.Si=!0}getDocumentsMatchingQuery(e,r,o,l){return this.Ci(e,r).next(g=>g||this.xi(e,r,l,o)).next(g=>g||this.Ni(e,r))}Ci(e,r){return ft.resolve(null)}xi(e,r,o,l){return function(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}(r)||l.isEqual(rr.min())?this.Ni(e,r):this.Di.getDocuments(e,o).next(g=>{const b=this.ki(r,g);return this.Oi(r,b,o,l)?this.Ni(e,r):(Pe()<=re.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gc(r)),this.Mi(e,b,r,yu(l,-1)))})}ki(e,r){let o=new Ei(qd(e));return r.forEach((l,g)=>{sd(e,g)&&(o=o.add(g))}),o}Oi(e,r,o,l){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const g="F"===e.limitType?r.last():r.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(l)>0)}Ni(e,r){return Pe()<=re.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",gc(r)),this.Di.getDocumentsMatchingQuery(e,r,Lo.min())}Mi(e,r,o,l){return this.Di.getDocumentsMatchingQuery(e,o,l).next(g=>(r.forEach(b=>{g=g.insert(b.key,b)}),g))}}class nb{constructor(e,r,o,l){this.persistence=e,this.Fi=r,this.wt=l,this.$i=new Qr(br),this.Bi=new Da(g=>Bo(g),$u),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bv(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.$i))}}function sp(s,e,r,o){return new nb(s,e,r,o)}function M_(s,e){return op.apply(this,arguments)}function op(){return(op=(0,Se.Z)(function*(s,e){const r=rn(s);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(g=>(l=g,r.qi(e),r.mutationQueue.getAllMutationBatches(o))).next(g=>{const b=[],x=[];let K=pr();for(const Y of l){b.push(Y.batchId);for(const ye of Y.mutations)K=K.add(ye.key)}for(const Y of g){x.push(Y.batchId);for(const ye of Y.mutations)K=K.add(ye.key)}return r.localDocuments.getDocuments(o,K).next(Y=>({Ki:Y,removedBatchIds:b,addedBatchIds:x}))})})})).apply(this,arguments)}function Tv(s,e){const r=rn(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),g=r.Ui.newChangeBuffer({trackRemovals:!0});return function(b,x,K,Y){const ye=K.batch,Be=ye.keys();let nt=ft.resolve();return Be.forEach(Rt=>{nt=nt.next(()=>Y.getEntry(x,Rt)).next(Wt=>{const An=K.docVersions.get(Rt);an(null!==An),Wt.version.compareTo(An)<0&&(ye.applyToRemoteDocument(Wt,K),Wt.isValidDocument()&&(Wt.setReadTime(K.commitVersion),Y.addEntry(Wt)))})}),nt.next(()=>b.mutationQueue.removeMutationBatch(x,ye))}(r,o,e,g).next(()=>g.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(b){let x=pr();for(let K=0;K<b.mutationResults.length;++K)b.mutationResults[K].transformResults.length>0&&(x=x.add(b.batch.mutations[K].key));return x}(e))).next(()=>r.localDocuments.getDocuments(o,l))})}function P_(s){const e=rn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Vs.getLastRemoteSnapshotVersion(r))}function ef(s,e){const r=rn(s),o=e.snapshotVersion;let l=r.$i;return r.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const b=r.Ui.newChangeBuffer({trackRemovals:!0});l=r.$i;const x=[];e.targetChanges.forEach((ye,Be)=>{const nt=l.get(Be);if(!nt)return;x.push(r.Vs.removeMatchingKeys(g,ye.removedDocuments,Be).next(()=>r.Vs.addMatchingKeys(g,ye.addedDocuments,Be)));let Rt=nt.withSequenceNumber(g.currentSequenceNumber);var Wt,An,dr;e.targetMismatches.has(Be)?Rt=Rt.withResumeToken(Is.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):ye.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(ye.resumeToken,o)),l=l.insert(Be,Rt),An=Rt,dr=ye,(0===(Wt=nt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-Wt.snapshotVersion.toMicroseconds()>=3e8||dr.addedDocuments.size+dr.modifiedDocuments.size+dr.removedDocuments.size>0)&&x.push(r.Vs.updateTargetData(g,Rt))});let K=Ai(),Y=pr();if(e.documentUpdates.forEach(ye=>{e.resolvedLimboDocuments.has(ye)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(g,ye))}),x.push(xd(g,b,e.documentUpdates).next(ye=>{K=ye.Gi,Y=ye.Qi})),!o.isEqual(rr.min())){const ye=r.Vs.getLastRemoteSnapshotVersion(g).next(Be=>r.Vs.setTargetsMetadata(g,g.currentSequenceNumber,o));x.push(ye)}return ft.waitFor(x).next(()=>b.apply(g)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,K,Y)).next(()=>K)}).then(g=>(r.$i=l,g))}function xd(s,e,r){let o=pr(),l=pr();return r.forEach(g=>o=o.add(g)),e.getEntries(s,o).next(g=>{let b=Ai();return r.forEach((x,K)=>{const Y=g.get(x);K.isFoundDocument()!==Y.isFoundDocument()&&(l=l.add(x)),K.isNoDocument()&&K.version.isEqual(rr.min())?(e.removeEntry(x,K.readTime),b=b.insert(x,K)):!Y.isValidDocument()||K.version.compareTo(Y.version)>0||0===K.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(K),b=b.insert(x,K)):Ge("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Y.version," Watch version:",K.version)}),{Gi:b,Qi:l}})}function Ng(s,e){const r=rn(s);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ju(s,e){const r=rn(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Vs.getTargetData(o,e).next(g=>g?(l=g,ft.resolve(l)):r.Vs.allocateTargetId(o).next(b=>(l=new ml(e,b,0,o.currentSequenceNumber),r.Vs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.$i.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.$i=r.$i.insert(o.targetId,o),r.Bi.set(e,o.targetId)),o})}function Il(s,e,r){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,Se.Z)(function*(s,e,r){const o=rn(s),l=o.$i.get(e),g=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",g,b=>o.persistence.referenceDelegate.removeTarget(b,l)))}catch(b){if(!Do(b))throw b;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.$i=o.$i.remove(e),o.Bi.delete(l.target)})).apply(this,arguments)}function ap(s,e,r){const o=rn(s);let l=rr.min(),g=pr();return o.persistence.runTransaction("Execute query","readonly",b=>function(x,K,Y){const ye=rn(x),Be=ye.Bi.get(Y);return void 0!==Be?ft.resolve(ye.$i.get(Be)):ye.Vs.getTargetData(K,Y)}(o,b,ra(e)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(b,x.targetId).next(K=>{g=K})}).next(()=>o.Fi.getDocumentsMatchingQuery(b,e,r?l:rr.min(),r?g:pr())).next(x=>(up(o,mc(e),x),{documents:x,ji:g})))}function Og(s,e){const r=rn(s),o=rn(r.Vs),l=r.$i.get(e);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",g=>o.te(g,e).next(b=>b?b.target:null))}function kg(s,e){const r=rn(s),o=r.Li.get(e)||rr.min();return r.persistence.runTransaction("Get new document changes","readonly",l=>r.Ui.getAllFromCollectionGroup(l,e,yu(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(up(r,e,l),l))}function up(s,e,r){let o=rr.min();r.forEach((l,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),s.Li.set(e,o)}function lp(){return(lp=(0,Se.Z)(function*(s,e,r,o){const l=rn(s);let g=pr(),b=Ai();for(const Y of r){const ye=e.Wi(Y.metadata.name);Y.document&&(g=g.add(ye));const Be=e.zi(Y);Be.setReadTime(e.Hi(Y.metadata.readTime)),b=b.insert(ye,Be)}const x=l.Ui.newChangeBuffer({trackRemovals:!0}),K=yield Ju(l,(Y=o,ra(La(Fr.fromString(`__bundle__/docs/${Y}`)))));var Y;return l.persistence.runTransaction("Apply bundle documents","readwrite",Y=>xd(Y,x,b).next(ye=>(x.apply(Y),ye)).next(ye=>l.Vs.removeMatchingKeysForTargetId(Y,K.targetId).next(()=>l.Vs.addMatchingKeys(Y,g,K.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(Y,ye.Gi,ye.Qi)).next(()=>ye.Gi)))})).apply(this,arguments)}function cp(s,e){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,Se.Z)(function*(s,e,r=pr()){const o=yield Ju(s,ra(Dd(e.bundledQuery))),l=rn(s);return l.persistence.runTransaction("Save named query","readwrite",g=>{const b=Xs(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return l.Ds.saveNamedQuery(g,e);const x=o.withResumeToken(Is.EMPTY_BYTE_STRING,b);return l.$i=l.$i.insert(x.targetId,x),l.Vs.updateTargetData(g,x).next(()=>l.Vs.removeMatchingKeysForTargetId(g,o.targetId)).next(()=>l.Vs.addMatchingKeys(g,r,o.targetId)).next(()=>l.Ds.saveNamedQuery(g,e))})})).apply(this,arguments)}function Vg(s,e){return`firestore_clients_${s}_${e}`}function wv(s,e,r){let o=`firestore_mutations_${s}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function dp(s,e){return`firestore_targets_${s}_${e}`}class tf{constructor(e,r,o,l){this.user=e,this.batchId=r,this.state=o,this.error=l}static Ji(e,r,o){const l=JSON.parse(o);let g,b="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(g=new kt(l.error.code,l.error.message))),b?new tf(e,r,l.state,g):(nn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nf{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Ji(e,r){const o=JSON.parse(r);let l,g="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return g&&o.error&&(g="string"==typeof o.error.message&&"string"==typeof o.error.code,g&&(l=new kt(o.error.code,o.error.message))),g?new nf(e,o.state,l):(nn("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rf{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ji(e,r){const o=JSON.parse(r);let l="object"==typeof o&&o.activeTargetIds instanceof Array,g=Ec();for(let b=0;l&&b<o.activeTargetIds.length;++b)l=qn(o.activeTargetIds[b]),g=g.add(o.activeTargetIds[b]);return l?new rf(e,g):(nn("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Bg{constructor(e,r){this.clientId=e,this.onlineState=r}static Ji(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Bg(r.clientId,r.onlineState):(nn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ug{constructor(){this.activeTargetIds=Ec()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ua{constructor(e,r,o,l,g){this.window=e,this.js=r,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Qr(br),this.started=!1,this.ir=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.rr=Vg(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Ug),this.cr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const r=yield e.syncEngine.Ri();for(const l of r){if(l===e.tr)continue;const g=e.getItem(Vg(e.persistenceKey,l));if(g){const b=rf.Ji(l,g);b&&(e.sr=e.sr.insert(b.clientId,b))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let r=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,r,o){this.yr(e,r,o),this.pr(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(dp(this.persistenceKey,e));if(o){const l=nf.Ji(e,o);l&&(r=l.state)}}return this.Ir.Xi(e),this._r(),r}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dp(this.persistenceKey,e))}updateQueryState(e,r,o){this.Tr(e,r,o)}handleUserChange(e,r,o){r.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Ge("SharedClientState","READ",e,r),r}setItem(e,r){Ge("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Ge("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Se.Z)(function*(){if(r.started){if(null!==o.key)if(r.cr.test(o.key)){if(null==o.newValue){const l=r.Rr(o.key);return r.br(l,null)}{const l=r.Pr(o.key,o.newValue);if(l)return r.br(l.clientId,l)}}else if(r.ar.test(o.key)){if(null!==o.newValue){const l=r.vr(o.key,o.newValue);if(l)return r.Vr(l)}}else if(r.hr.test(o.key)){if(null!==o.newValue){const l=r.Sr(o.key,o.newValue);if(l)return r.Dr(l)}}else if(o.key===r.lr){if(null!==o.newValue){const l=r.wr(o.newValue);if(l)return r.mr(l)}}else if(o.key===r.ur){const l=function(g){let b=Ri.ot;if(null!=g)try{const x=JSON.parse(g);an("number"==typeof x),b=x}catch(x){nn("SharedClientState","Failed to read sequence number from WebStorage",x)}return b}(o.newValue);l!==Ri.ot&&r.sequenceNumberHandler(l)}else if(o.key===r.dr){const l=r.Cr(o.newValue);yield Promise.all(l.map(g=>r.syncEngine.Nr(g)))}}else r.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,r,o){const l=new tf(this.currentUser,e,r,o),g=wv(this.persistenceKey,this.currentUser,e);this.setItem(g,l.Yi())}pr(e){const r=wv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,r,o){const l=dp(this.persistenceKey,e),g=new nf(e,r,o);this.setItem(l,g.Yi())}Ar(e){const r=JSON.stringify(Array.from(e));this.setItem(this.dr,r)}Rr(e){const r=this.cr.exec(e);return r?r[1]:null}Pr(e,r){const o=this.Rr(e);return rf.Ji(o,r)}vr(e,r){const o=this.ar.exec(e),l=Number(o[1]);return tf.Ji(new L(void 0!==o[2]?o[2]:null),l,r)}Sr(e,r){const o=this.hr.exec(e),l=Number(o[1]);return nf.Ji(l,r)}wr(e){return Bg.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var r=this;return(0,Se.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.kr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,r){const o=r?this.sr.insert(e,r):this.sr.remove(e),l=this.gr(this.sr),g=this.gr(o),b=[],x=[];return g.forEach(K=>{l.has(K)||b.push(K)}),l.forEach(K=>{g.has(K)||x.push(K)}),this.syncEngine.Mr(b,x).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let r=Ec();return e.forEach((o,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class x_{constructor(){this.Fr=new Ug,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,r,o){this.$r[e]=r}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Ug,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sv{Br(e){}shutdown(){}}class Dv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class R_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ib extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,r,o,l,g){const b=this.oo(e,r);Ge("RestConnection","Sending: ",b,o);const x={};return this.uo(x,l,g),this.co(e,b,x,o).then(K=>(Ge("RestConnection","Received: ",K),K),K=>{throw Or("RestConnection",`${e} failed with error: `,K,"url: ",b,"request:",o),K})}ao(e,r,o,l,g,b){return this.ro(e,r,o,l,g)}uo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Z,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,g)=>e[g]=l),o&&o.headers.forEach((l,g)=>e[g]=l)}oo(e,r){return`${this.so}/v1/${r}:${rb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,r,o,l){return new Promise((g,b)=>{const x=new S;x.listenOnce(ge.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case So.NO_ERROR:const Y=x.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(Y)),g(Y);break;case So.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),b(new kt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const ye=x.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',ye,"response text:",x.getResponseText()),ye>0){const Be=x.getResponseJson().error;if(Be&&Be.status&&Be.message){const nt=function(Rt){const Wt=Rt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Wt)>=0?Wt:ht.UNKNOWN}(Be.status);b(new kt(nt,Be.message))}else b(new kt(ht.UNKNOWN,"Server responded with status "+x.getStatus()))}else b(new kt(ht.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const K=JSON.stringify(l);x.send(r,"POST",K,o,15)})}ho(e,r,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=oo(),b=Wi(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new fe({})),this.uo(x.initMessageHeaders,r,o),(0,pt.uI)()||(0,pt.b$)()||(0,pt.d)()||(0,pt.w1)()||(0,pt.Mn)()||(0,pt.ru)()||(x.httpHeadersOverwriteParam="$httpHeaders");const K=l.join("");Ge("Connection","Creating WebChannel: "+K,x);const Y=g.createWebChannel(K,x);let ye=!1,Be=!1;const nt=new R_({jr:Wt=>{Be?Ge("Connection","Not sending because WebChannel is closed:",Wt):(ye||(Ge("Connection","Opening WebChannel transport."),Y.open(),ye=!0),Ge("Connection","WebChannel sending:",Wt),Y.send(Wt))},Wr:()=>Y.close()}),Rt=(Wt,An,dr)=>{Wt.listen(An,Ni=>{try{dr(Ni)}catch(ms){setTimeout(()=>{throw ms},0)}})};return Rt(Y,D.EventType.OPEN,()=>{Be||Ge("Connection","WebChannel transport opened.")}),Rt(Y,D.EventType.CLOSE,()=>{Be||(Be=!0,Ge("Connection","WebChannel transport closed"),nt.eo())}),Rt(Y,D.EventType.ERROR,Wt=>{Be||(Be=!0,Or("Connection","WebChannel transport errored:",Wt),nt.eo(new kt(ht.UNAVAILABLE,"The operation could not be completed")))}),Rt(Y,D.EventType.MESSAGE,Wt=>{var An;if(!Be){const dr=Wt.data[0];an(!!dr);const Ni=dr,ms=Ni.error||(null===(An=Ni[0])||void 0===An?void 0:An.error);if(ms){Ge("Connection","WebChannel received error:",ms);const zi=ms.status;let lo=function(Gs){const Pa=Cr[Gs];if(void 0!==Pa)return Qu(Pa)}(zi),Ss=ms.message;void 0===lo&&(lo=ht.INTERNAL,Ss="Unknown error status: "+zi+" with message "+ms.message),Be=!0,nt.eo(new kt(lo,Ss)),Y.close()}else Ge("Connection","WebChannel received:",dr),nt.no(dr)}}),Rt(b,C.STAT_EVENT,Wt=>{Wt.stat===O.PROXY?Ge("Connection","Detected buffering proxy"):Wt.stat===O.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.Zr()},0),nt}}function N_(){return"undefined"!=typeof window?window:null}function lh(){return"undefined"!=typeof document?document:null}function ch(s){return new th(s,!0)}class jg{constructor(e,r,o=1e3,l=1.5,g=6e4){this.js=e,this.timerId=r,this.lo=o,this.fo=l,this._o=g,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const r=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,r-o);l>0&&Ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class O_{constructor(e,r,o,l,g,b,x,K){this.js=e,this.Ao=o,this.Ro=l,this.bo=g,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=x,this.listener=K,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new jg(e,r)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Se.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Se.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,r){var o=this;return(0,Se.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():r&&r.code===ht.RESOURCE_EXHAUSTED?(nn(r.toString()),nn("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):r&&r.code===ht.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(r)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),r=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===r&&this.Uo(o,l)},o=>{e(()=>{const l=new kt(ht.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,r){const o=this.Lo(this.Po);this.stream=this.Ko(e,r),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,Se.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return r=>{this.js.enqueueAndForget(()=>this.Po===e?r():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Av extends O_{constructor(e,r,o,l,g,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,b),this.wt=g}Ko(e,r){return this.bo.ho("Listen",e,r)}onMessage(e){this.So.reset();const r=function(s,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:$t(),l=e.targetChange.targetIds||[],g=function(K,Y){return K.dt?(an(void 0===Y||"string"==typeof Y),Is.fromBase64String(Y||"")):(an(void 0===Y||Y instanceof Uint8Array),Is.fromUint8Array(Y||new Uint8Array))}(s,e.targetChange.resumeToken),b=e.targetChange.cause,x=b&&function(K){const Y=void 0===K.code?ht.UNKNOWN:Qu(K.code);return new kt(Y,K.message||"")}(b);r=new Nh(o,l,g,x||null)}else if("documentChange"in e){const o=e.documentChange,l=Ho(s,o.document.name),g=Xs(o.document.updateTime),b=new Fi({mapValue:{fields:o.document.fields}}),x=Di.newFoundDocument(l,g,b);r=new md(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,l=Ho(s,o.document),g=o.readTime?Xs(o.readTime):rr.min(),b=Di.newNoDocument(l,g);r=new md([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,l=Ho(s,o.document);r=new md([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return $t();{const o=e.filter,g=new ci(o.count||0);r=new Vf(o.targetId,g)}}var K;return r}(this.wt,e),o=function(l){if(!("targetChange"in l))return rr.min();const g=l.targetChange;return g.targetIds&&g.targetIds.length?rr.min():g.readTime?Xs(g.readTime):rr.min()}(e);return this.listener.Go(r,o)}Qo(e){const r={};r.database=Ed(this.wt),r.addTarget=function(l,g){let b;const x=g.target;return b=du(x)?{documents:Eg(l,x)}:{query:Vh(l,x)},b.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?b.resumeToken=kh(l,g.resumeToken):g.snapshotVersion.compareTo(rr.min())>0&&(b.readTime=$l(l,g.snapshotVersion.toTimestamp())),b}(this.wt,e);const o=function(s,e){const r=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $t()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.Mo(r)}jo(e){const r={};r.database=Ed(this.wt),r.removeTarget=e,this.Mo(r)}}class k_ extends O_{constructor(e,r,o,l,g,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,b),this.wt=g,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,r){return this.bo.ho("Write",e,r)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const r=function(s,e){return s&&s.length>0?(an(void 0!==e),s.map(r=>function(o,l){let g=Xs(o.updateTime?o.updateTime:l);return g.isEqual(rr.min())&&(g=Xs(l)),new yc(g,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Xs(e.commitTime);return this.listener.Jo(o,r)}return an(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Ed(this.wt),this.Mo(e)}Ho(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Cd(this.wt,o))};this.Mo(r)}}class Mv extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.bo=o,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new kt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,g])=>this.bo.ro(e,r,o,l,g)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new kt(ht.UNKNOWN,l.toString())})}ao(e,r,o,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.bo.ao(e,r,o,g,b,l)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new kt(ht.UNKNOWN,g.toString())})}terminate(){this.Zo=!0}}class L_{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(nn(r),this.su=!1):Ge("OnlineStateTracker",r)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Pv{constructor(e,r,o,l,g){var b=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=g,this.du.Br(x=>{o.enqueueAndForget((0,Se.Z)(function*(){var K;Nc(b)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(K=(0,Se.Z)(function*(Y){const ye=rn(Y);ye.lu.add(4),yield Rd(ye),ye._u.set("Unknown"),ye.lu.delete(4),yield sf(ye)}),function(Y){return K.apply(this,arguments)})(b))}))}),this._u=new L_(o,l)}}function sf(s){return hp.apply(this,arguments)}function hp(){return(hp=(0,Se.Z)(function*(s){if(Nc(s))for(const e of s.fu)yield e(!0)})).apply(this,arguments)}function Rd(s){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,Se.Z)(function*(s){for(const e of s.fu)yield e(!1)})).apply(this,arguments)}function gu(s,e){const r=rn(s);r.hu.has(e.targetId)||(r.hu.set(e.targetId,e),fp(r)?V_(r):wl(r).Co()&&Gg(r,e))}function Nd(s,e){const r=rn(s),o=wl(r);r.hu.delete(e),o.Co()&&F_(r,e),0===r.hu.size&&(o.Co()?o.ko():Nc(r)&&r._u.set("Unknown"))}function Gg(s,e){s.wu.Nt(e.targetId),wl(s).Qo(e)}function F_(s,e){s.wu.Nt(e),wl(s).jo(e)}function V_(s){s.wu=new yd({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),te:e=>s.hu.get(e)||null}),wl(s).start(),s._u.iu()}function fp(s){return Nc(s)&&!wl(s).Do()&&s.hu.size>0}function Nc(s){return 0===rn(s).lu.size}function B_(s){s.wu=void 0}function xv(s){return of.apply(this,arguments)}function of(){return(of=(0,Se.Z)(function*(s){s.hu.forEach((e,r)=>{Gg(s,e)})})).apply(this,arguments)}function Rv(s,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,Se.Z)(function*(s,e){B_(s),fp(s)?(s._u.uu(e),V_(s)):s._u.set("Unknown")})).apply(this,arguments)}function pp(s,e,r){return af.apply(this,arguments)}function af(){return(af=(0,Se.Z)(function*(s,e,r){if(s._u.set("Online"),e instanceof Nh&&2===e.state&&e.cause)try{yield(o=(0,Se.Z)(function*(l,g){const b=g.cause;for(const x of g.targetIds)l.hu.has(x)&&(yield l.remoteSyncer.rejectListen(x,b),l.hu.delete(x),l.wu.removeTarget(x))}),function(l,g){return o.apply(this,arguments)})(s,e)}catch(o){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield gp(s,o)}else if(e instanceof md?s.wu.Ut(e):e instanceof Vf?s.wu.zt(e):s.wu.Gt(e),!r.isEqual(rr.min()))try{const o=yield P_(s.localStore);r.compareTo(o)>=0&&(yield function(l,g){const b=l.wu.Yt(g);return b.targetChanges.forEach((x,K)=>{if(x.resumeToken.approximateByteSize()>0){const Y=l.hu.get(K);Y&&l.hu.set(K,Y.withResumeToken(x.resumeToken,g))}}),b.targetMismatches.forEach(x=>{const K=l.hu.get(x);if(!K)return;l.hu.set(x,K.withResumeToken(Is.EMPTY_BYTE_STRING,K.snapshotVersion)),F_(l,x);const Y=new ml(K.target,x,1,K.sequenceNumber);Gg(l,Y)}),l.remoteSyncer.applyRemoteEvent(b)}(s,r))}catch(o){Ge("RemoteStore","Failed to raise snapshot:",o),yield gp(s,o)}var o})).apply(this,arguments)}function gp(s,e,r){return uf.apply(this,arguments)}function uf(){return(uf=(0,Se.Z)(function*(s,e,r){if(!Do(e))throw e;s.lu.add(1),yield Rd(s),s._u.set("Offline"),r||(r=()=>P_(s.localStore)),s.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield r(),s.lu.delete(1),yield sf(s)}))})).apply(this,arguments)}function mp(s,e){return e().catch(r=>gp(s,r,e))}function Od(s){return $g.apply(this,arguments)}function $g(){return($g=(0,Se.Z)(function*(s){const e=rn(s),r=Nu(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Nv(e);)try{const l=yield Ng(e.localStore,o);if(null===l){0===e.au.length&&r.ko();break}o=l.batchId,Kg(e,l)}catch(l){yield gp(e,l)}Ov(e)&&U_(e)})).apply(this,arguments)}function Nv(s){return Nc(s)&&s.au.length<10}function Kg(s,e){s.au.push(e);const r=Nu(s);r.Co()&&r.zo&&r.Ho(e.mutations)}function Ov(s){return Nc(s)&&!Nu(s).Do()&&s.au.length>0}function U_(s){Nu(s).start()}function j_(s){return _p.apply(this,arguments)}function _p(){return(_p=(0,Se.Z)(function*(s){Nu(s).Xo()})).apply(this,arguments)}function H_(s){return yp.apply(this,arguments)}function yp(){return(yp=(0,Se.Z)(function*(s){const e=Nu(s);for(const r of s.au)e.Ho(r.mutations)})).apply(this,arguments)}function G_(s,e,r){return el.apply(this,arguments)}function el(){return(el=(0,Se.Z)(function*(s,e,r){const o=s.au.shift(),l=gl.from(o,e,r);yield mp(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Od(s)})).apply(this,arguments)}function vp(s,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,Se.Z)(function*(s,e){var r;e&&Nu(s).zo&&(yield(r=(0,Se.Z)(function*(o,l){if(Sa(g=l.code)&&g!==ht.ABORTED){const b=o.au.shift();Nu(o).No(),yield mp(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,l)),yield Od(o)}var g}),function(o,l){return r.apply(this,arguments)})(s,e)),Ov(s)&&U_(s)})).apply(this,arguments)}function zg(s,e){return W_.apply(this,arguments)}function W_(){return(W_=(0,Se.Z)(function*(s,e){const r=rn(s);r.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const o=Nc(r);r.lu.add(3),yield Rd(r),o&&r._u.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.lu.delete(3),yield sf(r)})).apply(this,arguments)}function Tl(s,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,Se.Z)(function*(s,e){const r=rn(s);e?(r.lu.delete(2),yield sf(r)):e||(r.lu.add(2),yield Rd(r),r._u.set("Unknown"))})).apply(this,arguments)}function wl(s){return s.mu||(s.mu=function(e,r,o){const l=rn(e);return l.tu(),new Av(r,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(s.datastore,s.asyncQueue,{zr:xv.bind(null,s),Jr:Rv.bind(null,s),Go:pp.bind(null,s)}),s.fu.push(function(){var e=(0,Se.Z)(function*(r){r?(s.mu.No(),fp(s)?V_(s):s._u.set("Unknown")):(yield s.mu.stop(),B_(s))});return function(r){return e.apply(this,arguments)}}())),s.mu}function Nu(s){return s.gu||(s.gu=function(e,r,o){const l=rn(e);return l.tu(),new k_(r,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,o)}(s.datastore,s.asyncQueue,{zr:j_.bind(null,s),Jr:vp.bind(null,s),Yo:H_.bind(null,s),Jo:G_.bind(null,s)}),s.fu.push(function(){var e=(0,Se.Z)(function*(r){r?(s.gu.No(),yield Od(s)):(yield s.gu.stop(),s.au.length>0&&(Ge("RemoteStore",`Stopping write stream with ${s.au.length} pending writes`),s.au=[]))});return function(r){return e.apply(this,arguments)}}())),s.gu}class Zg{constructor(e,r,o,l,g){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=g,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,r,o,l,g){const b=Date.now()+o,x=new Zg(e,r,b,l,g);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oc(s,e){if(nn("AsyncQueue",`${e}: ${s}`),Do(s))return new kt(ht.UNAVAILABLE,`${e}: ${s}`);throw s}class kd{constructor(e){this.comparator=e?(r,o)=>e(r,o)||hn.comparator(r.key,o.key):(r,o)=>hn.comparator(r.key,o.key),this.keyedMap=Aa(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,g=o.getNext().key;if(!l.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new kd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Qg{constructor(){this.yu=new Qr(hn.comparator)}track(e){const r=e.doc.key,o=this.yu.get(r);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(r,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(r):1===e.type&&2===o.type?this.yu=this.yu.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(r,{type:2,doc:e.doc}):$t():this.yu=this.yu.insert(r,e)}pu(){const e=[];return this.yu.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ld{constructor(e,r,o,l,g,b,x,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=g,this.fromCache=b,this.syncStateChanged=x,this.excludesMetadataChanges=K}static fromInitialDocuments(e,r,o,l){const g=[];return r.forEach(b=>{g.push({type:0,doc:b})}),new Ld(e,r,kd.emptySet(r),g,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}class kv{constructor(){this.Iu=void 0,this.listeners=[]}}class qg{constructor(){this.queries=new Da(e=>id(e),Fa),this.onlineState="Unknown",this.Tu=new Set}}function Xg(s,e){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,Se.Z)(function*(s,e){const r=rn(s),o=e.query;let l=!1,g=r.queries.get(o);if(g||(l=!0,g=new kv),l)try{g.Iu=yield r.onListen(o)}catch(b){const x=Oc(b,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(x)}r.queries.set(o,g),g.listeners.push(e),e.Eu(r.onlineState),g.Iu&&e.Au(g.Iu)&&Jg(r)})).apply(this,arguments)}function bp(s,e){return kc.apply(this,arguments)}function kc(){return(kc=(0,Se.Z)(function*(s,e){const r=rn(s),o=e.query;let l=!1;const g=r.queries.get(o);if(g){const b=g.listeners.indexOf(e);b>=0&&(g.listeners.splice(b,1),l=0===g.listeners.length)}if(l)return r.queries.delete(o),r.onUnlisten(o)})).apply(this,arguments)}function $_(s,e){const r=rn(s);let o=!1;for(const l of e){const b=r.queries.get(l.query);if(b){for(const x of b.listeners)x.Au(l)&&(o=!0);b.Iu=l}}o&&Jg(r)}function Lv(s,e,r){const o=rn(s),l=o.queries.get(e);if(l)for(const g of l.listeners)g.onError(r);o.queries.delete(e)}function Jg(s){s.Tu.forEach(e=>{e.next()})}class Lc{constructor(e,r,o){this.query=e,this.Ru=r,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Ld(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),r=!0):this.Vu(e,this.onlineState)&&(this.Su(e),r=!0),this.Pu=e,r}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let r=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),r=!0),r}Vu(e,r){return!e.fromCache||!(this.options.Du&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Fv{constructor(e,r){this.payload=e,this.byteLength=r}Cu(){return"metadata"in this.payload}}class K_{constructor(e){this.wt=e}Wi(e){return Ho(this.wt,e)}zi(e){return e.metadata.exists?bd(this.wt,e.document,!1):Di.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Xs(e)}}class Vv{constructor(e,r,o){this.xu=e,this.localStore=r,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=z_(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r;const o=Fr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ku(e){const r=new Map,o=new K_(this.wt);for(const l of e)if(l.metadata.queries){const g=o.Wi(l.metadata.name);for(const b of l.metadata.queries){const x=(r.get(b)||pr()).add(g);r.set(b,x)}}return r}complete(){var e=this;return(0,Se.Z)(function*(){const r=yield function(s,e,r,o){return lp.apply(this,arguments)}(e.localStore,new K_(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield cp(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:r}})()}}function z_(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Bv{constructor(e){this.key=e}}class em{constructor(e){this.key=e}}class tm{constructor(e,r){this.query=e,this.Fu=r,this.$u=null,this.current=!1,this.Bu=pr(),this.mutatedKeys=pr(),this.Lu=qd(e),this.Uu=new kd(this.Lu)}get qu(){return this.Fu}Ku(e,r){const o=r?r.Gu:new Qg,l=r?r.Uu:this.Uu;let g=r?r.mutatedKeys:this.mutatedKeys,b=l,x=!1;const K="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,Y="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ye,Be)=>{const nt=l.get(ye),Rt=sd(this.query,Be)?Be:null,Wt=!!nt&&this.mutatedKeys.has(nt.key),An=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let dr=!1;nt&&Rt?nt.data.isEqual(Rt.data)?Wt!==An&&(o.track({type:3,doc:Rt}),dr=!0):this.Qu(nt,Rt)||(o.track({type:2,doc:Rt}),dr=!0,(K&&this.Lu(Rt,K)>0||Y&&this.Lu(Rt,Y)<0)&&(x=!0)):!nt&&Rt?(o.track({type:0,doc:Rt}),dr=!0):nt&&!Rt&&(o.track({type:1,doc:nt}),dr=!0,(K||Y)&&(x=!0)),dr&&(Rt?(b=b.add(Rt),g=An?g.add(ye):g.delete(ye)):(b=b.delete(ye),g=g.delete(ye)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const ye="F"===this.query.limitType?b.last():b.first();b=b.delete(ye.key),g=g.delete(ye.key),o.track({type:1,doc:ye})}return{Uu:b,Gu:o,Oi:x,mutatedKeys:g}}Qu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const g=e.Gu.pu();g.sort((Y,ye)=>function(Be,nt){const Rt=Wt=>{switch(Wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return Rt(Be)-Rt(nt)}(Y.type,ye.type)||this.Lu(Y.doc,ye.doc)),this.ju(o);const b=r?this.Wu():[],x=0===this.Bu.size&&this.current?1:0,K=x!==this.$u;return this.$u=x,0!==g.length||K?{snapshot:new Ld(this.query,e.Uu,l,g,e.mutatedKeys,0===x,K,!1),zu:b}:{zu:b}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Qg,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(r=>this.Fu=this.Fu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Fu=this.Fu.delete(r)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=pr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const r=[];return e.forEach(o=>{this.Bu.has(o)||r.push(new em(o))}),this.Bu.forEach(o=>{e.has(o)||r.push(new Bv(o))}),r}Ju(e){this.Fu=e.ji,this.Bu=pr();const r=this.Ku(e.documents);return this.applyChanges(r,!0)}Yu(){return Ld.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class as{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class nm{constructor(e){this.key=e,this.Xu=!1}}class sb{constructor(e,r,o,l,g,b){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=g,this.maxConcurrentLimboResolutions=b,this.Zu={},this.tc=new Da(x=>id(x),Fa),this.ec=new Map,this.nc=new Set,this.sc=new Qr(hn.comparator),this.ic=new Map,this.rc=new D_,this.oc={},this.uc=new Map,this.cc=is.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Xl(s,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,Se.Z)(function*(s,e){const r=dm(s);let o,l;const g=r.tc.get(e);if(g)o=g.targetId,r.sharedClientState.addLocalQueryTarget(o),l=g.view.Yu();else{const b=yield Ju(r.localStore,ra(e));r.isPrimaryClient&&gu(r.remoteStore,b);const x=r.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,l=yield df(r,e,o,"current"===x)}return l})).apply(this,arguments)}function df(s,e,r,o){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,Se.Z)(function*(s,e,r,o){s.hc=(ye,Be,nt)=>{return(Rt=(0,Se.Z)(function*(Wt,An,dr,Ni){let ms=An.view.Ku(dr);ms.Oi&&(ms=yield ap(Wt.localStore,An.query,!1).then(({documents:Ss})=>An.view.Ku(Ss,ms)));const zi=Ni&&Ni.targetChanges.get(An.targetId),lo=An.view.applyChanges(ms,Wt.isPrimaryClient,zi);return J_(Wt,An.targetId,lo.zu),lo.snapshot}),function(Wt,An,dr,Ni){return Rt.apply(this,arguments)})(s,ye,Be,nt);var Rt};const l=yield ap(s.localStore,e,!0),g=new tm(e,l.ji),b=g.Ku(l.documents),x=gd.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==s.onlineState),K=g.applyChanges(b,s.isPrimaryClient,x);J_(s,r,K.zu);const Y=new as(e,r,g);return s.tc.set(e,Y),s.ec.has(r)?s.ec.get(r).push(e):s.ec.set(r,[e]),K.snapshot})).apply(this,arguments)}function Uv(s,e){return rm.apply(this,arguments)}function rm(){return(rm=(0,Se.Z)(function*(s,e){const r=rn(s),o=r.tc.get(e),l=r.ec.get(o.targetId);if(l.length>1)return r.ec.set(o.targetId,l.filter(g=>!Fa(g,e))),void r.tc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Il(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Nd(r.remoteStore,o.targetId),dh(r,o.targetId)}).catch(uu))):(dh(r,o.targetId),yield Il(r.localStore,o.targetId,!0))})).apply(this,arguments)}function Cp(){return(Cp=(0,Se.Z)(function*(s,e,r){const o=hm(s);try{const l=yield function(g,b){const x=rn(g),K=mi.now(),Y=b.reduce((nt,Rt)=>nt.add(Rt.key),pr());let ye,Be;return x.persistence.runTransaction("Locally write mutations","readwrite",nt=>{let Rt=Ai(),Wt=pr();return x.Ui.getEntries(nt,Y).next(An=>{Rt=An,Rt.forEach((dr,Ni)=>{Ni.isValidDocument()||(Wt=Wt.add(dr))})}).next(()=>x.localDocuments.getOverlayedDocuments(nt,Rt)).next(An=>{ye=An;const dr=[];for(const Ni of b){const ms=v(Ni,ye.get(Ni.key).overlayedDocument);null!=ms&&dr.push(new se(Ni.key,ms,Ll(ms.value.mapValue),_i.exists(!0)))}return x.mutationQueue.addMutationBatch(nt,K,dr,b)}).next(An=>{Be=An;const dr=An.applyToLocalDocumentSet(ye,Wt);return x.documentOverlayCache.saveOverlays(nt,An.batchId,dr)})}).then(()=>({batchId:Be.batchId,changes:Hl(ye)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(g,b,x){let K=g.oc[g.currentUser.toKey()];K||(K=new Qr(br)),K=K.insert(b,x),g.oc[g.currentUser.toKey()]=K}(o,l.batchId,r),yield Yl(o,l.changes),yield Od(o.remoteStore)}catch(l){const g=Oc(l,"Failed to persist write");r.reject(g)}})).apply(this,arguments)}function im(s,e){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,Se.Z)(function*(s,e){const r=rn(s);try{const o=yield ef(r.localStore,e);e.targetChanges.forEach((l,g)=>{const b=r.ic.get(g);b&&(an(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?b.Xu=!0:l.modifiedDocuments.size>0?an(b.Xu):l.removedDocuments.size>0&&(an(b.Xu),b.Xu=!1))}),yield Yl(r,o,e)}catch(o){yield uu(o)}})).apply(this,arguments)}function q_(s,e,r){const o=rn(s);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const l=[];o.tc.forEach((g,b)=>{const x=b.view.Eu(e);x.snapshot&&l.push(x.snapshot)}),function(g,b){const x=rn(g);x.onlineState=b;let K=!1;x.queries.forEach((Y,ye)=>{for(const Be of ye.listeners)Be.Eu(b)&&(K=!0)}),K&&Jg(x)}(o.eventManager,e),l.length&&o.Zu.Go(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function jv(s,e,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,Se.Z)(function*(s,e,r){const o=rn(s);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.ic.get(e),g=l&&l.key;if(g){let b=new Qr(hn.comparator);b=b.insert(g,Di.newNoDocument(g,rr.min()));const x=pr().add(g),K=new Wl(rr.min(),new Map,new Ei(br),b,x);yield im(o,K),o.sc=o.sc.remove(g),o.ic.delete(e),um(o)}else yield Il(o.localStore,e,!1).then(()=>dh(o,e,r)).catch(uu)})).apply(this,arguments)}function sm(s,e){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,Se.Z)(function*(s,e){const r=rn(s),o=e.batch.batchId;try{const l=yield Tv(r.localStore,e);am(r,o,null),Sp(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Yl(r,l)}catch(l){yield uu(l)}})).apply(this,arguments)}function X_(s,e,r){return wp.apply(this,arguments)}function wp(){return(wp=(0,Se.Z)(function*(s,e,r){const o=rn(s);try{const l=yield function(g,b){const x=rn(g);return x.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let Y;return x.mutationQueue.lookupMutationBatch(K,b).next(ye=>(an(null!==ye),Y=ye.keys(),x.mutationQueue.removeMutationBatch(K,ye))).next(()=>x.mutationQueue.performConsistencyCheck(K)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(K,Y,b)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,Y)).next(()=>x.localDocuments.getDocuments(K,Y))})}(o.localStore,e);am(o,e,r),Sp(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Yl(o,l)}catch(l){yield uu(l)}})).apply(this,arguments)}function om(){return(om=(0,Se.Z)(function*(s,e){const r=rn(s);Nc(r.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(g){const b=rn(g);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>b.mutationQueue.getHighestUnacknowledgedBatchId(x))}(r.localStore);if(-1===o)return void e.resolve();const l=r.uc.get(o)||[];l.push(e),r.uc.set(o,l)}catch(o){const l=Oc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}})).apply(this,arguments)}function Sp(s,e){(s.uc.get(e)||[]).forEach(r=>{r.resolve()}),s.uc.delete(e)}function am(s,e,r){const o=rn(s);let l=o.oc[o.currentUser.toKey()];if(l){const g=l.get(e);g&&(r?g.reject(r):g.resolve(),l=l.remove(e)),o.oc[o.currentUser.toKey()]=l}}function dh(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.ec.get(e))s.tc.delete(o),r&&s.Zu.lc(o,r);s.ec.delete(e),s.isPrimaryClient&&s.rc.us(e).forEach(o=>{s.rc.containsKey(o)||Dp(s,o)})}function Dp(s,e){s.nc.delete(e.path.canonicalString());const r=s.sc.get(e);null!==r&&(Nd(s.remoteStore,r),s.sc=s.sc.remove(e),s.ic.delete(r),um(s))}function J_(s,e,r){for(const o of r)o instanceof Bv?(s.rc.addReference(o.key,e),ey(s,o)):o instanceof em?(Ge("SyncEngine","Document no longer in limbo: "+o.key),s.rc.removeReference(o.key,e),s.rc.containsKey(o.key)||Dp(s,o.key)):$t()}function ey(s,e){const r=e.key,o=r.path.canonicalString();s.sc.get(r)||s.nc.has(o)||(Ge("SyncEngine","New document in limbo: "+r),s.nc.add(o),um(s))}function um(s){for(;s.nc.size>0&&s.sc.size<s.maxConcurrentLimboResolutions;){const e=s.nc.values().next().value;s.nc.delete(e);const r=new hn(Fr.fromString(e)),o=s.cc.next();s.ic.set(o,new nm(r)),s.sc=s.sc.insert(r,o),gu(s.remoteStore,new ml(ra(La(r.path)),o,2,Ri.ot))}}function Yl(s,e,r){return ty.apply(this,arguments)}function ty(){return(ty=(0,Se.Z)(function*(s,e,r){const o=rn(s),l=[],g=[],b=[];var x;o.tc.isEmpty()||(o.tc.forEach((x,K)=>{b.push(o.hc(K,e,r).then(Y=>{if(Y){o.isPrimaryClient&&o.sharedClientState.updateQueryState(K.targetId,Y.fromCache?"not-current":"current"),l.push(Y);const ye=ip.Vi(K.targetId,Y);g.push(ye)}}))}),yield Promise.all(b),o.Zu.Go(l),yield(x=(0,Se.Z)(function*(K,Y){const ye=rn(K);try{yield ye.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>ft.forEach(Y,nt=>ft.forEach(nt.Pi,Rt=>ye.persistence.referenceDelegate.addReference(Be,nt.targetId,Rt)).next(()=>ft.forEach(nt.vi,Rt=>ye.persistence.referenceDelegate.removeReference(Be,nt.targetId,Rt)))))}catch(Be){if(!Do(Be))throw Be;Ge("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of Y){const nt=Be.targetId;if(!Be.fromCache){const Rt=ye.$i.get(nt),An=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ye.$i=ye.$i.insert(nt,An)}}}),function(K,Y){return x.apply(this,arguments)})(o.localStore,g))})).apply(this,arguments)}function ob(s,e){return hf.apply(this,arguments)}function hf(){return(hf=(0,Se.Z)(function*(s,e){const r=rn(s);if(!r.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const o=yield M_(r.localStore,e);r.currentUser=e,(l=r).uc.forEach(b=>{b.forEach(x=>{x.reject(new kt(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Yl(r,o.Ki)}var l})).apply(this,arguments)}function Hv(s,e){const r=rn(s),o=r.ic.get(e);if(o&&o.Xu)return pr().add(o.key);{let l=pr();const g=r.ec.get(e);if(!g)return l;for(const b of g){const x=r.tc.get(b);l=l.unionWith(x.view.qu)}return l}}function ny(s,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,Se.Z)(function*(s,e){const r=rn(s),o=yield ap(r.localStore,e.query,!0),l=e.view.Ju(o);return r.isPrimaryClient&&J_(r,e.targetId,l.zu),l})).apply(this,arguments)}function Gv(s,e){return eu.apply(this,arguments)}function eu(){return(eu=(0,Se.Z)(function*(s,e){const r=rn(s);return kg(r.localStore,e).then(o=>Yl(r,o))})).apply(this,arguments)}function ab(s,e,r,o){return ry.apply(this,arguments)}function ry(){return(ry=(0,Se.Z)(function*(s,e,r,o){const l=rn(s),g=yield function(b,x){const K=rn(b),Y=rn(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",ye=>Y.yn(ye,x).next(Be=>Be?K.localDocuments.getDocuments(ye,Be):ft.resolve(null)))}(l.localStore,e);var x;null!==g?("pending"===r?yield Od(l.remoteStore):"acknowledged"===r||"rejected"===r?(am(l,e,o||null),Sp(l,e),x=e,rn(rn(l.localStore).mutationQueue).In(x)):$t(),yield Yl(l,g)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Mp(){return(Mp=(0,Se.Z)(function*(s,e){const r=rn(s);if(dm(r),hm(r),!0===e&&!0!==r.ac){const o=r.sharedClientState.getAllActiveQueryTargets(),l=yield lm(r,o.toArray());r.ac=!0,yield Tl(r.remoteStore,!0);for(const g of l)gu(r.remoteStore,g)}else if(!1===e&&!1!==r.ac){const o=[];let l=Promise.resolve();r.ec.forEach((g,b)=>{r.sharedClientState.isLocalQueryTarget(b)?o.push(b):l=l.then(()=>(dh(r,b),Il(r.localStore,b,!0))),Nd(r.remoteStore,b)}),yield l,yield lm(r,o),function(g){const b=rn(g);b.ic.forEach((x,K)=>{Nd(b.remoteStore,K)}),b.rc.cs(),b.ic=new Map,b.sc=new Qr(hn.comparator)}(r),r.ac=!1,yield Tl(r.remoteStore,!1)}})).apply(this,arguments)}function lm(s,e,r){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,Se.Z)(function*(s,e,r){const o=rn(s),l=[],g=[];for(const b of e){let x;const K=o.ec.get(b);if(K&&0!==K.length){x=yield Ju(o.localStore,ra(K[0]));for(const Y of K){const ye=o.tc.get(Y),Be=yield ny(o,ye);Be.snapshot&&g.push(Be.snapshot)}}else{const Y=yield Og(o.localStore,b);x=yield Ju(o.localStore,Y),yield df(o,cm(Y),b,!1)}l.push(x)}return o.Zu.Go(g),l})).apply(this,arguments)}function cm(s){return Ku(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function $v(s){const e=rn(s);return rn(rn(e.localStore).persistence).Ri()}function iy(s,e,r,o){return ff.apply(this,arguments)}function ff(){return(ff=(0,Se.Z)(function*(s,e,r,o){const l=rn(s);if(l.ac)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const g=l.ec.get(e);if(g&&g.length>0)switch(r){case"current":case"not-current":{const b=yield kg(l.localStore,mc(g[0])),x=Wl.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Yl(l,b,x);break}case"rejected":yield Il(l.localStore,e,!0),dh(l,e,o);break;default:$t()}})).apply(this,arguments)}function Kv(s,e,r){return pf.apply(this,arguments)}function pf(){return(pf=(0,Se.Z)(function*(s,e,r){const o=dm(s);if(o.ac){for(const l of e){if(o.ec.has(l)){Ge("SyncEngine","Adding an already active target "+l);continue}const g=yield Og(o.localStore,l),b=yield Ju(o.localStore,g);yield df(o,cm(g),b.targetId,!1),gu(o.remoteStore,b)}for(const l of r)o.ec.has(l)&&(yield Il(o.localStore,l,!1).then(()=>{Nd(o.remoteStore,l),dh(o,l)}).catch(uu))}})).apply(this,arguments)}function dm(s){const e=rn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=im.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jv.bind(null,e),e.Zu.Go=$_.bind(null,e.eventManager),e.Zu.lc=Lv.bind(null,e.eventManager),e}function hm(s){const e=rn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X_.bind(null,e),e}class sy{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Se.Z)(function*(){r.wt=ch(e.databaseInfo.databaseId),r.sharedClientState=r.dc(e),r.persistence=r._c(e),yield r.persistence.start(),r.localStore=r.wc(e),r.gcScheduler=r.mc(e,r.localStore),r.indexBackfillerScheduler=r.gc(e,r.localStore)})()}mc(e,r){return null}gc(e,r){return null}wc(e){return sp(this.persistence,new A_,e.initialUser,this.wt)}_c(e){return new Cv(uh.Ms,this.wt)}dc(e){return new x_}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oy extends sy{constructor(e,r,o){super(),this.yc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,Se.Z)(function*(){yield r().call(o,e),yield o.yc.initialize(o,e),yield hm(o.yc.syncEngine),yield Od(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return sp(this.persistence,new A_,e.initialUser,this.wt)}mc(e,r){return new Jf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}gc(e,r){const o=new bu(r,this.persistence);return new Ca(e.asyncQueue,o)}_c(e){const r=Cl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?be.withCacheSize(this.cacheSizeBytes):be.DEFAULT;return new np(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,N_(),lh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new x_}}class ay extends oy{constructor(e,r){super(e,r,!1),this.yc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,Se.Z)(function*(){yield r().call(o,e);const l=o.yc.syncEngine;o.sharedClientState instanceof Ua&&(o.sharedClientState.syncEngine={kr:ab.bind(null,l),Or:iy.bind(null,l),Mr:Kv.bind(null,l),Ri:$v.bind(null,l),Nr:Gv.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var g=(0,Se.Z)(function*(b){yield function(s,e){return Mp.apply(this,arguments)}(o.yc.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start():b||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(b&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():b||o.indexBackfillerScheduler.stop())});return function(b){return g.apply(this,arguments)}}())})()}dc(e){const r=N_();if(!Ua.V(r))throw new kt(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Cl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ua(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class hh{initialize(e,r){var o=this;return(0,Se.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>q_(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=ob.bind(null,o.syncEngine),yield Tl(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qg}createDatastore(e){const r=ch(e.databaseInfo.databaseId),o=new ib(e.databaseInfo);return new Mv(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,l=e.asyncQueue,g=x=>q_(this.syncEngine,x,0),b=Dv.V()?new Dv:new Sv,new Pv(r,o,l,g,b);var r,o,l,g,b}createSyncEngine(e,r){return function(o,l,g,b,x,K,Y){const ye=new sb(o,l,g,b,x,K);return Y&&(ye.ac=!0),ye}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Se.Z)(function*(r){const o=rn(r);Ge("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Rd(o),o.du.shutdown(),o._u.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Vd(s,e=10240){let r=0;return{read:()=>(0,Se.Z)(function*(){if(r<s.byteLength){const o={value:s.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Ou{constructor(e,r){this.Ec=e,this.wt=r,this.metadata=new gi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Se.Z)(function*(){const r=yield e.bc();if(null===r)return null;const o=e.Ac.decode(r),l=Number(o);isNaN(l)&&e.Pc(`length string (${o}) is not valid number`);const g=yield e.vc(l);return new Fv(JSON.parse(g),r.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Se.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const r=e.Vc();r<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}vc(e){var r=this;return(0,Se.Z)(function*(){for(;r.buffer.length<e;)(yield r.Sc())&&r.Pc("Reached the end of bundle when more is expected.");const o=r.Ac.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Se.Z)(function*(){const r=yield e.Ec.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class gf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Se.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new kt(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,Se.Z)(function*(g,b){const x=rn(g),K=Ed(x.wt)+"/documents",Y={documents:b.map(Rt=>vd(x.wt,Rt))},ye=yield x.ao("BatchGetDocuments",K,Y,b.length),Be=new Map;ye.forEach(Rt=>{const Wt=function(s,e){return"found"in e?function(r,o){an(!!o.found);const l=Ho(r,o.found.name),g=Xs(o.found.updateTime),b=new Fi({mapValue:{fields:o.found.fields}});return Di.newFoundDocument(l,g,b)}(s,e):"missing"in e?function(r,o){an(!!o.missing),an(!!o.readTime);const l=Ho(r,o.missing),g=Xs(o.readTime);return Di.newNoDocument(l,g)}(s,e):$t()}(x.wt,Rt);Be.set(Wt.key.toString(),Wt)});const nt=[];return b.forEach(Rt=>{const Wt=Be.get(Rt.toString());an(!!Wt),nt.push(Wt)}),nt}),function(g,b){return l.apply(this,arguments)})(r.datastore,e);var l;return o.forEach(l=>r.recordVersion(l)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new zt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,l)=>{const g=hn.fromPath(l);e.mutations.push(new bn(g,e.precondition(g)))}),yield(o=(0,Se.Z)(function*(l,g){const b=rn(l),x=Ed(b.wt)+"/documents",K={writes:g.map(Y=>Cd(b.wt,Y))};yield b.ro("Commit",x,K)}),function(l,g){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw $t();r=rr.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new kt(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?_i.updateTime(r):_i.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rr.min()))throw new kt(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _i.updateTime(r)}return _i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zv{constructor(e,r,o,l,g){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=l,this.deferred=g,this.Dc=o.maxAttempts,this.So=new jg(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Se.Z)(function*(){const r=new gf(e.datastore),o=e.xc(r);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(l)}).catch(g=>{e.Nc(g)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const r=this.updateFunction(e);return!sr(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!Sa(r)}return!1}}class Qv{constructor(e,r,o,l){var g=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=L.UNAUTHENTICATED,this.clientId=Uu.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,Se.Z)(function*(x){Ge("FirestoreClient","Received user=",x.uid),yield g.authCredentialListener(x),g.user=x});return function(x){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Ge("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const l=Oc(o,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function xp(s,e){return ku.apply(this,arguments)}function ku(){return(ku=(0,Se.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield e.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(function(){var l=(0,Se.Z)(function*(g){o.isEqual(g)||(yield M_(e.localStore,g),o=g)});return function(g){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function ph(s,e){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,Se.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const r=yield Jl(s);Ge("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield e.initialize(r,o),s.setCredentialChangeListener(l=>zg(e.remoteStore,l)),s.setAppCheckTokenChangeListener((l,g)=>zg(e.remoteStore,g)),s.onlineComponents=e})).apply(this,arguments)}function Jl(s){return gh.apply(this,arguments)}function gh(){return(gh=(0,Se.Z)(function*(s){return s.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield xp(s,new sy)),s.offlineComponents})).apply(this,arguments)}function ja(s){return mf.apply(this,arguments)}function mf(){return(mf=(0,Se.Z)(function*(s){return s.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield ph(s,new hh)),s.onlineComponents})).apply(this,arguments)}function Bd(s){return Jl(s).then(e=>e.persistence)}function Fc(s){return Jl(s).then(e=>e.localStore)}function Ud(s){return ja(s).then(e=>e.remoteStore)}function Vc(s){return ja(s).then(e=>e.syncEngine)}function tl(s){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,Se.Z)(function*(s){const e=yield ja(s),r=e.eventManager;return r.onListen=Xl.bind(null,e.syncEngine),r.onUnlisten=Uv.bind(null,e.syncEngine),r})).apply(this,arguments)}function Rp(s,e,r={}){const o=new gi;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(l,g,b,x,K){const Y=new fh({next:Be=>{g.enqueueAndForget(()=>bp(l,ye));const nt=Be.docs.has(b);!nt&&Be.fromCache?K.reject(new kt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&Be.fromCache&&x&&"server"===x.source?K.reject(new kt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Be)},error:Be=>K.reject(Be)}),ye=new Lc(La(b.path),Y,{includeMetadataChanges:!0,Du:!0});return Xg(l,ye)}(yield tl(s),s.asyncQueue,e,r,o)})),o.promise}function Np(s,e,r={}){const o=new gi;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(l,g,b,x,K){const Y=new fh({next:Be=>{g.enqueueAndForget(()=>bp(l,ye)),Be.fromCache&&"server"===x.source?K.reject(new kt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Be)},error:Be=>K.reject(Be)}),ye=new Lc(b,Y,{includeMetadataChanges:!0,Du:!0});return Xg(l,ye)}(yield tl(s),s.asyncQueue,e,r,o)})),o.promise}const Op=new Map;function _f(s,e,r){if(!r)throw new kt(ht.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function uy(s,e,r,o){if(!0===e&&!0===o)throw new kt(ht.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function ym(s){if(!hn.isDocumentKey(s))throw new kt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vm(s){if(hn.isDocumentKey(s))throw new kt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function yf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(r=s).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof s?"a function":$t()}function di(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new kt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=yf(s);throw new kt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}function ly(s,e){if(e<=0)throw new kt(ht.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class qv{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,e instanceof Un?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new kt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Un(l.options.projectId)}(e))}get app(){if(!this._app)throw new kt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new vo;switch(r.type){case"gapi":const o=r.client;return an(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Vu(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new kt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Op.get(e);r&&(Ge("ComponentProvider","Removing Datastore"),Op.delete(e),r.terminate())}(this),Promise.resolve()}}class ws{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class ua{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Sl extends ua{constructor(e,r,o){super(e,r,La(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new hn(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function dy(s,e,...r){if(s=(0,pt.m9)(s),_f("collection","path",e),s instanceof vf){const o=Fr.fromString(e,...r);return vm(o),new Sl(s,null,o)}{if(!(s instanceof ws||s instanceof Sl))throw new kt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Fr.fromString(e,...r));return vm(o),new Sl(s.firestore,null,o)}}function kp(s,e,...r){if(s=(0,pt.m9)(s),1===arguments.length&&(e=Uu.I()),_f("doc","path",e),s instanceof vf){const o=Fr.fromString(e,...r);return ym(o),new ws(s,null,new hn(o))}{if(!(s instanceof ws||s instanceof Sl))throw new kt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Fr.fromString(e,...r));return ym(o),new ws(s.firestore,s instanceof Sl?s.converter:null,new hn(o))}}function Em(s,e){return s=(0,pt.m9)(s),e=(0,pt.m9)(e),(s instanceof ws||s instanceof Sl)&&(e instanceof ws||e instanceof Sl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function Xv(s,e){return s=(0,pt.m9)(s),e=(0,pt.m9)(e),s instanceof ua&&e instanceof ua&&s.firestore===e.firestore&&Fa(s._query,e._query)&&s.converter===e.converter}class Yv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new jg(this,"async_queue_retry"),this.Kc=()=>{const r=lh();r&&Ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.So.Eo()};const e=lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const r=lh();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const r=new gi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(r){if(!Do(r))throw r;Ge("AsyncQueue","Operation failed with retryable error: "+r)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const r=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,nn("INTERNAL UNHANDLED ERROR: ",function(g){let b=g.message||"";return g.stack&&(b=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),b}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=r,r}enqueueAfterDelay(e,r,o){this.Gc(),this.qc.indexOf(e)>-1&&(r=0);const l=Zg.createAndSchedule(this,e,r,o,g=>this.Wc(g));return this.$c.push(l),l}Gc(){this.Bc&&$t()}verifyOperationInProgress(){}zc(){var e=this;return(0,Se.Z)(function*(){let r;do{r=e.Oc,yield r}while(r!==e.Oc)})()}Hc(e){for(const r of this.$c)if(r.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.$c)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const r=this.$c.indexOf(e);this.$c.splice(r,1)}}function hy(s){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(s)}class fy{constructor(){this._progressObserver={},this._taskCompletionResolver=new gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ps extends vf{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Yv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||gy(this),this._firestoreClient.terminate()}}function Js(s){return s._firestoreClient||gy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function gy(s){var e;const r=s._freezeSettings(),o=(g=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new gn(s._databaseId,g,s._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var g,x;s._firestoreClient=new Qv(s._authCredentials,s._appCheckCredentials,s._queue,o)}function my(s,e,r){const o=new gi;return s.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield xp(s,r),yield ph(s,e),o.resolve()}catch(l){const g=l;if(!("FirebaseError"===(b=g).name?b.code===ht.FAILED_PRECONDITION||b.code===ht.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&b instanceof DOMException)||22===b.code||20===b.code||11===b.code))throw g;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+g),o.reject(g)}var b})).then(()=>o.promise)}function vy(s){if(s._initialized||s._terminated)throw new kt(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new kt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(Is.fromBase64String(e))}catch(r){throw new kt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Al(Is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jc{constructor(e){this._methodName=e}}class Ef{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new kt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new kt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return br(this._lat,e._lat)||br(this._long,e._long)}}const o0=/^__.*__$/;class a0{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new se(e,this.data,this.fieldMask,r,this.fieldTransforms):new Q(e,this.data,r,this.fieldTransforms)}}class bm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new se(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Ey(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class bf{constructor(e,r,o,l,g,b){this.settings=e,this.databaseId=r,this.wt=o,this.ignoreUndefinedProperties=l,void 0===g&&this.Xc(),this.fieldTransforms=g||[],this.fieldMask=b||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.ta({path:o,na:!1});return l.sa(e),l}ia(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),l=this.ta({path:o,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return bh(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Ey(this.Zc)&&o0.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class u0{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.wt=o||ch(e)}aa(e,r,o,l=!1){return new bf({Zc:e,methodName:r,ca:o,path:jr.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Hc(s){const e=s._freezeSettings(),r=ch(s._databaseId);return new u0(s._databaseId,!!e.ignoreUndefinedProperties,r)}function Cf(s,e,r,o,l,g={}){const b=s.aa(g.merge||g.mergeFields?2:0,e,r,l);jp("Data must be an object, but it was:",b,o);const x=Bp(o,b);let K,Y;if(g.merge)K=new Cs(b.fieldMask),Y=b.fieldTransforms;else if(g.mergeFields){const ye=[];for(const Be of g.mergeFields){const nt=Cy(e,Be,r);if(!b.contains(nt))throw new kt(ht.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Cm(ye,nt)||ye.push(nt)}K=new Cs(ye),Y=b.fieldTransforms.filter(Be=>K.covers(Be.field))}else K=null,Y=b.fieldTransforms;return new a0(new Fi(x),K,Y)}class jd extends jc{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function vh(s,e,r){return new bf({Zc:3,ca:e.settings.ca,methodName:s._methodName,na:r},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Gc extends jc{_toFieldTransform(e){return new pl(e.path,new wa)}isEqual(e){return e instanceof Gc}}class by extends jc{constructor(e,r){super(e),this.ha=r}_toFieldTransform(e){const r=vh(this,e,!0),o=this.ha.map(g=>Hd(g,r)),l=new Ya(o);return new pl(e.path,l)}isEqual(e){return this===e}}class l0 extends jc{constructor(e,r){super(e),this.ha=r}_toFieldTransform(e){const r=vh(this,e,!0),o=this.ha.map(g=>Hd(g,r)),l=new ia(o);return new pl(e.path,l)}isEqual(e){return this===e}}class If extends jc{constructor(e,r){super(e),this.la=r}_toFieldTransform(e){const r=new Su(e.wt,ad(e.wt,this.la));return new pl(e.path,r)}isEqual(e){return this===e}}function Fp(s,e,r,o){const l=s.aa(1,e,r);jp("Data must be an object, but it was:",l,o);const g=[],b=Fi.empty();Oa(o,(K,Y)=>{const ye=Eh(e,K,r);Y=(0,pt.m9)(Y);const Be=l.ia(ye);if(Y instanceof jd)g.push(ye);else{const nt=Hd(Y,Be);null!=nt&&(g.push(ye),b.set(ye,nt))}});const x=new Cs(g);return new bm(b,x,l.fieldTransforms)}function Tf(s,e,r,o,l,g){const b=s.aa(1,e,r),x=[Cy(e,o,r)],K=[l];if(g.length%2!=0)throw new kt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<g.length;nt+=2)x.push(Cy(e,g[nt])),K.push(g[nt+1]);const Y=[],ye=Fi.empty();for(let nt=x.length-1;nt>=0;--nt)if(!Cm(Y,x[nt])){const Rt=x[nt];let Wt=K[nt];Wt=(0,pt.m9)(Wt);const An=b.ia(Rt);if(Wt instanceof jd)Y.push(Rt);else{const dr=Hd(Wt,An);null!=dr&&(Y.push(Rt),ye.set(Rt,dr))}}const Be=new Cs(Y);return new bm(ye,Be,b.fieldTransforms)}function Vp(s,e,r,o=!1){return Hd(r,s.aa(o?4:3,e))}function Hd(s,e){if(Up(s=(0,pt.m9)(s)))return jp("Unsupported field value:",e,s),Bp(s,e);if(s instanceof jc)return function(r,o){if(!Ey(o.Zc))throw o.oa(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(r,o){const l=[];let g=0;for(const b of r){let x=Hd(b,o.ra(g));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),g++}return{arrayValue:{values:l}}}(s,e)}return function(r,o){if(null===(r=(0,pt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ad(o.wt,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=mi.fromDate(r);return{timestampValue:$l(o.wt,l)}}if(r instanceof mi){const l=new mi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$l(o.wt,l)}}if(r instanceof Ef)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:kh(o.wt,r._byteString)};if(r instanceof ws){const l=o.databaseId,g=r.firestore._databaseId;if(!g.isEqual(l))throw o.oa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cc(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.oa(`Unsupported field value: ${yf(r)}`)}(s,e)}function Bp(s,e){const r={};return kl(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(s,(o,l)=>{const g=Hd(l,e.ea(o));null!=g&&(r[o]=g)}),{mapValue:{fields:r}}}function Up(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof mi||s instanceof Ef||s instanceof Al||s instanceof ws||s instanceof jc)}function jp(s,e,r){if(!Up(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=yf(r);throw e.oa("an object"===o?s+" a custom object":s+" "+o)}var o}function Cy(s,e,r){if((e=(0,pt.m9)(e))instanceof Dl)return e._internalPath;if("string"==typeof e)return Eh(s,e);throw bh("Field path arguments must be of type string or ",s,!1,void 0,r)}const c0=new RegExp("[~\\*/\\[\\]]");function Eh(s,e,r){if(e.search(c0)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Dl(...e.split("."))._internalPath}catch(o){throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function bh(s,e,r,o,l){const g=o&&!o.isEmpty(),b=void 0!==l;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let K="";return(g||b)&&(K+=" (found",g&&(K+=` in field ${o}`),b&&(K+=` in document ${l}`),K+=")"),new kt(ht.INVALID_ARGUMENT,x+s+K)}function Cm(s,e){return s.some(r=>r.isEqual(e))}class Ch{constructor(e,r,o,l,g){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Im extends Ch{data(){return super.data()}}function wf(s,e){return"string"==typeof e?Eh(s,e):e instanceof Dl?e._internalPath:e._delegate._internalPath}class ec{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends Ch{constructor(e,r,o,l,g,b){super(e,r,o,l,b),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(wf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Gd extends nl{data(e={}){return super.data(e)}}class Wc{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new ec(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Gd(this._firestore,this._userDataWriter,o.key,o,new ec(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new kt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new Gd(o._firestore,o._userDataWriter,b.doc.key,b.doc,new ec(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>l||3!==b.type).map(b=>{const x=new Gd(o._firestore,o._userDataWriter,b.doc.key,b.doc,new ec(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let K=-1,Y=-1;return 0!==b.type&&(K=g.indexOf(b.doc.key),g=g.delete(b.doc.key)),1!==b.type&&(g=g.add(b.doc),Y=g.indexOf(b.doc.key)),{type:Iy(b.type),doc:x,oldIndex:K,newIndex:Y}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Iy(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}function Tm(s,e){return s instanceof nl&&e instanceof nl?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Wc&&e instanceof Wc&&s._firestore===e._firestore&&Xv(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function Hp(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new kt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ih{}function $c(s,...e){for(const r of e)s=r._apply(s);return s}class Ty extends Ih{constructor(e,r,o){super(),this.fa=e,this.da=r,this._a=o,this.type="where"}_apply(e){const r=Hc(e.firestore),o=function(l,g,b,x,K,Y,ye){let Be;if(K.isKeyField()){if("array-contains"===Y||"array-contains-any"===Y)throw new kt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Y}' queries on documentId().`);if("in"===Y||"not-in"===Y){xm(ye,Y);const Rt=[];for(const Wt of ye)Rt.push(Dy(x,l,Wt));Be={arrayValue:{values:Rt}}}else Be=Dy(x,l,ye)}else"in"!==Y&&"not-in"!==Y&&"array-contains-any"!==Y||xm(ye,Y),Be=Vp(b,"where",ye,"in"===Y||"not-in"===Y);const nt=ns.create(K,Y,Be);return function(Rt,Wt){if(Wt.ht()){const dr=zu(Rt);if(null!==dr&&!dr.isEqual(Wt.field))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${dr.toString()}' and '${Wt.field.toString()}'`);const Ni=jo(Rt);null!==Ni&&Ay(0,Wt.field,Ni)}const An=function(dr,Ni){for(const ms of dr.filters)if(Ni.indexOf(ms.op)>=0)return ms.op;return null}(Rt,function(dr){switch(dr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Wt.op));if(null!==An)throw new kt(ht.INVALID_ARGUMENT,An===Wt.op?`Invalid query. You cannot use more than one '${Wt.op.toString()}' filter.`:`Invalid query. You cannot use '${Wt.op.toString()}' filters with '${An.toString()}' filters.`)}(l,nt),nt}(e._query,0,r,e.firestore._databaseId,this.fa,this.da,this._a);return new ua(e.firestore,e.converter,function(l,g){const b=l.filters.concat([g]);return new Uo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),b,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class wm extends Ih{constructor(e,r){super(),this.fa=e,this.wa=r,this.type="orderBy"}_apply(e){const r=function(o,l,g){if(null!==o.startAt)throw new kt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new kt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new uo(l,g);return function(x,K){if(null===jo(x)){const Y=zu(x);null!==Y&&Ay(0,Y,K.field)}}(o,b),b}(e._query,this.fa,this.wa);return new ua(e.firestore,e.converter,function(o,l){const g=o.explicitOrderBy.concat([l]);return new Uo(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Wp extends Ih{constructor(e,r,o){super(),this.type=e,this.ma=r,this.ga=o}_apply(e){return new ua(e.firestore,e.converter,Ts(e._query,this.ma,this.ga))}}class $p extends Ih{constructor(e,r,o){super(),this.type=e,this.ya=r,this.pa=o}_apply(e){const r=Sy(e,this.type,this.ya,this.pa);return new ua(e.firestore,e.converter,(l=r,new Uo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class Kp extends Ih{constructor(e,r,o){super(),this.type=e,this.ya=r,this.pa=o}_apply(e){const r=Sy(e,this.type,this.ya,this.pa);return new ua(e.firestore,e.converter,(l=r,new Uo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Sy(s,e,r,o){if(r[0]=(0,pt.m9)(r[0]),r[0]instanceof Ch)return function(l,g,b,x,K){if(!x)throw new kt(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const Y=[];for(const ye of hu(l))if(ye.field.isKeyField())Y.push(Kr(g,x.key));else{const Be=x.data.field(ye.field);if(Je(Be))throw new kt(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ye.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const nt=ye.field.canonicalString();throw new kt(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}Y.push(Be)}return new na(Y,K)}(s._query,s.firestore._databaseId,e,r[0]._document,o);{const l=Hc(s.firestore);return function(g,b,x,K,Y,ye){const Be=g.explicitOrderBy;if(Y.length>Be.length)throw new kt(ht.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let Rt=0;Rt<Y.length;Rt++){const Wt=Y[Rt];if(Be[Rt].field.isKeyField()){if("string"!=typeof Wt)throw new kt(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Wt}`);if(!rd(g)&&-1!==Wt.indexOf("/"))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Wt}' contains a slash.`);const An=g.path.child(Fr.fromString(Wt));if(!hn.isDocumentKey(An))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${An}' is not because it contains an odd number of segments.`);const dr=new hn(An);nt.push(Kr(b,dr))}else{const An=Vp(x,K,Wt);nt.push(An)}}return new na(nt,ye)}(s._query,s.firestore._databaseId,l,e,r,o)}}function Dy(s,e,r){if("string"==typeof(r=(0,pt.m9)(r))){if(""===r)throw new kt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rd(e)&&-1!==r.indexOf("/"))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(Fr.fromString(r));if(!hn.isDocumentKey(o))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Kr(s,new hn(o))}if(r instanceof ws)return Kr(s,r._key);throw new kt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(r)}.`)}function xm(s,e){if(!Array.isArray(s)||0===s.length)throw new kt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new kt(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ay(s,e,r){if(!r.isEqual(e))throw new kt(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}const Po={maxAttempts:5};class zp{convertValue(e,r="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(De(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw $t()}}convertObject(e,r){const o={};return Oa(e.fields,(l,g)=>{o[l]=this.convertValue(g,r)}),o}convertGeoPoint(e){return new Ef(oe(e.latitude),oe(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ct(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Bt(e));default:return null}}convertTimestamp(e){const r=G(e);return new mi(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Fr.fromString(e);an(rh(o));const l=new Un(o.get(1),o.get(3)),g=new hn(o.popFirst(5));return l.isEqual(r)||nn(`Document ${g} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),g}}function Zp(s,e,r){let o;return o=s?r&&(r.merge||r.mergeFields)?s.toFirestore(e,r):s.toFirestore(e):e,o}class d0 extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}class Rm{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,r,o){this._verifyNotCommitted();const l=Kc(e,this._firestore),g=Zp(l.converter,r,o),b=Cf(this._dataReader,"WriteBatch.set",l._key,g,null!==l.converter,o);return this._mutations.push(b.toMutation(l._key,_i.none())),this}update(e,r,o,...l){this._verifyNotCommitted();const g=Kc(e,this._firestore);let b;return b="string"==typeof(r=(0,pt.m9)(r))||r instanceof Dl?Tf(this._dataReader,"WriteBatch.update",g._key,r,o,l):Fp(this._dataReader,"WriteBatch.update",g._key,r),this._mutations.push(b.toMutation(g._key,_i.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Kc(e,this._firestore);return this._mutations=this._mutations.concat(new zt(r._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kc(s,e){if((s=(0,pt.m9)(s)).firestore!==e)throw new kt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class zc extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}function Nm(s,e,r){s=di(s,ws);const o=di(s.firestore,Ps),l=Zp(s.converter,e,r);return Wd(o,[Cf(Hc(o),"setDoc",s._key,l,null!==s.converter,r).toMutation(s._key,_i.none())])}function g0(s,e,r,...o){s=di(s,ws);const l=di(s.firestore,Ps),g=Hc(l);let b;return b="string"==typeof(e=(0,pt.m9)(e))||e instanceof Dl?Tf(g,"updateDoc",s._key,e,r,o):Fp(g,"updateDoc",s._key,e),Wd(l,[b.toMutation(s._key,_i.exists(!0))])}function Lu(s,...e){var r,o,l;s=(0,pt.m9)(s);let g={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||hy(e[b])||(g=e[b],b++);const x={includeMetadataChanges:g.includeMetadataChanges};if(hy(e[b])){const Be=e[b];e[b]=null===(r=Be.next)||void 0===r?void 0:r.bind(Be),e[b+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),e[b+2]=null===(l=Be.complete)||void 0===l?void 0:l.bind(Be)}let K,Y,ye;if(s instanceof ws)Y=di(s.firestore,Ps),ye=La(s._key.path),K={next:Be=>{e[b]&&e[b](Fu(Y,s,Be))},error:e[b+1],complete:e[b+2]};else{const Be=di(s,ua);Y=di(Be.firestore,Ps),ye=Be._query;const nt=new zc(Y);K={next:Rt=>{e[b]&&e[b](new Wc(Y,nt,Be,Rt))},error:e[b+1],complete:e[b+2]},Hp(s._query)}return function(Be,nt,Rt,Wt){const An=new fh(Wt),dr=new Lc(nt,An,Rt);return Be.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Xg(yield tl(Be),dr)})),()=>{An.Tc(),Be.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return bp(yield tl(Be),dr)}))}}(Js(Y),ye,x,K)}function Wd(s,e){return function(r,o){const l=new gi;return r.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,e,r){return Cp.apply(this,arguments)}(yield Vc(r),o,l)})),l.promise}(Js(s),e)}function Fu(s,e,r){const o=r.docs.get(e._key),l=new zc(s);return new nl(s,l,e._key,o,new ec(r.hasPendingWrites,r.fromCache),e.converter)}class rl extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Hc(e)}get(e){const r=Kc(e,this._firestore),o=new d0(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return $t();const g=l[0];if(g.isFoundDocument())return new Ch(this._firestore,o,g.key,g,r.converter);if(g.isNoDocument())return new Ch(this._firestore,o,r._key,null,r.converter);throw $t()})}set(e,r,o){const l=Kc(e,this._firestore),g=Zp(l.converter,r,o),b=Cf(this._dataReader,"Transaction.set",l._key,g,null!==l.converter,o);return this._transaction.set(l._key,b),this}update(e,r,o,...l){const g=Kc(e,this._firestore);let b;return b="string"==typeof(r=(0,pt.m9)(r))||r instanceof Dl?Tf(this._dataReader,"Transaction.update",g._key,r,o,l):Fp(this._dataReader,"Transaction.update",g._key,r),this._transaction.update(g._key,b),this}delete(e){const r=Kc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Kc(e,this._firestore),o=new zc(this._firestore);return super.get(e).then(l=>new nl(this._firestore,o,r._key,l._document,new ec(!1,!1),r.converter))}}function Lm(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fm(){if("undefined"==typeof Uint8Array)throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function Vm(){if("undefined"==typeof atob)throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){Z=qe.SDK_VERSION,(0,qe._registerComponent)(new rt.wA("firestore",(r,{options:o})=>{const l=r.getProvider("app").getImmediate(),g=new Ps(l,new Rl(r.getProvider("auth-internal")),new Bu(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),g._setSettings(o),g},"PUBLIC")),(0,qe.registerVersion)(w,"3.4.11",s),(0,qe.registerVersion)(w,"3.4.11","esm2017")}();class Zc{constructor(e){this._delegate=e}static fromBase64String(e){return Vm(),new Zc(Al.fromBase64String(e))}static fromUint8Array(e){return Fm(),new Zc(Al.fromUint8Array(e))}toBase64(){return Vm(),this._delegate.toBase64()}toUint8Array(){return Fm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bm(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const r=s;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(s)}class Ly{enableIndexedDbPersistence(e,r){return function(s,e){vy(s=di(s,Ps));const r=Js(s),o=s._freezeSettings(),l=new hh;return my(r,l,new oy(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(s){vy(s=di(s,Ps));const e=Js(s),r=s._freezeSettings(),o=new hh;return my(e,o,new ay(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new kt(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new gi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(r=(0,Se.Z)(function*(o){if(!ii.V())return Promise.resolve();const l=o+"main";yield ii.delete(l)}),function(o){return r.apply(this,arguments)})(Cl(s._databaseId,s._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Qp{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Un||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Or("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function(s,e,r,o={}){var l;const g=(s=di(s,vf))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&Or("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let b,x;if("string"==typeof o.mockUserToken)b=o.mockUserToken,x=L.MOCK_USER;else{b=(0,pt.Sg)(o.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new kt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new L(K)}s._authCredentials=new ol(new No(b,x))}}(this._delegate,e,r,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Bd(s),r=yield Ud(s);return e.setNetworkEnabled(!0),function(o){const l=rn(o);return l.lu.delete(0),sf(l)}(r)}))}(Js(s=di(s,Ps)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Bd(s),r=yield Ud(s);return e.setNetworkEnabled(!1),(o=(0,Se.Z)(function*(l){const g=rn(l);g.lu.add(0),yield Rd(g),g._u.set("Offline")}),function(l){return o.apply(this,arguments)})(r);var o}))}(Js(s=di(s,Ps)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,uy("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const r=new gi;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,e){return om.apply(this,arguments)}(yield Vc(e),r)})),r.promise}(Js(s=di(s,Ps)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const r=new fh(e);return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return o=yield tl(s),l=r,rn(o).Tu.add(l),void l.next();var o,l})),()=>{r.Tc(),s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return o=yield tl(s),l=r,void rn(o).Tu.delete(l);var o,l}))}}(Js(s=di(s,Ps)),hy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Kd(this,dy(this._delegate,e))}catch(r){throw la(r,"collection()","Firestore.collection()")}}doc(e){try{return new tu(this,kp(this._delegate,e))}catch(r){throw la(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ma(this,function(s,e){if(s=di(s,vf),_f("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ua(s,null,(r=e,new Uo(Fr.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw la(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e,r){s=di(s,Ps);const o=Object.assign(Object.assign({},Po),r);return function(l){if(l.maxAttempts<1)throw new kt(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(s,e,r){const o=new gi;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const l=yield(g=s,ja(g).then(b=>b.datastore));var g;new Zv(s.asyncQueue,l,r,e,o).run()})),o.promise}(Js(s),l=>e(new rl(s,l)),o)}(this._delegate,r=>e(new qp(this,r)))}batch(){return Js(this._delegate),new Xp(new Rm(this._delegate,e=>Wd(this._delegate,e)))}loadBundle(e){return function(s,e){const r=Js(s=di(s,Ps)),o=new fy;return function(s,e,r,o){const l=function(g,b){let x;return x="string"==typeof g?(new TextEncoder).encode(g):g,K=function(K,Y){if(K instanceof Uint8Array)return Vd(K,Y);if(K instanceof ArrayBuffer)return Vd(new Uint8Array(K),Y);if(K instanceof ReadableStream)return K.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new Ou(K,b);var K}(r,ch(e));s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function(s,e,r){const o=rn(s);var l;(l=(0,Se.Z)(function*(g,b,x){try{const K=yield b.getMetadata();if(yield function(nt,Rt){const Wt=rn(nt),An=Xs(Rt.createTime);return Wt.persistence.runTransaction("hasNewerBundle","readonly",dr=>Wt.Ds.getBundleMetadata(dr,Rt.id)).then(dr=>!!dr&&dr.createTime.compareTo(An)>=0)}(g.localStore,K))return yield b.close(),x._completeWith({taskState:"Success",documentsLoaded:(nt=K).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);x._updateProgress(z_(K));const Y=new Vv(K,g.localStore,b.wt);let ye=yield b.fc();for(;ye;){const nt=yield Y.Nu(ye);nt&&x._updateProgress(nt),ye=yield b.fc()}const Be=yield Y.complete();return yield Yl(g,Be.Mu,void 0),yield function(nt,Rt){const Wt=rn(nt);return Wt.persistence.runTransaction("Save bundle","readwrite",An=>Wt.Ds.saveBundleMetadata(An,Rt))}(g.localStore,K),x._completeWith(Be.progress),Promise.resolve(Be.Ou)}catch(K){return Or("SyncEngine",`Loading bundle failed with ${K}`),x._failWith(K),Promise.resolve(new Set)}var nt}),function(g,b,x){return l.apply(this,arguments)})(o,e,r).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Vc(s),l,o)}))}(r,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,Se.Z)(function*(){return function(r,o){const l=rn(r);return l.persistence.runTransaction("Get named query","readonly",g=>l.Ds.getNamedQuery(g,o))}(yield Fc(s),e)}))}(Js(s=di(s,Ps)),e).then(r=>r?new ua(s,null,r.query):null)}(this._delegate,e).then(r=>r?new Ma(this,r):null)}}class $d extends zp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(new Al(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return tu.forKey(r,this.firestore,null)}}class qp{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}get(e){const r=Qc(e);return this._delegate.get(r).then(o=>new Sh(this._firestore,new nl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const l=Qc(e);return o?(Lm("Transaction.set",o),this._delegate.set(l,r,o)):this._delegate.set(l,r),this}update(e,r,o,...l){const g=Qc(e);return 2===arguments.length?this._delegate.update(g,r):this._delegate.update(g,r,o,...l),this}delete(e){const r=Qc(e);return this._delegate.delete(r),this}}class Xp{constructor(e){this._delegate=e}set(e,r,o){const l=Qc(e);return o?(Lm("WriteBatch.set",o),this._delegate.set(l,r,o)):this._delegate.set(l,r),this}update(e,r,o,...l){const g=Qc(e);return 2===arguments.length?this._delegate.update(g,r):this._delegate.update(g,r,o,...l),this}delete(e){const r=Qc(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class tc{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dh(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=tc.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let g=l.get(r);return g||(g=new tc(e,new $d(e),r),l.set(r,g)),g}}tc.INSTANCES=new WeakMap;class tu{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}static forPath(e,r,o){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tu(r,new ws(r._delegate,o,new hn(e)))}static forKey(e,r,o){return new tu(r,new ws(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Kd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Kd(this.firestore,dy(this._delegate,e))}catch(r){throw la(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pt.m9)(e))instanceof ws&&Em(this._delegate,e)}set(e,r){r=Lm("DocumentReference.set",r);try{return r?Nm(this._delegate,e,r):Nm(this._delegate,e)}catch(o){throw la(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?g0(this._delegate,e):g0(this._delegate,e,r,...o)}catch(l){throw la(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Wd(di(s.firestore,Ps),[new zt(s._key,_i.none())])}(this._delegate)}onSnapshot(...e){const r=Yp(e),o=Jp(e,l=>new Sh(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Lu(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=di(s,ws);const e=di(s.firestore,Ps),r=Js(e),o=new zc(e);return function(s,e){const r=new gi;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(o=(0,Se.Z)(function*(l,g,b){try{const x=yield function(K,Y){const ye=rn(K);return ye.persistence.runTransaction("read document","readonly",Be=>ye.localDocuments.getDocument(Be,Y))}(l,g);x.isFoundDocument()?b.resolve(x):x.isNoDocument()?b.resolve(null):b.reject(new kt(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const K=Oc(x,`Failed to get document '${g} from cache`);b.reject(K)}}),function(l,g,b){return o.apply(this,arguments)})(yield Fc(s),e,r);var o})),r.promise}(r,s._key).then(l=>new nl(e,o,s._key,l,new ec(null!==l&&l.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=di(s,ws);const e=di(s.firestore,Ps);return Rp(Js(e),s._key,{source:"server"}).then(r=>Fu(e,s,r))}(this._delegate):function(s){s=di(s,ws);const e=di(s.firestore,Ps);return Rp(Js(e),s._key).then(r=>Fu(e,s,r))}(this._delegate),r.then(o=>new Sh(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new tu(this.firestore,this._delegate.withConverter(e?tc.getInstance(this.firestore,e):null))}}function la(s,e,r){return s.message=s.message.replace(e,r),s}function Yp(s){for(const e of s)if("object"==typeof e&&!Bm(e))return e;return{}}function Jp(s,e){var r,o;let l;return l=Bm(s[0])?s[0]:Bm(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:g=>{l.next&&l.next(e(g))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Sh{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new tu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Tm(this._delegate,e._delegate)}}class Dh extends Sh{data(e){const r=this._delegate.data(e);return function(s,e){s||$t()}(void 0!==r),r}}class Ma{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}where(e,r,o){try{return new Ma(this.firestore,$c(this._delegate,function(s,e,r){const o=e,l=wf("where",s);return new Ty(l,o,r)}(e,r,o)))}catch(l){throw la(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Ma(this.firestore,$c(this._delegate,function(s,e="asc"){const r=e,o=wf("orderBy",s);return new wm(o,r)}(e,r)))}catch(o){throw la(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ma(this.firestore,$c(this._delegate,function(s){return ly("limit",s),new Wp("limit",s,"F")}(e)))}catch(r){throw la(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Ma(this.firestore,$c(this._delegate,function(s){return ly("limitToLast",s),new Wp("limitToLast",s,"L")}(e)))}catch(r){throw la(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ma(this.firestore,$c(this._delegate,function(...s){return new $p("startAt",s,!0)}(...e)))}catch(r){throw la(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ma(this.firestore,$c(this._delegate,function(...s){return new $p("startAfter",s,!1)}(...e)))}catch(r){throw la(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ma(this.firestore,$c(this._delegate,function(...s){return new Kp("endBefore",s,!1)}(...e)))}catch(r){throw la(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ma(this.firestore,$c(this._delegate,function(...s){return new Kp("endAt",s,!0)}(...e)))}catch(r){throw la(r,"endAt()","Query.endAt()")}}isEqual(e){return Xv(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=di(s,ua);const e=di(s.firestore,Ps),r=Js(e),o=new zc(e);return function(s,e){const r=new gi;return s.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(o=(0,Se.Z)(function*(l,g,b){try{const x=yield ap(l,g,!0),K=new tm(g,x.ji),Y=K.Ku(x.documents),ye=K.applyChanges(Y,!1);b.resolve(ye.snapshot)}catch(x){const K=Oc(x,`Failed to execute query '${g} against cache`);b.reject(K)}}),function(l,g,b){return o.apply(this,arguments)})(yield Fc(s),e,r);var o})),r.promise}(r,s._query).then(l=>new Wc(e,o,s,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=di(s,ua);const e=di(s.firestore,Ps),r=Js(e),o=new zc(e);return Np(r,s._query,{source:"server"}).then(l=>new Wc(e,o,s,l))}(this._delegate):function(s){s=di(s,ua);const e=di(s.firestore,Ps),r=Js(e),o=new zc(e);return Hp(s._query),Np(r,s._query).then(l=>new Wc(e,o,s,l))}(this._delegate),r.then(o=>new eg(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=Yp(e),o=Jp(e,l=>new eg(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Lu(this._delegate,r,o)}withConverter(e){return new Ma(this.firestore,this._delegate.withConverter(e?tc.getInstance(this.firestore,e):null))}}class Fy{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Dh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eg{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Ma(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new Fy(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Dh(this._firestore,o))})}isEqual(e){return Tm(this._delegate,e._delegate)}}class Kd extends Ma{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tu(this.firestore,e):null}doc(e){try{return new tu(this.firestore,void 0===e?kp(this._delegate):kp(this._delegate,e))}catch(r){throw la(r,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const r=di(s.firestore,Ps),o=kp(s),l=Zp(s.converter,e);return Wd(r,[Cf(Hc(s.firestore),"addDoc",o._key,l,null!==s.converter,{}).toMutation(o._key,_i.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new tu(this.firestore,r))}isEqual(e){return Em(this._delegate,e._delegate)}withConverter(e){return new Kd(this.firestore,this._delegate.withConverter(e?tc.getInstance(this.firestore,e):null))}}function Qc(s){return di(s,ws)}class tg{constructor(...e){this._delegate=new Dl(...e)}static documentId(){return new tg(jr.keyField().canonicalString())}isEqual(e){return(e=(0,pt.m9)(e))instanceof Dl&&this._delegate._internalPath.isEqual(e._internalPath)}}class qc{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Gc("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new qc(e)}static delete(){const e=new jd("deleteField");return e._methodName="FieldValue.delete",new qc(e)}static arrayUnion(...e){const r=function(...s){return new by("arrayUnion",s)}(...e);return r._methodName="FieldValue.arrayUnion",new qc(r)}static arrayRemove(...e){const r=function(...s){return new l0("arrayRemove",s)}(...e);return r._methodName="FieldValue.arrayRemove",new qc(r)}static increment(e){const r=function(s){return new If("increment",s)}(e);return r._methodName="FieldValue.increment",new qc(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Vy={Firestore:Qp,GeoPoint:Ef,Timestamp:mi,Blob:Zc,Transaction:qp,WriteBatch:Xp,DocumentReference:tu,DocumentSnapshot:Sh,Query:Ma,QueryDocumentSnapshot:Dh,QuerySnapshot:eg,CollectionReference:Kd,FieldPath:tg,FieldValue:qc,setLogLevel:function(s){!function(s){de.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new rt.wA("firestore-compat",r=>((e,r)=>new Qp(e,r,new Ly))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Vy)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.20")}(et.Z);var nc=P(1325),jy=P(3950),Hy=P(7841);function ng(s,e){return function(s,e=R.z){return new z.y(r=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},r)}):o=s.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(s,e)}function jm(s,e){return ng(s,e).pipe((0,ce.O)(void 0),(0,X.G)(),(0,le.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}function Ah(s,e){return ng(s,e).pipe((0,le.U)(r=>({payload:r,type:"query"})))}function zd(s,e){return Ah(s,e).pipe((0,ce.O)(void 0),(0,X.G)(),(0,le.U)(([r,o])=>{const l=o.payload.docChanges(),g=l.map(b=>({type:b.type,payload:b}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((b,x)=>{const K=l.find(ye=>ye.doc.ref.isEqual(b.ref)),Y=null==r?void 0:r.payload.docs.find(ye=>ye.ref.isEqual(b.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(b.metadata)||!K&&Y&&JSON.stringify(Y.metadata)===JSON.stringify(b.metadata)||g.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:b}})}),g}))}function Sf(s,e,r){return zd(s,r).pipe((0,$.R)((o,l)=>rg(o,l.map(g=>g.payload),e),[]),(0,J.x)(),(0,le.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function rg(s,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(s=ig(s,o))}),s}function Df(s,e,r,...o){const l=s.slice();return l.splice(e,r,...o),l}function ig(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return Df(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=s.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Df(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Df(s,e.oldIndex,1)}return s}function Af(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class Mf{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=zd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,le.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),r.pipe((0,ce.O)(void 0),(0,X.G)(),(0,ie.h)(([o,l])=>l.length>0||!o),(0,le.U)(([o,l])=>l),ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,$.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Af(e);return Sf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ee.iC)}valueChanges(e={}){return Ah(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ee.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(ee.iC)}add(e){return this.ref.add(e)}doc(e){return new Pf(this.ref.doc(e),this.afs)}}class Pf{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:l,query:g}=Xc(o,r);return new Mf(l,g,this.afs)}snapshotChanges(){return jm(this.ref,this.afs.schedulers.outsideAngular).pipe(ee.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,le.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,ue.D)(this.ref.get(e)).pipe(ee.iC)}}class sg{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?zd(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,ie.h)(r=>r.length>0),ee.iC):zd(this.query,this.afs.schedulers.outsideAngular).pipe(ee.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,$.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Af(e);return Sf(this.query,r,this.afs.schedulers.outsideAngular).pipe(ee.iC)}valueChanges(e={}){return Ah(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ee.iC)}get(e){return(0,ue.D)(this.query.get(e)).pipe(ee.iC)}}const xf=new h.InjectionToken("angularfire2.enableFirestorePersistence"),rc=new h.InjectionToken("angularfire2.firestore.persistenceSettings"),Wy=new h.InjectionToken("angularfire2.firestore.settings"),$y=new h.InjectionToken("angularfire2.firestore.use-emulator");function Xc(s,e=(r=>r)){return{query:e(s),ref:s}}let Ky=(()=>{class s{constructor(r,o,l,g,b,x,K,Y,ye,Be,nt,Rt,Wt,An,dr,Ni,ms){this.schedulers=K;const zi=(0,we.\u0275firebaseAppFactory)(r,x,o),lo=ye;Be&&(0,nc.\u0275authFactory)(zi,x,nt,Wt,An,dr,Rt,Ni),[this.firestore,this.persistenceEnabled$]=(0,we.\u0275cacheInstance)(`${zi.name}.firestore`,"AngularFirestore",zi.name,()=>{const Ss=x.runOutsideAngular(()=>zi.firestore());if(g&&Ss.settings(g),lo&&Ss.useEmulator(...lo),l&&!(0,xe.isPlatformServer)(b)){const Gs=()=>{try{return(0,ue.D)(Ss.enablePersistence(Y||void 0).then(()=>!0,()=>!1))}catch(Pa){return"undefined"!=typeof console&&console.warn(Pa),(0,pe.of)(!1)}};return[Ss,x.runOutsideAngular(Gs)]}return[Ss,(0,pe.of)(!1)]},[g,lo,l])}collection(r,o){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:g,query:b}=Xc(l,o),x=this.schedulers.ngZone.run(()=>g);return new Mf(x,b,this)}collectionGroup(r,o){const l=o||(b=>b),g=this.firestore.collectionGroup(r);return new sg(l(g),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>o);return new Pf(l,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(r){return new(r||s)(h.\u0275\u0275inject(we.FIREBASE_OPTIONS),h.\u0275\u0275inject(we.FIREBASE_APP_NAME,8),h.\u0275\u0275inject(xf,8),h.\u0275\u0275inject(Wy,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(ee.HU),h.\u0275\u0275inject(rc,8),h.\u0275\u0275inject($y,8),h.\u0275\u0275inject(nc.AngularFireAuth,8),h.\u0275\u0275inject(nc.USE_EMULATOR,8),h.\u0275\u0275inject(nc.SETTINGS,8),h.\u0275\u0275inject(nc.TENANT_ID,8),h.\u0275\u0275inject(nc.LANGUAGE_CODE,8),h.\u0275\u0275inject(nc.USE_DEVICE_LANGUAGE,8),h.\u0275\u0275inject(nc.PERSISTENCE,8),h.\u0275\u0275inject(jy.nm,8))},s.\u0275prov=h.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Hm=(()=>{class s{constructor(){Hy.Z.registerVersion("angularfire",ee.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:s,providers:[{provide:xf,useValue:!0},{provide:rc,useValue:r}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=h.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=h.\u0275\u0275defineInjector({providers:[Ky]}),s})()},8939:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{AngularFireModule:()=>we,FIREBASE_APP_NAME:()=>le,FIREBASE_OPTIONS:()=>X,FirebaseApp:()=>ce,\u0275applyMixins:()=>ee,\u0275cacheInstance:()=>xe,\u0275firebaseAppFactory:()=>$,\u0275lazySDKProxy:()=>pe});var h=P(7716),R=P(7841),z=P(2274);It=P.hmd(It);const ue=["ngOnDestroy"],pe=(qe,rt,re,pt={})=>new Proxy(qe,{get:(Tn,_n)=>re.runOutsideAngular(()=>{var st;if(qe[_n])return(null===(st=null==pt?void 0:pt.spy)||void 0===st?void 0:st.get)&&pt.spy.get(_n,qe[_n]),qe[_n];if(ue.indexOf(_n)>-1)return()=>{};const jt=rt.toPromise().then(Ue=>{const bt=Ue&&Ue[_n];return"function"==typeof bt?bt.bind(Ue):bt&&bt.then?bt.then(gt=>re.run(()=>gt)):re.run(()=>bt)});return new Proxy(()=>{},{get:(Ue,bt)=>jt[bt],apply:(Ue,bt,gt)=>jt.then(Mt=>{var Et;const en=Mt&&Mt(...gt);return(null===(Et=null==pt?void 0:pt.spy)||void 0===Et?void 0:Et.apply)&&pt.spy.apply(_n,gt,en),en})})})}),ee=(qe,rt)=>{rt.forEach(re=>{Object.getOwnPropertyNames(re.prototype||re).forEach(pt=>{Object.defineProperty(qe.prototype,pt,Object.getOwnPropertyDescriptor(re.prototype||re,pt))})})};class ce{constructor(rt){return rt}}const X=new h.InjectionToken("angularfire2.app.options"),le=new h.InjectionToken("angularfire2.app.name");function $(qe,rt,re){const Tn="object"==typeof re&&re||{};Tn.name=Tn.name||"string"==typeof re&&re||"[DEFAULT]";const st=R.Z.apps.filter(jt=>jt&&jt.name===Tn.name)[0]||rt.runOutsideAngular(()=>R.Z.initializeApp(qe,Tn));try{JSON.stringify(qe)!==JSON.stringify(st.options)&&J("error",`${st.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(jt){}return new ce(st)}const J=(qe,...rt)=>{(0,h.isDevMode)()&&"undefined"!=typeof console&&console[qe](...rt)},ie={provide:ce,useFactory:$,deps:[X,h.NgZone,[new h.Optional,le]]};let we=(()=>{class qe{constructor(re){R.Z.registerVersion("angularfire",z.q4.full,"core"),R.Z.registerVersion("angularfire",z.q4.full,"app-compat"),R.Z.registerVersion("angular",h.VERSION.full,re.toString())}static initializeApp(re,pt){return{ngModule:qe,providers:[{provide:X,useValue:re},{provide:le,useValue:pt}]}}}return qe.\u0275fac=function(re){return new(re||qe)(h.\u0275\u0275inject(h.PLATFORM_ID))},qe.\u0275mod=h.\u0275\u0275defineNgModule({type:qe}),qe.\u0275inj=h.\u0275\u0275defineInjector({providers:[ie]}),qe})();function xe(qe,rt,re,pt,Tn){const[,_n,st]=globalThis.\u0275AngularfireInstanceCache.find(jt=>jt[0]===qe)||[];if(_n)return function(qe,rt){try{return qe.toString()===rt.toString()}catch(re){return qe===rt}}(Tn,st)||(Se("error",`${rt} was already initialized on the ${re} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Tn,was:st})),_n;{const jt=pt();return globalThis.\u0275AngularfireInstanceCache.push([qe,jt,Tn]),jt}}const et=!!It.hot,Se=(qe,...rt)=>{(0,h.isDevMode)()&&"undefined"!=typeof console&&console[qe](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2274:(It,ve,P)=>{"use strict";P.d(ve,{q4:()=>cl,iC:()=>Jo,HU:()=>kl,vb:()=>bu,JM:()=>Ca});var h=P(7716),R=P(2329),z=P(8239),ue=P(8026),pe=P(3854),ee=P(3910),ce=P(5422),X=P(7449);const le="@firebase/installations",$="0.5.11",ie=`w:${$}`,we="FIS_v2",rt=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function re(F){return F instanceof pe.ZR&&F.code.includes("request-failed")}function pt({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Tn(F){return{token:F.token,requestStatus:2,expiresIn:Mt(F.expiresIn),creationTime:Date.now()}}function _n(F,G){return st.apply(this,arguments)}function st(){return(st=(0,z.Z)(function*(F,G){const De=(yield G.json()).error;return rt.create("request-failed",{requestName:F,serverCode:De.code,serverMessage:De.message,serverStatus:De.status})})).apply(this,arguments)}function jt({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function Ue(F,{refreshToken:G}){const oe=jt(F);return oe.append("Authorization",function(F){return`${we} ${F}`}(G)),oe}function bt(F){return gt.apply(this,arguments)}function gt(){return(gt=(0,z.Z)(function*(F){const G=yield F();return G.status>=500&&G.status<600?F():G})).apply(this,arguments)}function Mt(F){return Number(F.replace("s","000"))}function en(F,G){return xt.apply(this,arguments)}function xt(){return(xt=(0,z.Z)(function*({appConfig:F,heartbeatServiceProvider:G},{fid:oe}){const De=pt(F),Je=jt(F),ct=G.getImmediate({optional:!0});if(ct){const sr=yield ct.getHeartbeatsHeader();sr&&Je.append("x-firebase-client",sr)}const gn={method:"POST",headers:Je,body:JSON.stringify({fid:oe,authVersion:we,appId:F.appId,sdkVersion:ie})},Un=yield bt(()=>fetch(De,gn));if(Un.ok){const sr=yield Un.json();return{fid:sr.fid||oe,registrationStatus:2,refreshToken:sr.refreshToken,authToken:Tn(sr.authToken)}}throw yield _n("Create Installation",Un)})).apply(this,arguments)}function En(F){return new Promise(G=>{setTimeout(G,F)})}const Sn=/^[cdef][\w-]{21}$/;function Dn(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const oe=function(F){return function(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Sn.test(oe)?oe:""}catch(F){return""}}function Dr(F){return`${F.appName}!${F.appId}`}const Ht=new Map;function Zt(F,G){const oe=Dr(F);dn(oe,G),function(F,G){const oe=(!Qt&&"BroadcastChannel"in self&&(Qt=new BroadcastChannel("[Firebase] FID Change"),Qt.onmessage=F=>{dn(F.data.key,F.data.fid)}),Qt);oe&&oe.postMessage({key:F,fid:G}),0===Ht.size&&Qt&&(Qt.close(),Qt=null)}(oe,G)}function dn(F,G){const oe=Ht.get(F);if(oe)for(const De of oe)De(G)}let Qt=null;const St="firebase-installations-store";let Xn=null;function xn(){return Xn||(Xn=(0,X.X3)("firebase-installations-database",1,{upgrade:(F,G)=>{switch(G){case 0:F.createObjectStore(St)}}})),Xn}function ln(F,G){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,z.Z)(function*(F,G){const oe=Dr(F),Je=(yield xn()).transaction(St,"readwrite"),ct=Je.objectStore(St),Bt=yield ct.get(oe);return yield ct.put(G,oe),yield Je.done,(!Bt||Bt.fid!==G.fid)&&Zt(F,G.fid),G})).apply(this,arguments)}function Ir(F){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,z.Z)(function*(F){const G=Dr(F),De=(yield xn()).transaction(St,"readwrite");yield De.objectStore(St).delete(G),yield De.done})).apply(this,arguments)}function at(F,G){return $e.apply(this,arguments)}function $e(){return($e=(0,z.Z)(function*(F,G){const oe=Dr(F),Je=(yield xn()).transaction(St,"readwrite"),ct=Je.objectStore(St),Bt=yield ct.get(oe),gn=G(Bt);return void 0===gn?yield ct.delete(oe):yield ct.put(gn,oe),yield Je.done,gn&&(!Bt||Bt.fid!==gn.fid)&&Zt(F,gn.fid),gn})).apply(this,arguments)}function Ae(F){return dt.apply(this,arguments)}function dt(){return(dt=(0,z.Z)(function*(F){let G;const oe=yield at(F.appConfig,De=>{const Je=mt(De),ct=Xt(F,Je);return G=ct.registrationPromise,ct.installationEntry});return""===oe.fid?{installationEntry:yield G}:{installationEntry:oe,registrationPromise:G}})).apply(this,arguments)}function mt(F){return Cn(F||{fid:Dn(),registrationStatus:0})}function Xt(F,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(rt.create("app-offline"))};const oe={fid:G.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:oe,registrationPromise:function(F,G){return Yt.apply(this,arguments)}(F,oe)}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:On(F)}:{installationEntry:G}}function Yt(){return(Yt=(0,z.Z)(function*(F,G){try{const oe=yield en(F,G);return ln(F.appConfig,oe)}catch(oe){throw re(oe)&&409===oe.customData.serverCode?yield Ir(F.appConfig):yield ln(F.appConfig,{fid:G.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function On(F){return _r.apply(this,arguments)}function _r(){return(_r=(0,z.Z)(function*(F){let G=yield Wn(F.appConfig);for(;1===G.registrationStatus;)yield En(100),G=yield Wn(F.appConfig);if(0===G.registrationStatus){const{installationEntry:oe,registrationPromise:De}=yield Ae(F);return De||oe}return G})).apply(this,arguments)}function Wn(F){return at(F,G=>{if(!G)throw rt.create("installation-not-found");return Cn(G)})}function Cn(F){return function(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function yn(F,G){return on.apply(this,arguments)}function on(){return(on=(0,z.Z)(function*({appConfig:F,heartbeatServiceProvider:G},oe){const De=Ce(F,oe),Je=Ue(F,oe),ct=G.getImmediate({optional:!0});if(ct){const sr=yield ct.getHeartbeatsHeader();sr&&Je.append("x-firebase-client",sr)}const gn={method:"POST",headers:Je,body:JSON.stringify({installation:{sdkVersion:ie,appId:F.appId}})},Un=yield bt(()=>fetch(De,gn));if(Un.ok)return Tn(yield Un.json());throw yield _n("Generate Auth Token",Un)})).apply(this,arguments)}function Ce(F,{fid:G}){return`${pt(F)}/${G}/authTokens:generate`}function Te(F){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,z.Z)(function*(F,G=!1){let oe;const De=yield at(F.appConfig,ct=>{if(!jn(ct))throw rt.create("not-registered");const Bt=ct.authToken;if(!G&&lr(Bt))return ct;if(1===Bt.requestStatus)return oe=Fe(F,G),ct;{if(!navigator.onLine)throw rt.create("app-offline");const gn=er(ct);return oe=Ot(F,gn),gn}});return oe?yield oe:De.authToken})).apply(this,arguments)}function Fe(F,G){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,z.Z)(function*(F,G){let oe=yield _t(F.appConfig);for(;1===oe.authToken.requestStatus;)yield En(100),oe=yield _t(F.appConfig);const De=oe.authToken;return 0===De.requestStatus?Te(F,G):De})).apply(this,arguments)}function _t(F){return at(F,G=>{if(!jn(G))throw rt.create("not-registered");return function(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function Ot(F,G){return mn.apply(this,arguments)}function mn(){return(mn=(0,z.Z)(function*(F,G){try{const oe=yield yn(F,G),De=Object.assign(Object.assign({},G),{authToken:oe});return yield ln(F.appConfig,De),oe}catch(oe){if(!re(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const De=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield ln(F.appConfig,De)}else yield Ir(F.appConfig);throw oe}})).apply(this,arguments)}function jn(F){return void 0!==F&&2===F.registrationStatus}function lr(F){return 2===F.requestStatus&&!function(F){const G=Date.now();return G<F.creationTime||F.creationTime+F.expiresIn<G+36e5}(F)}function er(F){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:G})}function ke(){return(ke=(0,z.Z)(function*(F){const G=F,{installationEntry:oe,registrationPromise:De}=yield Ae(G);return De?De.catch(console.error):Te(G).catch(console.error),oe.fid})).apply(this,arguments)}function qt(){return(qt=(0,z.Z)(function*(F,G=!1){const oe=F;return yield Yn(oe),(yield Te(oe,G)).token})).apply(this,arguments)}function Yn(F){return $n.apply(this,arguments)}function $n(){return($n=(0,z.Z)(function*(F){const{registrationPromise:G}=yield Ae(F);G&&(yield G)})).apply(this,arguments)}function Qn(F){return rt.create("missing-app-config-values",{valueName:F})}const zr="installations";(0,ue._registerComponent)(new ee.wA(zr,F=>{const G=F.getProvider("app").getImmediate();return{app:G,appConfig:function(F){if(!F||!F.options)throw Qn("App Configuration");if(!F.name)throw Qn("App Name");const G=["projectId","apiKey","appId"];for(const oe of G)if(!F.options[oe])throw Qn(oe);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(G),heartbeatServiceProvider:(0,ue._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ee.wA("installations-internal",F=>{const G=F.getProvider("app").getImmediate(),oe=(0,ue._getProvider)(G,zr).getImmediate();return{getId:()=>function(F){return ke.apply(this,arguments)}(oe),getToken:Je=>function(F){return qt.apply(this,arguments)}(oe,Je)}},"PRIVATE")),(0,ue.registerVersion)(le,$),(0,ue.registerVersion)(le,$,"esm2017");const hi="@firebase/remote-config",_e=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ji{constructor(G,oe,De,Je){this.client=G,this.storage=oe,this.storageCache=De,this.logger=Je}isCachedDataFresh(G,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const De=Date.now()-oe,Je=De<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${De}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${Je}.`),Je}fetch(G){var oe=this;return(0,z.Z)(function*(){const[De,Je]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(Je&&oe.isCachedDataFresh(G.cacheMaxAgeMillis,De))return Je;G.eTag=Je&&Je.eTag;const ct=yield oe.client.fetch(G),Bt=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ct.status&&Bt.push(oe.storage.setLastSuccessfulFetchResponse(ct)),yield Promise.all(Bt),ct})()}}function hr(F=navigator){return F.languages&&F.languages[0]||F.language}class zn{constructor(G,oe,De,Je,ct,Bt){this.firebaseInstallations=G,this.sdkVersion=oe,this.namespace=De,this.projectId=Je,this.apiKey=ct,this.appId=Bt}fetch(G){var oe=this;return(0,z.Z)(function*(){var De,Je,ct;const[Bt,gn]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),sr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Sr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},qn={sdk_version:oe.sdkVersion,app_instance_id:Bt,app_instance_id_token:gn,app_id:oe.appId,language_code:hr()},$i={method:"POST",headers:Sr,body:JSON.stringify(qn)},Ki=fetch(sr,$i),Fo=new Promise((Vo,Kr)=>{G.signal.addEventListener(()=>{const qa=new Error("The operation was aborted.");qa.name="AbortError",Kr(qa)})});let js;try{yield Promise.race([Ki,Fo]),js=yield Ki}catch(Vo){let Kr="fetch-client-network";throw"AbortError"===(null===(De=Vo)||void 0===De?void 0:De.name)&&(Kr="fetch-timeout"),_e.create(Kr,{originalErrorMessage:null===(Je=Vo)||void 0===Je?void 0:Je.message})}let Ia=js.status;const qs=js.headers.get("ETag")||void 0;let ea,gs;if(200===js.status){let Vo;try{Vo=yield js.json()}catch(Kr){throw _e.create("fetch-client-parse",{originalErrorMessage:null===(ct=Kr)||void 0===ct?void 0:ct.message})}ea=Vo.entries,gs=Vo.state}if("INSTANCE_STATE_UNSPECIFIED"===gs?Ia=500:"NO_CHANGE"===gs?Ia=304:("NO_TEMPLATE"===gs||"EMPTY_CONFIG"===gs)&&(ea={}),304!==Ia&&200!==Ia)throw _e.create("fetch-status",{httpStatus:Ia});return{status:Ia,eTag:qs,config:ea}})()}}class Ne{constructor(G,oe){this.client=G,this.storage=oe}fetch(G){var oe=this;return(0,z.Z)(function*(){const De=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(G,De)})()}attemptFetch(G,{throttleEndTimeMillis:oe,backoffCount:De}){var Je=this;return(0,z.Z)(function*(){yield function(F,G){return new Promise((oe,De)=>{const Je=Math.max(G-Date.now(),0),ct=setTimeout(oe,Je);F.addEventListener(()=>{clearTimeout(ct),De(_e.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,oe);try{const ct=yield Je.client.fetch(G);return yield Je.storage.deleteThrottleMetadata(),ct}catch(ct){if(!function(F){if(!(F instanceof pe.ZR&&F.customData))return!1;const G=Number(F.customData.httpStatus);return 429===G||500===G||503===G||504===G}(ct))throw ct;const Bt={throttleEndTimeMillis:Date.now()+(0,pe.$s)(De),backoffCount:De+1};return yield Je.storage.setThrottleMetadata(Bt),Je.attemptFetch(G,Bt)}})()}}class Gt{constructor(G,oe,De,Je,ct){this.app=G,this._client=oe,this._storageCache=De,this._storage=Je,this._logger=ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pn(F,G){var oe;const De=F.target.error||void 0;return _e.create(G,{originalErrorMessage:De&&(null===(oe=De)||void 0===oe?void 0:oe.message)})}const Mn="app_namespace_store";class ls{constructor(G,oe,De,Je=function(){return new Promise((F,G)=>{var oe;try{const De=indexedDB.open("firebase_remote_config",1);De.onerror=Je=>{G(pn(Je,"storage-open"))},De.onsuccess=Je=>{F(Je.target.result)},De.onupgradeneeded=Je=>{const ct=Je.target.result;switch(Je.oldVersion){case 0:ct.createObjectStore(Mn,{keyPath:"compositeKey"})}}}catch(De){G(_e.create("storage-open",{originalErrorMessage:null===(oe=De)||void 0===oe?void 0:oe.message}))}})}()){this.appId=G,this.appName=oe,this.namespace=De,this.openDbPromise=Je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var oe=this;return(0,z.Z)(function*(){const De=yield oe.openDbPromise;return new Promise((Je,ct)=>{var Bt;const Un=De.transaction([Mn],"readonly").objectStore(Mn),sr=oe.createCompositeKey(G);try{const Sr=Un.get(sr);Sr.onerror=qn=>{ct(pn(qn,"storage-get"))},Sr.onsuccess=qn=>{const $i=qn.target.result;Je($i?$i.value:void 0)}}catch(Sr){ct(_e.create("storage-get",{originalErrorMessage:null===(Bt=Sr)||void 0===Bt?void 0:Bt.message}))}})})()}set(G,oe){var De=this;return(0,z.Z)(function*(){const Je=yield De.openDbPromise;return new Promise((ct,Bt)=>{var gn;const sr=Je.transaction([Mn],"readwrite").objectStore(Mn),Sr=De.createCompositeKey(G);try{const qn=sr.put({compositeKey:Sr,value:oe});qn.onerror=$i=>{Bt(pn($i,"storage-set"))},qn.onsuccess=()=>{ct()}}catch(qn){Bt(_e.create("storage-set",{originalErrorMessage:null===(gn=qn)||void 0===gn?void 0:gn.message}))}})})()}delete(G){var oe=this;return(0,z.Z)(function*(){const De=yield oe.openDbPromise;return new Promise((Je,ct)=>{var Bt;const Un=De.transaction([Mn],"readwrite").objectStore(Mn),sr=oe.createCompositeKey(G);try{const Sr=Un.delete(sr);Sr.onerror=qn=>{ct(pn(qn,"storage-delete"))},Sr.onsuccess=()=>{Je()}}catch(Sr){ct(_e.create("storage-delete",{originalErrorMessage:null===(Bt=Sr)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class Yr{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,z.Z)(function*(){const oe=G.storage.getLastFetchStatus(),De=G.storage.getLastSuccessfulFetchTimestampMillis(),Je=G.storage.getActiveConfig(),ct=yield oe;ct&&(G.lastFetchStatus=ct);const Bt=yield De;Bt&&(G.lastSuccessfulFetchTimestampMillis=Bt);const gn=yield Je;gn&&(G.activeConfig=gn)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function fa(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,z.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(F){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ee.wA("remote-config",function(G,{instanceIdentifier:oe}){const De=G.getProvider("app").getImmediate(),Je=G.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw _e.create("registration-window");if(!(0,pe.hl)())throw _e.create("indexed-db-unavailable");const{projectId:ct,apiKey:Bt,appId:gn}=De.options;if(!ct)throw _e.create("registration-project-id");if(!Bt)throw _e.create("registration-api-key");if(!gn)throw _e.create("registration-app-id");const Un=new ls(gn,De.name,oe=oe||"firebase"),sr=new Yr(Un),Sr=new ce.Yd(hi);Sr.logLevel=ce.in.ERROR;const qn=new zn(Je,ue.SDK_VERSION,oe,ct,Bt,gn),$i=new Ne(qn,Un),Ki=new Ji($i,Un,sr,Sr),Fo=new Gt(De,Ki,sr,Un,Sr);return function(F){const G=(0,pe.m9)(F);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(Fo),Fo},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(hi,"0.3.10"),(0,ue.registerVersion)(hi,"0.3.10","esm2017");const Oi="/firebase-messaging-sw.js",es="/firebase-cloud-messaging-push-scope",ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cs="google.c.a.c_id",Rs="google.c.a.c_l",ni="google.c.a.ts",ki="google.c.a.e";var fi=(()=>{return(F=fi||(fi={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",fi;var F})();function vn(F){const G=new Uint8Array(F);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Os(F){const oe=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),De=atob(oe),Je=new Uint8Array(De.length);for(let ct=0;ct<De.length;++ct)Je[ct]=De.charCodeAt(ct);return Je}const ks="fcm_token_details_db",Ci="fcm_token_object_Store";function oi(F){return ri.apply(this,arguments)}function ri(){return(ri=(0,z.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ct=>ct.name).includes(ks))return null;let G=null;return(yield(0,X.X3)(ks,5,{upgrade:(De=(0,z.Z)(function*(Je,ct,Bt,gn){var Un;if(ct<2||!Je.objectStoreNames.contains(Ci))return;const sr=gn.objectStore(Ci),Sr=yield sr.index("fcmSenderId").get(F);if(yield sr.clear(),Sr)if(2===ct){const qn=Sr;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;G={token:qn.fcmToken,createTime:null!==(Un=qn.createTime)&&void 0!==Un?Un:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:vn(qn.vapidKey)}}}else if(3===ct){const qn=Sr;G={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:vn(qn.auth),p256dh:vn(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:vn(qn.vapidKey)}}}else if(4===ct){const qn=Sr;G={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:vn(qn.auth),p256dh:vn(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:vn(qn.vapidKey)}}}}),function(ct,Bt,gn,Un){return De.apply(this,arguments)})})).close(),yield(0,X.Lj)(ks),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),po(G)?G:null;var De})).apply(this,arguments)}function po(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:G}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const Ur="firebase-messaging-store";let $s=null;function j(){return $s||($s=(0,X.X3)("firebase-messaging-database",1,{upgrade:(F,G)=>{switch(G){case 0:F.createObjectStore(Ur)}}})),$s}function ae(F){return H.apply(this,arguments)}function H(){return(H=(0,z.Z)(function*(F){const G=U(F),De=yield(yield j()).transaction(Ur).objectStore(Ur).get(G);if(De)return De;{const Je=yield oi(F.appConfig.senderId);if(Je)return yield he(F,Je),Je}})).apply(this,arguments)}function he(F,G){return Me.apply(this,arguments)}function Me(){return(Me=(0,z.Z)(function*(F,G){const oe=U(F),Je=(yield j()).transaction(Ur,"readwrite");return yield Je.objectStore(Ur).put(G,oe),yield Je.done,G})).apply(this,arguments)}function yt(F){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,z.Z)(function*(F){const G=U(F),De=(yield j()).transaction(Ur,"readwrite");yield De.objectStore(Ur).delete(G),yield De.done})).apply(this,arguments)}function U({appConfig:F}){return F.appId}const N=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function te(F,G){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,z.Z)(function*(F,G){var oe;const De=yield Gr(F),Je=nr(G),ct={method:"POST",headers:De,body:JSON.stringify(Je)};let Bt;try{Bt=yield(yield fetch(Er(F.appConfig),ct)).json()}catch(gn){throw N.create("token-subscribe-failed",{errorInfo:null===(oe=gn)||void 0===oe?void 0:oe.toString()})}if(Bt.error)throw N.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw N.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function Kt(F,G){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,z.Z)(function*(F,G){var oe;const De=yield Gr(F),Je=nr(G.subscriptionOptions),ct={method:"PATCH",headers:De,body:JSON.stringify(Je)};let Bt;try{Bt=yield(yield fetch(`${Er(F.appConfig)}/${G.token}`,ct)).json()}catch(gn){throw N.create("token-update-failed",{errorInfo:null===(oe=gn)||void 0===oe?void 0:oe.toString()})}if(Bt.error)throw N.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw N.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function Vr(F,G){return pi.apply(this,arguments)}function pi(){return(pi=(0,z.Z)(function*(F,G){var oe;const Je={method:"DELETE",headers:yield Gr(F)};try{const Bt=yield(yield fetch(`${Er(F.appConfig)}/${G}`,Je)).json();if(Bt.error)throw N.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(ct){throw N.create("token-unsubscribe-failed",{errorInfo:null===(oe=ct)||void 0===oe?void 0:oe.toString()})}})).apply(this,arguments)}function Er({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function Gr(F){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,z.Z)(function*({appConfig:F,installations:G}){const oe=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function nr({p256dh:F,auth:G,endpoint:oe,vapidKey:De}){const Je={web:{endpoint:oe,auth:G,p256dh:F}};return De!==ho&&(Je.web.applicationPubKey=De),Je}const vs=6048e5;function $o(F){return ui.apply(this,arguments)}function ui(){return(ui=(0,z.Z)(function*(F){const G=yield ga(F.swRegistration,F.vapidKey),oe={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:G.endpoint,auth:vn(G.getKey("auth")),p256dh:vn(G.getKey("p256dh"))},De=yield ae(F.firebaseDependencies);if(De){if(zo(De.subscriptionOptions,oe))return Date.now()>=De.createTime+vs?Ko(F,{token:De.token,createTime:Date.now(),subscriptionOptions:oe}):De.token;try{yield Vr(F.firebaseDependencies,De.token)}catch(Je){console.warn(Je)}return Nt(F.firebaseDependencies,oe)}return Nt(F.firebaseDependencies,oe)})).apply(this,arguments)}function pa(F){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,z.Z)(function*(F){const G=yield ae(F.firebaseDependencies);G&&(yield Vr(F.firebaseDependencies,G.token),yield yt(F.firebaseDependencies));const oe=yield F.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function Ko(F,G){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,z.Z)(function*(F,G){try{const oe=yield Kt(F.firebaseDependencies,G),De=Object.assign(Object.assign({},G),{token:oe,createTime:Date.now()});return yield he(F.firebaseDependencies,De),oe}catch(oe){throw yield pa(F),oe}})).apply(this,arguments)}function Nt(F,G){return wr.apply(this,arguments)}function wr(){return(wr=(0,z.Z)(function*(F,G){const De={token:yield te(F,G),createTime:Date.now(),subscriptionOptions:G};return yield he(F,De),De.token})).apply(this,arguments)}function ga(F,G){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,z.Z)(function*(F,G){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Os(G)})})).apply(this,arguments)}function zo(F,G){return G.vapidKey===F.vapidKey&&G.endpoint===F.endpoint&&G.auth===F.auth&&G.p256dh===F.p256dh}function bo(F){const G={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function(F,G){if(!G.notification)return;F.notification={};const oe=G.notification.title;oe&&(F.notification.title=oe);const De=G.notification.body;De&&(F.notification.body=De);const Je=G.notification.image;Je&&(F.notification.image=Je)}(G,F),function(F,G){!G.data||(F.data=G.data)}(G,F),function(F,G){var oe,De,Je,ct,Bt;if(!G.fcmOptions&&!(null===(oe=G.notification)||void 0===oe?void 0:oe.click_action))return;F.fcmOptions={};const gn=null!==(Je=null===(De=G.fcmOptions)||void 0===De?void 0:De.link)&&void 0!==Je?Je:null===(ct=G.notification)||void 0===ct?void 0:ct.click_action;gn&&(F.fcmOptions.link=gn);const Un=null===(Bt=G.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;Un&&(F.fcmOptions.analyticsLabel=Un)}(G,F),G}function go(F){return"object"==typeof F&&!!F&&cs in F}function Co(F,G){const oe=[];for(let De=0;De<F.length;De++)oe.push(F.charAt(De)),De<G.length&&oe.push(G.charAt(De));return oe.join("")}function Fs(F){return N.create("missing-app-config-values",{valueName:F})}Co("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Co("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ji{constructor(G,oe,De){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Je=function(F){if(!F||!F.options)throw Fs("App Configuration Object");if(!F.name)throw Fs("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=F;for(const De of G)if(!oe[De])throw Fs(De);return{appName:F.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:Je,installations:oe,analyticsProvider:De}}_delete(){return Promise.resolve()}}function Hi(F){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,z.Z)(function*(F){var G;try{F.swRegistration=yield navigator.serviceWorker.register(Oi,{scope:es}),F.swRegistration.update().catch(()=>{})}catch(oe){throw N.create("failed-service-worker-registration",{browserErrorMessage:null===(G=oe)||void 0===G?void 0:G.message})}})).apply(this,arguments)}function Jr(F,G){return hs.apply(this,arguments)}function hs(){return(hs=(0,z.Z)(function*(F,G){if(!G&&!F.swRegistration&&(yield Hi(F)),G||!F.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw N.create("invalid-sw-registration");F.swRegistration=G}})).apply(this,arguments)}function ma(F,G){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,z.Z)(function*(F,G){G?F.vapidKey=G:F.vapidKey||(F.vapidKey=ho)})).apply(this,arguments)}function xa(){return(xa=(0,z.Z)(function*(F,G){if(!navigator)throw N.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N.create("permission-blocked");return yield ma(F,null==G?void 0:G.vapidKey),yield Jr(F,null==G?void 0:G.serviceWorkerRegistration),$o(F)})).apply(this,arguments)}function xo(F,G,oe){return Es.apply(this,arguments)}function Es(){return(Es=(0,z.Z)(function*(F,G,oe){const De=_a(G);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(De,{message_id:oe[cs],message_name:oe[Rs],message_time:oe[ni],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _a(F){switch(F){case fi.NOTIFICATION_CLICKED:return"notification_open";case fi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qo(){return(qo=(0,z.Z)(function*(F,G){const oe=G.data;if(!oe.isFirebaseMessaging)return;F.onMessageHandler&&oe.messageType===fi.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(bo(oe)):F.onMessageHandler.next(bo(oe)));const De=oe.data;go(De)&&"1"===De[ki]&&(yield xo(F,oe.messageType,De))})).apply(this,arguments)}const fs="@firebase/messaging";function $a(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,z.Z)(function*(){try{yield(0,pe.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ee.wA("messaging",F=>{const G=new ji(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function(F,G){return qo.apply(this,arguments)}(G,oe)),G},"PUBLIC")),(0,ue._registerComponent)(new ee.wA("messaging-internal",F=>{const G=F.getProvider("messaging").getImmediate();return{getToken:De=>function(F,G){return xa.apply(this,arguments)}(G,De)}},"PRIVATE")),(0,ue.registerVersion)(fs,"0.9.15"),(0,ue.registerVersion)(fs,"0.9.15","esm2017");const _o="analytics",Vs="firebase_id",Ea="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bs="https://www.googletagmanager.com/gtag/js",li=new ce.Yd("@firebase/analytics");function ro(F){return Promise.all(F.map(G=>G.catch(oe=>oe)))}function iu(F,G){const oe=document.createElement("script");oe.src=`${bs}?l=${F}&id=${G}`,oe.async=!0,document.head.appendChild(oe)}function io(F,G,oe,De,Je,ct){return so.apply(this,arguments)}function so(){return(so=(0,z.Z)(function*(F,G,oe,De,Je,ct){const Bt=De[Je];try{if(Bt)yield G[Bt];else{const Un=(yield ro(oe)).find(sr=>sr.measurementId===Je);Un&&(yield G[Un.appId])}}catch(gn){li.error(gn)}F("config",Je,ct)})).apply(this,arguments)}function Ro(F,G,oe,De,Je){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,z.Z)(function*(F,G,oe,De,Je){try{let ct=[];if(Je&&Je.send_to){let Bt=Je.send_to;Array.isArray(Bt)||(Bt=[Bt]);const gn=yield ro(oe);for(const Un of Bt){const sr=gn.find(qn=>qn.measurementId===Un),Sr=sr&&G[sr.appId];if(!Sr){ct=[];break}ct.push(Sr)}}0===ct.length&&(ct=Object.values(G)),yield Promise.all(ct),F("event",De,Je||{})}catch(ct){li.error(ct)}})).apply(this,arguments)}function $r(){const F=window.document.getElementsByTagName("script");for(const G of Object.values(F))if(G.src&&G.src.includes(bs))return G;return null}const Wi=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),O=new class{constructor(G={},oe=1e3){this.throttleMetadata=G,this.intervalMillis=oe}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,oe){this.throttleMetadata[G]=oe}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function fe(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function D(F){return S.apply(this,arguments)}function S(){return(S=(0,z.Z)(function*(F){var G;const{appId:oe,apiKey:De}=F,Je={method:"GET",headers:fe(De)},ct=Ea.replace("{app-id}",oe),Bt=yield fetch(ct,Je);if(200!==Bt.status&&304!==Bt.status){let gn="";try{const Un=yield Bt.json();(null===(G=Un.error)||void 0===G?void 0:G.message)&&(gn=Un.error.message)}catch(Un){}throw Wi.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:gn})}return Bt.json()})).apply(this,arguments)}function w(F){return L.apply(this,arguments)}function L(){return(L=(0,z.Z)(function*(F,G=O,oe){const{appId:De,apiKey:Je,measurementId:ct}=F.options;if(!De)throw Wi.create("no-app-id");if(!Je){if(ct)return{measurementId:ct,appId:De};throw Wi.create("no-api-key")}const Bt=G.getThrottleMetadata(De)||{backoffCount:0,throttleEndTimeMillis:Date.now()},gn=new Ge;return setTimeout((0,z.Z)(function*(){gn.abort()}),void 0!==oe?oe:6e4),Z({appId:De,apiKey:Je,measurementId:ct},Bt,gn,G)})).apply(this,arguments)}function Z(F,G,oe){return de.apply(this,arguments)}function de(){return(de=(0,z.Z)(function*(F,{throttleEndTimeMillis:G,backoffCount:oe},De,Je=O){var ct,Bt;const{appId:gn,measurementId:Un}=F;try{yield Pe(De,G)}catch(sr){if(Un)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null===(ct=sr)||void 0===ct?void 0:ct.message}]`),{appId:gn,measurementId:Un};throw sr}try{const sr=yield D(F);return Je.deleteThrottleMetadata(gn),sr}catch(sr){const Sr=sr;if(!We(Sr)){if(Je.deleteThrottleMetadata(gn),Un)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null==Sr?void 0:Sr.message}]`),{appId:gn,measurementId:Un};throw sr}const qn=503===Number(null===(Bt=null==Sr?void 0:Sr.customData)||void 0===Bt?void 0:Bt.httpStatus)?(0,pe.$s)(oe,Je.intervalMillis,30):(0,pe.$s)(oe,Je.intervalMillis),$i={throttleEndTimeMillis:Date.now()+qn,backoffCount:oe+1};return Je.setThrottleMetadata(gn,$i),li.debug(`Calling attemptFetch again in ${qn} millis`),Z(F,$i,De,Je)}})).apply(this,arguments)}function Pe(F,G){return new Promise((oe,De)=>{const Je=Math.max(G-Date.now(),0),ct=setTimeout(oe,Je);F.addEventListener(()=>{clearTimeout(ct),De(Wi.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function We(F){if(!(F instanceof pe.ZR&&F.customData))return!1;const G=Number(F.customData.httpStatus);return 429===G||500===G||503===G||504===G}class Ge{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}function nn(){return Or.apply(this,arguments)}function Or(){return(Or=(0,z.Z)(function*(){var F;if(!(0,pe.hl)())return li.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(G){return li.warn(Wi.create("indexeddb-unavailable",{errorInfo:null===(F=G)||void 0===F?void 0:F.toString()}).message),!1}return!0})).apply(this,arguments)}function $t(){return($t=(0,z.Z)(function*(F,G,oe,De,Je,ct,Bt){var gn;const Un=w(F);Un.then(Ki=>{oe[Ki.measurementId]=Ki.appId,F.options.measurementId&&Ki.measurementId!==F.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ki=>li.error(Ki)),G.push(Un);const sr=nn().then(Ki=>{if(Ki)return De.getId()}),[Sr,qn]=yield Promise.all([Un,sr]);$r()||iu(ct,Sr.measurementId),Je("js",new Date);const $i=null!==(gn=null==Bt?void 0:Bt.config)&&void 0!==gn?gn:{};return $i.origin="firebase",$i.update=!0,null!=qn&&($i[Vs]=qn),Je("config",Sr.measurementId,$i),Sr.measurementId})).apply(this,arguments)}class an{constructor(G){this.app=G}_delete(){return delete Gi[this.app.options.appId],Promise.resolve()}}let Gi={},rn=[];const ht={};let No,vo,kt="dataLayer",ol=!1;function Vu(F,G,oe){!function(){const F=[];if((0,pe.ru)()&&F.push("This is a browser extension environment."),(0,pe.zI)()||F.push("Cookies are not available."),F.length>0){const G=F.map((De,Je)=>`(${Je+1}) ${De}`).join(" "),oe=Wi.create("invalid-analytics-context",{errorInfo:G});li.warn(oe.message)}}();const De=F.options.appId;if(!De)throw Wi.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Wi.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gi[De])throw Wi.create("already-exists",{id:De});if(!ol){!function(F){let G=[];Array.isArray(window[F])?G=window[F]:window[F]=G}(kt);const{wrappedGtag:ct,gtagCore:Bt}=function(F,G,oe,De,Je){let ct=function(...Bt){window[De].push(arguments)};return window[Je]&&"function"==typeof window[Je]&&(ct=window[Je]),window[Je]=function(F,G,oe,De){function ct(){return(ct=(0,z.Z)(function*(Bt,gn,Un){try{"event"===Bt?yield Ro(F,G,oe,gn,Un):"config"===Bt?yield io(F,G,oe,De,gn,Un):F("set",gn)}catch(sr){li.error(sr)}})).apply(this,arguments)}return function(Bt,gn,Un){return ct.apply(this,arguments)}}(ct,F,G,oe),{gtagCore:ct,wrappedGtag:window[Je]}}(Gi,rn,ht,kt,"gtag");vo=ct,No=Bt,ol=!0}return Gi[De]=function(F,G,oe,De,Je,ct,Bt){return $t.apply(this,arguments)}(F,rn,ht,G,No,kt,oe),new an(F)}function Bu(){return(Bu=(0,z.Z)(function*(F,G,oe,De,Je){if(Je&&Je.global)F("event",oe,De);else{const ct=yield G;F("event",oe,Object.assign(Object.assign({},De),{send_to:ct}))}})).apply(this,arguments)}function ko(){return jr.apply(this,arguments)}function jr(){return(jr=(0,z.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(F){return!1}})).apply(this,arguments)}const _u="@firebase/analytics";(0,ue._registerComponent)(new ee.wA(_o,(G,{options:oe})=>Vu(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,ue._registerComponent)(new ee.wA("analytics-internal",function(G){try{const oe=G.getProvider(_o).getImmediate();return{logEvent:(De,Je,ct)=>function(F,G,oe,De){F=(0,pe.m9)(F),function(F,G,oe,De,Je){return Bu.apply(this,arguments)}(vo,Gi[F.app.options.appId],G,oe,De).catch(Je=>li.error(Je))}(oe,De,Je,ct)}}catch(oe){throw Wi.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,ue.registerVersion)(_u,"0.7.11"),(0,ue.registerVersion)(_u,"0.7.11","esm2017");var Lo=P(7771),Nl=P(3637),Zd=P(8307),ll=P(2639),uu=P(9746);const cl=new h.Version("7.4.1"),ft="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",ii="__angularfire_symbol__remoteConfigIsSupportedValue",vu="__angularfire_symbol__remoteConfigIsSupported",Si="__angularfire_symbol__messagingIsSupportedValue",Do="__angularfire_symbol__messagingIsSupported";function Ca(F,G,oe){if(G){if(1===G.length)return G[0];const ct=G.filter(Bt=>Bt.app===oe);if(1===ct.length)return ct[0]}return oe.container.getProvider(F).getImmediate({optional:!0})}globalThis[Za]||(globalThis[Za]=ko().then(F=>globalThis[ft]=F).catch(()=>globalThis[ft]=!1)),globalThis[Do]||(globalThis[Do]=$a().then(F=>globalThis[Si]=F).catch(()=>globalThis[Si]=!1)),globalThis[vu]||(globalThis[vu]=fa().then(F=>globalThis[ii]=F).catch(()=>globalThis[ii]=!1));const bu=(F,G)=>{const oe=G?[G]:(0,R.C6)(),De=[];return oe.forEach(Je=>{Je.container.getProvider(F).instances.forEach(Bt=>{De.includes(Bt)||De.push(Bt)})}),De};function Ri(){}class Us{constructor(G,oe=Lo.N){this.zone=G,this.delegate=oe}now(){return this.delegate.now()}schedule(G,oe,De){const Je=this.zone;return this.delegate.schedule(function(Bt){Je.runGuarded(()=>{G.apply(this,[Bt])})},oe,De)}}class Oa{constructor(G){this.zone=G,this.task=null}call(G,oe){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ri,{},Ri,Ri)),oe.pipe((0,Zd.b)({next:De,complete:De,error:De})).subscribe(G).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kl=(()=>{class F{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new Us(Zone.current)),this.insideAngular=oe.run(()=>new Us(Zone.current,Nl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(oe){return new(oe||F)(h.\u0275\u0275inject(h.NgZone))},F.\u0275prov=h.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Qr(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Jo(F){return Qr(),function(F){return function(oe){return(oe=oe.lift(new Oa(F.ngZone))).pipe((0,ll.R)(F.outsideAngular),(0,uu.QV)(F.insideAngular))}}(Qr())(F)}},665:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{AbstractControl:()=>Xr,AbstractControlDirective:()=>St,AbstractFormGroupDirective:()=>Ve,COMPOSITION_BUFFER_MODE:()=>Se,CheckboxControlValueAccessor:()=>xe,CheckboxRequiredValidator:()=>Os,ControlContainer:()=>Xn,DefaultValueAccessor:()=>qe,EmailValidator:()=>Ws,FormArray:()=>cr,FormArrayName:()=>Gt,FormBuilder:()=>yt,FormControl:()=>Tr,FormControlDirective:()=>zn,FormControlName:()=>kn,FormGroup:()=>Zr,FormGroupDirective:()=>je,FormGroupName:()=>it,FormsModule:()=>H,MaxLengthValidator:()=>po,MaxValidator:()=>Rs,MinLengthValidator:()=>oi,MinValidator:()=>ki,NG_ASYNC_VALIDATORS:()=>Tn,NG_VALIDATORS:()=>pt,NG_VALUE_ACCESSOR:()=>ie,NgControl:()=>xn,NgControlStatus:()=>Rr,NgControlStatusGroup:()=>at,NgForm:()=>Le,NgModel:()=>Qi,NgModelGroup:()=>ur,NgSelectOption:()=>As,NumberValueAccessor:()=>ei,PatternValidator:()=>ds,RadioControlValueAccessor:()=>yr,RangeValueAccessor:()=>Ds,ReactiveFormsModule:()=>he,RequiredValidator:()=>vn,SelectControlValueAccessor:()=>Yr,SelectMultipleControlValueAccessor:()=>Oi,VERSION:()=>Vt,Validators:()=>st,\u0275InternalFormsSharedModule:()=>ae,\u0275NgNoValidate:()=>qi,\u0275NgSelectMultipleOption:()=>es,\u0275angular_packages_forms_forms_a:()=>Ur,\u0275angular_packages_forms_forms_b:()=>$s,\u0275angular_packages_forms_forms_ba:()=>ys,\u0275angular_packages_forms_forms_bb:()=>es,\u0275angular_packages_forms_forms_bc:()=>qi,\u0275angular_packages_forms_forms_bd:()=>cs,\u0275angular_packages_forms_forms_be:()=>ni,\u0275angular_packages_forms_forms_bf:()=>Ns,\u0275angular_packages_forms_forms_bg:()=>fi,\u0275angular_packages_forms_forms_bh:()=>ks,\u0275angular_packages_forms_forms_bi:()=>Ci,\u0275angular_packages_forms_forms_bj:()=>ri,\u0275angular_packages_forms_forms_bk:()=>ai,\u0275angular_packages_forms_forms_bl:()=>jt,\u0275angular_packages_forms_forms_bm:()=>Ue,\u0275angular_packages_forms_forms_bn:()=>bt,\u0275angular_packages_forms_forms_bo:()=>gt,\u0275angular_packages_forms_forms_bp:()=>Mt,\u0275angular_packages_forms_forms_bq:()=>Et,\u0275angular_packages_forms_forms_br:()=>en,\u0275angular_packages_forms_forms_bs:()=>xt,\u0275angular_packages_forms_forms_bt:()=>En,\u0275angular_packages_forms_forms_c:()=>j,\u0275angular_packages_forms_forms_d:()=>ae,\u0275angular_packages_forms_forms_e:()=>we,\u0275angular_packages_forms_forms_f:()=>$,\u0275angular_packages_forms_forms_g:()=>J,\u0275angular_packages_forms_forms_h:()=>Xe,\u0275angular_packages_forms_forms_i:()=>ln,\u0275angular_packages_forms_forms_j:()=>Fn,\u0275angular_packages_forms_forms_k:()=>Ir,\u0275angular_packages_forms_forms_l:()=>hi,\u0275angular_packages_forms_forms_m:()=>Kn,\u0275angular_packages_forms_forms_n:()=>Bn,\u0275angular_packages_forms_forms_o:()=>Xi,\u0275angular_packages_forms_forms_p:()=>Yi,\u0275angular_packages_forms_forms_q:()=>us,\u0275angular_packages_forms_forms_r:()=>_s,\u0275angular_packages_forms_forms_s:()=>Ui,\u0275angular_packages_forms_forms_t:()=>Ji,\u0275angular_packages_forms_forms_u:()=>hr,\u0275angular_packages_forms_forms_v:()=>Mn,\u0275angular_packages_forms_forms_w:()=>fr,\u0275angular_packages_forms_forms_x:()=>Ne,\u0275angular_packages_forms_forms_y:()=>Pt,\u0275angular_packages_forms_forms_z:()=>Hn});var h=P(7716),R=P(8583),z=P(8891),ue=P(9796),pe=P(8002),ee=P(1555),ce=P(4402);function le(U,V){return new z.y(N=>{const te=U.length;if(0===te)return void N.complete();const Ye=new Array(te);let Kt=0,Pn=0;for(let Vr=0;Vr<te;Vr++){const pi=(0,ce.D)(U[Vr]);let Er=!1;N.add(pi.subscribe({next:Gr=>{Er||(Er=!0,Pn++),Ye[Vr]=Gr},error:Gr=>N.error(Gr),complete:()=>{Kt++,(Kt===te||!Er)&&(Pn===te&&N.next(V?V.reduce((Gr,Gn,nr)=>(Gr[Gn]=Ye[nr],Gr),{}):Ye),N.complete())}}))}})}let $=(()=>{class U{constructor(N,te){this._renderer=N,this._elementRef=te,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(N,te){this._renderer.setProperty(this._elementRef.nativeElement,N,te)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U}),U})(),J=(()=>{class U extends ${}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,features:[h.\u0275\u0275InheritDefinitionFeature]}),U})();const ie=new h.InjectionToken("NgValueAccessor"),we={provide:ie,useExisting:(0,h.forwardRef)(()=>xe),multi:!0};let xe=(()=>{class U extends J{writeValue(N){this.setProperty("checked",N)}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("change",function(Kt){return te.onChange(Kt.target.checked)})("blur",function(){return te.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([we]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Xe={provide:ie,useExisting:(0,h.forwardRef)(()=>qe),multi:!0},Se=new h.InjectionToken("CompositionEventMode");let qe=(()=>{class U extends ${constructor(N,te,Ye){super(N,te),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const U=(0,R.\u0275getDOM)()?(0,R.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(Se,8))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("input",function(Kt){return te._handleInput(Kt.target.value)})("blur",function(){return te.onTouched()})("compositionstart",function(){return te._compositionStart()})("compositionend",function(Kt){return te._compositionEnd(Kt.target.value)})},features:[h.\u0275\u0275ProvidersFeature([Xe]),h.\u0275\u0275InheritDefinitionFeature]}),U})();function rt(U){return null==U||0===U.length}function re(U){return null!=U&&"number"==typeof U.length}const pt=new h.InjectionToken("NgValidators"),Tn=new h.InjectionToken("NgAsyncValidators"),_n=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(V){return jt(V)}static max(V){return Ue(V)}static required(V){return bt(V)}static requiredTrue(V){return gt(V)}static email(V){return Mt(V)}static minLength(V){return Et(V)}static maxLength(V){return en(V)}static pattern(V){return xt(V)}static nullValidator(V){return null}static compose(V){return Ht(V)}static composeAsync(V){return wt(V)}}function jt(U){return V=>{if(rt(V.value)||rt(U))return null;const N=parseFloat(V.value);return!isNaN(N)&&N<U?{min:{min:U,actual:V.value}}:null}}function Ue(U){return V=>{if(rt(V.value)||rt(U))return null;const N=parseFloat(V.value);return!isNaN(N)&&N>U?{max:{max:U,actual:V.value}}:null}}function bt(U){return rt(U.value)?{required:!0}:null}function gt(U){return!0===U.value?null:{required:!0}}function Mt(U){return rt(U.value)||_n.test(U.value)?null:{email:!0}}function Et(U){return V=>rt(V.value)||!re(V.value)?null:V.value.length<U?{minlength:{requiredLength:U,actualLength:V.value.length}}:null}function en(U){return V=>re(V.value)&&V.value.length>U?{maxlength:{requiredLength:U,actualLength:V.value.length}}:null}function xt(U){if(!U)return En;let V,N;return"string"==typeof U?(N="","^"!==U.charAt(0)&&(N+="^"),N+=U,"$"!==U.charAt(U.length-1)&&(N+="$"),V=new RegExp(N)):(N=U.toString(),V=U),te=>{if(rt(te.value))return null;const Ye=te.value;return V.test(Ye)?null:{pattern:{requiredPattern:N,actualValue:Ye}}}}function En(U){return null}function mr(U){return null!=U}function Sn(U){const V=(0,h.\u0275isPromise)(U)?(0,ce.D)(U):U;return(0,h.\u0275isObservable)(V),V}function ar(U){let V={};return U.forEach(N=>{V=null!=N?Object.assign(Object.assign({},V),N):V}),0===Object.keys(V).length?null:V}function Dn(U,V){return V.map(N=>N(U))}function Dr(U){return U.map(V=>function(U){return!U.validate}(V)?V:N=>V.validate(N))}function Ht(U){if(!U)return null;const V=U.filter(mr);return 0==V.length?null:function(N){return ar(Dn(N,V))}}function Zt(U){return null!=U?Ht(Dr(U)):null}function wt(U){if(!U)return null;const V=U.filter(mr);return 0==V.length?null:function(N){return function(...U){if(1===U.length){const V=U[0];if((0,ue.k)(V))return le(V,null);if((0,ee.K)(V)&&Object.getPrototypeOf(V)===Object.prototype){const N=Object.keys(V);return le(N.map(te=>V[te]),N)}}if("function"==typeof U[U.length-1]){const V=U.pop();return le(U=1===U.length&&(0,ue.k)(U[0])?U[0]:U,null).pipe((0,pe.U)(N=>V(...N)))}return le(U,null)}(Dn(N,V).map(Sn)).pipe((0,pe.U)(ar))}}function Ln(U){return null!=U?wt(Dr(U)):null}function dn(U,V){return null===U?[V]:Array.isArray(U)?[...U,V]:[U,V]}function wn(U){return U._rawValidators}function Qt(U){return U._rawAsyncValidators}function Ft(U){return U?Array.isArray(U)?U:[U]:[]}function ir(U,V){return Array.isArray(U)?U.includes(V):U===V}function Ar(U,V){const N=Ft(V);return Ft(U).forEach(Ye=>{ir(N,Ye)||N.push(Ye)}),N}function fn(U,V){return Ft(V).filter(N=>!ir(U,N))}let St=(()=>{class U{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Zt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,te){return!!this.control&&this.control.hasError(N,te)}getError(N,te){return this.control?this.control.getError(N,te):null}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U}),U})(),Xn=(()=>{class U extends St{get formDirective(){return null}get path(){return null}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,features:[h.\u0275\u0275InheritDefinitionFeature]}),U})();class xn extends St{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ln{constructor(V){this._cd=V}is(V){var N,te,Ye;return"submitted"===V?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(Ye=null===(te=this._cd)||void 0===te?void 0:te.control)||void 0===Ye?void 0:Ye[V])}}const Fn={"[class.ng-untouched]":'is("untouched")',"[class.ng-touched]":'is("touched")',"[class.ng-pristine]":'is("pristine")',"[class.ng-dirty]":'is("dirty")',"[class.ng-valid]":'is("valid")',"[class.ng-invalid]":'is("invalid")',"[class.ng-pending]":'is("pending")'},Ir={"[class.ng-untouched]":'is("untouched")',"[class.ng-touched]":'is("touched")',"[class.ng-pristine]":'is("pristine")',"[class.ng-dirty]":'is("dirty")',"[class.ng-valid]":'is("valid")',"[class.ng-invalid]":'is("invalid")',"[class.ng-pending]":'is("pending")',"[class.ng-submitted]":'is("submitted")'};let Rr=(()=>{class U extends ln{constructor(N){super(N)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(xn,2))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,te){2&N&&h.\u0275\u0275classProp("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),U})(),at=(()=>{class U extends ln{constructor(N){super(N)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,te){2&N&&h.\u0275\u0275classProp("ng-untouched",te.is("untouched"))("ng-touched",te.is("touched"))("ng-pristine",te.is("pristine"))("ng-dirty",te.is("dirty"))("ng-valid",te.is("valid"))("ng-invalid",te.is("invalid"))("ng-pending",te.is("pending"))("ng-submitted",te.is("submitted"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),U})();function yn(U,V){return[...V.path,U]}function on(U,V){Fe(U,V),V.valueAccessor.writeValue(U.value),function(U,V){V.valueAccessor.registerOnChange(N=>{U._pendingValue=N,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&mn(U,V)})}(U,V),function(U,V){const N=(te,Ye)=>{V.valueAccessor.writeValue(te),Ye&&V.viewToModelUpdate(te)};U.registerOnChange(N),V._registerOnDestroy(()=>{U._unregisterOnChange(N)})}(U,V),function(U,V){V.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&mn(U,V),"submit"!==U.updateOn&&U.markAsTouched()})}(U,V),function(U,V){if(V.valueAccessor.setDisabledState){const N=te=>{V.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(N),V._registerOnDestroy(()=>{U._unregisterOnDisabledChange(N)})}}(U,V)}function Ce(U,V,N=!0){const te=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(te),V.valueAccessor.registerOnTouched(te)),Ie(U,V),U&&(V._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Te(U,V){U.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(V)})}function Fe(U,V){const N=wn(U);null!==V.validator?U.setValidators(dn(N,V.validator)):"function"==typeof N&&U.setValidators([N]);const te=Qt(U);null!==V.asyncValidator?U.setAsyncValidators(dn(te,V.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const Ye=()=>U.updateValueAndValidity();Te(V._rawValidators,Ye),Te(V._rawAsyncValidators,Ye)}function Ie(U,V){let N=!1;if(null!==U){if(null!==V.validator){const Ye=wn(U);if(Array.isArray(Ye)&&Ye.length>0){const Kt=Ye.filter(Pn=>Pn!==V.validator);Kt.length!==Ye.length&&(N=!0,U.setValidators(Kt))}}if(null!==V.asyncValidator){const Ye=Qt(U);if(Array.isArray(Ye)&&Ye.length>0){const Kt=Ye.filter(Pn=>Pn!==V.asyncValidator);Kt.length!==Ye.length&&(N=!0,U.setAsyncValidators(Kt))}}}const te=()=>{};return Te(V._rawValidators,te),Te(V._rawAsyncValidators,te),N}function mn(U,V){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function lr(U,V){Fe(U,V)}function He(U,V){if(!U.hasOwnProperty("model"))return!1;const N=U.model;return!!N.isFirstChange()||!Object.is(V,N.currentValue)}function Dt(U,V){U._syncPendingControls(),V.forEach(N=>{const te=N.control;"submit"===te.updateOn&&te._pendingChange&&(N.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}function qt(U,V){if(!V)return null;let N,te,Ye;return Array.isArray(V),V.forEach(Kt=>{Kt.constructor===qe?N=Kt:function(U){return Object.getPrototypeOf(U.constructor)===J}(Kt)?te=Kt:Ye=Kt}),Ye||te||N||null}function Yn(U,V){const N=U.indexOf(V);N>-1&&U.splice(N,1)}const Rn="VALID",Jn="INVALID",Pr="PENDING",Lr="DISABLED";function xr(U){return(zr(U)?U.validators:U)||null}function Jt(U){return Array.isArray(U)?Zt(U):U||null}function un(U,V){return(zr(V)?V.asyncValidators:U)||null}function Qn(U){return Array.isArray(U)?Ln(U):U||null}function zr(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class Xr{constructor(V,N){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=N,this._composedValidatorFn=Jt(this._rawValidators),this._composedAsyncValidatorFn=Qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Rn}get invalid(){return this.status===Jn}get pending(){return this.status==Pr}get disabled(){return this.status===Lr}get enabled(){return this.status!==Lr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=Jt(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=Qn(V)}addValidators(V){this.setValidators(Ar(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Ar(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(fn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(fn(V,this._rawAsyncValidators))}hasValidator(V){return ir(this._rawValidators,V)}hasAsyncValidator(V){return ir(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=Pr,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=Lr,this.errors=null,this._forEachChild(te=>{te.disable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:N})),this._onDisabledChange.forEach(te=>te(!0))}enable(V={}){const N=this._parentMarkedDirty(V.onlySelf);this.status=Rn,this._forEachChild(te=>{te.enable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:N})),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rn||this.status===Pr)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lr:Rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator=!0;const N=Sn(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,N={}){this.errors=V,this._updateControlsErrors(!1!==N.emitEvent)}get(V){return function(U,V,N){if(null==V||(Array.isArray(V)||(V=V.split(".")),Array.isArray(V)&&0===V.length))return null;let te=U;return V.forEach(Ye=>{te=te instanceof Zr?te.controls.hasOwnProperty(Ye)?te.controls[Ye]:null:te instanceof cr&&te.at(Ye)||null}),te}(this,V)}getError(V,N){const te=N?this.get(N):this;return te&&te.errors?te.errors[V]:null}hasError(V,N){return!!this.getError(V,N)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new h.EventEmitter,this.statusChanges=new h.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Lr:this.errors?Jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(Jn)?Jn:Rn}_anyControlsHaveStatus(V){return this._anyControls(N=>N.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_isBoxedValue(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){zr(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tr extends Xr{constructor(V=null,N,te){super(xr(N),un(te,N)),this._onChange=[],this._applyFormState(V),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(V,N={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(V,N={}){this.setValue(V,N)}reset(V=null,N={}){this._applyFormState(V),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Yn(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Yn(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){this._isBoxedValue(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}}class Zr extends Xr{constructor(V,N,te){super(xr(N),un(te,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,N){return this.controls[V]?this.controls[V]:(this.controls[V]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(V,N,te={}){this.registerControl(V,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(V,N={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(V,N,te={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],N&&this.registerControl(V,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,N={}){this._checkAllValuesPresent(V),Object.keys(V).forEach(te=>{this._throwIfControlMissing(te),this.controls[te].setValue(V[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(Object.keys(V).forEach(te=>{this.controls[te]&&this.controls[te].patchValue(V[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V={},N={}){this._forEachChild((te,Ye)=>{te.reset(V[Ye],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(V,N,te)=>(V[te]=N instanceof Tr?N.value:N.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(N,te)=>!!te._syncPendingControls()||N);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_throwIfControlMissing(V){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[V])throw new Error(`Cannot find form control with name: ${V}.`)}_forEachChild(V){Object.keys(this.controls).forEach(N=>{const te=this.controls[N];te&&V(te,N)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const N of Object.keys(this.controls)){const te=this.controls[N];if(this.contains(N)&&V(te))return!0}return!1}_reduceValue(){return this._reduceChildren({},(V,N,te)=>((N.enabled||this.disabled)&&(V[te]=N.value),V))}_reduceChildren(V,N){let te=V;return this._forEachChild((Ye,Kt)=>{te=N(te,Ye,Kt)}),te}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(V){this._forEachChild((N,te)=>{if(void 0===V[te])throw new Error(`Must supply a value for form control with name: '${te}'.`)})}}class cr extends Xr{constructor(V,N,te){super(xr(N),un(te,N)),this.controls=V,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[V]}push(V,N={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(V,N,te={}){this.controls.splice(V,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(V,N={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(V,N,te={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),N&&(this.controls.splice(V,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,N={}){this._checkAllValuesPresent(V),V.forEach((te,Ye)=>{this._throwIfControlMissing(Ye),this.at(Ye).setValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(V,N={}){null!=V&&(V.forEach((te,Ye)=>{this.at(Ye)&&this.at(Ye).patchValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(V=[],N={}){this._forEachChild((te,Ye)=>{te.reset(V[Ye],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(V=>V instanceof Tr?V.value:V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_syncPendingControls(){let V=this.controls.reduce((N,te)=>!!te._syncPendingControls()||N,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_throwIfControlMissing(V){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(V))throw new Error(`Cannot find form control at index ${V}`)}_forEachChild(V){this.controls.forEach((N,te)=>{V(N,te)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(N=>N.enabled&&V(N))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_checkAllValuesPresent(V){this._forEachChild((N,te)=>{if(void 0===V[te])throw new Error(`Must supply a value for form control at index: ${te}.`)})}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}}const hi={provide:Xn,useExisting:(0,h.forwardRef)(()=>Le)},Vn=(()=>Promise.resolve(null))();let Le=(()=>{class U extends Xn{constructor(N,te){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.EventEmitter,this.form=new Zr({},Zt(N),Ln(te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){Vn.then(()=>{const te=this._findContainer(N.path);N.control=te.registerControl(N.name,N.control),on(N.control,N),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){Vn.then(()=>{const te=this._findContainer(N.path);te&&te.removeControl(N.name),Yn(this._directives,N)})}addFormGroup(N){Vn.then(()=>{const te=this._findContainer(N.path),Ye=new Zr({});lr(Ye,N),te.registerControl(N.name,Ye),Ye.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){Vn.then(()=>{const te=this._findContainer(N.path);te&&te.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,te){Vn.then(()=>{this.form.get(N.path).setValue(te)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,Dt(this.form,this._directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("submit",function(Kt){return te.onSubmit(Kt)})("reset",function(){return te.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([hi]),h.\u0275\u0275InheritDefinitionFeature]}),U})(),Ve=(()=>{class U extends Xn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,features:[h.\u0275\u0275InheritDefinitionFeature]}),U})();const Bn={provide:Xn,useExisting:(0,h.forwardRef)(()=>ur)};let ur=(()=>{class U extends Ve{constructor(N,te,Ye){super(),this._parent=N,this._setValidators(te),this._setAsyncValidators(Ye)}_checkParentType(){}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,5),h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[h.\u0275\u0275ProvidersFeature([Bn]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Kn={provide:xn,useExisting:(0,h.forwardRef)(()=>Qi)},Zi=(()=>Promise.resolve(null))();let Qi=(()=>{class U extends xn{constructor(N,te,Ye,Kt){super(),this.control=new Tr,this._registered=!1,this.update=new h.EventEmitter,this._parent=N,this._setValidators(te),this._setAsyncValidators(Ye),this.valueAccessor=qt(0,Kt)}ngOnChanges(N){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in N&&this._updateDisabled(N),He(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?yn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){on(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Zi.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1})})}_updateDisabled(N){const te=N.isDisabled.currentValue,Ye=""===te||te&&"false"!==te;Zi.then(()=>{Ye&&!this.control.disabled?this.control.disable():!Ye&&this.control.disabled&&this.control.enable()})}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,9),h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10),h.\u0275\u0275directiveInject(ie,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.\u0275\u0275ProvidersFeature([Kn]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U})(),qi=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const Xi={provide:ie,useExisting:(0,h.forwardRef)(()=>ei),multi:!0};let ei=(()=>{class U extends J{writeValue(N){this.setProperty("value",null==N?"":N)}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("input",function(Kt){return te.onChange(Kt.target.value)})("blur",function(){return te.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([Xi]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Yi={provide:ie,useExisting:(0,h.forwardRef)(()=>yr),multi:!0};let us=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=h.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=h.\u0275\u0275defineInjector({}),U})(),_s=(()=>{class U{constructor(){this._accessors=[]}add(N,te){this._accessors.push([N,te])}remove(N){for(let te=this._accessors.length-1;te>=0;--te)if(this._accessors[te][1]===N)return void this._accessors.splice(te,1)}select(N){this._accessors.forEach(te=>{this._isSameGroup(te,N)&&te[1]!==N&&te[1].fireUncheck(N.value)})}_isSameGroup(N,te){return!!N[0].control&&N[0]._parent===te._control._parent&&N[1].name===te.name}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:function(){return new U},token:U,providedIn:us}),U})(),yr=(()=>{class U extends J{constructor(N,te,Ye,Kt){super(N,te),this._registry=Ye,this._injector=Kt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(xn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(_s),h.\u0275\u0275directiveInject(h.Injector))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("change",function(){return te.onChange()})("blur",function(){return te.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h.\u0275\u0275ProvidersFeature([Yi]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Ui={provide:ie,useExisting:(0,h.forwardRef)(()=>Ds),multi:!0};let Ds=(()=>{class U extends J{writeValue(N){this.setProperty("value",parseFloat(N))}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("change",function(Kt){return te.onChange(Kt.target.value)})("input",function(Kt){return te.onChange(Kt.target.value)})("blur",function(){return te.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([Ui]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Ji=new h.InjectionToken("NgModelWithFormControlWarning"),hr={provide:xn,useExisting:(0,h.forwardRef)(()=>zn)};let zn=(()=>{class U extends xn{constructor(N,te,Ye,Kt){super(),this._ngModelWarningConfig=Kt,this.update=new h.EventEmitter,this._ngModelWarningSent=!1,this._setValidators(N),this._setAsyncValidators(te),this.valueAccessor=qt(0,Ye)}set isDisabled(N){}ngOnChanges(N){if(this._isControlChanged(N)){const te=N.form.previousValue;te&&Ce(te,this,!1),on(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}He(N,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ce(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_isControlChanged(N){return N.hasOwnProperty("form")}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10),h.\u0275\u0275directiveInject(ie,10),h.\u0275\u0275directiveInject(Ji,8))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([hr]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U._ngModelWarningSentOnce=!1,U})();const fr={provide:Xn,useExisting:(0,h.forwardRef)(()=>je)};let je=(()=>{class U extends Xn{constructor(N,te){super(),this.validators=N,this.asyncValidators=te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.EventEmitter,this._setValidators(N),this._setAsyncValidators(te)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ie(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const te=this.form.get(N.path);return on(te,N),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),te}getControl(N){return this.form.get(N.path)}removeControl(N){Ce(N.control||null,N,!1),Yn(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,te){this.form.get(N.path).setValue(te)}onSubmit(N){return this.submitted=!0,Dt(this.form,this.directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const te=N.control,Ye=this.form.get(N.path);te!==Ye&&(Ce(te||null,N),Ye instanceof Tr&&(on(Ye,N),N.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const te=this.form.get(N.path);lr(te,N),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const te=this.form.get(N.path);te&&function(U,V){return Ie(U,V)}(te,N)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fe(this.form,this),this._oldForm&&Ie(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formGroup",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("submit",function(Kt){return te.onSubmit(Kt)})("reset",function(){return te.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([fr]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U})();const Ne={provide:Xn,useExisting:(0,h.forwardRef)(()=>it)};let it=(()=>{class U extends Ve{constructor(N,te,Ye){super(),this._parent=N,this._setValidators(te),this._setAsyncValidators(Ye)}_checkParentType(){pn(this._parent)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,13),h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[h.\u0275\u0275ProvidersFeature([Ne]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const Pt={provide:Xn,useExisting:(0,h.forwardRef)(()=>Gt)};let Gt=(()=>{class U extends Xn{constructor(N,te,Ye){super(),this._parent=N,this._setValidators(te),this._setAsyncValidators(Ye)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){pn(this._parent)}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,13),h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[h.\u0275\u0275ProvidersFeature([Pt]),h.\u0275\u0275InheritDefinitionFeature]}),U})();function pn(U){return!(U instanceof it||U instanceof je||U instanceof Gt)}const Mn={provide:xn,useExisting:(0,h.forwardRef)(()=>kn)};let kn=(()=>{class U extends xn{constructor(N,te,Ye,Kt,Pn){super(),this._ngModelWarningConfig=Pn,this._added=!1,this.update=new h.EventEmitter,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(te),this._setAsyncValidators(Ye),this.valueAccessor=qt(0,Kt)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),He(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return yn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(Xn,13),h.\u0275\u0275directiveInject(pt,10),h.\u0275\u0275directiveInject(Tn,10),h.\u0275\u0275directiveInject(ie,10),h.\u0275\u0275directiveInject(Ji,8))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.\u0275\u0275ProvidersFeature([Mn]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U._ngModelWarningSentOnce=!1,U})();const Hn={provide:ie,useExisting:(0,h.forwardRef)(()=>Yr),multi:!0};function ti(U,V){return null==U?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let Yr=(()=>{class U extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){this.value=N;const te=this._getOptionId(N);null==te&&this.setProperty("selectedIndex",-1);const Ye=ti(te,N);this.setProperty("value",Ye)}registerOnChange(N){this.onChange=te=>{this.value=this._getOptionValue(te),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te),N))return te;return null}_getOptionValue(N){const te=function(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te):N}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("change",function(Kt){return te.onChange(Kt.target.value)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.\u0275\u0275ProvidersFeature([Hn]),h.\u0275\u0275InheritDefinitionFeature]}),U})(),As=(()=>{class U{constructor(N,te,Ye){this._element=N,this._renderer=te,this._select=Ye,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(ti(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._setElementValue(N),this._select&&this._select.writeValue(this._select.value)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(Yr,9))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();const ys={provide:ie,useExisting:(0,h.forwardRef)(()=>Oi),multi:!0};function eo(U,V){return null==U?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let Oi=(()=>{class U extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(N){this._compareWith=N}writeValue(N){let te;if(this.value=N,Array.isArray(N)){const Ye=N.map(Kt=>this._getOptionId(Kt));te=(Kt,Pn)=>{Kt._setSelected(Ye.indexOf(Pn.toString())>-1)}}else te=(Ye,Kt)=>{Ye._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(N){this.onChange=te=>{const Ye=[];if(void 0!==te.selectedOptions){const Kt=te.selectedOptions;for(let Pn=0;Pn<Kt.length;Pn++){const Vr=Kt.item(Pn),pi=this._getOptionValue(Vr.value);Ye.push(pi)}}else{const Kt=te.options;for(let Pn=0;Pn<Kt.length;Pn++){const Vr=Kt.item(Pn);if(Vr.selected){const pi=this._getOptionValue(Vr.value);Ye.push(pi)}}}this.value=Ye,N(Ye)}}_registerOption(N){const te=(this._idCounter++).toString();return this._optionMap.set(te,N),te}_getOptionId(N){for(const te of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(te)._value,N))return te;return null}_getOptionValue(N){const te=function(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te)._value:N}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(N,te){1&N&&h.\u0275\u0275listener("change",function(Kt){return te.onChange(Kt.target)})("blur",function(){return te.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.\u0275\u0275ProvidersFeature([ys]),h.\u0275\u0275InheritDefinitionFeature]}),U})(),es=(()=>{class U{constructor(N,te,Ye){this._element=N,this._renderer=te,this._select=Ye,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(eo(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(eo(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(N){return new(N||U)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(Oi,9))},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();function ho(U){return"number"==typeof U?U:parseInt(U,10)}let fo=(()=>{class U{constructor(){this._validator=En}handleChanges(N){if(this.inputName in N){const te=this.normalizeInput(N[this.inputName].currentValue);this._validator=this.createValidator(te),this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U}),U})();const cs={provide:pt,useExisting:(0,h.forwardRef)(()=>Rs),multi:!0};let Rs=(()=>{class U extends fo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=N=>parseFloat(N),this.createValidator=N=>Ue(N)}ngOnChanges(N){this.handleChanges(N)}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,te){if(2&N){let Ye;h.\u0275\u0275attribute("max",null!==(Ye=te.max)&&void 0!==Ye?Ye:null)}},inputs:{max:"max"},features:[h.\u0275\u0275ProvidersFeature([cs]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U})();const ni={provide:pt,useExisting:(0,h.forwardRef)(()=>ki),multi:!0};let ki=(()=>{class U extends fo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=N=>parseFloat(N),this.createValidator=N=>jt(N)}ngOnChanges(N){this.handleChanges(N)}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,te){if(2&N){let Ye;h.\u0275\u0275attribute("min",null!==(Ye=te.min)&&void 0!==Ye?Ye:null)}},inputs:{min:"min"},features:[h.\u0275\u0275ProvidersFeature([ni]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),U})();const Ns={provide:pt,useExisting:(0,h.forwardRef)(()=>vn),multi:!0},fi={provide:pt,useExisting:(0,h.forwardRef)(()=>Os),multi:!0};let vn=(()=>{class U{constructor(){this._required=!1}get required(){return this._required}set required(N){this._required=null!=N&&!1!==N&&"false"!=`${N}`,this._onChange&&this._onChange()}validate(N){return this.required?bt(N):null}registerOnValidatorChange(N){this._onChange=N}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,te){2&N&&h.\u0275\u0275attribute("required",te.required?"":null)},inputs:{required:"required"},features:[h.\u0275\u0275ProvidersFeature([Ns])]}),U})(),Os=(()=>{class U extends vn{validate(N){return this.required?gt(N):null}}return U.\u0275fac=function(){let V;return function(te){return(V||(V=h.\u0275\u0275getInheritedFactory(U)))(te||U)}}(),U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(N,te){2&N&&h.\u0275\u0275attribute("required",te.required?"":null)},features:[h.\u0275\u0275ProvidersFeature([fi]),h.\u0275\u0275InheritDefinitionFeature]}),U})();const ks={provide:pt,useExisting:(0,h.forwardRef)(()=>Ws),multi:!0};let Ws=(()=>{class U{constructor(){this._enabled=!1}set email(N){this._enabled=""===N||!0===N||"true"===N,this._onChange&&this._onChange()}validate(N){return this._enabled?Mt(N):null}registerOnValidatorChange(N){this._onChange=N}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h.\u0275\u0275ProvidersFeature([ks])]}),U})();const Ci={provide:pt,useExisting:(0,h.forwardRef)(()=>oi),multi:!0};let oi=(()=>{class U{constructor(){this._validator=En}ngOnChanges(N){"minlength"in N&&(this._createValidator(),this._onChange&&this._onChange())}validate(N){return this.enabled()?this._validator(N):null}registerOnValidatorChange(N){this._onChange=N}_createValidator(){this._validator=this.enabled()?Et(ho(this.minlength)):En}enabled(){return null!=this.minlength}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(N,te){2&N&&h.\u0275\u0275attribute("minlength",te.enabled()?te.minlength:null)},inputs:{minlength:"minlength"},features:[h.\u0275\u0275ProvidersFeature([Ci]),h.\u0275\u0275NgOnChangesFeature]}),U})();const ri={provide:pt,useExisting:(0,h.forwardRef)(()=>po),multi:!0};let po=(()=>{class U{constructor(){this._validator=En}ngOnChanges(N){"maxlength"in N&&(this._createValidator(),this._onChange&&this._onChange())}validate(N){return this.enabled()?this._validator(N):null}registerOnValidatorChange(N){this._onChange=N}_createValidator(){this._validator=this.enabled()?en(ho(this.maxlength)):En}enabled(){return null!=this.maxlength}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(N,te){2&N&&h.\u0275\u0275attribute("maxlength",te.enabled()?te.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h.\u0275\u0275ProvidersFeature([ri]),h.\u0275\u0275NgOnChangesFeature]}),U})();const ai={provide:pt,useExisting:(0,h.forwardRef)(()=>ds),multi:!0};let ds=(()=>{class U{constructor(){this._validator=En}ngOnChanges(N){"pattern"in N&&(this._createValidator(),this._onChange&&this._onChange())}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}_createValidator(){this._validator=xt(this.pattern)}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=h.\u0275\u0275defineDirective({type:U,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(N,te){2&N&&h.\u0275\u0275attribute("pattern",te.pattern?te.pattern:null)},inputs:{pattern:"pattern"},features:[h.\u0275\u0275ProvidersFeature([ai]),h.\u0275\u0275NgOnChangesFeature]}),U})();const Ur=[qi,As,es,qe,ei,Ds,xe,Yr,Oi,yr,Rr,at,vn,oi,po,ds,Os,Ws,ki,Rs],$s=[Qi,ur,Le],j=[zn,je,kn,it,Gt];let ae=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=h.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=h.\u0275\u0275defineInjector({imports:[[us]]}),U})(),H=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=h.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=h.\u0275\u0275defineInjector({imports:[ae]}),U})(),he=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:Ji,useValue:N.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=h.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=h.\u0275\u0275defineInjector({imports:[ae]}),U})(),yt=(()=>{class U{group(N,te=null){const Ye=this._reduceControls(N);let Vr,Kt=null,Pn=null;return null!=te&&(function(U){return void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn}(te)?(Kt=null!=te.validators?te.validators:null,Pn=null!=te.asyncValidators?te.asyncValidators:null,Vr=null!=te.updateOn?te.updateOn:void 0):(Kt=null!=te.validator?te.validator:null,Pn=null!=te.asyncValidator?te.asyncValidator:null)),new Zr(Ye,{asyncValidators:Pn,updateOn:Vr,validators:Kt})}control(N,te,Ye){return new Tr(N,te,Ye)}array(N,te,Ye){const Kt=N.map(Pn=>this._createControl(Pn));return new cr(Kt,te,Ye)}_reduceControls(N){const te={};return Object.keys(N).forEach(Ye=>{te[Ye]=this._createControl(N[Ye])}),te}_createControl(N){return N instanceof Tr||N instanceof Zr||N instanceof cr?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:function(){return new U},token:U,providedIn:he}),U})();const Vt=new h.Version("12.2.16")},9075:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{\u0275getDOM:()=>h.\u0275getDOM,BrowserModule:()=>ke,BrowserTransferStateModule:()=>cr,By:()=>hi,DomSanitizer:()=>Te,EVENT_MANAGER_PLUGINS:()=>Mt,EventManager:()=>Et,HAMMER_GESTURE_CONFIG:()=>Fn,HAMMER_LOADER:()=>Ir,HammerGestureConfig:()=>Rr,HammerModule:()=>mt,Meta:()=>qt,Title:()=>Rn,TransferState:()=>Tr,VERSION:()=>Vn,disableDebugTools:()=>un,enableDebugTools:()=>Jt,makeStateKey:()=>Xr,platformBrowser:()=>tt,\u0275BROWSER_SANITIZATION_PROVIDERS:()=>er,\u0275BROWSER_SANITIZATION_PROVIDERS__POST_R3__:()=>Mr,\u0275BrowserDomAdapter:()=>ue,\u0275BrowserGetTestability:()=>ie,\u0275DomEventsPlugin:()=>xn,\u0275DomRendererFactory2:()=>Qt,\u0275DomSanitizerImpl:()=>Fe,\u0275DomSharedStylesHost:()=>En,\u0275ELEMENT_PROBE_PROVIDERS:()=>gt,\u0275ELEMENT_PROBE_PROVIDERS__POST_R3__:()=>Ue,\u0275HAMMER_PROVIDERS__POST_R3__:()=>$e,\u0275HammerGesturesPlugin:()=>at,\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS:()=>jn,\u0275KeyEventsPlugin:()=>on,\u0275NAMESPACE_URIS:()=>Sn,\u0275SharedStylesHost:()=>xt,\u0275TRANSITION_ID:()=>le,\u0275angular_packages_platform_browser_platform_browser_a:()=>_t,\u0275angular_packages_platform_browser_platform_browser_b:()=>Ot,\u0275angular_packages_platform_browser_platform_browser_c:()=>He,\u0275angular_packages_platform_browser_platform_browser_d:()=>Dt,\u0275angular_packages_platform_browser_platform_browser_e:()=>$n,\u0275angular_packages_platform_browser_platform_browser_f:()=>Zr,\u0275angular_packages_platform_browser_platform_browser_g:()=>en,\u0275angular_packages_platform_browser_platform_browser_h:()=>Ae,\u0275angular_packages_platform_browser_platform_browser_i:()=>dt,\u0275angular_packages_platform_browser_platform_browser_j:()=>Ke,\u0275angular_packages_platform_browser_platform_browser_k:()=>$,\u0275angular_packages_platform_browser_platform_browser_l:()=>J,\u0275angular_packages_platform_browser_platform_browser_m:()=>st,\u0275angular_packages_platform_browser_platform_browser_n:()=>bt,\u0275angular_packages_platform_browser_platform_browser_o:()=>we,\u0275angular_packages_platform_browser_platform_browser_p:()=>z,\u0275escapeHtml:()=>Qn,\u0275flattenStyles:()=>Ln,\u0275initDomAdapter:()=>Ie,\u0275shimContentAttribute:()=>Zt,\u0275shimHostAttribute:()=>wt});var h=P(8583),R=P(7716);class z extends h.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends z{static makeCurrent(){(0,h.\u0275setRootDomAdapter)(new ue)}onAndCancel(Ve,_e,Ze){return Ve.addEventListener(_e,Ze,!1),()=>{Ve.removeEventListener(_e,Ze,!1)}}dispatchEvent(Ve,_e){Ve.dispatchEvent(_e)}remove(Ve){Ve.parentNode&&Ve.parentNode.removeChild(Ve)}createElement(Ve,_e){return(_e=_e||this.getDefaultDocument()).createElement(Ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ve){return Ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ve){return Ve instanceof DocumentFragment}getGlobalEventTarget(Ve,_e){return"window"===_e?window:"document"===_e?Ve:"body"===_e?Ve.body:null}getBaseHref(Ve){const _e=(pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null);return null==_e?null:function(Le){ce=ce||document.createElement("a"),ce.setAttribute("href",Le);const Ve=ce.pathname;return"/"===Ve.charAt(0)?Ve:`/${Ve}`}(_e)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ve){return(0,h.\u0275parseCookieValue)(document.cookie,Ve)}}let ce,pe=null;const le=new R.InjectionToken("TRANSITION_ID");function $(Le,Ve,_e){return()=>{_e.get(R.ApplicationInitStatus).donePromise.then(()=>{const Ze=(0,h.\u0275getDOM)(),vt=Ve.querySelectorAll(`style[ng-transition="${Le}"]`);for(let In=0;In<vt.length;In++)Ze.remove(vt[In])})}}const J=[{provide:R.APP_INITIALIZER,useFactory:$,deps:[le,h.DOCUMENT,R.Injector],multi:!0}];class ie{static init(){(0,R.setTestabilityGetter)(new ie)}addToWindow(Ve){R.\u0275global.getAngularTestability=(Ze,vt=!0)=>{const In=Ve.findTestabilityInTree(Ze,vt);if(null==In)throw new Error("Could not find testability for element.");return In},R.\u0275global.getAllAngularTestabilities=()=>Ve.getAllTestabilities(),R.\u0275global.getAllAngularRootElements=()=>Ve.getAllRootElements(),R.\u0275global.frameworkStabilizers||(R.\u0275global.frameworkStabilizers=[]),R.\u0275global.frameworkStabilizers.push(Ze=>{const vt=R.\u0275global.getAllAngularTestabilities();let In=vt.length,Bn=!1;const ur=function(Kn){Bn=Bn||Kn,In--,0==In&&Ze(Bn)};vt.forEach(function(Kn){Kn.whenStable(ur)})})}findTestabilityInTree(Ve,_e,Ze){if(null==_e)return null;const vt=Ve.getTestability(_e);return null!=vt?vt:Ze?(0,h.\u0275getDOM)().isShadowRoot(_e)?this.findTestabilityInTree(Ve,_e.host,!0):this.findTestabilityInTree(Ve,_e.parentElement,!0):null}}let we=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();function qe(Le,Ve){"undefined"!=typeof COMPILED&&COMPILED||((R.\u0275global.ng=R.\u0275global.ng||{})[Le]=Ve)}const re=(()=>({ApplicationRef:R.ApplicationRef,NgZone:R.NgZone}))();function _n(Le){return(0,R.\u0275getDebugNodeR2)(Le)}function st(Le){return qe("probe",_n),qe("coreTokens",Object.assign(Object.assign({},re),function(Le){return Le.reduce((Ve,_e)=>(Ve[_e.name]=_e.token,Ve),{})}(Le||[]))),()=>_n}const Ue=[],bt=[{provide:R.APP_INITIALIZER,useFactory:st,deps:[[R.NgProbeToken,new R.Optional]],multi:!0}],gt=Ue,Mt=new R.InjectionToken("EventManagerPlugins");let Et=(()=>{class Le{constructor(_e,Ze){this._zone=Ze,this._eventNameToPlugin=new Map,_e.forEach(vt=>vt.manager=this),this._plugins=_e.slice().reverse()}addEventListener(_e,Ze,vt){return this._findPluginFor(Ze).addEventListener(_e,Ze,vt)}addGlobalEventListener(_e,Ze,vt){return this._findPluginFor(Ze).addGlobalEventListener(_e,Ze,vt)}getZone(){return this._zone}_findPluginFor(_e){const Ze=this._eventNameToPlugin.get(_e);if(Ze)return Ze;const vt=this._plugins;for(let In=0;In<vt.length;In++){const Bn=vt[In];if(Bn.supports(_e))return this._eventNameToPlugin.set(_e,Bn),Bn}throw new Error(`No event manager plugin found for event ${_e}`)}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(Mt),R.\u0275\u0275inject(R.NgZone))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();class en{constructor(Ve){this._doc=Ve}addGlobalEventListener(Ve,_e,Ze){const vt=(0,h.\u0275getDOM)().getGlobalEventTarget(this._doc,Ve);if(!vt)throw new Error(`Unsupported event target ${vt} for event ${_e}`);return this.addEventListener(vt,_e,Ze)}}let xt=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(_e){const Ze=new Set;_e.forEach(vt=>{this._stylesSet.has(vt)||(this._stylesSet.add(vt),Ze.add(vt))}),this.onStylesAdded(Ze)}onStylesAdded(_e){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),En=(()=>{class Le extends xt{constructor(_e){super(),this._doc=_e,this._hostNodes=new Map,this._hostNodes.set(_e.head,[])}_addStylesToHost(_e,Ze,vt){_e.forEach(In=>{const Bn=this._doc.createElement("style");Bn.textContent=In,vt.push(Ze.appendChild(Bn))})}addHost(_e){const Ze=[];this._addStylesToHost(this._stylesSet,_e,Ze),this._hostNodes.set(_e,Ze)}removeHost(_e){const Ze=this._hostNodes.get(_e);Ze&&Ze.forEach(mr),this._hostNodes.delete(_e)}onStylesAdded(_e){this._hostNodes.forEach((Ze,vt)=>{this._addStylesToHost(_e,vt,Ze)})}ngOnDestroy(){this._hostNodes.forEach(_e=>_e.forEach(mr))}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();function mr(Le){(0,h.\u0275getDOM)().remove(Le)}const Sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ar=/%COMP%/g;function Zt(Le){return"_ngcontent-%COMP%".replace(ar,Le)}function wt(Le){return"_nghost-%COMP%".replace(ar,Le)}function Ln(Le,Ve,_e){for(let Ze=0;Ze<Ve.length;Ze++){let vt=Ve[Ze];Array.isArray(vt)?Ln(Le,vt,_e):(vt=vt.replace(ar,Le),_e.push(vt))}return _e}function dn(Le){return Ve=>{if("__ngUnwrap__"===Ve)return Le;!1===Le(Ve)&&(Ve.preventDefault(),Ve.returnValue=!1)}}let Qt=(()=>{class Le{constructor(_e,Ze,vt){this.eventManager=_e,this.sharedStylesHost=Ze,this.appId=vt,this.rendererByCompId=new Map,this.defaultRenderer=new Ft(_e)}createRenderer(_e,Ze){if(!_e||!Ze)return this.defaultRenderer;switch(Ze.encapsulation){case R.ViewEncapsulation.Emulated:{let vt=this.rendererByCompId.get(Ze.id);return vt||(vt=new St(this.eventManager,this.sharedStylesHost,Ze,this.appId),this.rendererByCompId.set(Ze.id,vt)),vt.applyToHost(_e),vt}case 1:case R.ViewEncapsulation.ShadowDom:return new Xn(this.eventManager,this.sharedStylesHost,_e,Ze);default:if(!this.rendererByCompId.has(Ze.id)){const vt=Ln(Ze.id,Ze.styles,[]);this.sharedStylesHost.addStyles(vt),this.rendererByCompId.set(Ze.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(Et),R.\u0275\u0275inject(En),R.\u0275\u0275inject(R.APP_ID))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();class Ft{constructor(Ve){this.eventManager=Ve,this.data=Object.create(null)}destroy(){}createElement(Ve,_e){return _e?document.createElementNS(Sn[_e]||_e,Ve):document.createElement(Ve)}createComment(Ve){return document.createComment(Ve)}createText(Ve){return document.createTextNode(Ve)}appendChild(Ve,_e){Ve.appendChild(_e)}insertBefore(Ve,_e,Ze){Ve&&Ve.insertBefore(_e,Ze)}removeChild(Ve,_e){Ve&&Ve.removeChild(_e)}selectRootElement(Ve,_e){let Ze="string"==typeof Ve?document.querySelector(Ve):Ve;if(!Ze)throw new Error(`The selector "${Ve}" did not match any elements`);return _e||(Ze.textContent=""),Ze}parentNode(Ve){return Ve.parentNode}nextSibling(Ve){return Ve.nextSibling}setAttribute(Ve,_e,Ze,vt){if(vt){_e=vt+":"+_e;const In=Sn[vt];In?Ve.setAttributeNS(In,_e,Ze):Ve.setAttribute(_e,Ze)}else Ve.setAttribute(_e,Ze)}removeAttribute(Ve,_e,Ze){if(Ze){const vt=Sn[Ze];vt?Ve.removeAttributeNS(vt,_e):Ve.removeAttribute(`${Ze}:${_e}`)}else Ve.removeAttribute(_e)}addClass(Ve,_e){Ve.classList.add(_e)}removeClass(Ve,_e){Ve.classList.remove(_e)}setStyle(Ve,_e,Ze,vt){vt&(R.RendererStyleFlags2.DashCase|R.RendererStyleFlags2.Important)?Ve.style.setProperty(_e,Ze,vt&R.RendererStyleFlags2.Important?"important":""):Ve.style[_e]=Ze}removeStyle(Ve,_e,Ze){Ze&R.RendererStyleFlags2.DashCase?Ve.style.removeProperty(_e):Ve.style[_e]=""}setProperty(Ve,_e,Ze){Ve[_e]=Ze}setValue(Ve,_e){Ve.nodeValue=_e}listen(Ve,_e,Ze){return"string"==typeof Ve?this.eventManager.addGlobalEventListener(Ve,_e,dn(Ze)):this.eventManager.addEventListener(Ve,_e,dn(Ze))}}class St extends Ft{constructor(Ve,_e,Ze,vt){super(Ve),this.component=Ze;const In=Ln(vt+"-"+Ze.id,Ze.styles,[]);_e.addStyles(In),this.contentAttr=Zt(vt+"-"+Ze.id),this.hostAttr=wt(vt+"-"+Ze.id)}applyToHost(Ve){super.setAttribute(Ve,this.hostAttr,"")}createElement(Ve,_e){const Ze=super.createElement(Ve,_e);return super.setAttribute(Ze,this.contentAttr,""),Ze}}class Xn extends Ft{constructor(Ve,_e,Ze,vt){super(Ve),this.sharedStylesHost=_e,this.hostEl=Ze,this.shadowRoot=Ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const In=Ln(vt.id,vt.styles,[]);for(let Bn=0;Bn<In.length;Bn++){const ur=document.createElement("style");ur.textContent=In[Bn],this.shadowRoot.appendChild(ur)}}nodeOrShadowRoot(Ve){return Ve===this.hostEl?this.shadowRoot:Ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ve,_e){return super.appendChild(this.nodeOrShadowRoot(Ve),_e)}insertBefore(Ve,_e,Ze){return super.insertBefore(this.nodeOrShadowRoot(Ve),_e,Ze)}removeChild(Ve,_e){return super.removeChild(this.nodeOrShadowRoot(Ve),_e)}parentNode(Ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ve)))}}let xn=(()=>{class Le extends en{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,Ze,vt){return _e.addEventListener(Ze,vt,!1),()=>this.removeEventListener(_e,Ze,vt)}removeEventListener(_e,Ze,vt){return _e.removeEventListener(Ze,vt)}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const ln={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Fn=new R.InjectionToken("HammerGestureConfig"),Ir=new R.InjectionToken("HammerLoader");let Rr=(()=>{class Le{constructor(){this.events=[],this.overrides={}}buildHammer(_e){const Ze=new Hammer(_e,this.options);Ze.get("pinch").set({enable:!0}),Ze.get("rotate").set({enable:!0});for(const vt in this.overrides)Ze.get(vt).set(this.overrides[vt]);return Ze}}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),at=(()=>{class Le extends en{constructor(_e,Ze,vt,In){super(_e),this._config=Ze,this.console=vt,this.loader=In,this._loaderPromise=null}supports(_e){return!(!ln.hasOwnProperty(_e.toLowerCase())&&!this.isCustomEvent(_e)||!window.Hammer&&!this.loader)}addEventListener(_e,Ze,vt){const In=this.manager.getZone();if(Ze=Ze.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let Bn=!1,ur=()=>{Bn=!0};return this._loaderPromise.then(()=>{window.Hammer?Bn||(ur=this.addEventListener(_e,Ze,vt)):ur=()=>{}}).catch(()=>{ur=()=>{}}),()=>{ur()}}return In.runOutsideAngular(()=>{const Bn=this._config.buildHammer(_e),ur=function(Kn){In.runGuarded(function(){vt(Kn)})};return Bn.on(Ze,ur),()=>{Bn.off(Ze,ur),"function"==typeof Bn.destroy&&Bn.destroy()}})}isCustomEvent(_e){return this._config.events.indexOf(_e)>-1}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT),R.\u0275\u0275inject(Fn),R.\u0275\u0275inject(R.\u0275Console),R.\u0275\u0275inject(Ir,8))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();const $e=[],Ae=[{provide:Mt,useClass:at,multi:!0,deps:[h.DOCUMENT,Fn,R.\u0275Console,[new R.Optional,Ir]]},{provide:Fn,useClass:Rr,deps:[]}],dt=$e;let mt=(()=>{class Le{}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275mod=R.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=R.\u0275\u0275defineInjector({providers:Ae}),Le})();const Xt=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},On={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yn={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let on=(()=>{class Le extends en{constructor(_e){super(_e)}supports(_e){return null!=Le.parseEventName(_e)}addEventListener(_e,Ze,vt){const In=Le.parseEventName(Ze),Bn=Le.eventCallback(In.fullKey,vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.\u0275getDOM)().onAndCancel(_e,In.domEventName,Bn))}static parseEventName(_e){const Ze=_e.toLowerCase().split("."),vt=Ze.shift();if(0===Ze.length||"keydown"!==vt&&"keyup"!==vt)return null;const In=Le._normalizeKey(Ze.pop());let Bn="";if(Xt.forEach(Kn=>{const xs=Ze.indexOf(Kn);xs>-1&&(Ze.splice(xs,1),Bn+=Kn+".")}),Bn+=In,0!=Ze.length||0===In.length)return null;const ur={};return ur.domEventName=vt,ur.fullKey=Bn,ur}static getEventFullKey(_e){let Ze="",vt=function(Le){let Ve=Le.key;if(null==Ve){if(Ve=Le.keyIdentifier,null==Ve)return"Unidentified";Ve.startsWith("U+")&&(Ve=String.fromCharCode(parseInt(Ve.substring(2),16)),3===Le.location&&On.hasOwnProperty(Ve)&&(Ve=On[Ve]))}return Yt[Ve]||Ve}(_e);return vt=vt.toLowerCase()," "===vt?vt="space":"."===vt&&(vt="dot"),Xt.forEach(In=>{In!=vt&&yn[In](_e)&&(Ze+=In+".")}),Ze+=vt,Ze}static eventCallback(_e,Ze,vt){return In=>{Le.getEventFullKey(In)===_e&&vt.runGuarded(()=>Ze(In))}}static _normalizeKey(_e){switch(_e){case"esc":return"escape";default:return _e}}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})(),Te=(()=>{class Le{}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275prov=(0,R.\u0275\u0275defineInjectable)({factory:function(){return(0,R.\u0275\u0275inject)(Fe)},token:Le,providedIn:"root"}),Le})();function Ke(Le){return new Fe(Le.get(h.DOCUMENT))}let Fe=(()=>{class Le extends Te{constructor(_e){super(),this._doc=_e}sanitize(_e,Ze){if(null==Ze)return null;switch(_e){case R.SecurityContext.NONE:return Ze;case R.SecurityContext.HTML:return(0,R.\u0275allowSanitizationBypassAndThrow)(Ze,"HTML")?(0,R.\u0275unwrapSafeValue)(Ze):(0,R.\u0275_sanitizeHtml)(this._doc,String(Ze)).toString();case R.SecurityContext.STYLE:return(0,R.\u0275allowSanitizationBypassAndThrow)(Ze,"Style")?(0,R.\u0275unwrapSafeValue)(Ze):Ze;case R.SecurityContext.SCRIPT:if((0,R.\u0275allowSanitizationBypassAndThrow)(Ze,"Script"))return(0,R.\u0275unwrapSafeValue)(Ze);throw new Error("unsafe value used in a script context");case R.SecurityContext.URL:return(0,R.\u0275getSanitizationBypassType)(Ze),(0,R.\u0275allowSanitizationBypassAndThrow)(Ze,"URL")?(0,R.\u0275unwrapSafeValue)(Ze):(0,R.\u0275_sanitizeUrl)(String(Ze));case R.SecurityContext.RESOURCE_URL:if((0,R.\u0275allowSanitizationBypassAndThrow)(Ze,"ResourceURL"))return(0,R.\u0275unwrapSafeValue)(Ze);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${_e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(_e){return(0,R.\u0275bypassSanitizationTrustHtml)(_e)}bypassSecurityTrustStyle(_e){return(0,R.\u0275bypassSanitizationTrustStyle)(_e)}bypassSecurityTrustScript(_e){return(0,R.\u0275bypassSanitizationTrustScript)(_e)}bypassSecurityTrustUrl(_e){return(0,R.\u0275bypassSanitizationTrustUrl)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,R.\u0275bypassSanitizationTrustResourceUrl)(_e)}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=(0,R.\u0275\u0275defineInjectable)({factory:function(){return Ke((0,R.\u0275\u0275inject)(R.INJECTOR))},token:Le,providedIn:"root"}),Le})();function Ie(){ue.makeCurrent(),ie.init()}function _t(){return new R.ErrorHandler}function Ot(){return(0,R.\u0275setDocument)(document),document}const jn=[{provide:R.PLATFORM_ID,useValue:h.\u0275PLATFORM_BROWSER_ID},{provide:R.PLATFORM_INITIALIZER,useValue:Ie,multi:!0},{provide:h.DOCUMENT,useFactory:Ot,deps:[]}],Mr=[],er=Mr,tt=(0,R.createPlatformFactory)(R.platformCore,"browser",jn),He=[er,{provide:R.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:R.ErrorHandler,useFactory:_t,deps:[]},{provide:Mt,useClass:xn,multi:!0,deps:[h.DOCUMENT,R.NgZone,R.PLATFORM_ID]},{provide:Mt,useClass:on,multi:!0,deps:[h.DOCUMENT]},dt,{provide:Qt,useClass:Qt,deps:[Et,En,R.APP_ID]},{provide:R.RendererFactory2,useExisting:Qt},{provide:xt,useExisting:En},{provide:En,useClass:En,deps:[h.DOCUMENT]},{provide:R.Testability,useClass:R.Testability,deps:[R.NgZone]},{provide:Et,useClass:Et,deps:[Mt,R.NgZone]},{provide:h.XhrFactory,useClass:we,deps:[]},gt];let ke=(()=>{class Le{constructor(_e){if(_e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_e){return{ngModule:Le,providers:[{provide:R.APP_ID,useValue:_e.appId},{provide:le,useExisting:R.APP_ID},J]}}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(Le,12))},Le.\u0275mod=R.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=R.\u0275\u0275defineInjector({providers:He,imports:[h.CommonModule,R.ApplicationModule]}),Le})();function Dt(){return new qt((0,R.\u0275\u0275inject)(h.DOCUMENT))}let qt=(()=>{class Le{constructor(_e){this._doc=_e,this._dom=(0,h.\u0275getDOM)()}addTag(_e,Ze=!1){return _e?this._getOrCreateElement(_e,Ze):null}addTags(_e,Ze=!1){return _e?_e.reduce((vt,In)=>(In&&vt.push(this._getOrCreateElement(In,Ze)),vt),[]):[]}getTag(_e){return _e&&this._doc.querySelector(`meta[${_e}]`)||null}getTags(_e){if(!_e)return[];const Ze=this._doc.querySelectorAll(`meta[${_e}]`);return Ze?[].slice.call(Ze):[]}updateTag(_e,Ze){if(!_e)return null;Ze=Ze||this._parseSelector(_e);const vt=this.getTag(Ze);return vt?this._setMetaElementAttributes(_e,vt):this._getOrCreateElement(_e,!0)}removeTag(_e){this.removeTagElement(this.getTag(_e))}removeTagElement(_e){_e&&this._dom.remove(_e)}_getOrCreateElement(_e,Ze=!1){if(!Ze){const Bn=this._parseSelector(_e),ur=this.getTags(Bn).filter(Kn=>this._containsAttributes(_e,Kn))[0];if(void 0!==ur)return ur}const vt=this._dom.createElement("meta");return this._setMetaElementAttributes(_e,vt),this._doc.getElementsByTagName("head")[0].appendChild(vt),vt}_setMetaElementAttributes(_e,Ze){return Object.keys(_e).forEach(vt=>Ze.setAttribute(this._getMetaKeyMap(vt),_e[vt])),Ze}_parseSelector(_e){const Ze=_e.name?"name":"property";return`${Ze}="${_e[Ze]}"`}_containsAttributes(_e,Ze){return Object.keys(_e).every(vt=>Ze.getAttribute(this._getMetaKeyMap(vt))===_e[vt])}_getMetaKeyMap(_e){return Yn[_e]||_e}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=(0,R.\u0275\u0275defineInjectable)({factory:Dt,token:Le,providedIn:"root"}),Le})();const Yn={httpEquiv:"http-equiv"};function $n(){return new Rn((0,R.\u0275\u0275inject)(h.DOCUMENT))}let Rn=(()=>{class Le{constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}}return Le.\u0275fac=function(_e){return new(_e||Le)(R.\u0275\u0275inject(h.DOCUMENT))},Le.\u0275prov=(0,R.\u0275\u0275defineInjectable)({factory:$n,token:Le,providedIn:"root"}),Le})();const Jn="undefined"!=typeof window&&window||{};class Pr{constructor(Ve,_e){this.msPerTick=Ve,this.numTicks=_e}}class Lr{constructor(Ve){this.appRef=Ve.injector.get(R.ApplicationRef)}timeChangeDetection(Ve){const _e=Ve&&Ve.record,Ze="Change Detection",vt=null!=Jn.console.profile;_e&&vt&&Jn.console.profile(Ze);const In=tr();let Bn=0;for(;Bn<5||tr()-In<500;)this.appRef.tick(),Bn++;const ur=tr();_e&&vt&&Jn.console.profileEnd(Ze);const Kn=(ur-In)/Bn;return Jn.console.log(`ran ${Bn} change detection cycles`),Jn.console.log(`${Kn.toFixed(2)} ms per check`),new Pr(Kn,Bn)}}function tr(){return Jn.performance&&Jn.performance.now?Jn.performance.now():(new Date).getTime()}const xr="profiler";function Jt(Le){return qe(xr,new Lr(Le)),Le}function un(){qe(xr,null)}function Qn(Le){const Ve={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return Le.replace(/[&"'<>]/g,_e=>Ve[_e])}function Xr(Le){return Le}let Tr=(()=>{class Le{constructor(){this.store={},this.onSerializeCallbacks={}}static init(_e){const Ze=new Le;return Ze.store=_e,Ze}get(_e,Ze){return void 0!==this.store[_e]?this.store[_e]:Ze}set(_e,Ze){this.store[_e]=Ze}remove(_e){delete this.store[_e]}hasKey(_e){return this.store.hasOwnProperty(_e)}onSerialize(_e,Ze){this.onSerializeCallbacks[_e]=Ze}toJson(){for(const _e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(_e))try{this.store[_e]=this.onSerializeCallbacks[_e]()}catch(Ze){console.warn("Exception in onSerialize callback: ",Ze)}return JSON.stringify(this.store)}}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275prov=R.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac}),Le})();function Zr(Le,Ve){const _e=Le.getElementById(Ve+"-state");let Ze={};if(_e&&_e.textContent)try{Ze=JSON.parse(function(Le){const Ve={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return Le.replace(/&[^;]+;/g,_e=>Ve[_e])}(_e.textContent))}catch(vt){console.warn("Exception while restoring TransferState for app "+Ve,vt)}return Tr.init(Ze)}let cr=(()=>{class Le{}return Le.\u0275fac=function(_e){return new(_e||Le)},Le.\u0275mod=R.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=R.\u0275\u0275defineInjector({providers:[{provide:Tr,useFactory:Zr,deps:[h.DOCUMENT,R.APP_ID]}]}),Le})();class hi{static all(){return()=>!0}static css(Ve){return _e=>null!=_e.nativeElement&&function(Le,Ve){return!!(0,h.\u0275getDOM)().isElementNode(Le)&&(Le.matches&&Le.matches(Ve)||Le.msMatchesSelector&&Le.msMatchesSelector(Ve)||Le.webkitMatchesSelector&&Le.webkitMatchesSelector(Ve))}(_e.nativeElement,Ve)}static directive(Ve){return _e=>-1!==_e.providerTokens.indexOf(Ve)}}const Vn=new R.Version("12.2.16")},9895:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{ActivatedRoute:()=>Bi,ActivatedRouteSnapshot:()=>Ve,ActivationEnd:()=>wn,ActivationStart:()=>dn,BaseRouteReuseStrategy:()=>ma,ChildActivationEnd:()=>Ln,ChildActivationStart:()=>wt,ChildrenOutletContexts:()=>Es,DefaultUrlSerializer:()=>Ot,GuardsCheckEnd:()=>Dn,GuardsCheckStart:()=>ar,NavigationCancel:()=>En,NavigationEnd:()=>xt,NavigationError:()=>mr,NavigationStart:()=>en,NoPreloading:()=>Vs,OutletContext:()=>xo,PRIMARY_OUTLET:()=>Ft,PreloadAllModules:()=>_o,PreloadingStrategy:()=>To,ROUTER_CONFIGURATION:()=>bs,ROUTER_INITIALIZER:()=>C,ROUTES:()=>Qo,ResolveEnd:()=>Dr,ResolveStart:()=>tn,RouteConfigLoadEnd:()=>Zt,RouteConfigLoadStart:()=>Ht,RouteReuseStrategy:()=>hs,Router:()=>Pi,RouterEvent:()=>Et,RouterLink:()=>mo,RouterLinkActive:()=>vi,RouterLinkWithHref:()=>Xo,RouterModule:()=>io,RouterOutlet:()=>no,RouterPreloader:()=>yo,RouterState:()=>Zr,RouterStateSnapshot:()=>_e,RoutesRecognized:()=>Sn,Scroll:()=>Qt,UrlHandlingStrategy:()=>_a,UrlSegment:()=>Te,UrlSegmentGroup:()=>Ce,UrlSerializer:()=>_t,UrlTree:()=>on,VERSION:()=>fe,convertToParamMap:()=>Ar,provideRoutes:()=>wo,\u0275EmptyOutletComponent:()=>es,\u0275ROUTER_PROVIDERS:()=>iu,\u0275angular_packages_router_router_a:()=>li,\u0275angular_packages_router_router_b:()=>Bs,\u0275angular_packages_router_router_c:()=>so,\u0275angular_packages_router_router_d:()=>Ro,\u0275angular_packages_router_router_e:()=>Wr,\u0275angular_packages_router_router_f:()=>su,\u0275angular_packages_router_router_g:()=>oo,\u0275angular_packages_router_router_h:()=>Wi,\u0275angular_packages_router_router_i:()=>So,\u0275angular_packages_router_router_j:()=>ge,\u0275angular_packages_router_router_k:()=>O,\u0275angular_packages_router_router_l:()=>es,\u0275angular_packages_router_router_m:()=>un,\u0275angular_packages_router_router_n:()=>Xr,\u0275angular_packages_router_router_o:()=>ts,\u0275assignExtraOptionsToRouter:()=>$r,\u0275flatten:()=>Rr});var h=P(8583),R=P(7716),z=P(4402),ue=P(5917),pe=P(6215),ee=P(9112),ce=P(8891),X=P(3410),le=P(9923),$=P(1439),J=P(9193),ie=P(2441),we=P(9765),xe=P(8002),Xe=P(3190),et=P(5257),Se=P(9761),qe=P(2145),rt=P(5435),re=P(5304),pt=P(4612),Tn=P(2627),_n=P(8049),st=P(9773),jt=P(8307),Ue=P(548),bt=P(1307),gt=P(197),Mt=P(3282);class Et{constructor(S,w){this.id=S,this.url=w}}class en extends Et{constructor(S,w,L="imperative",Z=null){super(S,w),this.navigationTrigger=L,this.restoredState=Z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xt extends Et{constructor(S,w,L){super(S,w),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class En extends Et{constructor(S,w,L){super(S,w),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mr extends Et{constructor(S,w,L){super(S,w),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sn extends Et{constructor(S,w,L,Z){super(S,w),this.urlAfterRedirects=L,this.state=Z}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Et{constructor(S,w,L,Z){super(S,w),this.urlAfterRedirects=L,this.state=Z}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends Et{constructor(S,w,L,Z,de){super(S,w),this.urlAfterRedirects=L,this.state=Z,this.shouldActivate=de}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tn extends Et{constructor(S,w,L,Z){super(S,w),this.urlAfterRedirects=L,this.state=Z}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends Et{constructor(S,w,L,Z){super(S,w),this.urlAfterRedirects=L,this.state=Z}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zt{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wt{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(S,w,L){this.routerEvent=S,this.position=w,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class ir{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w[0]:w}return null}getAll(S){if(this.has(S)){const w=this.params[S];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Ar(D){return new ir(D)}const fn="ngNavigationCancelingError";function St(D){const S=Error("NavigationCancelingError: "+D);return S[fn]=!0,S}function xn(D,S,w){const L=w.path.split("/");if(L.length>D.length||"full"===w.pathMatch&&(S.hasChildren()||L.length<D.length))return null;const Z={};for(let de=0;de<L.length;de++){const Pe=L[de],We=D[de];if(Pe.startsWith(":"))Z[Pe.substring(1)]=We;else if(Pe!==We.path)return null}return{consumed:D.slice(0,L.length),posParams:Z}}function Fn(D,S){const w=D?Object.keys(D):void 0,L=S?Object.keys(S):void 0;if(!w||!L||w.length!=L.length)return!1;let Z;for(let de=0;de<w.length;de++)if(Z=w[de],!Ir(D[Z],S[Z]))return!1;return!0}function Ir(D,S){if(Array.isArray(D)&&Array.isArray(S)){if(D.length!==S.length)return!1;const w=[...D].sort(),L=[...S].sort();return w.every((Z,de)=>L[de]===Z)}return D===S}function Rr(D){return Array.prototype.concat.apply([],D)}function at(D){return D.length>0?D[D.length-1]:null}function Ae(D,S){for(const w in D)D.hasOwnProperty(w)&&S(D[w],w)}function dt(D){return(0,R.\u0275isObservable)(D)?D:(0,R.\u0275isPromise)(D)?(0,z.D)(Promise.resolve(D)):(0,ue.of)(D)}const Xt={exact:function _r(D,S,w){if(!Fe(D.segments,S.segments)||!yn(D.segments,S.segments,w)||D.numberOfChildren!==S.numberOfChildren)return!1;for(const L in S.children)if(!D.children[L]||!_r(D.children[L],S.children[L],w))return!1;return!0},subset:Cn},At={exact:function(D,S){return Fn(D,S)},subset:function(D,S){return Object.keys(S).length<=Object.keys(D).length&&Object.keys(S).every(w=>Ir(D[w],S[w]))},ignored:()=>!0};function Yt(D,S,w){return Xt[w.paths](D.root,S.root,w.matrixParams)&&At[w.queryParams](D.queryParams,S.queryParams)&&!("exact"===w.fragment&&D.fragment!==S.fragment)}function Cn(D,S,w){return Nr(D,S,S.segments,w)}function Nr(D,S,w,L){if(D.segments.length>w.length){const Z=D.segments.slice(0,w.length);return!(!Fe(Z,w)||S.hasChildren()||!yn(Z,w,L))}if(D.segments.length===w.length){if(!Fe(D.segments,w)||!yn(D.segments,w,L))return!1;for(const Z in S.children)if(!D.children[Z]||!Cn(D.children[Z],S.children[Z],L))return!1;return!0}{const Z=w.slice(0,D.segments.length),de=w.slice(D.segments.length);return!!(Fe(D.segments,Z)&&yn(D.segments,Z,L)&&D.children[Ft])&&Nr(D.children[Ft],S,de,L)}}function yn(D,S,w){return S.every((L,Z)=>At[w](D[Z].parameters,L.parameters))}class on{constructor(S,w,L){this.root=S,this.queryParams=w,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return mn.serialize(this)}}class Ce{constructor(S,w){this.segments=S,this.children=w,this.parent=null,Ae(w,(L,Z)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class Te{constructor(S,w){this.path=S,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Ar(this.parameters)),this._parameterMap}toString(){return qt(this)}}function Fe(D,S){return D.length===S.length&&D.every((w,L)=>w.path===S[L].path)}class _t{}class Ot{parse(S){const w=new Jt(S);return new on(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(S){var D;return`${`/${lr(S.root,!0)}`}${function(D){const S=Object.keys(D).map(w=>{const L=D[w];return Array.isArray(L)?L.map(Z=>`${er(w)}=${er(Z)}`).join("&"):`${er(w)}=${er(L)}`}).filter(w=>!!w);return S.length?`?${S.join("&")}`:""}(S.queryParams)}${"string"==typeof S.fragment?`#${D=S.fragment,encodeURI(D)}`:""}`}}const mn=new Ot;function jn(D){return D.segments.map(S=>qt(S)).join("/")}function lr(D,S){if(!D.hasChildren())return jn(D);if(S){const w=D.children[Ft]?lr(D.children[Ft],!1):"",L=[];return Ae(D.children,(Z,de)=>{de!==Ft&&L.push(`${de}:${lr(Z,!1)}`)}),L.length>0?`${w}(${L.join("//")})`:w}{const w=function(D,S){let w=[];return Ae(D.children,(L,Z)=>{Z===Ft&&(w=w.concat(S(L,Z)))}),Ae(D.children,(L,Z)=>{Z!==Ft&&(w=w.concat(S(L,Z)))}),w}(D,(L,Z)=>Z===Ft?[lr(D.children[Ft],!1)]:[`${Z}:${lr(L,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ft]?`${jn(D)}/${w[0]}`:`${jn(D)}/(${w.join("//")})`}}function Mr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(D){return Mr(D).replace(/%3B/gi,";")}function He(D){return Mr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ke(D){return decodeURIComponent(D)}function Dt(D){return ke(D.replace(/\+/g,"%20"))}function qt(D){return`${He(D.path)}${function(D){return Object.keys(D).map(S=>`;${He(S)}=${He(D[S])}`).join("")}(D.parameters)}`}const Rn=/^[^\/()?;=#]+/;function Jn(D){const S=D.match(Rn);return S?S[0]:""}const Pr=/^[^=?&#]+/,tr=/^[^?&#]+/;class Jt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(S.length>0||Object.keys(w).length>0)&&(L[Ft]=new Ce(S,w)),L}parseSegment(){const S=Jn(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new Te(ke(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const w=Jn(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const Z=Jn(this.remaining);Z&&(L=Z,this.capture(L))}S[ke(w)]=ke(L)}parseQueryParam(S){const w=function(D){const S=D.match(Pr);return S?S[0]:""}(this.remaining);if(!w)return;this.capture(w);let L="";if(this.consumeOptional("=")){const Pe=function(D){const S=D.match(tr);return S?S[0]:""}(this.remaining);Pe&&(L=Pe,this.capture(L))}const Z=Dt(w),de=Dt(L);if(S.hasOwnProperty(Z)){let Pe=S[Z];Array.isArray(Pe)||(Pe=[Pe],S[Z]=Pe),Pe.push(de)}else S[Z]=de}parseParens(S){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=Jn(this.remaining),Z=this.remaining[L.length];if("/"!==Z&&")"!==Z&&";"!==Z)throw new Error(`Cannot parse url '${this.url}'`);let de;L.indexOf(":")>-1?(de=L.substr(0,L.indexOf(":")),this.capture(de),this.capture(":")):S&&(de=Ft);const Pe=this.parseChildren();w[de]=1===Object.keys(Pe).length?Pe[Ft]:new Ce([],Pe),this.consumeOptional("//")}return w}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class un{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const w=this.pathFromRoot(S);return w.length>1?w[w.length-2]:null}children(S){const w=Qn(S,this._root);return w?w.children.map(L=>L.value):[]}firstChild(S){const w=Qn(S,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(S){const w=zr(S,this._root);return w.length<2?[]:w[w.length-2].children.map(Z=>Z.value).filter(Z=>Z!==S)}pathFromRoot(S){return zr(S,this._root).map(w=>w.value)}}function Qn(D,S){if(D===S.value)return S;for(const w of S.children){const L=Qn(D,w);if(L)return L}return null}function zr(D,S){if(D===S.value)return[S];for(const w of S.children){const L=zr(D,w);if(L.length)return L.unshift(S),L}return[]}class Xr{constructor(S,w){this.value=S,this.children=w}toString(){return`TreeNode(${this.value})`}}function Tr(D){const S={};return D&&D.children.forEach(w=>S[w.value.outlet]=w),S}class Zr extends un{constructor(S,w){super(S),this.snapshot=w,Ze(this,S)}toString(){return this.snapshot.toString()}}function cr(D,S){const w=function(D,S){const Pe=new Ve([],{},{},"",{},Ft,S,null,D.root,-1,{});return new _e("",new Xr(Pe,[]))}(D,S),L=new pe.X([new Te("",{})]),Z=new pe.X({}),de=new pe.X({}),Pe=new pe.X({}),We=new pe.X(""),Ge=new Bi(L,Z,Pe,We,de,Ft,S,w.root);return Ge.snapshot=w.root,new Zr(new Xr(Ge,[]),w)}class Bi{constructor(S,w,L,Z,de,Pe,We,Ge){this.url=S,this.params=w,this.queryParams=L,this.fragment=Z,this.data=de,this.outlet=Pe,this.component=We,this._futureSnapshot=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(S=>Ar(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(S=>Ar(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vn(D,S="emptyOnly"){const w=D.pathFromRoot;let L=0;if("always"!==S)for(L=w.length-1;L>=1;){const Z=w[L],de=w[L-1];if(Z.routeConfig&&""===Z.routeConfig.path)L--;else{if(de.component)break;L--}}return function(D){return D.reduce((S,w)=>({params:Object.assign(Object.assign({},S.params),w.params),data:Object.assign(Object.assign({},S.data),w.data),resolve:Object.assign(Object.assign({},S.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(L))}class Ve{constructor(S,w,L,Z,de,Pe,We,Ge,nn,Or,Zn){this.url=S,this.params=w,this.queryParams=L,this.fragment=Z,this.data=de,this.outlet=Pe,this.component=We,this.routeConfig=Ge,this._urlSegment=nn,this._lastPathIndex=Or,this._resolve=Zn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _e extends un{constructor(S,w){super(w),this.url=S,Ze(this,w)}toString(){return vt(this._root)}}function Ze(D,S){S.value._routerState=D,S.children.forEach(w=>Ze(D,w))}function vt(D){const S=D.children.length>0?` { ${D.children.map(vt).join(", ")} } `:"";return`${D.value}${S}`}function In(D){if(D.snapshot){const S=D.snapshot,w=D._futureSnapshot;D.snapshot=w,Fn(S.queryParams,w.queryParams)||D.queryParams.next(w.queryParams),S.fragment!==w.fragment&&D.fragment.next(w.fragment),Fn(S.params,w.params)||D.params.next(w.params),function(D,S){if(D.length!==S.length)return!1;for(let w=0;w<D.length;++w)if(!Fn(D[w],S[w]))return!1;return!0}(S.url,w.url)||D.url.next(w.url),Fn(S.data,w.data)||D.data.next(w.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Bn(D,S){return Fn(D.params,S.params)&&function(D,S){return Fe(D,S)&&D.every((w,L)=>Fn(w.parameters,S[L].parameters))}(D.url,S.url)&&!(!D.parent!=!S.parent)&&(!D.parent||Bn(D.parent,S.parent))}function Kn(D,S,w){if(w&&D.shouldReuseRoute(S.value,w.value.snapshot)){const L=w.value;L._futureSnapshot=S.value;const Z=function(D,S,w){return S.children.map(L=>{for(const Z of w.children)if(D.shouldReuseRoute(L.value,Z.value.snapshot))return Kn(D,L,Z);return Kn(D,L)})}(D,S,w);return new Xr(L,Z)}{if(D.shouldAttach(S.value)){const de=D.retrieve(S.value);if(null!==de){const Pe=de.route;return xs(S,Pe),Pe}}const L=function(D){return new Bi(new pe.X(D.url),new pe.X(D.params),new pe.X(D.queryParams),new pe.X(D.fragment),new pe.X(D.data),D.outlet,D.component,D)}(S.value),Z=S.children.map(de=>Kn(D,de));return new Xr(L,Z)}}function xs(D,S){if(D.value.routeConfig!==S.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(D.children.length!==S.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");S.value._futureSnapshot=D.value;for(let w=0;w<D.children.length;++w)xs(D.children[w],S.children[w])}function Xi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function ei(D){return"object"==typeof D&&null!=D&&D.outlets}function Yi(D,S,w,L,Z){let de={};return L&&Ae(L,(Pe,We)=>{de[We]=Array.isArray(Pe)?Pe.map(Ge=>`${Ge}`):`${Pe}`}),new on(w.root===D?S:bi(w.root,D,S),de,Z)}function bi(D,S,w){const L={};return Ae(D.children,(Z,de)=>{L[de]=Z===S?w:bi(Z,S,w)}),new Ce(D.segments,L)}class us{constructor(S,w,L){if(this.isAbsolute=S,this.numberOfDoubleDots=w,this.commands=L,S&&L.length>0&&Xi(L[0]))throw new Error("Root segment cannot have matrix parameters");const Z=L.find(ei);if(Z&&Z!==at(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yr{constructor(S,w,L){this.segmentGroup=S,this.processChildren=w,this.index=L}}function hr(D,S,w){if(D||(D=new Ce([],{})),0===D.segments.length&&D.hasChildren())return zn(D,S,w);const L=function(D,S,w){let L=0,Z=S;const de={match:!1,pathIndex:0,commandIndex:0};for(;Z<D.segments.length;){if(L>=w.length)return de;const Pe=D.segments[Z],We=w[L];if(ei(We))break;const Ge=`${We}`,nn=L<w.length-1?w[L+1]:null;if(Z>0&&void 0===Ge)break;if(Ge&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!Pt(Ge,nn,Pe))return de;L+=2}else{if(!Pt(Ge,{},Pe))return de;L++}Z++}return{match:!0,pathIndex:Z,commandIndex:L}}(D,S,w),Z=w.slice(L.commandIndex);if(L.match&&L.pathIndex<D.segments.length){const de=new Ce(D.segments.slice(0,L.pathIndex),{});return de.children[Ft]=new Ce(D.segments.slice(L.pathIndex),D.children),zn(de,0,Z)}return L.match&&0===Z.length?new Ce(D.segments,{}):L.match&&!D.hasChildren()?je(D,S,w):L.match?zn(D,0,Z):je(D,S,w)}function zn(D,S,w){if(0===w.length)return new Ce(D.segments,{});{const L=function(D){return ei(D[0])?D[0].outlets:{[Ft]:D}}(w),Z={};return Ae(L,(de,Pe)=>{"string"==typeof de&&(de=[de]),null!==de&&(Z[Pe]=hr(D.children[Pe],S,de))}),Ae(D.children,(de,Pe)=>{void 0===L[Pe]&&(Z[Pe]=de)}),new Ce(D.segments,Z)}}function je(D,S,w){const L=D.segments.slice(0,S);let Z=0;for(;Z<w.length;){const de=w[Z];if(ei(de)){const Ge=Ne(de.outlets);return new Ce(L,Ge)}if(0===Z&&Xi(w[0])){L.push(new Te(D.segments[S].path,it(w[0]))),Z++;continue}const Pe=ei(de)?de.outlets[Ft]:`${de}`,We=Z<w.length-1?w[Z+1]:null;Pe&&We&&Xi(We)?(L.push(new Te(Pe,it(We))),Z+=2):(L.push(new Te(Pe,{})),Z++)}return new Ce(L,{})}function Ne(D){const S={};return Ae(D,(w,L)=>{"string"==typeof w&&(w=[w]),null!==w&&(S[L]=je(new Ce([],{}),0,w))}),S}function it(D){const S={};return Ae(D,(w,L)=>S[L]=`${w}`),S}function Pt(D,S,w){return D==w.path&&Fn(S,w.parameters)}class pn{constructor(S,w,L,Z){this.routeReuseStrategy=S,this.futureState=w,this.currState=L,this.forwardEvent=Z}activate(S){const w=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,L,S),In(this.futureState.root),this.activateChildRoutes(w,L,S)}deactivateChildRoutes(S,w,L){const Z=Tr(w);S.children.forEach(de=>{const Pe=de.value.outlet;this.deactivateRoutes(de,Z[Pe],L),delete Z[Pe]}),Ae(Z,(de,Pe)=>{this.deactivateRouteAndItsChildren(de,L)})}deactivateRoutes(S,w,L){const Z=S.value,de=w?w.value:null;if(Z===de)if(Z.component){const Pe=L.getContext(Z.outlet);Pe&&this.deactivateChildRoutes(S,w,Pe.children)}else this.deactivateChildRoutes(S,w,L);else de&&this.deactivateRouteAndItsChildren(w,L)}deactivateRouteAndItsChildren(S,w){this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,w):this.deactivateRouteAndOutlet(S,w)}detachAndStoreRouteSubtree(S,w){const L=w.getContext(S.value.outlet);if(L&&L.outlet){const Z=L.outlet.detach(),de=L.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Z,route:S,contexts:de})}}deactivateRouteAndOutlet(S,w){const L=w.getContext(S.value.outlet),Z=L&&S.value.component?L.children:w,de=Tr(S);for(const Pe of Object.keys(de))this.deactivateRouteAndItsChildren(de[Pe],Z);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(S,w,L){const Z=Tr(w);S.children.forEach(de=>{this.activateRoutes(de,Z[de.value.outlet],L),this.forwardEvent(new wn(de.value.snapshot))}),S.children.length&&this.forwardEvent(new Ln(S.value.snapshot))}activateRoutes(S,w,L){const Z=S.value,de=w?w.value:null;if(In(Z),Z===de)if(Z.component){const Pe=L.getOrCreateContext(Z.outlet);this.activateChildRoutes(S,w,Pe.children)}else this.activateChildRoutes(S,w,L);else if(Z.component){const Pe=L.getOrCreateContext(Z.outlet);if(this.routeReuseStrategy.shouldAttach(Z.snapshot)){const We=this.routeReuseStrategy.retrieve(Z.snapshot);this.routeReuseStrategy.store(Z.snapshot,null),Pe.children.onOutletReAttached(We.contexts),Pe.attachRef=We.componentRef,Pe.route=We.route.value,Pe.outlet&&Pe.outlet.attach(We.componentRef,We.route.value),Mn(We.route)}else{const We=function(D){for(let S=D.parent;S;S=S.parent){const w=S.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(Z.snapshot),Ge=We?We.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=Z,Pe.resolver=Ge,Pe.outlet&&Pe.outlet.activateWith(Z,Ge),this.activateChildRoutes(S,null,Pe.children)}}else this.activateChildRoutes(S,null,L)}}function Mn(D){In(D.value),D.children.forEach(Mn)}class Hn{constructor(S,w){this.routes=S,this.module=w}}function ti(D){return"function"==typeof D}function Yr(D){return D instanceof on}const Mi=Symbol("INITIAL_VALUE");function Oi(){return(0,Xe.w)(D=>(0,ee.aj)(D.map(S=>S.pipe((0,et.q)(1),(0,Se.O)(Mi)))).pipe((0,qe.R)((S,w)=>{let L=!1;return w.reduce((Z,de,Pe)=>Z!==Mi?Z:(de===Mi&&(L=!0),L||!1!==de&&Pe!==w.length-1&&!Yr(de)?Z:de),S)},Mi),(0,rt.h)(S=>S!==Mi),(0,xe.U)(S=>Yr(S)?S:!0===S),(0,et.q)(1)))}let es=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275cmp=R.\u0275\u0275defineComponent({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,L){1&w&&R.\u0275\u0275element(0,"router-outlet")},directives:function(){return[no]},encapsulation:2}),D})();function ho(D,S=""){for(let w=0;w<D.length;w++){const L=D[w];fo(L,cs(S,L))}}function fo(D,S){D.children&&ho(D.children,S)}function cs(D,S){return S?D||S.path?D&&!S.path?`${D}/`:!D&&S.path?S.path:`${D}/${S.path}`:"":D}function Rs(D){const S=D.children&&D.children.map(Rs),w=S?Object.assign(Object.assign({},D),{children:S}):Object.assign({},D);return!w.component&&(S||w.loadChildren)&&w.outlet&&w.outlet!==Ft&&(w.component=es),w}function ni(D){return D.outlet||Ft}function ki(D,S){const w=D.filter(L=>ni(L)===S);return w.push(...D.filter(L=>ni(L)!==S)),w}const Ns={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fi(D,S,w){var L;if(""===S.path)return"full"===S.pathMatch&&(D.hasChildren()||w.length>0)?Object.assign({},Ns):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const de=(S.matcher||xn)(w,D,S);if(!de)return Object.assign({},Ns);const Pe={};Ae(de.posParams,(Ge,nn)=>{Pe[nn]=Ge.path});const We=de.consumed.length>0?Object.assign(Object.assign({},Pe),de.consumed[de.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:de.consumed,lastChild:de.consumed.length,parameters:We,positionalParamSegments:null!==(L=de.posParams)&&void 0!==L?L:{}}}function vn(D,S,w,L,Z="corrected"){if(w.length>0&&function(D,S,w){return w.some(L=>oi(D,S,L)&&ni(L)!==Ft)}(D,w,L)){const Pe=new Ce(S,function(D,S,w,L){const Z={};Z[Ft]=L,L._sourceSegment=D,L._segmentIndexShift=S.length;for(const de of w)if(""===de.path&&ni(de)!==Ft){const Pe=new Ce([],{});Pe._sourceSegment=D,Pe._segmentIndexShift=S.length,Z[ni(de)]=Pe}return Z}(D,S,L,new Ce(w,D.children)));return Pe._sourceSegment=D,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===w.length&&function(D,S,w){return w.some(L=>oi(D,S,L))}(D,w,L)){const Pe=new Ce(D.segments,function(D,S,w,L,Z,de){const Pe={};for(const We of L)if(oi(D,w,We)&&!Z[ni(We)]){const Ge=new Ce([],{});Ge._sourceSegment=D,Ge._segmentIndexShift="legacy"===de?D.segments.length:S.length,Pe[ni(We)]=Ge}return Object.assign(Object.assign({},Z),Pe)}(D,S,w,L,D.children,Z));return Pe._sourceSegment=D,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:w}}const de=new Ce(D.segments,D.children);return de._sourceSegment=D,de._segmentIndexShift=S.length,{segmentGroup:de,slicedSegments:w}}function oi(D,S,w){return(!(D.hasChildren()||S.length>0)||"full"!==w.pathMatch)&&""===w.path}function ri(D,S,w,L){return!!(ni(D)===L||L!==Ft&&oi(S,w,D))&&("**"===D.path||fi(S,D,w).matched)}function po(D,S,w){return 0===S.length&&!D.children[w]}class ai{constructor(S){this.segmentGroup=S||null}}class ds{constructor(S){this.urlTree=S}}function Ur(D){return new ce.y(S=>S.error(new ai(D)))}function $s(D){return new ce.y(S=>S.error(new ds(D)))}function j(D){return new ce.y(S=>S.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class he{constructor(S,w,L,Z,de){this.configLoader=w,this.urlSerializer=L,this.urlTree=Z,this.config=de,this.allowRedirects=!0,this.ngModule=S.get(R.NgModuleRef)}apply(){const S=vn(this.urlTree.root,[],[],this.config).segmentGroup,w=new Ce(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,w,Ft).pipe((0,xe.U)(de=>this.createUrlTree(yt(de),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,re.K)(de=>{if(de instanceof ds)return this.allowRedirects=!1,this.match(de.urlTree);throw de instanceof ai?this.noMatchError(de):de}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,Ft).pipe((0,xe.U)(Z=>this.createUrlTree(yt(Z),S.queryParams,S.fragment))).pipe((0,re.K)(Z=>{throw Z instanceof ai?this.noMatchError(Z):Z}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,w,L){const Z=S.segments.length>0?new Ce([],{[Ft]:S}):S;return new on(Z,w,L)}expandSegmentGroup(S,w,L,Z){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(S,w,L).pipe((0,xe.U)(de=>new Ce([],de))):this.expandSegment(S,L,w,L.segments,Z,!0)}expandChildren(S,w,L){const Z=[];for(const de of Object.keys(L.children))"primary"===de?Z.unshift(de):Z.push(de);return(0,z.D)(Z).pipe((0,pt.b)(de=>{const Pe=L.children[de],We=ki(w,de);return this.expandSegmentGroup(S,We,Pe,de).pipe((0,xe.U)(Ge=>({segment:Ge,outlet:de})))}),(0,qe.R)((de,Pe)=>(de[Pe.outlet]=Pe.segment,de),{}),(0,Tn.Z)())}expandSegment(S,w,L,Z,de,Pe){return(0,z.D)(L).pipe((0,pt.b)(We=>this.expandSegmentAgainstRoute(S,w,L,We,Z,de,Pe).pipe((0,re.K)(nn=>{if(nn instanceof ai)return(0,ue.of)(null);throw nn}))),(0,_n.P)(We=>!!We),(0,re.K)((We,Ge)=>{if(We instanceof X.K||"EmptyError"===We.name){if(po(w,Z,de))return(0,ue.of)(new Ce([],{}));throw new ai(w)}throw We}))}expandSegmentAgainstRoute(S,w,L,Z,de,Pe,We){return ri(Z,w,de,Pe)?void 0===Z.redirectTo?this.matchSegmentAgainstRoute(S,w,Z,de,Pe):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,w,L,Z,de,Pe):Ur(w):Ur(w)}expandSegmentAgainstRouteUsingRedirect(S,w,L,Z,de,Pe){return"**"===Z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,L,Z,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,w,L,Z,de,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,w,L,Z){const de=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?$s(de):this.lineralizeSegments(L,de).pipe((0,st.zg)(Pe=>{const We=new Ce(Pe,{});return this.expandSegment(S,We,w,Pe,Z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,w,L,Z,de,Pe){const{matched:We,consumedSegments:Ge,lastChild:nn,positionalParamSegments:Or}=fi(w,Z,de);if(!We)return Ur(w);const Zn=this.applyRedirectCommands(Ge,Z.redirectTo,Or);return Z.redirectTo.startsWith("/")?$s(Zn):this.lineralizeSegments(Z,Zn).pipe((0,st.zg)($t=>this.expandSegment(S,w,L,$t.concat(de.slice(nn)),Pe,!1)))}matchSegmentAgainstRoute(S,w,L,Z,de){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,ue.of)(L._loadedConfig):this.configLoader.load(S.injector,L)).pipe((0,xe.U)($t=>(L._loadedConfig=$t,new Ce(Z,{})))):(0,ue.of)(new Ce(Z,{}));const{matched:Pe,consumedSegments:We,lastChild:Ge}=fi(w,L,Z);if(!Pe)return Ur(w);const nn=Z.slice(Ge);return this.getChildConfig(S,L,Z).pipe((0,st.zg)(Zn=>{const $t=Zn.module,an=Zn.routes,{segmentGroup:Gi,slicedSegments:rn}=vn(w,We,nn,an),ht=new Ce(Gi.segments,Gi.children);if(0===rn.length&&ht.hasChildren())return this.expandChildren($t,an,ht).pipe((0,xe.U)(vo=>new Ce(We,vo)));if(0===an.length&&0===rn.length)return(0,ue.of)(new Ce(We,{}));const kt=ni(L)===de;return this.expandSegment($t,ht,an,rn,kt?Ft:de,!0).pipe((0,xe.U)(No=>new Ce(We.concat(No.segments),No.children)))}))}getChildConfig(S,w,L){return w.children?(0,ue.of)(new Hn(w.children,S)):w.loadChildren?void 0!==w._loadedConfig?(0,ue.of)(w._loadedConfig):this.runCanLoadGuards(S.injector,w,L).pipe((0,st.zg)(Z=>{return Z?this.configLoader.load(S.injector,w).pipe((0,xe.U)(de=>(w._loadedConfig=de,de))):(D=w,new ce.y(S=>S.error(St(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,ue.of)(new Hn([],S))}runCanLoadGuards(S,w,L){const Z=w.canLoad;if(!Z||0===Z.length)return(0,ue.of)(!0);const de=Z.map(Pe=>{const We=S.get(Pe);let Ge;if((D=We)&&ti(D.canLoad))Ge=We.canLoad(w,L);else{if(!ti(We))throw new Error("Invalid CanLoad guard");Ge=We(w,L)}var D;return dt(Ge)});return(0,ue.of)(de).pipe(Oi(),(0,jt.b)(Pe=>{if(!Yr(Pe))return;const We=St(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw We.url=Pe,We}),(0,xe.U)(Pe=>!0===Pe))}lineralizeSegments(S,w){let L=[],Z=w.root;for(;;){if(L=L.concat(Z.segments),0===Z.numberOfChildren)return(0,ue.of)(L);if(Z.numberOfChildren>1||!Z.children[Ft])return j(S.redirectTo);Z=Z.children[Ft]}}applyRedirectCommands(S,w,L){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),S,L)}applyRedirectCreatreUrlTree(S,w,L,Z){const de=this.createSegmentGroup(S,w.root,L,Z);return new on(de,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(S,w){const L={};return Ae(S,(Z,de)=>{if("string"==typeof Z&&Z.startsWith(":")){const We=Z.substring(1);L[de]=w[We]}else L[de]=Z}),L}createSegmentGroup(S,w,L,Z){const de=this.createSegments(S,w.segments,L,Z);let Pe={};return Ae(w.children,(We,Ge)=>{Pe[Ge]=this.createSegmentGroup(S,We,L,Z)}),new Ce(de,Pe)}createSegments(S,w,L,Z){return w.map(de=>de.path.startsWith(":")?this.findPosParam(S,de,Z):this.findOrReturn(de,L))}findPosParam(S,w,L){const Z=L[w.path.substring(1)];if(!Z)throw new Error(`Cannot redirect to '${S}'. Cannot find '${w.path}'.`);return Z}findOrReturn(S,w){let L=0;for(const Z of w){if(Z.path===S.path)return w.splice(L),Z;L++}return S}}function yt(D){const S={};for(const L of Object.keys(D.children)){const de=yt(D.children[L]);(de.segments.length>0||de.hasChildren())&&(S[L]=de)}return function(D){if(1===D.numberOfChildren&&D.children[Ft]){const S=D.children[Ft];return new Ce(D.segments.concat(S.segments),S.children)}return D}(new Ce(D.segments,S))}class U{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class V{constructor(S,w){this.component=S,this.route=w}}function N(D,S,w){const L=D._root;return Pn(L,S?S._root:null,w,[L.value])}function Ye(D,S,w){const L=function(D){if(!D)return null;for(let S=D.parent;S;S=S.parent){const w=S.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(S);return(L?L.module.injector:w).get(D)}function Pn(D,S,w,L,Z={canDeactivateChecks:[],canActivateChecks:[]}){const de=Tr(S);return D.children.forEach(Pe=>{(function(D,S,w,L,Z={canDeactivateChecks:[],canActivateChecks:[]}){const de=D.value,Pe=S?S.value:null,We=w?w.getContext(D.value.outlet):null;if(Pe&&de.routeConfig===Pe.routeConfig){const Ge=function(D,S,w){if("function"==typeof w)return w(D,S);switch(w){case"pathParamsChange":return!Fe(D.url,S.url);case"pathParamsOrQueryParamsChange":return!Fe(D.url,S.url)||!Fn(D.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(D,S)||!Fn(D.queryParams,S.queryParams);case"paramsChange":default:return!Bn(D,S)}}(Pe,de,de.routeConfig.runGuardsAndResolvers);Ge?Z.canActivateChecks.push(new U(L)):(de.data=Pe.data,de._resolvedData=Pe._resolvedData),Pn(D,S,de.component?We?We.children:null:w,L,Z),Ge&&We&&We.outlet&&We.outlet.isActivated&&Z.canDeactivateChecks.push(new V(We.outlet.component,Pe))}else Pe&&Er(S,We,Z),Z.canActivateChecks.push(new U(L)),Pn(D,null,de.component?We?We.children:null:w,L,Z)})(Pe,de[Pe.value.outlet],w,L.concat([Pe.value]),Z),delete de[Pe.value.outlet]}),Ae(de,(Pe,We)=>Er(Pe,w.getContext(We),Z)),Z}function Er(D,S,w){const L=Tr(D),Z=D.value;Ae(L,(de,Pe)=>{Er(de,Z.component?S?S.children.getContext(Pe):null:S,w)}),w.canDeactivateChecks.push(new V(Z.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,Z))}class Ko{}function Ms(D){return new ce.y(S=>S.error(D))}class wr{constructor(S,w,L,Z,de,Pe){this.rootComponentType=S,this.config=w,this.urlTree=L,this.url=Z,this.paramsInheritanceStrategy=de,this.relativeLinkResolution=Pe}recognize(){const S=vn(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,S,Ft);if(null===w)return null;const L=new Ve([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),Z=new Xr(L,w),de=new _e(this.url,Z);return this.inheritParamsAndData(de._root),de}inheritParamsAndData(S){const w=S.value,L=Vn(w,this.paramsInheritanceStrategy);w.params=Object.freeze(L.params),w.data=Object.freeze(L.data),S.children.forEach(Z=>this.inheritParamsAndData(Z))}processSegmentGroup(S,w,L){return 0===w.segments.length&&w.hasChildren()?this.processChildren(S,w):this.processSegment(S,w,w.segments,L)}processChildren(S,w){const L=[];for(const de of Object.keys(w.children)){const Pe=w.children[de],We=ki(S,de),Ge=this.processSegmentGroup(We,Pe,de);if(null===Ge)return null;L.push(...Ge)}const Z=bo(L);return Z.sort((S,w)=>S.value.outlet===Ft?-1:w.value.outlet===Ft?1:S.value.outlet.localeCompare(w.value.outlet)),Z}processSegment(S,w,L,Z){for(const de of S){const Pe=this.processSegmentAgainstRoute(de,w,L,Z);if(null!==Pe)return Pe}return po(w,L,Z)?[]:null}processSegmentAgainstRoute(S,w,L,Z){if(S.redirectTo||!ri(S,w,L,Z))return null;let de,Pe=[],We=[];if("**"===S.path){const an=L.length>0?at(L).parameters:{};de=new Ve(L,an,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(S),ni(S),S.component,S,zs(w),Ls(w)+L.length,Co(S))}else{const an=fi(w,S,L);if(!an.matched)return null;Pe=an.consumedSegments,We=L.slice(an.lastChild),de=new Ve(Pe,an.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(S),ni(S),S.component,S,zs(w),Ls(w)+Pe.length,Co(S))}const Ge=(D=S).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:nn,slicedSegments:Or}=vn(w,Pe,We,Ge.filter(an=>void 0===an.redirectTo),this.relativeLinkResolution);var D;if(0===Or.length&&nn.hasChildren()){const an=this.processChildren(Ge,nn);return null===an?null:[new Xr(de,an)]}if(0===Ge.length&&0===Or.length)return[new Xr(de,[])];const Zn=ni(S)===Z,$t=this.processSegment(Ge,nn,Or,Zn?Ft:Z);return null===$t?null:[new Xr(de,$t)]}}function zo(D){const S=D.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function bo(D){const S=[],w=new Set;for(const L of D){if(!zo(L)){S.push(L);continue}const Z=S.find(de=>L.value.routeConfig===de.value.routeConfig);void 0!==Z?(Z.children.push(...L.children),w.add(Z)):S.push(L)}for(const L of w){const Z=bo(L.children);S.push(new Xr(L.value,Z))}return S.filter(L=>!w.has(L))}function zs(D){let S=D;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Ls(D){let S=D,w=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,w+=S._segmentIndexShift?S._segmentIndexShift:0;return w-1}function go(D){return D.data||{}}function Co(D){return D.resolve||{}}function Jr(D){return(0,Xe.w)(S=>{const w=D(S);return w?(0,z.D)(w).pipe((0,xe.U)(()=>S)):(0,ue.of)(S)})}class hs{}class ma{shouldDetach(S){return!1}store(S,w){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,w){return S.routeConfig===w.routeConfig}}class Zo extends ma{}const Qo=new R.InjectionToken("ROUTES");class xa{constructor(S,w,L,Z){this.loader=S,this.compiler=w,this.onLoadStartListener=L,this.onLoadEndListener=Z}load(S,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const Z=this.loadModuleFactory(w.loadChildren).pipe((0,xe.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Pe=de.create(S);return new Hn(Rr(Pe.injector.get(Qo,void 0,R.InjectFlags.Self|R.InjectFlags.Optional)).map(Rs),Pe)}),(0,re.K)(de=>{throw w._loader$=void 0,de}));return w._loader$=new ie.c(Z,()=>new we.xQ).pipe((0,bt.x)()),w._loader$}loadModuleFactory(S){return"string"==typeof S?(0,z.D)(this.loader.load(S)):dt(S()).pipe((0,st.zg)(w=>w instanceof R.NgModuleFactory?(0,ue.of)(w):(0,z.D)(this.compiler.compileModuleAsync(w))))}}class xo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Es,this.attachRef=null}}class Es{constructor(){this.contexts=new Map}onChildOutletCreated(S,w){const L=this.getOrCreateContext(S);L.outlet=w,this.contexts.set(S,L)}onChildOutletDestroyed(S){const w=this.getContext(S);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let w=this.getContext(S);return w||(w=new xo,this.contexts.set(S,w)),w}getContext(S){return this.contexts.get(S)||null}}class _a{}class to{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,w){return S}}function qo(D){throw D}function fs(D,S,w){return S.parse("/")}function Zs(D,S){return(0,ue.of)(null)}const ya={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},va={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pi=(()=>{class D{constructor(w,L,Z,de,Pe,We,Ge,nn){this.rootComponentType=w,this.urlSerializer=L,this.rootContexts=Z,this.location=de,this.config=nn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.xQ,this.errorHandler=qo,this.malformedUriErrorHandler=fs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zs,afterPreactivation:Zs},this.urlHandlingStrategy=new to,this.routeReuseStrategy=new Zo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(R.NgModuleRef),this.console=Pe.get(R.\u0275Console);const $t=Pe.get(R.NgZone);this.isNgZoneEnabled=$t instanceof R.NgZone&&R.NgZone.isInAngularZone(),this.resetConfig(nn),this.currentUrlTree=new on(new Ce([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xa(We,Ge,an=>this.triggerEvent(new Ht(an)),an=>this.triggerEvent(new Zt(an))),this.routerState=cr(this.currentUrlTree,this.rootComponentType),this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const L=this.events;return w.pipe((0,rt.h)(Z=>0!==Z.id),(0,xe.U)(Z=>Object.assign(Object.assign({},Z),{extractedUrl:this.urlHandlingStrategy.extract(Z.rawUrl)})),(0,Xe.w)(Z=>{let de=!1,Pe=!1;return(0,ue.of)(Z).pipe((0,jt.b)(We=>{this.currentNavigation={id:We.id,initialUrl:We.currentRawUrl,extractedUrl:We.extractedUrl,trigger:We.source,extras:We.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Xe.w)(We=>{const Ge=this.browserUrlTree.toString(),nn=!this.navigated||We.extractedUrl.toString()!==Ge||Ge!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||nn)&&this.urlHandlingStrategy.shouldProcessUrl(We.rawUrl))return Qs(We.source)&&(this.browserUrlTree=We.extractedUrl),(0,ue.of)(We).pipe((0,Xe.w)(Zn=>{const $t=this.transitions.getValue();return L.next(new en(Zn.id,this.serializeUrl(Zn.extractedUrl),Zn.source,Zn.restoredState)),$t!==this.transitions.getValue()?J.E:Promise.resolve(Zn)}),function(D,S,w,L){return(0,Xe.w)(Z=>function(D,S,w,L,Z){return new he(D,S,w,L,Z).apply()}(D,S,w,Z.extractedUrl,L).pipe((0,xe.U)(de=>Object.assign(Object.assign({},Z),{urlAfterRedirects:de}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jt.b)(Zn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Zn.urlAfterRedirects})}),function(D,S,w,L,Z){return(0,st.zg)(de=>function(D,S,w,L,Z="emptyOnly",de="legacy"){try{const Pe=new wr(D,S,w,L,Z,de).recognize();return null===Pe?Ms(new Ko):(0,ue.of)(Pe)}catch(Pe){return Ms(Pe)}}(D,S,de.urlAfterRedirects,w(de.urlAfterRedirects),L,Z).pipe((0,xe.U)(Pe=>Object.assign(Object.assign({},de),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,Zn=>this.serializeUrl(Zn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jt.b)(Zn=>{"eager"===this.urlUpdateStrategy&&(Zn.extras.skipLocationChange||this.setBrowserUrl(Zn.urlAfterRedirects,Zn),this.browserUrlTree=Zn.urlAfterRedirects);const $t=new Sn(Zn.id,this.serializeUrl(Zn.extractedUrl),this.serializeUrl(Zn.urlAfterRedirects),Zn.targetSnapshot);L.next($t)}));if(nn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$t,extractedUrl:an,source:Gi,restoredState:rn,extras:ht}=We,kt=new en($t,this.serializeUrl(an),Gi,rn);L.next(kt);const gi=cr(an,this.rootComponentType).snapshot;return(0,ue.of)(Object.assign(Object.assign({},We),{targetSnapshot:gi,urlAfterRedirects:an,extras:Object.assign(Object.assign({},ht),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=We.rawUrl,this.browserUrlTree=We.urlAfterRedirects,We.resolve(null),J.E}),Jr(We=>{const{targetSnapshot:Ge,id:nn,extractedUrl:Or,rawUrl:Zn,extras:{skipLocationChange:$t,replaceUrl:an}}=We;return this.hooks.beforePreactivation(Ge,{navigationId:nn,appliedUrlTree:Or,rawUrlTree:Zn,skipLocationChange:!!$t,replaceUrl:!!an})}),(0,jt.b)(We=>{const Ge=new ar(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(Ge)}),(0,xe.U)(We=>Object.assign(Object.assign({},We),{guards:N(We.targetSnapshot,We.currentSnapshot,this.rootContexts)})),function(D,S){return(0,st.zg)(w=>{const{targetSnapshot:L,currentSnapshot:Z,guards:{canActivateChecks:de,canDeactivateChecks:Pe}}=w;return 0===Pe.length&&0===de.length?(0,ue.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function(D,S,w,L){return(0,z.D)(D).pipe((0,st.zg)(Z=>function(D,S,w,L,Z){const de=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,ue.of)(!0);const Pe=de.map(We=>{const Ge=Ye(We,S,Z);let nn;if(function(D){return D&&ti(D.canDeactivate)}(Ge))nn=dt(Ge.canDeactivate(D,S,w,L));else{if(!ti(Ge))throw new Error("Invalid CanDeactivate guard");nn=dt(Ge(D,S,w,L))}return nn.pipe((0,_n.P)())});return(0,ue.of)(Pe).pipe(Oi())}(Z.component,Z.route,w,S,L)),(0,_n.P)(Z=>!0!==Z,!0))}(Pe,L,Z,D).pipe((0,st.zg)(We=>We&&function(D){return"boolean"==typeof D}(We)?function(D,S,w,L){return(0,z.D)(S).pipe((0,pt.b)(Z=>(0,le.z)(function(D,S){return null!==D&&S&&S(new wt(D)),(0,ue.of)(!0)}(Z.route.parent,L),function(D,S){return null!==D&&S&&S(new dn(D)),(0,ue.of)(!0)}(Z.route,L),function(D,S,w){const L=S[S.length-1],de=S.slice(0,S.length-1).reverse().map(Pe=>function(D){const S=D.routeConfig?D.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:D,guards:S}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>(0,$.P)(()=>{const We=Pe.guards.map(Ge=>{const nn=Ye(Ge,Pe.node,w);let Or;if(function(D){return D&&ti(D.canActivateChild)}(nn))Or=dt(nn.canActivateChild(L,D));else{if(!ti(nn))throw new Error("Invalid CanActivateChild guard");Or=dt(nn(L,D))}return Or.pipe((0,_n.P)())});return(0,ue.of)(We).pipe(Oi())}));return(0,ue.of)(de).pipe(Oi())}(D,Z.path,w),function(D,S,w){const L=S.routeConfig?S.routeConfig.canActivate:null;if(!L||0===L.length)return(0,ue.of)(!0);const Z=L.map(de=>(0,$.P)(()=>{const Pe=Ye(de,S,w);let We;if(function(D){return D&&ti(D.canActivate)}(Pe))We=dt(Pe.canActivate(S,D));else{if(!ti(Pe))throw new Error("Invalid CanActivate guard");We=dt(Pe(S,D))}return We.pipe((0,_n.P)())}));return(0,ue.of)(Z).pipe(Oi())}(D,Z.route,w))),(0,_n.P)(Z=>!0!==Z,!0))}(L,de,D,S):(0,ue.of)(We)),(0,xe.U)(We=>Object.assign(Object.assign({},w),{guardsResult:We})))})}(this.ngModule.injector,We=>this.triggerEvent(We)),(0,jt.b)(We=>{if(Yr(We.guardsResult)){const nn=St(`Redirecting to "${this.serializeUrl(We.guardsResult)}"`);throw nn.url=We.guardsResult,nn}const Ge=new Dn(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot,!!We.guardsResult);this.triggerEvent(Ge)}),(0,rt.h)(We=>!!We.guardsResult||(this.restoreHistory(We),this.cancelNavigationTransition(We,""),!1)),Jr(We=>{if(We.guards.canActivateChecks.length)return(0,ue.of)(We).pipe((0,jt.b)(Ge=>{const nn=new tn(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(nn)}),(0,Xe.w)(Ge=>{let nn=!1;return(0,ue.of)(Ge).pipe(function(D,S){return(0,st.zg)(w=>{const{targetSnapshot:L,guards:{canActivateChecks:Z}}=w;if(!Z.length)return(0,ue.of)(w);let de=0;return(0,z.D)(Z).pipe((0,pt.b)(Pe=>function(D,S,w,L){return function(D,S,w,L){const Z=Object.keys(D);if(0===Z.length)return(0,ue.of)({});const de={};return(0,z.D)(Z).pipe((0,st.zg)(Pe=>function(D,S,w,L){const Z=Ye(D,S,L);return dt(Z.resolve?Z.resolve(S,w):Z(S,w))}(D[Pe],S,w,L).pipe((0,jt.b)(We=>{de[Pe]=We}))),(0,Ue.h)(1),(0,st.zg)(()=>Object.keys(de).length===Z.length?(0,ue.of)(de):J.E))}(D._resolve,D,S,L).pipe((0,xe.U)(de=>(D._resolvedData=de,D.data=Object.assign(Object.assign({},D.data),Vn(D,w).resolve),null)))}(Pe.route,L,D,S)),(0,jt.b)(()=>de++),(0,Ue.h)(1),(0,st.zg)(Pe=>de===Z.length?(0,ue.of)(w):J.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jt.b)({next:()=>nn=!0,complete:()=>{nn||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,"At least one route resolver didn't emit any value."))}}))}),(0,jt.b)(Ge=>{const nn=new Dr(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(nn)}))}),Jr(We=>{const{targetSnapshot:Ge,id:nn,extractedUrl:Or,rawUrl:Zn,extras:{skipLocationChange:$t,replaceUrl:an}}=We;return this.hooks.afterPreactivation(Ge,{navigationId:nn,appliedUrlTree:Or,rawUrlTree:Zn,skipLocationChange:!!$t,replaceUrl:!!an})}),(0,xe.U)(We=>{const Ge=function(D,S,w){const L=Kn(D,S._root,w?w._root:void 0);return new Zr(L,S)}(this.routeReuseStrategy,We.targetSnapshot,We.currentRouterState);return Object.assign(Object.assign({},We),{targetRouterState:Ge})}),(0,jt.b)(We=>{this.currentUrlTree=We.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(We.urlAfterRedirects,We.rawUrl),this.routerState=We.targetRouterState,"deferred"===this.urlUpdateStrategy&&(We.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,We),this.browserUrlTree=We.urlAfterRedirects)}),((D,S,w)=>(0,xe.U)(L=>(new pn(S,L.targetRouterState,L.currentRouterState,w).activate(D),L)))(this.rootContexts,this.routeReuseStrategy,We=>this.triggerEvent(We)),(0,jt.b)({next(){de=!0},complete(){de=!0}}),(0,gt.x)(()=>{var We;if(!de&&!Pe){const Ge=`Navigation ID ${Z.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(Z),this.cancelNavigationTransition(Z,Ge)):this.cancelNavigationTransition(Z,Ge)}(null===(We=this.currentNavigation)||void 0===We?void 0:We.id)===Z.id&&(this.currentNavigation=null)}),(0,re.K)(We=>{if(Pe=!0,function(D){return D&&D[fn]}(We)){const Ge=Yr(We.url);Ge||(this.navigated=!0,this.restoreHistory(Z,!0));const nn=new En(Z.id,this.serializeUrl(Z.extractedUrl),We.message);L.next(nn),Ge?setTimeout(()=>{const Or=this.urlHandlingStrategy.merge(We.url,this.rawUrlTree),Zn={skipLocationChange:Z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qs(Z.source)};this.scheduleNavigation(Or,"imperative",null,Zn,{resolve:Z.resolve,reject:Z.reject,promise:Z.promise})},0):Z.resolve(!1)}else{this.restoreHistory(Z,!0);const Ge=new mr(Z.id,this.serializeUrl(Z.extractedUrl),We);L.next(Ge);try{Z.resolve(this.errorHandler(We))}catch(nn){Z.reject(nn)}}return J.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}getTransition(){const w=this.transitions.value;return w.urlAfterRedirects=this.browserUrlTree,w}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const L=this.extractLocationChangeInfoFromEvent(w);this.shouldScheduleNavigation(this.lastLocationChangeInfo,L)&&setTimeout(()=>{const{source:Z,state:de,urlTree:Pe}=L,We={replaceUrl:!0};if(de){const Ge=Object.assign({},de);delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(We.state=Ge)}this.scheduleNavigation(Pe,Z,de,We)},0),this.lastLocationChangeInfo=L}))}extractLocationChangeInfoFromEvent(w){var L;return{source:"popstate"===w.type?"popstate":"hashchange",urlTree:this.parseUrl(w.url),state:(null===(L=w.state)||void 0===L?void 0:L.navigationId)?w.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(w,L){if(!w)return!0;const Z=L.urlTree.toString()===w.urlTree.toString();return L.transitionId!==w.transitionId||!Z||!("hashchange"===L.source&&"popstate"===w.source||"popstate"===L.source&&"hashchange"===w.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){ho(w),this.config=w.map(Rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,L={}){const{relativeTo:Z,queryParams:de,fragment:Pe,queryParamsHandling:We,preserveFragment:Ge}=L,nn=Z||this.routerState.root,Or=Ge?this.currentUrlTree.fragment:Pe;let Zn=null;switch(We){case"merge":Zn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),de);break;case"preserve":Zn=this.currentUrlTree.queryParams;break;default:Zn=de||null}return null!==Zn&&(Zn=this.removeEmptyProps(Zn)),function(D,S,w,L,Z){if(0===w.length)return Yi(S.root,S.root,S,L,Z);const de=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new us(!0,0,D);let S=0,w=!1;const L=D.reduce((Z,de,Pe)=>{if("object"==typeof de&&null!=de){if(de.outlets){const We={};return Ae(de.outlets,(Ge,nn)=>{We[nn]="string"==typeof Ge?Ge.split("/"):Ge}),[...Z,{outlets:We}]}if(de.segmentPath)return[...Z,de.segmentPath]}return"string"!=typeof de?[...Z,de]:0===Pe?(de.split("/").forEach((We,Ge)=>{0==Ge&&"."===We||(0==Ge&&""===We?w=!0:".."===We?S++:""!=We&&Z.push(We))}),Z):[...Z,de]},[]);return new us(w,S,L)}(w);if(de.toRoot())return Yi(S.root,new Ce([],{}),S,L,Z);const Pe=function(D,S,w){if(D.isAbsolute)return new yr(S.root,!0,0);if(-1===w.snapshot._lastPathIndex){const de=w.snapshot._urlSegment;return new yr(de,de===S.root,0)}const L=Xi(D.commands[0])?0:1;return function(D,S,w){let L=D,Z=S,de=w;for(;de>Z;){if(de-=Z,L=L.parent,!L)throw new Error("Invalid number of '../'");Z=L.segments.length}return new yr(L,!1,Z-de)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+L,D.numberOfDoubleDots)}(de,S,D),We=Pe.processChildren?zn(Pe.segmentGroup,Pe.index,de.commands):hr(Pe.segmentGroup,Pe.index,de.commands);return Yi(Pe.segmentGroup,We,S,L,Z)}(nn,this.currentUrlTree,w,Zn,null!=Or?Or:null)}navigateByUrl(w,L={skipLocationChange:!1}){const Z=Yr(w)?w:this.parseUrl(w),de=this.urlHandlingStrategy.merge(Z,this.rawUrlTree);return this.scheduleNavigation(de,"imperative",null,L)}navigate(w,L={skipLocationChange:!1}){return function(D){for(let S=0;S<D.length;S++){const w=D[S];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${S}`)}}(w),this.navigateByUrl(this.createUrlTree(w,L),L)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let L;try{L=this.urlSerializer.parse(w)}catch(Z){L=this.malformedUriErrorHandler(Z,this.urlSerializer,w)}return L}isActive(w,L){let Z;if(Z=!0===L?Object.assign({},ya):!1===L?Object.assign({},va):L,Yr(w))return Yt(this.currentUrlTree,w,Z);const de=this.parseUrl(w);return Yt(this.currentUrlTree,de,Z)}removeEmptyProps(w){return Object.keys(w).reduce((L,Z)=>{const de=w[Z];return null!=de&&(L[Z]=de),L},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new xt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,L,Z,de,Pe){var We,Ge;if(this.disposed)return Promise.resolve(!1);const nn=this.getTransition(),Or=Qs(L)&&nn&&!Qs(nn.source),an=(this.lastSuccessfulId===nn.id||this.currentNavigation?nn.rawUrl:nn.urlAfterRedirects).toString()===w.toString();if(Or&&an)return Promise.resolve(!0);let Gi,rn,ht;Pe?(Gi=Pe.resolve,rn=Pe.reject,ht=Pe.promise):ht=new Promise((No,vo)=>{Gi=No,rn=vo});const kt=++this.navigationId;let gi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Z=this.location.getState()),gi=Z&&Z.\u0275routerPageId?Z.\u0275routerPageId:de.replaceUrl||de.skipLocationChange?null!==(We=this.browserPageId)&&void 0!==We?We:0:(null!==(Ge=this.browserPageId)&&void 0!==Ge?Ge:0)+1):gi=0,this.setTransition({id:kt,targetPageId:gi,source:L,restoredState:Z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:de,resolve:Gi,reject:rn,promise:ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ht.catch(No=>Promise.reject(No))}setBrowserUrl(w,L){const Z=this.urlSerializer.serialize(w),de=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo(Z)||L.extras.replaceUrl?this.location.replaceState(Z,"",de):this.location.go(Z,"",de)}restoreHistory(w,L=!1){var Z,de;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)||0===Pe?this.currentUrlTree===(null===(de=this.currentNavigation)||void 0===de?void 0:de.finalUrl)&&0===Pe&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,L){const Z=new En(w.id,this.serializeUrl(w.extractedUrl),L);this.triggerEvent(Z),w.resolve(!1)}generateNgRouterState(w,L){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:L}:{navigationId:w}}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275inject(R.Type),R.\u0275\u0275inject(_t),R.\u0275\u0275inject(Es),R.\u0275\u0275inject(h.Location),R.\u0275\u0275inject(R.Injector),R.\u0275\u0275inject(R.NgModuleFactoryLoader),R.\u0275\u0275inject(R.Compiler),R.\u0275\u0275inject(void 0))},D.\u0275prov=R.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();function Qs(D){return"imperative"!==D}let mo=(()=>{class D{constructor(w,L,Z,de,Pe){this.router=w,this.route=L,this.commands=[],this.onChanges=new we.xQ,null==Z&&de.setAttribute(Pe.nativeElement,"tabindex","0")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}onClick(){const w={skipLocationChange:xi(this.skipLocationChange),replaceUrl:xi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xi(this.preserveFragment)})}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275directiveInject(Pi),R.\u0275\u0275directiveInject(Bi),R.\u0275\u0275injectAttribute("tabindex"),R.\u0275\u0275directiveInject(R.Renderer2),R.\u0275\u0275directiveInject(R.ElementRef))},D.\u0275dir=R.\u0275\u0275defineDirective({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,L){1&w&&R.\u0275\u0275listener("click",function(){return L.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.\u0275\u0275NgOnChangesFeature]}),D})(),Xo=(()=>{class D{constructor(w,L,Z){this.router=w,this.route=L,this.locationStrategy=Z,this.commands=[],this.onChanges=new we.xQ,this.subscription=w.events.subscribe(de=>{de instanceof xt&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:[]}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,L,Z,de,Pe){if(0!==w||L||Z||de||Pe||"string"==typeof this.target&&"_self"!=this.target)return!0;const We={skipLocationChange:xi(this.skipLocationChange),replaceUrl:xi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,We),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xi(this.preserveFragment)})}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275directiveInject(Pi),R.\u0275\u0275directiveInject(Bi),R.\u0275\u0275directiveInject(h.LocationStrategy))},D.\u0275dir=R.\u0275\u0275defineDirective({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,L){1&w&&R.\u0275\u0275listener("click",function(de){return L.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&w&&(R.\u0275\u0275hostProperty("href",L.href,R.\u0275\u0275sanitizeUrl),R.\u0275\u0275attribute("target",L.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.\u0275\u0275NgOnChangesFeature]}),D})();function xi(D){return""===D||!!D}let vi=(()=>{class D{constructor(w,L,Z,de,Pe,We){this.router=w,this.element=L,this.renderer=Z,this.cdr=de,this.link=Pe,this.linkWithHref=We,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=w.events.subscribe(Ge=>{Ge instanceof xt&&this.update()})}ngAfterContentInit(){(0,ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,ue.of)(null)).pipe((0,Mt.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const L=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(Z=>!!Z).map(Z=>Z.onChanges);this.linkInputChangesSubscription=(0,z.D)(L).pipe((0,Mt.J)()).subscribe(Z=>{this.isActive!==this.isLinkActive(this.router)(Z)&&this.update()})}set routerLinkActive(w){const L=Array.isArray(w)?w:w.split(" ");this.classes=L.filter(Z=>!!Z)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(L=>{w?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}))})}isLinkActive(w){const L=function(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Z=>w.isActive(Z.urlTree,L)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275directiveInject(Pi),R.\u0275\u0275directiveInject(R.ElementRef),R.\u0275\u0275directiveInject(R.Renderer2),R.\u0275\u0275directiveInject(R.ChangeDetectorRef),R.\u0275\u0275directiveInject(mo,8),R.\u0275\u0275directiveInject(Xo,8))},D.\u0275dir=R.\u0275\u0275defineDirective({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(w,L,Z){if(1&w&&(R.\u0275\u0275contentQuery(Z,mo,5),R.\u0275\u0275contentQuery(Z,Xo,5)),2&w){let de;R.\u0275\u0275queryRefresh(de=R.\u0275\u0275loadQuery())&&(L.links=de),R.\u0275\u0275queryRefresh(de=R.\u0275\u0275loadQuery())&&(L.linksWithHrefs=de)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[R.\u0275\u0275NgOnChangesFeature]}),D})(),no=(()=>{class D{constructor(w,L,Z,de,Pe){this.parentContexts=w,this.location=L,this.resolver=Z,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.EventEmitter,this.deactivateEvents=new R.EventEmitter,this.name=de||Ft,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,w}attach(w,L){this.activated=w,this._activatedRoute=L,this.location.insert(w.hostView)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Pe=(L=L||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),We=this.parentContexts.getOrCreateContext(this.name).children,Ge=new Yo(w,We,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,Ge),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275directiveInject(Es),R.\u0275\u0275directiveInject(R.ViewContainerRef),R.\u0275\u0275directiveInject(R.ComponentFactoryResolver),R.\u0275\u0275injectAttribute("name"),R.\u0275\u0275directiveInject(R.ChangeDetectorRef))},D.\u0275dir=R.\u0275\u0275defineDirective({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class Yo{constructor(S,w,L){this.route=S,this.childContexts=w,this.parent=L}get(S,w){return S===Bi?this.route:S===Es?this.childContexts:this.parent.get(S,w)}}class To{}class _o{preload(S,w){return w().pipe((0,re.K)(()=>(0,ue.of)(null)))}}class Vs{preload(S,w){return(0,ue.of)(null)}}let yo=(()=>{class D{constructor(w,L,Z,de,Pe){this.router=w,this.injector=de,this.preloadingStrategy=Pe,this.loader=new xa(L,Z,nn=>w.triggerEvent(new Ht(nn)),nn=>w.triggerEvent(new Zt(nn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(w=>w instanceof xt),(0,pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(R.NgModuleRef);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,L){const Z=[];for(const de of L)if(de.loadChildren&&!de.canLoad&&de._loadedConfig){const Pe=de._loadedConfig;Z.push(this.processRoutes(Pe.module,Pe.routes))}else de.loadChildren&&!de.canLoad?Z.push(this.preloadConfig(w,de)):de.children&&Z.push(this.processRoutes(w,de.children));return(0,z.D)(Z).pipe((0,Mt.J)(),(0,xe.U)(de=>{}))}preloadConfig(w,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,ue.of)(L._loadedConfig):this.loader.load(w.injector,L)).pipe((0,st.zg)(de=>(L._loadedConfig=de,this.processRoutes(de.module,de.routes)))))}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275inject(Pi),R.\u0275\u0275inject(R.NgModuleFactoryLoader),R.\u0275\u0275inject(R.Compiler),R.\u0275\u0275inject(R.Injector),R.\u0275\u0275inject(To))},D.\u0275prov=R.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})(),ts=(()=>{class D{constructor(w,L,Z={}){this.router=w,this.viewportScroller=L,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof en?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof xt&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Qt&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,L){this.router.triggerEvent(new Qt(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275inject(Pi),R.\u0275\u0275inject(h.ViewportScroller),R.\u0275\u0275inject(void 0))},D.\u0275prov=R.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();const bs=new R.InjectionToken("ROUTER_CONFIGURATION"),li=new R.InjectionToken("ROUTER_FORROOT_GUARD"),iu=[h.Location,{provide:_t,useClass:Ot},{provide:Pi,useFactory:su,deps:[_t,Es,h.Location,R.Injector,R.NgModuleFactoryLoader,R.Compiler,Qo,bs,[_a,new R.Optional],[hs,new R.Optional]]},Es,{provide:Bi,useFactory:oo,deps:[Pi]},{provide:R.NgModuleFactoryLoader,useClass:R.SystemJsNgModuleLoader},yo,Vs,_o,{provide:bs,useValue:{enableTracing:!1}}];function Bs(){return new R.NgProbeToken("Router",Pi)}let io=(()=>{class D{constructor(w,L){}static forRoot(w,L){return{ngModule:D,providers:[iu,wo(w),{provide:li,useFactory:Wr,deps:[[Pi,new R.Optional,new R.SkipSelf]]},{provide:bs,useValue:L||{}},{provide:h.LocationStrategy,useFactory:Ro,deps:[h.PlatformLocation,[new R.Inject(h.APP_BASE_HREF),new R.Optional],bs]},{provide:ts,useFactory:so,deps:[Pi,h.ViewportScroller,bs]},{provide:To,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:Vs},{provide:R.NgProbeToken,multi:!0,useFactory:Bs},O()]}}static forChild(w){return{ngModule:D,providers:[wo(w)]}}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275inject(li,8),R.\u0275\u0275inject(Pi,8))},D.\u0275mod=R.\u0275\u0275defineNgModule({type:D}),D.\u0275inj=R.\u0275\u0275defineInjector({}),D})();function so(D,S,w){return w.scrollOffset&&S.setOffset(w.scrollOffset),new ts(D,S,w)}function Ro(D,S,w={}){return w.useHash?new h.HashLocationStrategy(D,S):new h.PathLocationStrategy(D,S)}function Wr(D){return"guarded"}function wo(D){return[{provide:R.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:D},{provide:Qo,multi:!0,useValue:D}]}function su(D,S,w,L,Z,de,Pe,We={},Ge,nn){const Or=new Pi(null,D,S,w,L,Z,de,Rr(Pe));return Ge&&(Or.urlHandlingStrategy=Ge),nn&&(Or.routeReuseStrategy=nn),$r(We,Or),We.enableTracing&&Or.events.subscribe(Zn=>{var $t,an;null===($t=console.group)||void 0===$t||$t.call(console,`Router Event: ${Zn.constructor.name}`),console.log(Zn.toString()),console.log(Zn),null===(an=console.groupEnd)||void 0===an||an.call(console)}),Or}function $r(D,S){D.errorHandler&&(S.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(S.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(S.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(S.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(S.urlUpdateStrategy=D.urlUpdateStrategy)}function oo(D){return D.routerState.root}let Wi=(()=>{class D{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we.xQ}appInitializer(){return this.injector.get(h.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const Z=new Promise(We=>L=We),de=this.injector.get(Pi),Pe=this.injector.get(bs);return"disabled"===Pe.initialNavigation?(de.setUpLocationChangeListener(),L(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(de.hooks.afterPreactivation=()=>this.initNavigation?(0,ue.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),de.initialNavigation()):L(!0),Z})}bootstrapListener(w){const L=this.injector.get(bs),Z=this.injector.get(yo),de=this.injector.get(ts),Pe=this.injector.get(Pi),We=this.injector.get(R.ApplicationRef);w===We.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&Pe.initialNavigation(),Z.setUpPreloading(),de.init(),Pe.resetRootComponentType(We.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(w){return new(w||D)(R.\u0275\u0275inject(R.Injector))},D.\u0275prov=R.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();function So(D){return D.appInitializer.bind(D)}function ge(D){return D.bootstrapListener.bind(D)}const C=new R.InjectionToken("Router Initializer");function O(){return[Wi,{provide:R.APP_INITIALIZER,multi:!0,useFactory:So,deps:[Wi]},{provide:C,useFactory:ge,deps:[Wi]},{provide:R.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:C}]}const fe=new R.Version("12.2.16")},9618:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{ServiceWorkerModule:()=>Dr,SwPush:()=>en,SwRegistrationOptions:()=>En,SwUpdate:()=>xt,\u0275angular_packages_service_worker_service_worker_a:()=>Et,\u0275angular_packages_service_worker_service_worker_b:()=>mr,\u0275angular_packages_service_worker_service_worker_c:()=>Sn,\u0275angular_packages_service_worker_service_worker_d:()=>tn});var h=P(8583),R=P(7716),z=P(8891),ue=P(9796),pe=P(9105),ee=P(8002);function X(Ht,Zt,wt,Ln){return(0,pe.m)(wt)&&(Ln=wt,wt=void 0),Ln?X(Ht,Zt,wt).pipe((0,ee.U)(dn=>(0,ue.k)(dn)?Ln(...dn):Ln(dn))):new z.y(dn=>{le(Ht,Zt,function(Qt){dn.next(arguments.length>1?Array.prototype.slice.call(arguments):Qt)},dn,wt)})}function le(Ht,Zt,wt,Ln,dn){let wn;if(function(Ht){return Ht&&"function"==typeof Ht.addEventListener&&"function"==typeof Ht.removeEventListener}(Ht)){const Qt=Ht;Ht.addEventListener(Zt,wt,dn),wn=()=>Qt.removeEventListener(Zt,wt,dn)}else if(function(Ht){return Ht&&"function"==typeof Ht.on&&"function"==typeof Ht.off}(Ht)){const Qt=Ht;Ht.on(Zt,wt),wn=()=>Qt.off(Zt,wt)}else if(function(Ht){return Ht&&"function"==typeof Ht.addListener&&"function"==typeof Ht.removeListener}(Ht)){const Qt=Ht;Ht.addListener(Zt,wt),wn=()=>Qt.removeListener(Zt,wt)}else{if(!Ht||!Ht.length)throw new TypeError("Invalid event target");for(let Qt=0,Ft=Ht.length;Qt<Ft;Qt++)le(Ht[Qt],Zt,wt,Ln,dn)}Ln.add(wn)}var we=P(8640);const xe=new z.y(we.Z);var et=P(1439),Se=P(205),qe=P(5917),rt=P(9923),re=P(9765),pt=P(6682),Tn=P(5435),_n=P(3190),st=P(2790),jt=P(5257),Ue=P(8307),bt=P(5792);const gt="Service workers are disabled or not supported by this browser";class Et{constructor(Zt){if(this.serviceWorker=Zt,Zt){const Ln=X(Zt,"controllerchange").pipe((0,ee.U)(()=>Zt.controller)),dn=(0,et.P)(()=>(0,qe.of)(Zt.controller)),wn=(0,rt.z)(dn,Ln);this.worker=wn.pipe((0,Tn.h)(fn=>!!fn)),this.registration=this.worker.pipe((0,_n.w)(()=>Zt.getRegistration()));const Ar=X(Zt,"message").pipe((0,ee.U)(fn=>fn.data)).pipe((0,Tn.h)(fn=>fn&&fn.type)).pipe((0,st.n)());Ar.connect(),this.events=Ar}else this.worker=this.events=this.registration=(gt,(0,et.P)(()=>(0,Se._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(Zt,wt){return this.worker.pipe((0,jt.q)(1),(0,Ue.b)(Ln=>{Ln.postMessage(Object.assign({action:Zt},wt))})).toPromise().then(()=>{})}postMessageWithStatus(Zt,wt,Ln){const dn=this.waitForStatus(Ln),wn=this.postMessage(Zt,wt);return Promise.all([dn,wn]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Zt){return this.events.pipe((0,Tn.h)(Ln=>Ln.type===Zt))}nextEventOfType(Zt){return this.eventsOfType(Zt).pipe((0,jt.q)(1))}waitForStatus(Zt){return this.eventsOfType("STATUS").pipe((0,Tn.h)(wt=>wt.nonce===Zt),(0,jt.q)(1),(0,ee.U)(wt=>{if(!wt.status)throw new Error(wt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let en=(()=>{class Ht{constructor(wt){if(this.sw=wt,this.subscriptionChanges=new re.xQ,!wt.isEnabled)return this.messages=xe,this.notificationClicks=xe,void(this.subscription=xe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ee.U)(dn=>dn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ee.U)(dn=>dn.data)),this.pushManager=this.sw.registration.pipe((0,ee.U)(dn=>dn.pushManager));const Ln=this.pushManager.pipe((0,_n.w)(dn=>dn.getSubscription()));this.subscription=(0,pt.T)(Ln,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(wt){if(!this.sw.isEnabled)return Promise.reject(new Error(gt));const Ln={userVisibleOnly:!0};let dn=this.decodeBase64(wt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),wn=new Uint8Array(new ArrayBuffer(dn.length));for(let Qt=0;Qt<dn.length;Qt++)wn[Qt]=dn.charCodeAt(Qt);return Ln.applicationServerKey=wn,this.pushManager.pipe((0,_n.w)(Qt=>Qt.subscribe(Ln)),(0,jt.q)(1)).toPromise().then(Qt=>(this.subscriptionChanges.next(Qt),Qt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,jt.q)(1),(0,_n.w)(Ln=>{if(null===Ln)throw new Error("Not subscribed to push notifications.");return Ln.unsubscribe().then(dn=>{if(!dn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(gt))}decodeBase64(wt){return atob(wt)}}return Ht.\u0275fac=function(wt){return new(wt||Ht)(R.\u0275\u0275inject(Et))},Ht.\u0275prov=R.\u0275\u0275defineInjectable({token:Ht,factory:Ht.\u0275fac}),Ht})(),xt=(()=>{class Ht{constructor(wt){if(this.sw=wt,!wt.isEnabled)return this.available=xe,this.activated=xe,void(this.unrecoverable=xe);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(gt));const wt=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:wt},wt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(gt));const wt=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:wt},wt)}}return Ht.\u0275fac=function(wt){return new(wt||Ht)(R.\u0275\u0275inject(Et))},Ht.\u0275prov=R.\u0275\u0275defineInjectable({token:Ht,factory:Ht.\u0275fac}),Ht})();class En{}const mr=new R.InjectionToken("NGSW_REGISTER_SCRIPT");function Sn(Ht,Zt,wt,Ln){return()=>{if(!(0,h.isPlatformBrowser)(Ln)||!("serviceWorker"in navigator)||!1===wt.enabled)return;let wn;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof wt.registrationStrategy)wn=wt.registrationStrategy();else{const[Ft,...ir]=(wt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ft){case"registerImmediately":wn=(0,qe.of)(null);break;case"registerWithDelay":wn=ar(+ir[0]||0);break;case"registerWhenStable":wn=ir[0]?(0,pt.T)(Dn(Ht),ar(+ir[0])):Dn(Ht);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${wt.registrationStrategy}`)}}Ht.get(R.NgZone).runOutsideAngular(()=>wn.pipe((0,jt.q)(1)).subscribe(()=>navigator.serviceWorker.register(Zt,{scope:wt.scope}).catch(Ft=>console.error("Service worker registration failed with:",Ft))))}}function ar(Ht){return(0,qe.of)(null).pipe((0,bt.g)(Ht))}function Dn(Ht){return Ht.get(R.ApplicationRef).isStable.pipe((0,Tn.h)(wt=>wt))}function tn(Ht,Zt){return new Et((0,h.isPlatformBrowser)(Zt)&&!1!==Ht.enabled?navigator.serviceWorker:void 0)}let Dr=(()=>{class Ht{static register(wt,Ln={}){return{ngModule:Ht,providers:[{provide:mr,useValue:wt},{provide:En,useValue:Ln},{provide:Et,useFactory:tn,deps:[En,R.PLATFORM_ID]},{provide:R.APP_INITIALIZER,useFactory:Sn,deps:[R.Injector,mr,En,R.PLATFORM_ID],multi:!0}]}}}return Ht.\u0275fac=function(wt){return new(wt||Ht)},Ht.\u0275mod=R.\u0275\u0275defineNgModule({type:Ht}),Ht.\u0275inj=R.\u0275\u0275defineInjector({providers:[en,xt]}),Ht})()},4233:(It,ve,P)=>{"use strict";P.d(ve,{$:()=>Wa,A:()=>Dn,B:()=>Ht,C:()=>Zt,D:()=>Ln,E:()=>Ir,F:()=>En,G:()=>Ds,H:()=>je,I:()=>ni,J:()=>vn,K:()=>Ur,L:()=>Vn,M:()=>he,N:()=>U,O:()=>ar,P:()=>gn,Q:()=>V,R:()=>Ei,S:()=>Sn,T:()=>N,U:()=>Vt,V:()=>Pn,W:()=>Vr,X:()=>nr,Y:()=>zs,Z:()=>go,_:()=>Io,a:()=>Rl,a0:()=>Qo,a1:()=>xo,a2:()=>_a,a3:()=>qo,a4:()=>Zs,a5:()=>va,a6:()=>$a,a7:()=>Qs,a8:()=>Xo,a9:()=>xi,aA:()=>fc,aB:()=>ns,aC:()=>ka,aD:()=>Gu,aE:()=>yr,aI:()=>Ka,aL:()=>Ye,aa:()=>Yo,ab:()=>_o,ac:()=>yo,ad:()=>ae,ae:()=>H,af:()=>li,ag:()=>iu,ah:()=>Bs,ai:()=>tt,aj:()=>He,ak:()=>Ga,al:()=>So,am:()=>Jt,an:()=>We,ao:()=>an,ap:()=>Qi,aq:()=>xn,ar:()=>Zi,as:()=>ur,at:()=>Qt,au:()=>Ya,av:()=>na,aw:()=>Ft,ax:()=>St,ay:()=>Fn,az:()=>Le,b:()=>vo,c:()=>Ia,d:()=>Vo,e:()=>ea,f:()=>Ll,g:()=>$u,h:()=>Iu,i:()=>ll,j:()=>ed,k:()=>Su,l:()=>Is,m:()=>pl,n:()=>fd,o:()=>mr,p:()=>ge,q:()=>C,r:()=>G,s:()=>Cs,t:()=>O,u:()=>ct,v:()=>fe,w:()=>D,x:()=>S,y:()=>w,z:()=>L});var h=P(8239),R=P(3854),z=P(8026);function ce(I,m){var v={};for(var A in I)Object.prototype.hasOwnProperty.call(I,A)&&m.indexOf(A)<0&&(v[A]=I[A]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(A=Object.getOwnPropertySymbols(I);Q<A.length;Q++)m.indexOf(A[Q])<0&&Object.prototype.propertyIsEnumerable.call(I,A[Q])&&(v[A[Q]]=I[A[Q]])}return v}var en=P(5422),xt=P(3910);const En={PHONE:"phone"},mr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Sn={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},ar={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},Dn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ht=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Zt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wt=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ln={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},dn=new en.Yd("@firebase/auth");function wn(I,...m){dn.logLevel<=en.in.ERROR&&dn.error(`Auth (${z.SDK_VERSION}): ${I}`,...m)}function Qt(I,...m){throw fn(I,...m)}function Ft(I,...m){return fn(I,...m)}function ir(I,m,v){const A=Object.assign(Object.assign({},Zt()),{[m]:v});return new R.LL("auth","Firebase",A).create(m,{appName:I.name})}function Ar(I,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Qt(I,"argument-error"),ir(I,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fn(I,...m){if("string"!=typeof I){const v=m[0],A=[...m.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(v,...A)}return wt.create(I,...m)}function St(I,m,...v){if(!I)throw fn(m,...v)}function Xn(I){const m="INTERNAL ASSERTION FAILED: "+I;throw wn(m),new Error(m)}function xn(I,m){I||Xn(m)}const ln=new Map;function Fn(I){xn(I instanceof Function,"Expected a class definition");let m=ln.get(I);return m?(xn(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ln.set(I,m),m)}function Ir(I,m){const v=(0,z._getProvider)(I,"auth");if(v.isInitialized()){const Q=v.getImmediate(),se=v.getOptions();if((0,R.vZ)(se,null!=m?m:{}))return Q;Qt(Q,"already-initialized")}return v.initialize({options:m})}function at(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function $e(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Xt{constructor(m,v){this.shortDelay=m,this.longDelay=v,xn(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,R.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function At(I,m){xn(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Yt{static initialize(m,v,A){this.fetchImpl=m,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const On={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_r=new Xt(3e4,6e4);function Wn(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Cn(I,m,v,A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(I,m,v,A,Q={}){return yn(I,Q,(0,h.Z)(function*(){let se={},ze={};A&&("GET"===m?ze=A:se={body:JSON.stringify(A)});const Ct=(0,R.xO)(Object.assign({key:I.config.apiKey},ze)).slice(1),cn=yield I._getAdditionalHeaders();return cn["Content-Type"]="application/json",I.languageCode&&(cn["X-Firebase-Locale"]=I.languageCode),Yt.fetch()(Ke(I,I.config.apiHost,v,Ct),Object.assign({method:m,headers:cn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function yn(I,m,v){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(I,m,v){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},On),m);try{const Q=new Fe(I),se=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const ze=yield se.json();if("needConfirmation"in ze)throw Ie(I,"account-exists-with-different-credential",ze);if(se.ok&&!("errorMessage"in ze))return ze;{const Ct=se.ok?ze.errorMessage:ze.error.message,[cn,zt]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw Ie(I,"credential-already-in-use",ze);if("EMAIL_EXISTS"===cn)throw Ie(I,"email-already-in-use",ze);if("USER_DISABLED"===cn)throw Ie(I,"user-disabled",ze);const bn=A[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw ir(I,bn,zt);Qt(I,bn)}}catch(Q){if(Q instanceof R.ZR)throw Q;Qt(I,"network-request-failed")}})).apply(this,arguments)}function Ce(I,m,v,A){return Te.apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(I,m,v,A,Q={}){const se=yield Cn(I,m,v,A,Q);return"mfaPendingCredential"in se&&Qt(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Ke(I,m,v,A){const Q=`${m}${v}?${A}`;return I.config.emulator?At(I.config,Q):`${I.config.apiScheme}://${Q}`}class Fe{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(Ft(this.auth,"network-request-failed")),_r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ie(I,m,v){const A={appName:I.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Q=Ft(I,m,A);return Q.customData._tokenResponse=v,Q}function Ot(){return(Ot=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function mn(I,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function lr(I,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function er(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function tt(I,m=!1){return(0,R.m9)(I).getIdToken(m)}function He(I){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(I,m=!1){const v=(0,R.m9)(I),A=yield v.getIdToken(m),Q=qt(A);St(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const se="object"==typeof Q.firebase?Q.firebase:void 0,ze=null==se?void 0:se.sign_in_provider;return{claims:Q,token:A,authTime:er(Dt(Q.auth_time)),issuedAtTime:er(Dt(Q.iat)),expirationTime:er(Dt(Q.exp)),signInProvider:ze||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function Dt(I){return 1e3*Number(I)}function qt(I){var m;const[v,A,Q]=I.split(".");if(void 0===v||void 0===A||void 0===Q)return wn("JWT malformed, contained fewer than 3 sections"),null;try{const se=(0,R.tV)(A);return se?JSON.parse(se):(wn("Failed to decode base64 JWT payload"),null)}catch(se){return wn("Caught error parsing JWT payload as JSON",null===(m=se)||void 0===m?void 0:m.toString()),null}}function $n(I,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(I,m,v=!1){if(v)return m;try{return yield m}catch(A){throw A instanceof R.ZR&&Jn(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function Jn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Pr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(m);this.timerId=setTimeout((0,h.Z)(function*(){yield v.iteration()}),A)}iteration(){var m=this;return(0,h.Z)(function*(){var v;try{yield m.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(v=A)||void 0===v?void 0:v.code)&&m.schedule(!0))}m.schedule()})()}}class Lr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(I){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(I){var m;const v=I.auth,A=yield I.getIdToken(),Q=yield $n(I,lr(v,{idToken:A}));St(null==Q?void 0:Q.users.length,v,"internal-error");const se=Q.users[0];I._notifyReloadListener(se);const ze=(null===(m=se.providerUserInfo)||void 0===m?void 0:m.length)?zr(se.providerUserInfo):[],Ct=Qn(I.providerData,ze),bn=!!I.isAnonymous&&!(I.email&&se.passwordHash||(null==Ct?void 0:Ct.length)),ci={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ct,metadata:new Lr(se.createdAt,se.lastLoginAt),isAnonymous:bn};Object.assign(I,ci)})).apply(this,arguments)}function Jt(I){return un.apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(I){const m=(0,R.m9)(I);yield tr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Qn(I,m){return[...I.filter(A=>!m.some(Q=>Q.providerId===A.providerId)),...m]}function zr(I){return I.map(m=>{var{providerId:v}=m,A=ce(m,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Tr(){return(Tr=(0,h.Z)(function*(I,m){const v=yield yn(I,{},(0,h.Z)(function*(){const A=(0,R.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:se}=I.config,ze=Ke(I,Q,"/v1/token",`key=${se}`),Ct=yield I._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(ze,{method:"POST",headers:Ct,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){St(m.idToken,"internal-error"),St(void 0!==m.idToken,"internal-error"),St(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(I){const m=qt(I);return St(m,"internal-error"),St(void 0!==m.exp,"internal-error"),St(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var A=this;return(0,h.Z)(function*(){return St(!A.accessToken||A.refreshToken,m,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(m,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var A=this;return(0,h.Z)(function*(){const{accessToken:Q,refreshToken:se,expiresIn:ze}=yield function(I,m){return Tr.apply(this,arguments)}(m,v);A.updateTokensAndExpiration(Q,se,Number(ze))})()}updateTokensAndExpiration(m,v,A){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(m,v){const{refreshToken:A,accessToken:Q,expirationTime:se}=v,ze=new Zr;return A&&(St("string"==typeof A,"internal-error",{appName:m}),ze.refreshToken=A),Q&&(St("string"==typeof Q,"internal-error",{appName:m}),ze.accessToken=Q),se&&(St("number"==typeof se,"internal-error",{appName:m}),ze.expirationTime=se),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Zr,this.toJSON())}_performRefresh(){return Xn("not implemented")}}function cr(I,m){St("string"==typeof I||void 0===I,"internal-error",{appName:m})}class hi{constructor(m){var{uid:v,auth:A,stsTokenManager:Q}=m,se=ce(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Lr(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,h.Z)(function*(){const A=yield $n(v,v.stsTokenManager.getToken(v.auth,m));return St(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(m){return He(this,m)}reload(){return Jt(this)}_assign(m){this!==m&&(St(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new hi(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var A=this;return(0,h.Z)(function*(){let Q=!1;m.idToken&&m.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(m),Q=!0),v&&(yield tr(A)),yield A.auth._persistUserIfCurrent(A),Q&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var m=this;return(0,h.Z)(function*(){const v=yield m.getIdToken();return yield $n(m,function(I,m){return Ot.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var A,Q,se,ze,Ct,cn,zt,bn;const ci=null!==(A=v.displayName)&&void 0!==A?A:void 0,Cr=null!==(Q=v.email)&&void 0!==Q?Q:void 0,vr=null!==(se=v.phoneNumber)&&void 0!==se?se:void 0,Sa=null!==(ze=v.photoURL)&&void 0!==ze?ze:void 0,Qu=null!==(Ct=v.tenantId)&&void 0!==Ct?Ct:void 0,Da=null!==(cn=v._redirectEventId)&&void 0!==cn?cn:void 0,vc=null!==(zt=v.createdAt)&&void 0!==zt?zt:void 0,Ai=null!==(bn=v.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:Du,emailVerified:Aa,isAnonymous:Hl,providerData:Vi,stsTokenManager:rs}=v;St(Du&&rs,m,"internal-error");const Au=Zr.fromJSON(this.name,rs);St("string"==typeof Du,m,"internal-error"),cr(ci,m.name),cr(Cr,m.name),St("boolean"==typeof Aa,m,"internal-error"),St("boolean"==typeof Hl,m,"internal-error"),cr(vr,m.name),cr(Sa,m.name),cr(Qu,m.name),cr(Da,m.name),cr(vc,m.name),cr(Ai,m.name);const Gl=new hi({uid:Du,auth:m,email:Cr,emailVerified:Aa,displayName:ci,isAnonymous:Hl,photoURL:Sa,phoneNumber:vr,tenantId:Qu,stsTokenManager:Au,createdAt:vc,lastLoginAt:Ai});return Vi&&Array.isArray(Vi)&&(Gl.providerData=Vi.map(Mu=>Object.assign({},Mu))),Da&&(Gl._redirectEventId=Da),Gl}static _fromIdTokenResponse(m,v,A=!1){return(0,h.Z)(function*(){const Q=new Zr;Q.updateFromServerResponse(v);const se=new hi({uid:v.localId,auth:m,stsTokenManager:Q,isAnonymous:A});return yield tr(se),se})()}}const Vn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(v,A){var Q=this;return(0,h.Z)(function*(){Q.storage[v]=A})()}_get(v){var A=this;return(0,h.Z)(function*(){const Q=A.storage[v];return void 0===Q?null:Q})()}_remove(v){var A=this;return(0,h.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return I.type="NONE",I})();function Le(I,m,v){return`firebase:${I}:${m}:${v}`}class Ve{constructor(m,v,A){this.persistence=m,this.auth=v,this.userKey=A;const{config:Q,name:se}=this.auth;this.fullUserKey=Le(this.userKey,Q.apiKey,se),this.fullPersistenceKey=Le("persistence",Q.apiKey,se),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,h.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?hi._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,h.Z)(function*(){if(v.persistence===m)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,A="authUser"){return(0,h.Z)(function*(){if(!v.length)return new Ve(Fn(Vn),m,A);const Q=(yield Promise.all(v.map(function(){var zt=(0,h.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return zt.apply(this,arguments)}}()))).filter(zt=>zt);let se=Q[0]||Fn(Vn);const ze=Le(A,m.config.apiKey,m.name);let Ct=null;for(const zt of v)try{const bn=yield zt._get(ze);if(bn){const ci=hi._fromJSON(m,bn);zt!==se&&(Ct=ci),se=zt;break}}catch(bn){}const cn=Q.filter(zt=>zt._shouldAllowMigration);return se._shouldAllowMigration&&cn.length?(se=cn[0],Ct&&(yield se._set(ze,Ct.toJSON())),yield Promise.all(v.map(function(){var zt=(0,h.Z)(function*(bn){if(bn!==se)try{yield bn._remove(ze)}catch(ci){}});return function(bn){return zt.apply(this,arguments)}}())),new Ve(se,m,A)):new Ve(se,m,A)})()}}function _e(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Bn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ze(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Kn(m))return"Blackberry";if(xs(m))return"Webos";if(vt(m))return"Safari";if((m.includes("chrome/")||In(m))&&!m.includes("edge/"))return"Chrome";if(ur(m))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function Ze(I=(0,R.z$)()){return/firefox\//i.test(I)}function vt(I=(0,R.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function In(I=(0,R.z$)()){return/crios\//i.test(I)}function Bn(I=(0,R.z$)()){return/iemobile/i.test(I)}function ur(I=(0,R.z$)()){return/android/i.test(I)}function Kn(I=(0,R.z$)()){return/blackberry/i.test(I)}function xs(I=(0,R.z$)()){return/webos/i.test(I)}function Zi(I=(0,R.z$)()){return/iphone|ipad|ipod/i.test(I)}function Qi(I=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function ei(I=(0,R.z$)()){return Zi(I)||ur(I)||xs(I)||Kn(I)||/windows phone/i.test(I)||Bn(I)}function bi(I,m=[]){let v;switch(I){case"Browser":v=_e((0,R.z$)());break;case"Worker":v=`${_e((0,R.z$)())}-${I}`;break;default:v=I}const A=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${z.SDK_VERSION}/${A}`}class us{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const A=se=>new Promise((ze,Ct)=>{try{ze(m(se))}catch(cn){Ct(cn)}});A.onAbort=v,this.queue.push(A);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,h.Z)(function*(){var A;if(v.auth.currentUser===m)return;const Q=[];try{for(const se of v.queue)yield se(m),se.onAbort&&Q.push(se.onAbort)}catch(se){Q.reverse();for(const ze of Q)try{ze()}catch(Ct){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=se)||void 0===A?void 0:A.message})}})()}}class _s{constructor(m,v,A){this.app=m,this.heartbeatServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new us(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(m,v){var A=this;return v&&(this._popupRedirectResolver=Fn(v)),this._initializationPromise=this.queue((0,h.Z)(function*(){var Q,se;if(!A._deleted&&(A.persistenceManager=yield Ve.create(A,m),!A._deleted)){if(null===(Q=A._popupRedirectResolver)||void 0===Q?void 0:Q._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(ze){}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,h.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,h.Z)(function*(){var A;const Q=yield v.assertedPersistence.getCurrentUser();let se=Q,ze=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ct=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,cn=null==se?void 0:se._redirectEventId,zt=yield v.tryRedirectSignIn(m);(!Ct||Ct===cn)&&(null==zt?void 0:zt.user)&&(se=zt.user,ze=!0)}if(!se)return v.directlySetCurrentUser(null);if(!se._redirectEventId){if(ze)try{yield v.beforeStateQueue.runMiddleware(se)}catch(Ct){se=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ct))}return se?v.reloadAndSetCurrentUserOrClear(se):v.directlySetCurrentUser(null)}return St(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===se._redirectEventId?v.directlySetCurrentUser(se):v.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(m){var v=this;return(0,h.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(Q){yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,h.Z)(function*(){var A;try{yield tr(m)}catch(Q){if("auth/network-request-failed"!==(null===(A=Q)||void 0===A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,h.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,h.Z)(function*(){const A=m?(0,R.m9)(m):null;return A&&St(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(m,v=!1){var A=this;return(0,h.Z)(function*(){if(!A._deleted)return m&&St(A.tenantId===m.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(m)),A.queue((0,h.Z)(function*(){yield A.directlySetCurrentUser(m),A.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,h.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,h.Z)(function*(){yield v.assertedPersistence.setPersistence(Fn(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new R.LL("auth","Firebase",m())}onAuthStateChanged(m,v,A){return this.registerStateListener(this.authStateSubscription,m,v,A)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,A){return this.registerStateListener(this.idTokenSubscription,m,v,A)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var A=this;return(0,h.Z)(function*(){const Q=yield A.getOrInitRedirectPersistenceManager(v);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,h.Z)(function*(){if(!v.redirectPersistenceManager){const A=m&&Fn(m)||v._popupRedirectResolver;St(A,v,"argument-error"),v.redirectPersistenceManager=yield Ve.create(v,[Fn(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,h.Z)(function*(){var A,Q;return v._isInitialized&&(yield v.queue((0,h.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===m?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,h.Z)(function*(){if(m===v.currentUser)return v.queue((0,h.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,A,Q){if(this._deleted)return()=>{};const se="function"==typeof v?v:v.next.bind(v),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return St(ze,this,"internal-error"),ze.then(()=>se(this.currentUser)),"function"==typeof v?m.addObserver(v,A,Q):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,h.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,h.Z)(function*(){var v;const A={"X-Client-Version":m.clientVersion};m.app.options.appId&&(A["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Q&&(A["X-Firebase-Client"]=Q),A})()}}function yr(I){return(0,R.m9)(I)}class Ui{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,R.ne)(v=>this.observer=v)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ds(I,m,v){const A=yr(I);St(A._canInitEmulator,A,"emulator-config-failed"),St(/^https?:\/\//.test(m),A,"invalid-emulator-scheme");const Q=!!(null==v?void 0:v.disableWarnings),se=Ji(m),{host:ze,port:Ct}=function(I){const m=Ji(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(A);if(Q){const se=Q[1];return{host:se,port:zn(A.substr(se.length+1))}}{const[se,ze]=A.split(":");return{host:se,port:zn(ze)}}}(m);A.config.emulator={url:`${se}//${ze}${null===Ct?"":`:${Ct}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ze,port:Ct,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function(){function I(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ji(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function zn(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class je{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Xn("not implemented")}_getIdTokenResponse(m){return Xn("not implemented")}_linkToIdToken(m,v){return Xn("not implemented")}_getReauthenticationResolver(m){return Xn("not implemented")}}function Ne(I,m){return it.apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:resetPassword",Wn(I,m))})).apply(this,arguments)}function Pt(I,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function pn(I,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:update",Wn(I,m))})).apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithPassword",Wn(I,m))})).apply(this,arguments)}function ti(I,m){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:sendOobCode",Wn(I,m))})).apply(this,arguments)}function Yr(I,m){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(I,m){return ti(I,m)})).apply(this,arguments)}function ys(I,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(I,m){return ti(I,m)})).apply(this,arguments)}function fa(I,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(I,m){return ti(I,m)})).apply(this,arguments)}function Oi(I,m){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(I,m){return ti(I,m)})).apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithEmailLink",Wn(I,m))})).apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithEmailLink",Wn(I,m))})).apply(this,arguments)}class ni extends je{constructor(m,v,A,Q=null){super("password",A),this._email=m,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(m,v){return new ni(m,v,"password")}static _fromEmailAndCode(m,v,A=null){return new ni(m,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,h.Z)(function*(){switch(v.signInMethod){case"password":return function(I,m){return Hn.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(I,m){return fo.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Qt(m,"internal-error")}})()}_linkToIdToken(m,v){var A=this;return(0,h.Z)(function*(){switch(A.signInMethod){case"password":return Pt(m,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function(I,m){return Rs.apply(this,arguments)}(m,{idToken:v,email:A._email,oobCode:A._password});default:Qt(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ki(I,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithIdp",Wn(I,m))})).apply(this,arguments)}class vn extends je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new vn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Qt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Q}=v,se=ce(v,["providerId","signInMethod"]);if(!A||!Q)return null;const ze=new vn(A,Q);return ze.idToken=se.idToken||void 0,ze.accessToken=se.accessToken||void 0,ze.secret=se.secret,ze.nonce=se.nonce,ze.pendingToken=se.pendingToken||null,ze}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,ki(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ki(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,R.xO)(v)}return m}}function Os(I,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:sendVerificationCode",Wn(I,m))})).apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Wn(I,m))})).apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(I,m){const v=yield Ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Wn(I,m));if(v.temporaryProof)throw Ie(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const po={USER_NOT_FOUND:"user-not-found"};function ds(){return(ds=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Wn(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),po)})).apply(this,arguments)}class Ur extends je{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ur({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ur({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(I,m){return Ci.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(I,m){return ri.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(I,m){return ds.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:A,verificationCode:Q}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:A,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:A,phoneNumber:Q,temporaryProof:se}=m;return A||v||Q||se?new Ur({verificationId:v,verificationCode:A,phoneNumber:Q,temporaryProof:se}):null}}class ae{constructor(m){var v,A,Q,se,ze,Ct;const cn=(0,R.zd)((0,R.pd)(m)),zt=null!==(v=cn.apiKey)&&void 0!==v?v:null,bn=null!==(A=cn.oobCode)&&void 0!==A?A:null,ci=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=cn.mode)&&void 0!==Q?Q:null);St(zt&&bn&&ci,"argument-error"),this.apiKey=zt,this.operation=ci,this.code=bn,this.continueUrl=null!==(se=cn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ze=cn.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(Ct=cn.tenantId)&&void 0!==Ct?Ct:null}static parseLink(m){const v=function(I){const m=(0,R.zd)((0,R.pd)(I)).link,v=m?(0,R.zd)((0,R.pd)(m)).deep_link_id:null,A=(0,R.zd)((0,R.pd)(I)).deep_link_id;return(A?(0,R.zd)((0,R.pd)(A)).link:null)||A||v||m||I}(m);try{return new ae(v)}catch(A){return null}}}function H(I){return ae.parseLink(I)}let he=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,A){return ni._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Q=ae.parseLink(A);return St(Q,"argument-error"),ni._fromEmailAndCode(v,Q.code,Q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Me{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class yt extends Me{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Vt extends yt{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return St("providerId"in v&&"signInMethod"in v,"argument-error"),vn._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return St(m.idToken||m.accessToken,"argument-error"),vn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Vt.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Vt.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Q,pendingToken:se,nonce:ze,providerId:Ct}=m;if(!A&&!Q&&!v&&!se||!Ct)return null;try{return new Vt(Ct)._credential({idToken:v,accessToken:A,nonce:ze,pendingToken:se})}catch(cn){return null}}}let U=(()=>{class I extends yt{constructor(){super("facebook.com")}static credential(v){return vn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch(A){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),V=(()=>{class I extends yt{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return vn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Q}=v;if(!A&&!Q)return null;try{return I.credential(A,Q)}catch(se){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),N=(()=>{class I extends yt{constructor(){super("github.com")}static credential(v){return vn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch(A){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ye extends je{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return ki(m,this.buildRequest())}_linkToIdToken(m,v){const A=this.buildRequest();return A.idToken=v,ki(m,A)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ki(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:A,signInMethod:Q,pendingToken:se}=v;return A&&Q&&se&&A===Q?new Ye(A,se):null}static _create(m,v){return new Ye(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pn extends Me{constructor(m){St(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Pn.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Pn.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Ye.fromJSON(m);return St(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:A}=m;if(!v||!A)return null;try{return Ye._create(A,v)}catch(Q){return null}}}let Vr=(()=>{class I extends yt{constructor(){super("twitter.com")}static credential(v,A){return vn._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Q}=v;if(!A||!Q)return null;try{return I.credential(A,Q)}catch(se){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function pi(I,m){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signUp",Wn(I,m))})).apply(this,arguments)}class Gr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,A,Q=!1){return(0,h.Z)(function*(){const se=yield hi._fromIdTokenResponse(m,A,Q),ze=Gn(A);return new Gr({user:se,providerId:ze,_tokenResponse:A,operationType:v})})()}static _forOperation(m,v,A){return(0,h.Z)(function*(){yield m._updateTokensIfNecessary(A,!0);const Q=Gn(A);return new Gr({user:m,providerId:Q,_tokenResponse:A,operationType:v})})()}}function Gn(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function nr(I){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(I){var m;const v=yr(I);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new Gr({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield pi(v,{returnSecureToken:!0}),Q=yield Gr._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class $o extends R.ZR{constructor(m,v,A,Q){var se;super(v.code,v.message),this.operationType=A,this.user=Q,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:m.name,tenantId:null!==(se=m.tenantId)&&void 0!==se?se:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(m,v,A,Q){return new $o(m,v,A,Q)}}function ui(I,m,v,A){return("reauthenticate"===m?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?$o._fromErrorAndOperation(I,se,m,A):se})}function pa(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function Ga(I,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(I,m){const v=(0,R.m9)(I);yield wr(!0,v,m);const{providerUserInfo:A}=yield mn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Q=pa(A||[]);return v.providerData=v.providerData.filter(se=>Q.has(se.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ms(I,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(I,m,v=!1){const A=yield $n(I,m._linkToIdToken(I.auth,yield I.getIdToken()),v);return Gr._forOperation(I,"link",A)})).apply(this,arguments)}function wr(I,m,v){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(I,m,v){yield tr(m);const Q=!1===I?"provider-already-linked":"no-such-provider";St(pa(m.providerData).has(v)===I,m.auth,Q)})).apply(this,arguments)}function Ii(I,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(I,m,v=!1){var A;const{auth:Q}=I,se="reauthenticate";try{const ze=yield $n(I,ui(Q,se,m,I),v);St(ze.idToken,Q,"internal-error");const Ct=qt(ze.idToken);St(Ct,Q,"internal-error");const{sub:cn}=Ct;return St(I.uid===cn,Q,"user-mismatch"),Gr._forOperation(I,se,ze)}catch(ze){throw"auth/user-not-found"===(null===(A=ze)||void 0===A?void 0:A.code)&&Qt(Q,"user-mismatch"),ze}})).apply(this,arguments)}function bo(I,m){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(I,m,v=!1){const A="signIn",Q=yield ui(I,A,m),se=yield Gr._fromIdTokenResponse(I,A,Q);return v||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function zs(I,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(I,m){return bo(yr(I),m)})).apply(this,arguments)}function go(I,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(I,m){const v=(0,R.m9)(I);return yield wr(!1,v,m.providerId),Ms(v,m)})).apply(this,arguments)}function Io(I,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(I,m){return Ii((0,R.m9)(I),m)})).apply(this,arguments)}function ji(I,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(I,m){return Ce(I,"POST","/v1/accounts:signInWithCustomToken",Wn(I,m))})).apply(this,arguments)}function Wa(I,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(I,m){const v=yr(I),A=yield ji(v,{token:m,returnSecureToken:!0}),Q=yield Gr._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class hs{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?ma._fromServerResponse(m,v):Qt(m,"internal-error")}}class ma extends hs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new ma(v)}}function Zo(I,m,v){var A;St((null===(A=v.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),St(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(St(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(St(v.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function Qo(I,m,v){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I),Q={requestType:"PASSWORD_RESET",email:m};v&&Zo(A,Q,v),yield ys(A,Q)})).apply(this,arguments)}function xo(I,m,v){return Es.apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(I,m,v){yield Ne((0,R.m9)(I),{oobCode:m,newPassword:v})})).apply(this,arguments)}function _a(I,m){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(I,m){yield pn((0,R.m9)(I),{oobCode:m})})).apply(this,arguments)}function qo(I,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(I,m){const v=(0,R.m9)(I),A=yield Ne(v,{oobCode:m}),Q=A.requestType;switch(St(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":St(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":St(A.mfaInfo,v,"internal-error");default:St(A.email,v,"internal-error")}let se=null;return A.mfaInfo&&(se=hs._fromServerResponse(yr(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:Q}})).apply(this,arguments)}function Zs(I,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(I,m){const{data:v}=yield qo((0,R.m9)(I),m);return v.email})).apply(this,arguments)}function va(I,m,v){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(I,m,v){const A=yr(I),Q=yield pi(A,{returnSecureToken:!0,email:m,password:v}),se=yield Gr._fromIdTokenResponse(A,"signIn",Q);return yield A._updateCurrentUser(se.user),se})).apply(this,arguments)}function $a(I,m,v){return zs((0,R.m9)(I),he.credential(m,v))}function Qs(I,m,v){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I),Q={requestType:"EMAIL_SIGNIN",email:m};St(v.handleCodeInApp,A,"argument-error"),v&&Zo(A,Q,v),yield fa(A,Q)})).apply(this,arguments)}function Xo(I,m){const v=ae.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function xi(I,m,v){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I),Q=he.credentialWithLink(m,v||at());return St(Q._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),zs(A,Q)})).apply(this,arguments)}function Ti(I,m){return no.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:createAuthUri",Wn(I,m))})).apply(this,arguments)}function Yo(I,m){return To.apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(I,m){const A={identifier:m,continueUri:$e()?at():"http://localhost"},{signinMethods:Q}=yield Ti((0,R.m9)(I),A);return Q||[]})).apply(this,arguments)}function _o(I,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,h.Z)(function*(I,m){const v=(0,R.m9)(I),Q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&Zo(v.auth,Q,m);const{email:se}=yield Yr(v.auth,Q);se!==I.email&&(yield I.reload())})).apply(this,arguments)}function yo(I,m,v){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};v&&Zo(A.auth,se,v);const{email:ze}=yield Oi(A.auth,se);ze!==I.email&&(yield I.reload())})).apply(this,arguments)}function Ea(I,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(I,m){return Cn(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function li(I,m){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(I,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const A=(0,R.m9)(I),se={idToken:yield A.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ze=yield $n(A,Ea(A.auth,se));A.displayName=ze.displayName||null,A.photoURL=ze.photoUrl||null;const Ct=A.providerData.find(({providerId:cn})=>"password"===cn);Ct&&(Ct.displayName=A.displayName,Ct.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ze)})).apply(this,arguments)}function iu(I,m){return io((0,R.m9)(I),m,null)}function Bs(I,m){return io((0,R.m9)(I),null,m)}function io(I,m,v){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(I,m,v){const{auth:A}=I,se={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(se.email=m),v&&(se.password=v);const ze=yield $n(I,Pt(A,se));yield I._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class Wr{constructor(m,v,A={}){this.isNewUser=m,this.providerId=v,this.profile=A}}class wo extends Wr{constructor(m,v,A,Q){super(m,v,A),this.username=Q}}class su extends Wr{constructor(m,v){super(m,"facebook.com",v)}}class $r extends wo{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class oo extends Wr{constructor(m,v){super(m,"google.com",v)}}class Wi extends wo{constructor(m,v,A){super(m,"twitter.com",v,A)}}function So(I){const{user:m,_tokenResponse:v}=I;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(I){var m,v;if(!I)return null;const{providerId:A}=I,Q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&(null==I?void 0:I.idToken)){const ze=null===(v=null===(m=qt(I.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ze)return new Wr(se,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!A)return null;switch(A){case"facebook.com":return new su(se,Q);case"github.com":return new $r(se,Q);case"google.com":return new oo(se,Q);case"twitter.com":return new Wi(se,Q,I.screenName||null);case"custom":case"anonymous":return new Wr(se,null);default:return new Wr(se,A,Q)}}(v)}function ge(I,m){return(0,R.m9)(I).setPersistence(m)}function C(I,m,v,A){return(0,R.m9)(I).onIdTokenChanged(m,v,A)}function O(I,m,v){return(0,R.m9)(I).beforeAuthStateChanged(m,v)}function fe(I,m,v,A){return(0,R.m9)(I).onAuthStateChanged(m,v,A)}function D(I){(0,R.m9)(I).useDeviceLanguage()}function S(I,m){return(0,R.m9)(I).updateCurrentUser(m)}function w(I){return(0,R.m9)(I).signOut()}function L(I){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(I){return(0,R.m9)(I).delete()})).apply(this,arguments)}class de{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new de("enroll",m)}static _fromMfaPendingCredential(m){return new de("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,A;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return de._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(A=m.multiFactorSession)||void 0===A?void 0:A.idToken)return de._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Pe{constructor(m,v,A){this.session=m,this.hints=v,this.signInResolver=A}static _fromError(m,v){const A=yr(m),Q=v.customData._serverResponse,se=(Q.mfaInfo||[]).map(Ct=>hs._fromServerResponse(A,Ct));St(Q.mfaPendingCredential,A,"internal-error");const ze=de._fromMfaPendingCredential(Q.mfaPendingCredential);return new Pe(ze,se,function(){var Ct=(0,h.Z)(function*(cn){const zt=yield cn._process(A,ze);delete Q.mfaInfo,delete Q.mfaPendingCredential;const bn=Object.assign(Object.assign({},Q),{idToken:zt.idToken,refreshToken:zt.refreshToken});switch(v.operationType){case"signIn":const ci=yield Gr._fromIdTokenResponse(A,v.operationType,bn);return yield A._updateCurrentUser(ci.user),ci;case"reauthenticate":return St(v.user,A,"internal-error"),Gr._forOperation(v.user,v.operationType,bn);default:Qt(A,"internal-error")}});return function(cn){return Ct.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,h.Z)(function*(){return v.signInResolver(m)})()}}function We(I,m){var v;const A=(0,R.m9)(I),Q=m;return St(m.customData.operationType,A,"argument-error"),St(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Pe._fromError(A,Q)}function Ge(I,m){return Cn(I,"POST","/v2/accounts/mfaEnrollment:start",Wn(I,m))}class Zn{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>hs._fromServerResponse(m.auth,A)))})}static _fromUser(m){return new Zn(m)}getSession(){var m=this;return(0,h.Z)(function*(){return de._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var A=this;return(0,h.Z)(function*(){const Q=m,se=yield A.getSession(),ze=yield $n(A.user,Q._process(A.user.auth,se,v));return yield A.user._updateTokensIfNecessary(ze),A.user.reload()})()}unenroll(m){var v=this;return(0,h.Z)(function*(){var A;const Q="string"==typeof m?m:m.uid,se=yield v.user.getIdToken(),ze=yield $n(v.user,function(I,m){return Cn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Wn(I,m))}(v.user.auth,{idToken:se,mfaEnrollmentId:Q}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ct})=>Ct!==Q),yield v.user._updateTokensIfNecessary(ze);try{yield v.user.reload()}catch(Ct){if("auth/user-token-expired"!==(null===(A=Ct)||void 0===A?void 0:A.code))throw Ct}})()}}const $t=new WeakMap;function an(I){const m=(0,R.m9)(I);return $t.has(m)||$t.set(m,Zn._fromUser(m)),$t.get(m)}const Gi="__sak";class rn{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Gi,"1"),this.storage.removeItem(Gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const vo=(()=>{class I extends rn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,R.z$)();return vt(I)||Zi(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=ei(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Q=this.storage.getItem(A),se=this.localCache[A];Q!==se&&v(A,se,Q)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((Ct,cn,zt)=>{this.notifyListeners(Ct,zt)});const Q=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ct=this.storage.getItem(Q);if(v.newValue!==Ct)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!A)return}const se=()=>{const Ct=this.storage.getItem(Q);!A&&this.localCache[Q]===Ct||this.notifyListeners(Q,Ct)},ze=this.storage.getItem(Q);(0,R.w1)()&&10===document.documentMode&&ze!==v.newValue&&v.newValue!==v.oldValue?setTimeout(se,10):se()}notifyListeners(v,A){this.localCache[v]=A;const Q=this.listeners[v];if(Q)for(const se of Array.from(Q))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Q=()=>super._set,se=this;return(0,h.Z)(function*(){yield Q().call(se,v,A),se.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Q=this;return(0,h.Z)(function*(){const se=yield A().call(Q,v);return Q.localCache[v]=JSON.stringify(se),se})()}_remove(v){var A=()=>super._remove,Q=this;return(0,h.Z)(function*(){yield A().call(Q,v),delete Q.localCache[v]})()}}return I.type="LOCAL",I})(),Rl=(()=>{class I extends rn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return I.type="SESSION",I})();let Vu=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(se=>se.isListeningto(v));if(A)return A;const Q=new I(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,h.Z)(function*(){const Q=v,{eventId:se,eventType:ze,data:Ct}=Q.data,cn=A.handlersMap[ze];if(!(null==cn?void 0:cn.size))return;Q.ports[0].postMessage({status:"ack",eventId:se,eventType:ze});const zt=Array.from(cn).map(function(){var ci=(0,h.Z)(function*(Cr){return Cr(Q.origin,Ct)});return function(Cr){return ci.apply(this,arguments)}}()),bn=yield function(I){return Promise.all(I.map(function(){var m=(0,h.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return m.apply(this,arguments)}}()))}(zt);Q.ports[0].postMessage({status:"done",eventId:se,eventType:ze,response:bn})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ka(I="",m=10){let v="";for(let A=0;A<m;A++)v+=Math.floor(10*Math.random());return I+v}class Bu{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,A=50){var Q=this;return(0,h.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ze,Ct;return new Promise((cn,zt)=>{const bn=Ka("",20);se.port1.start();const ci=setTimeout(()=>{zt(new Error("unsupported_event"))},A);Ct={messageChannel:se,onMessage(Cr){const vr=Cr;if(vr.data.eventId===bn)switch(vr.data.status){case"ack":clearTimeout(ci),ze=setTimeout(()=>{zt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),cn(vr.data.response);break;default:clearTimeout(ci),clearTimeout(ze),zt(new Error("invalid_response"))}}},Q.handlers.add(Ct),se.port1.addEventListener("message",Ct.onMessage),Q.target.postMessage({eventType:m,eventId:bn,data:v},[se.port2])}).finally(()=>{Ct&&Q.removeMessageHandler(Ct)})})()}}function ps(){return window}function Uu(){return void 0!==ps().WorkerGlobalScope&&"function"==typeof ps().importScripts}function Oo(){return(Oo=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const rr="firebaseLocalStorageDb",Fr="firebaseLocalStorage",ko="fbase_key";class jr{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function hn(I,m){return I.transaction([Fr],m?"readwrite":"readonly").objectStore(Fr)}function ul(){const I=indexedDB.open(rr,1);return new Promise((m,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(Fr,{keyPath:ko})}catch(Q){v(Q)}}),I.addEventListener("success",(0,h.Z)(function*(){const A=I.result;A.objectStoreNames.contains(Fr)?m(A):(A.close(),yield function(){const I=indexedDB.deleteDatabase(rr);return new jr(I).toPromise()}(),m(yield ul()))}))})}function ba(I,m,v){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(I,m,v){const A=hn(I,!0).put({[ko]:m,value:v});return new jr(A).toPromise()})).apply(this,arguments)}function yu(){return(yu=(0,h.Z)(function*(I,m){const v=hn(I,!1).get(m),A=yield new jr(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function au(I,m){const v=hn(I,!0).delete(m);return new jr(v).toPromise()}const ll=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,h.Z)(function*(){return v.db||(v.db=yield ul()),v.db})()}_withRetries(v){var A=this;return(0,h.Z)(function*(){let Q=0;for(;;)try{const se=yield A._openDb();return yield v(se)}catch(se){if(Q++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,h.Z)(function*(){return Uu()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,h.Z)(function*(){v.receiver=Vu._getInstance(Uu()?self:null),v.receiver._subscribe("keyChanged",function(){var A=(0,h.Z)(function*(Q,se){return{keyProcessed:(yield v._poll()).includes(se.key)}});return function(Q,se){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,h.Z)(function*(Q,se){return["keyChanged"]});return function(Q,se){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,h.Z)(function*(){var A,Q;if(v.activeServiceWorker=yield function(){return Oo.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Bu(v.activeServiceWorker);const se=yield v.sender._send("ping",{},800);!se||(null===(A=se[0])||void 0===A?void 0:A.fulfilled)&&(null===(Q=se[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,h.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch(Q){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const v=yield ul();return yield ba(v,Gi,"1"),yield au(v,Gi),!0}catch(v){}return!1})()}_withPendingWrite(v){var A=this;return(0,h.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Q=this;return(0,h.Z)(function*(){return Q._withPendingWrite((0,h.Z)(function*(){return yield Q._withRetries(se=>ba(se,v,A)),Q.localCache[v]=A,Q.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,h.Z)(function*(){const Q=yield A._withRetries(se=>function(I,m){return yu.apply(this,arguments)}(se,v));return A.localCache[v]=Q,Q})()}_remove(v){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(Q=>au(Q,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,h.Z)(function*(){const A=yield v._withRetries(ze=>{const Ct=hn(ze,!1).getAll();return new jr(Ct).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Q=[],se=new Set;for(const{fbase_key:ze,value:Ct}of A)se.add(ze),JSON.stringify(v.localCache[ze])!==JSON.stringify(Ct)&&(v.notifyListeners(ze,Ct),Q.push(ze));for(const ze of Object.keys(v.localCache))v.localCache[ze]&&!se.has(ze)&&(v.notifyListeners(ze,null),Q.push(ze));return Q})()}notifyListeners(v,A){this.localCache[v]=A;const Q=this.listeners[v];if(Q)for(const se of Array.from(Q))se(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function uu(I,m){return Cn(I,"POST","/v2/accounts/mfaSignIn:start",Wn(I,m))}function Za(){return(Za=(0,h.Z)(function*(I){return(yield Cn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vu(I){return new Promise((m,v)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=m,A.onerror=Q=>{const se=Ft("internal-error");se.customData=Q,v(se)},A.type="text/javascript",A.charset="UTF-8",function(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(A)})}function Si(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Qa=1e12;class Ol{constructor(m){this.auth=m,this.counter=Qa,this._widgets=new Map}render(m,v){const A=this.counter;return this._widgets.set(A,new ao(m,this.auth.name,v||{})),this.counter++,A}reset(m){var v;const A=m||Qa;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Qa))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,h.Z)(function*(){var A;return null===(A=v._widgets.get(m||Qa))||void 0===A||A.execute(),""})()}}class ao{constructor(m,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;St(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<50;A++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bu=Si("rcb"),Ri=new Xt(3e4,6e4);class Oa{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ps().grecaptcha}load(m,v=""){return St((I=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(ps().grecaptcha):new Promise((A,Q)=>{const se=ps().setTimeout(()=>{Q(Ft(m,"network-request-failed"))},Ri.get());ps()[bu]=()=>{ps().clearTimeout(se),delete ps()[bu];const Ct=ps().grecaptcha;if(!Ct)return void Q(Ft(m,"internal-error"));const cn=Ct.render;Ct.render=(zt,bn)=>{const ci=cn(zt,bn);return this.counter++,ci},this.hostLanguage=v,A(Ct)},vu(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:bu,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(se),Q(Ft(m,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!ps().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qr{load(m){return(0,h.Z)(function*(){return new Ol(m)})()}clearedOneInstance(){}}const lu="recaptcha",Li={theme:"light",type:"image"};class Ei{constructor(m,v=Object.assign({},Li),A){this.parameters=v,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yr(A),this.isInvisible="invisible"===this.parameters.size,St("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof m?document.getElementById(m):m;St(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qr:new Oa,this.validateStartingState()}verify(){var m=this;return(0,h.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),A=m.getAssertedRecaptcha();return A.getResponse(v)||new Promise(se=>{const ze=Ct=>{!Ct||(m.tokenChangeListeners.delete(ze),se(Ct))};m.tokenChangeListeners.add(ze),m.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){St(!this.parameters.sitekey,this.auth,"argument-error"),St(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),St("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof m)m(v);else if("string"==typeof m){const A=ps()[m];"function"==typeof A&&A(v)}}}assertNotDestroyed(){St(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,h.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,h.Z)(function*(){St($e()&&!Uu(),m.auth,"internal-error"),yield function(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(I){return Za.apply(this,arguments)}(m.auth);St(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return St(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jo{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ur._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function Cs(I,m,v){return dl.apply(this,arguments)}function dl(){return(dl=(0,h.Z)(function*(I,m,v){const A=yr(I),Q=yield De(A,m,(0,R.m9)(v));return new Jo(Q,se=>zs(A,se))})).apply(this,arguments)}function Is(I,m,v){return F.apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I);yield wr(!1,A,"phone");const Q=yield De(A.auth,m,(0,R.m9)(v));return new Jo(Q,se=>go(A,se))})).apply(this,arguments)}function G(I,m,v){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I),Q=yield De(A.auth,m,(0,R.m9)(v));return new Jo(Q,se=>Io(A,se))})).apply(this,arguments)}function De(I,m,v){return Je.apply(this,arguments)}function Je(){return(Je=(0,h.Z)(function*(I,m,v){var A;const Q=yield v.verify();try{let se;if(St("string"==typeof Q,I,"argument-error"),St(v.type===lu,I,"argument-error"),se="string"==typeof m?{phoneNumber:m}:m,"session"in se){const ze=se.session;if("phoneNumber"in se)return St("enroll"===ze.type,I,"internal-error"),(yield Ge(I,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{St("signin"===ze.type,I,"internal-error");const Ct=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return St(Ct,I,"missing-multi-factor-info"),(yield uu(I,{mfaPendingCredential:ze.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield Os(I,{phoneNumber:se.phoneNumber,recaptchaToken:Q});return ze}}finally{v._reset()}})).apply(this,arguments)}function ct(I,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(I,m){yield Ms((0,R.m9)(I),m)})).apply(this,arguments)}let gn=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=yr(v)}verifyPhoneNumber(v,A){return De(this.auth,v,(0,R.m9)(A))}static credential(v,A){return Ur._fromVerification(v,A)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Q}=v;return A&&Q?Ur._fromTokenResponse(A,Q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Un(I,m){return m?Fn(m):(St(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class sr extends je{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ki(m,this._buildIdpRequest())}_linkToIdToken(m,v){return ki(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return ki(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Sr(I){return bo(I.auth,new sr(I),I.bypassAuthState)}function qn(I){const{auth:m,user:v}=I;return St(v,m,"internal-error"),Ii(v,new sr(I),I.bypassAuthState)}function $i(I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(I){const{auth:m,user:v}=I;return St(v,m,"internal-error"),Ms(v,new sr(I),I.bypassAuthState)})).apply(this,arguments)}class Fo{constructor(m,v,A,Q,se=!1){this.auth=m,this.resolver=A,this.user=Q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,h.Z)(function*(A,Q){m.pendingPromise={resolve:A,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(se){m.reject(se)}});return function(A,Q){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,h.Z)(function*(){const{urlResponse:A,sessionId:Q,postBody:se,tenantId:ze,error:Ct,type:cn}=m;if(Ct)return void v.reject(Ct);const zt={auth:v.auth,requestUri:A,sessionId:Q,tenantId:ze||void 0,postBody:se||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(cn)(zt))}catch(bn){v.reject(bn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Sr;case"linkViaPopup":case"linkViaRedirect":return $i;case"reauthViaPopup":case"reauthViaRedirect":return qn;default:Qt(this.auth,"internal-error")}}resolve(m){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const js=new Xt(2e3,1e4);function Ia(I,m,v){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(I,m,v){const A=yr(I);Ar(I,m,Me);const Q=Un(A,v);return new qa(A,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function ea(I,m,v){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I);Ar(A.auth,m,Me);const Q=Un(A.auth,v);return new qa(A.auth,"reauthViaPopup",m,Q,A).executeNotNull()})).apply(this,arguments)}function Vo(I,m,v){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I);Ar(A.auth,m,Me);const Q=Un(A.auth,v);return new qa(A.auth,"linkViaPopup",m,Q,A).executeNotNull()})).apply(this,arguments)}let qa=(()=>{class I extends Fo{constructor(v,A,Q,se,ze){super(v,A,se,ze),this.provider=Q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,h.Z)(function*(){const A=yield v.execute();return St(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,h.Z)(function*(){xn(1===v.filter.length,"Popup operations only handle one event");const A=Ka();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(Ft(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Q;this.pollId=(null===(Q=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===Q?void 0:Q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ft(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,js.get())};v()}}return I.currentPopupAction=null,I})();const Ta=new Map;class ju extends Fo{constructor(m,v,A=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,h.Z)(function*(){let A=Ta.get(v.auth._key());if(!A){try{const se=(yield function(I,m){return Xa.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;A=()=>Promise.resolve(se)}catch(Q){A=()=>Promise.reject(Q)}Ta.set(v.auth._key(),A)}return v.bypassAuthState||Ta.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,A=this;return(0,h.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(A,m);if("unknown"!==m.type){if(m.eventId){const Q=yield A.auth._redirectUserForId(m.eventId);if(Q)return A.user=Q,v().call(A,m);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Xa(){return(Xa=(0,h.Z)(function*(I,m){const v=Fi(m),A=Cu(I);if(!(yield A._isAvailable()))return!1;const Q="true"===(yield A._get(v));return yield A._remove(v),Q})).apply(this,arguments)}function Hu(I,m){return hc.apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(I,m){return Cu(I)._set(Fi(m),"true")})).apply(this,arguments)}function Gu(){Ta.clear()}function ka(I,m){Ta.set(I._key(),m)}function Cu(I){return Fn(I._redirectPersistence)}function Fi(I){return Le("pendingRedirect",I.config.apiKey,I.name)}function Ll(I,m,v){return function(I,m,v){return Wu.apply(this,arguments)}(I,m,v)}function Wu(){return(Wu=(0,h.Z)(function*(I,m,v){const A=yr(I);Ar(I,m,Me);const Q=Un(A,v);return yield Hu(Q,A),Q._openRedirect(A,m,"signInViaRedirect")})).apply(this,arguments)}function Iu(I,m,v){return function(I,m,v){return Fl.apply(this,arguments)}(I,m,v)}function Fl(){return(Fl=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I);Ar(A.auth,m,Me);const Q=Un(A.auth,v);yield Hu(Q,A.auth);const se=yield Rh(A);return Q._openRedirect(A.auth,m,"reauthViaRedirect",se)})).apply(this,arguments)}function $u(I,m,v){return function(I,m,v){return ta.apply(this,arguments)}(I,m,v)}function ta(){return(ta=(0,h.Z)(function*(I,m,v){const A=(0,R.m9)(I);Ar(A.auth,m,Me);const Q=Un(A.auth,v);yield wr(!1,A,m.providerId),yield Hu(Q,A.auth);const se=yield Rh(A);return Q._openRedirect(A.auth,m,"linkViaRedirect",se)})).apply(this,arguments)}function ed(I,m){return td.apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(I,m){return yield yr(I)._initializationPromise,ns(I,m,!1)})).apply(this,arguments)}function ns(I,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.Z)(function*(I,m,v=!1){const A=yr(I),Q=Un(A,m),ze=yield new ju(A,Q,v).execute();return ze&&!v&&(delete ze.user._redirectEventId,yield A._persistUserIfCurrent(ze.user),yield A._setRedirectUser(null,m)),ze})).apply(this,arguments)}function Rh(I){return nd.apply(this,arguments)}function nd(){return(nd=(0,h.Z)(function*(I){const m=Ka(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class fc{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(m,A)&&(v=!0,this.sendToConsumer(m,A),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vl(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var A;if(m.error&&!Vl(m)){const Q=(null===(A=m.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(Ft(this.auth,Q))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const A=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&A}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tu(m))}saveEventToCache(m){this.cachedEventUids.add(Tu(m)),this.lastProcessedEventTime=Date.now()}}function Tu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Vl({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===(null==m?void 0:m.code)}function na(I){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(I,m={}){return Cn(I,"GET","/v1/projects",m)})).apply(this,arguments)}const pc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function Uo(){return(Uo=(0,h.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield na(I);for(const v of m)try{if(Ku(v))return}catch(A){}Qt(I,"unauthorized-domain")})).apply(this,arguments)}function Ku(I){const m=at(),{protocol:v,hostname:A}=new URL(m);if(I.startsWith("chrome-extension://")){const ze=new URL(I);return""===ze.hostname&&""===A?"chrome-extension:"===v&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ze.hostname===A}if(!Bl.test(v))return!1;if(pc.test(I))return A===I;const Q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(A)}const La=new Xt(3e4,6e4);function wu(){const I=ps().___jsl;if(null==I?void 0:I.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let zu=null;function rd(I){return zu=zu||function(I){return new Promise((m,v)=>{var A,Q,se;function ze(){wu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{wu(),v(Ft(I,"network-request-failed"))},timeout:La.get()})}if(null===(Q=null===(A=ps().gapi)||void 0===A?void 0:A.iframes)||void 0===Q?void 0:Q.Iframe)m(gapi.iframes.getContext());else{if(!(null===(se=ps().gapi)||void 0===se?void 0:se.load)){const Ct=Si("iframefcb");return ps()[Ct]=()=>{gapi.load?ze():v(Ft(I,"network-request-failed"))},vu(`https://apis.google.com/js/api.js?onload=${Ct}`).catch(cn=>v(cn))}ze()}}).catch(m=>{throw zu=null,m})}(I),zu}const hu=new Xt(5e3,15e3),Fa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gc(I){const m=I.config;St(m.authDomain,I,"auth-domain-config-required");const v=m.emulator?At(m,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:m.apiKey,appName:I.name,v:z.SDK_VERSION},Q=id.get(I.config.apiHost);Q&&(A.eid=Q);const se=I._getFrameworks();return se.length&&(A.fw=se.join(",")),`${v}?${(0,R.xO)(A).slice(1)}`}function mc(){return(mc=(0,h.Z)(function*(I){const m=yield rd(I),v=ps().gapi;return St(v,I,"internal-error"),m.open({where:document.body,url:gc(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fa,dontclear:!0},A=>new Promise(function(){var Q=(0,h.Z)(function*(se,ze){yield A.restyle({setHideOnLeave:!1});const Ct=Ft(I,"network-request-failed"),cn=ps().setTimeout(()=>{ze(Ct)},hu.get());function zt(){ps().clearTimeout(cn),se(A)}A.ping(zt).then(zt,()=>{ze(Ct)})});return function(se,ze){return Q.apply(this,arguments)}}()))})).apply(this,arguments)}const qd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jl{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Ya(I,m,v,A,Q,se){St(I.config.authDomain,I,"auth-domain-config-required"),St(I.config.apiKey,I,"invalid-api-key");const ze={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:A,v:z.SDK_VERSION,eventId:Q};if(m instanceof Me){m.setDefaultLanguage(I.languageCode),ze.providerId=m.providerId||"",(0,R.xb)(m.getCustomParameters())||(ze.customParameters=JSON.stringify(m.getCustomParameters()));for(const[cn,zt]of Object.entries(se||{}))ze[cn]=zt}if(m instanceof yt){const cn=m.getScopes().filter(zt=>""!==zt);cn.length>0&&(ze.scopes=cn.join(","))}I.tenantId&&(ze.tid=I.tenantId);const Ct=ze;for(const cn of Object.keys(Ct))void 0===Ct[cn]&&delete Ct[cn];return`${function({config:I}){return I.emulator?At(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,R.xO)(Ct).slice(1)}`}const ia="webStorageSupport",Su=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rl,this._completeRedirectFn=ns,this._overrideRedirectResult=ka}_openPopup(m,v,A,Q){var se=this;return(0,h.Z)(function*(){var ze;xn(null===(ze=se.eventManagers[m._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const Ct=Ya(m,v,A,at(),Q);return function(I,m,v,A=500,Q=600){const se=Math.max((window.screen.availHeight-Q)/2,0).toString(),ze=Math.max((window.screen.availWidth-A)/2,0).toString();let Ct="";const cn=Object.assign(Object.assign({},qd),{width:A.toString(),height:Q.toString(),top:se,left:ze}),zt=(0,R.z$)().toLowerCase();v&&(Ct=In(zt)?"_blank":v),Ze(zt)&&(m=m||"http://localhost",cn.scrollbars="yes");const bn=Object.entries(cn).reduce((Cr,[vr,Sa])=>`${Cr}${vr}=${Sa},`,"");if(function(I=(0,R.z$)()){var m;return Zi(I)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(zt)&&"_self"!==Ct)return function(I,m){const v=document.createElement("a");v.href=I,v.target=m;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(m||"",Ct),new jl(null);const ci=window.open(m||"",Ct,bn);St(ci,I,"popup-blocked");try{ci.focus()}catch(Cr){}return new jl(ci)}(m,Ct,Ka())})()}_openRedirect(m,v,A,Q){var se=this;return(0,h.Z)(function*(){return yield se._originValidation(m),I=Ya(m,v,A,at(),Q),ps().location.href=I,new Promise(()=>{});var I})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Q,promise:se}=this.eventManagers[v];return Q?Promise.resolve(Q):(xn(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(m);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(m){var v=this;return(0,h.Z)(function*(){const A=yield function(I){return mc.apply(this,arguments)}(m),Q=new fc(m);return A.register("authEvent",se=>(St(null==se?void 0:se.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Q},v.iframes[m._key()]=A,Q})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(ia,{type:ia},Q=>{var se;const ze=null===(se=null==Q?void 0:Q[0])||void 0===se?void 0:se[ia];void 0!==ze&&v(!!ze),Qt(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(I){return Uo.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return ei()||vt()||Zi()}};class dd extends class{constructor(m){this.factorId=m}_process(m,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,A);case"signin":return this._finalizeSignIn(m,v.credential);default:return Xn("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new dd(m)}_finalizeEnroll(m,v,A){return function(I,m){return Cn(I,"POST","/v2/accounts/mfaEnrollment:finalize",Wn(I,m))}(m,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(I,m){return Cn(I,"POST","/v2/accounts/mfaSignIn:finalize",Wn(I,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pl=(()=>{class I{constructor(){}static assertion(v){return dd._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var I,Jd="@firebase/auth";class _i{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,h.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(A=>{var Q;m((null===(Q=A)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fd(I=(0,z.getApp)()){const m=(0,z._getProvider)(I,"auth");return m.isInitialized()?m.getImmediate():Ir(I,{popupRedirectResolver:Su,persistence:[ll,vo,Rl]})}I="Browser",(0,z._registerComponent)(new xt.wA("auth",(m,{options:v})=>{const A=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),{apiKey:se,authDomain:ze}=A.options;return((Ct,cn)=>{St(se&&!se.includes(":"),"invalid-api-key",{appName:Ct.name}),St(!(null==ze?void 0:ze.includes(":")),"argument-error",{appName:Ct.name});const zt={apiKey:se,authDomain:ze,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bi(I)},bn=new _s(Ct,cn,zt);return function(I,m){const v=(null==m?void 0:m.persistence)||[],A=(Array.isArray(v)?v:[v]).map(Fn);(null==m?void 0:m.errorMap)&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(A,null==m?void 0:m.popupRedirectResolver)}(bn,v),bn})(A,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,A)=>{m.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new xt.wA("auth-internal",m=>{const v=yr(m.getProvider("auth").getImmediate());return new _i(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(Jd,"0.20.4",void 0),(0,z.registerVersion)(Jd,"0.20.4","esm2017")},3854:(It,ve,P)=>{"use strict";P.d(ve,{BH:()=>we,LL:()=>xt,ZR:()=>en,gQ:()=>St,zI:()=>gt,hu:()=>R,g5:()=>z,US:()=>ee,tV:()=>le,h$:()=>ce,L:()=>X,$s:()=>Cn,r3:()=>wt,Sg:()=>xe,ne:()=>Xn,p$:()=>$,vZ:()=>Qt,ZB:()=>J,gK:()=>at,pd:()=>fn,m9:()=>on,z$:()=>Xe,GJ:()=>Zt,jU:()=>qe,ru:()=>rt,d:()=>pt,xb:()=>dn,w1:()=>Tn,hl:()=>Ue,uI:()=>et,UG:()=>Se,Yr:()=>st,b$:()=>re,G6:()=>jt,Mn:()=>_n,w9:()=>Ht,cI:()=>Sn,UI:()=>wn,xO:()=>ir,zd:()=>Ar,DV:()=>Ln,ug:()=>Xt,dS:()=>mt,Pz:()=>ar,Dv:()=>Rr,Wj:()=>Ae,lb:()=>dt,eu:()=>bt});const R=function(Ce,Te){if(!Ce)throw z(Te)},z=function(Ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ce)},ue=function(Ce){const Te=[];let Ke=0;for(let Fe=0;Fe<Ce.length;Fe++){let Ie=Ce.charCodeAt(Fe);Ie<128?Te[Ke++]=Ie:Ie<2048?(Te[Ke++]=Ie>>6|192,Te[Ke++]=63&Ie|128):55296==(64512&Ie)&&Fe+1<Ce.length&&56320==(64512&Ce.charCodeAt(Fe+1))?(Ie=65536+((1023&Ie)<<10)+(1023&Ce.charCodeAt(++Fe)),Te[Ke++]=Ie>>18|240,Te[Ke++]=Ie>>12&63|128,Te[Ke++]=Ie>>6&63|128,Te[Ke++]=63&Ie|128):(Te[Ke++]=Ie>>12|224,Te[Ke++]=Ie>>6&63|128,Te[Ke++]=63&Ie|128)}return Te},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,Te){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ke=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let Ie=0;Ie<Ce.length;Ie+=3){const _t=Ce[Ie],Ot=Ie+1<Ce.length,mn=Ot?Ce[Ie+1]:0,jn=Ie+2<Ce.length,lr=jn?Ce[Ie+2]:0;let tt=(15&mn)<<2|lr>>6,He=63&lr;jn||(He=64,Ot||(tt=64)),Fe.push(Ke[_t>>2],Ke[(3&_t)<<4|mn>>4],Ke[tt],Ke[He])}return Fe.join("")},encodeString(Ce,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ce):this.encodeByteArray(ue(Ce),Te)},decodeString(Ce,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ce):function(Ce){const Te=[];let Ke=0,Fe=0;for(;Ke<Ce.length;){const Ie=Ce[Ke++];if(Ie<128)Te[Fe++]=String.fromCharCode(Ie);else if(Ie>191&&Ie<224){const _t=Ce[Ke++];Te[Fe++]=String.fromCharCode((31&Ie)<<6|63&_t)}else if(Ie>239&&Ie<365){const jn=((7&Ie)<<18|(63&Ce[Ke++])<<12|(63&Ce[Ke++])<<6|63&Ce[Ke++])-65536;Te[Fe++]=String.fromCharCode(55296+(jn>>10)),Te[Fe++]=String.fromCharCode(56320+(1023&jn))}else{const _t=Ce[Ke++],Ot=Ce[Ke++];Te[Fe++]=String.fromCharCode((15&Ie)<<12|(63&_t)<<6|63&Ot)}}return Te.join("")}(this.decodeStringToByteArray(Ce,Te))},decodeStringToByteArray(Ce,Te){this.init_();const Ke=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let Ie=0;Ie<Ce.length;){const _t=Ke[Ce.charAt(Ie++)],mn=Ie<Ce.length?Ke[Ce.charAt(Ie)]:0;++Ie;const lr=Ie<Ce.length?Ke[Ce.charAt(Ie)]:64;++Ie;const er=Ie<Ce.length?Ke[Ce.charAt(Ie)]:64;if(++Ie,null==_t||null==mn||null==lr||null==er)throw Error();Fe.push(_t<<2|mn>>4),64!==lr&&(Fe.push(mn<<4&240|lr>>2),64!==er&&Fe.push(lr<<6&192|er))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}},ce=function(Ce){const Te=ue(Ce);return ee.encodeByteArray(Te,!0)},X=function(Ce){return ce(Ce).replace(/\./g,"")},le=function(Ce){try{return ee.decodeString(Ce,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function $(Ce){return J(void 0,Ce)}function J(Ce,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ce&&(Ce={});break;case Array:Ce=[];break;default:return Te}for(const Ke in Te)!Te.hasOwnProperty(Ke)||!ie(Ke)||(Ce[Ke]=J(Ce[Ke],Te[Ke]));return Ce}function ie(Ce){return"__proto__"!==Ce}class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Ke)=>{this.resolve=Te,this.reject=Ke})}wrapCallback(Te){return(Ke,Fe)=>{Ke?this.reject(Ke):this.resolve(Fe),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Ke):Te(Ke,Fe))}}}function xe(Ce,Te){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=Te||"demo-project",Ie=Ce.iat||0,_t=Ce.sub||Ce.user_id;if(!_t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:Ie,exp:Ie+3600,auth_time:Ie,sub:_t,user_id:_t,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(Ot)),""].join(".")}function Xe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ce){return!1}}function qe(){return"object"==typeof self&&self.self===self}function rt(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){return Xe().indexOf("Electron/")>=0}function Tn(){const Ce=Xe();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function _n(){return Xe().indexOf("MSAppHost/")>=0}function st(){return!1}function jt(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){return"object"==typeof indexedDB}function bt(){return new Promise((Ce,Te)=>{try{let Ke=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",Ie=self.indexedDB.open(Fe);Ie.onsuccess=()=>{Ie.result.close(),Ke||self.indexedDB.deleteDatabase(Fe),Ce(!0)},Ie.onupgradeneeded=()=>{Ke=!1},Ie.onerror=()=>{var _t;Te((null===(_t=Ie.error)||void 0===_t?void 0:_t.message)||"")}}catch(Ke){Te(Ke)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class en extends Error{constructor(Te,Ke,Fe){super(Ke),this.code=Te,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(Te,Ke,Fe){this.service=Te,this.serviceName=Ke,this.errors=Fe}create(Te,...Ke){const Fe=Ke[0]||{},Ie=`${this.service}/${Te}`,_t=this.errors[Te],Ot=_t?function(Ce,Te){return Ce.replace(mr,(Ke,Fe)=>{const Ie=Te[Fe];return null!=Ie?String(Ie):`<${Fe}?>`})}(_t,Fe):"Error";return new en(Ie,`${this.serviceName}: ${Ot} (${Ie}).`,Fe)}}const mr=/\{\$([^}]+)}/g;function Sn(Ce){return JSON.parse(Ce)}function ar(Ce){return JSON.stringify(Ce)}const Dn=function(Ce){let Te={},Ke={},Fe={},Ie="";try{const _t=Ce.split(".");Te=Sn(le(_t[0])||""),Ke=Sn(le(_t[1])||""),Ie=_t[2],Fe=Ke.d||{},delete Ke.d}catch(_t){}return{header:Te,claims:Ke,data:Fe,signature:Ie}},Ht=function(Ce){const Ke=Dn(Ce).claims;return!!Ke&&"object"==typeof Ke&&Ke.hasOwnProperty("iat")},Zt=function(Ce){const Te=Dn(Ce).claims;return"object"==typeof Te&&!0===Te.admin};function wt(Ce,Te){return Object.prototype.hasOwnProperty.call(Ce,Te)}function Ln(Ce,Te){if(Object.prototype.hasOwnProperty.call(Ce,Te))return Ce[Te]}function dn(Ce){for(const Te in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Te))return!1;return!0}function wn(Ce,Te,Ke){const Fe={};for(const Ie in Ce)Object.prototype.hasOwnProperty.call(Ce,Ie)&&(Fe[Ie]=Te.call(Ke,Ce[Ie],Ie,Ce));return Fe}function Qt(Ce,Te){if(Ce===Te)return!0;const Ke=Object.keys(Ce),Fe=Object.keys(Te);for(const Ie of Ke){if(!Fe.includes(Ie))return!1;const _t=Ce[Ie],Ot=Te[Ie];if(Ft(_t)&&Ft(Ot)){if(!Qt(_t,Ot))return!1}else if(_t!==Ot)return!1}for(const Ie of Fe)if(!Ke.includes(Ie))return!1;return!0}function Ft(Ce){return null!==Ce&&"object"==typeof Ce}function ir(Ce){const Te=[];for(const[Ke,Fe]of Object.entries(Ce))Array.isArray(Fe)?Fe.forEach(Ie=>{Te.push(encodeURIComponent(Ke)+"="+encodeURIComponent(Ie))}):Te.push(encodeURIComponent(Ke)+"="+encodeURIComponent(Fe));return Te.length?"&"+Te.join("&"):""}function Ar(Ce){const Te={};return Ce.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[Ie,_t]=Fe.split("=");Te[decodeURIComponent(Ie)]=decodeURIComponent(_t)}}),Te}function fn(Ce){const Te=Ce.indexOf("?");if(!Te)return"";const Ke=Ce.indexOf("#",Te);return Ce.substring(Te,Ke>0?Ke:void 0)}class St{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Te=1;Te<this.blockSize;++Te)this.pad_[Te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Te,Ke){Ke||(Ke=0);const Fe=this.W_;if("string"==typeof Te)for(let er=0;er<16;er++)Fe[er]=Te.charCodeAt(Ke)<<24|Te.charCodeAt(Ke+1)<<16|Te.charCodeAt(Ke+2)<<8|Te.charCodeAt(Ke+3),Ke+=4;else for(let er=0;er<16;er++)Fe[er]=Te[Ke]<<24|Te[Ke+1]<<16|Te[Ke+2]<<8|Te[Ke+3],Ke+=4;for(let er=16;er<80;er++){const tt=Fe[er-3]^Fe[er-8]^Fe[er-14]^Fe[er-16];Fe[er]=4294967295&(tt<<1|tt>>>31)}let lr,Mr,Ie=this.chain_[0],_t=this.chain_[1],Ot=this.chain_[2],mn=this.chain_[3],jn=this.chain_[4];for(let er=0;er<80;er++){er<40?er<20?(lr=mn^_t&(Ot^mn),Mr=1518500249):(lr=_t^Ot^mn,Mr=1859775393):er<60?(lr=_t&Ot|mn&(_t|Ot),Mr=2400959708):(lr=_t^Ot^mn,Mr=3395469782);const tt=(Ie<<5|Ie>>>27)+lr+jn+Mr+Fe[er]&4294967295;jn=mn,mn=Ot,Ot=4294967295&(_t<<30|_t>>>2),_t=Ie,Ie=tt}this.chain_[0]=this.chain_[0]+Ie&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+mn&4294967295,this.chain_[4]=this.chain_[4]+jn&4294967295}update(Te,Ke){if(null==Te)return;void 0===Ke&&(Ke=Te.length);const Fe=Ke-this.blockSize;let Ie=0;const _t=this.buf_;let Ot=this.inbuf_;for(;Ie<Ke;){if(0===Ot)for(;Ie<=Fe;)this.compress_(Te,Ie),Ie+=this.blockSize;if("string"==typeof Te){for(;Ie<Ke;)if(_t[Ot]=Te.charCodeAt(Ie),++Ot,++Ie,Ot===this.blockSize){this.compress_(_t),Ot=0;break}}else for(;Ie<Ke;)if(_t[Ot]=Te[Ie],++Ot,++Ie,Ot===this.blockSize){this.compress_(_t),Ot=0;break}}this.inbuf_=Ot,this.total_+=Ke}digest(){const Te=[];let Ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ie=this.blockSize-1;Ie>=56;Ie--)this.buf_[Ie]=255&Ke,Ke/=256;this.compress_(this.buf_);let Fe=0;for(let Ie=0;Ie<5;Ie++)for(let _t=24;_t>=0;_t-=8)Te[Fe]=this.chain_[Ie]>>_t&255,++Fe;return Te}}function Xn(Ce,Te){const Ke=new xn(Ce,Te);return Ke.subscribe.bind(Ke)}class xn{constructor(Te,Ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ke,this.task.then(()=>{Te(this)}).catch(Fe=>{this.error(Fe)})}next(Te){this.forEachObserver(Ke=>{Ke.next(Te)})}error(Te){this.forEachObserver(Ke=>{Ke.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Ke,Fe){let Ie;if(void 0===Te&&void 0===Ke&&void 0===Fe)throw new Error("Missing Observer.");Ie=function(Ce,Te){if("object"!=typeof Ce||null===Ce)return!1;for(const Ke of["next","error","complete"])if(Ke in Ce&&"function"==typeof Ce[Ke])return!0;return!1}(Te)?Te:{next:Te,error:Ke,complete:Fe},void 0===Ie.next&&(Ie.next=Ir),void 0===Ie.error&&(Ie.error=Ir),void 0===Ie.complete&&(Ie.complete=Ir);const _t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ie.error(this.finalError):Ie.complete()}catch(Ot){}}),this.observers.push(Ie),_t}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Ke=0;Ke<this.observers.length;Ke++)this.sendOne(Ke,Te)}sendOne(Te,Ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Ke(this.observers[Te])}catch(Fe){"undefined"!=typeof console&&console.error&&console.error(Fe)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const Rr=function(Ce,Te,Ke,Fe){let Ie;if(Fe<Te?Ie="at least "+Te:Fe>Ke&&(Ie=0===Ke?"none":"no more than "+Ke),Ie)throw new Error(Ce+" failed: Was called with "+Fe+(1===Fe?" argument.":" arguments.")+" Expects "+Ie+".")};function at(Ce,Te){return`${Ce} failed: ${Te} argument `}function Ae(Ce,Te,Ke,Fe){if((!Fe||Ke)&&"function"!=typeof Ke)throw new Error(at(Ce,Te)+"must be a valid function.")}function dt(Ce,Te,Ke,Fe){if((!Fe||Ke)&&("object"!=typeof Ke||null===Ke))throw new Error(at(Ce,Te)+"must be a valid context object.")}const mt=function(Ce){const Te=[];let Ke=0;for(let Fe=0;Fe<Ce.length;Fe++){let Ie=Ce.charCodeAt(Fe);if(Ie>=55296&&Ie<=56319){const _t=Ie-55296;Fe++,R(Fe<Ce.length,"Surrogate pair missing trail surrogate."),Ie=65536+(_t<<10)+(Ce.charCodeAt(Fe)-56320)}Ie<128?Te[Ke++]=Ie:Ie<2048?(Te[Ke++]=Ie>>6|192,Te[Ke++]=63&Ie|128):Ie<65536?(Te[Ke++]=Ie>>12|224,Te[Ke++]=Ie>>6&63|128,Te[Ke++]=63&Ie|128):(Te[Ke++]=Ie>>18|240,Te[Ke++]=Ie>>12&63|128,Te[Ke++]=Ie>>6&63|128,Te[Ke++]=63&Ie|128)}return Te},Xt=function(Ce){let Te=0;for(let Ke=0;Ke<Ce.length;Ke++){const Fe=Ce.charCodeAt(Ke);Fe<128?Te++:Fe<2048?Te+=2:Fe>=55296&&Fe<=56319?(Te+=4,Ke++):Te+=3}return Te};function Cn(Ce,Te=1e3,Ke=2){const Fe=Te*Math.pow(Ke,Ce),Ie=Math.round(.5*Fe*(Math.random()-.5)*2);return Math.min(144e5,Fe+Ie)}function on(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},2329:(It,ve,P)=>{"use strict";P.d(ve,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=P(8026);(0,h.registerVersion)("firebase","9.8.4","app")},7985:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{ActionCodeOperation:()=>h.A,ActionCodeURL:()=>h.ad,AuthCredential:()=>h.H,AuthErrorCodes:()=>h.D,EmailAuthCredential:()=>h.I,EmailAuthProvider:()=>h.M,FacebookAuthProvider:()=>h.N,FactorId:()=>h.F,GithubAuthProvider:()=>h.T,GoogleAuthProvider:()=>h.Q,OAuthCredential:()=>h.J,OAuthProvider:()=>h.U,OperationType:()=>h.O,PhoneAuthCredential:()=>h.K,PhoneAuthProvider:()=>h.P,PhoneMultiFactorGenerator:()=>h.m,ProviderId:()=>h.o,RecaptchaVerifier:()=>h.R,SAMLAuthProvider:()=>h.V,SignInMethod:()=>h.S,TwitterAuthProvider:()=>h.W,applyActionCode:()=>h.a2,beforeAuthStateChanged:()=>h.t,browserLocalPersistence:()=>h.b,browserPopupRedirectResolver:()=>h.k,browserSessionPersistence:()=>h.a,checkActionCode:()=>h.a3,confirmPasswordReset:()=>h.a1,connectAuthEmulator:()=>h.G,createUserWithEmailAndPassword:()=>h.a5,debugErrorMap:()=>h.B,deleteUser:()=>h.z,fetchSignInMethodsForEmail:()=>h.aa,getAdditionalUserInfo:()=>h.al,getAuth:()=>h.n,getIdToken:()=>h.ai,getIdTokenResult:()=>h.aj,getMultiFactorResolver:()=>h.an,getRedirectResult:()=>h.j,inMemoryPersistence:()=>h.L,indexedDBLocalPersistence:()=>h.i,initializeAuth:()=>h.E,isSignInWithEmailLink:()=>h.a8,linkWithCredential:()=>h.Z,linkWithPhoneNumber:()=>h.l,linkWithPopup:()=>h.d,linkWithRedirect:()=>h.g,multiFactor:()=>h.ao,onAuthStateChanged:()=>h.v,onIdTokenChanged:()=>h.q,parseActionCodeURL:()=>h.ae,prodErrorMap:()=>h.C,reauthenticateWithCredential:()=>h._,reauthenticateWithPhoneNumber:()=>h.r,reauthenticateWithPopup:()=>h.e,reauthenticateWithRedirect:()=>h.h,reload:()=>h.am,sendEmailVerification:()=>h.ab,sendPasswordResetEmail:()=>h.a0,sendSignInLinkToEmail:()=>h.a7,setPersistence:()=>h.p,signInAnonymously:()=>h.X,signInWithCredential:()=>h.Y,signInWithCustomToken:()=>h.$,signInWithEmailAndPassword:()=>h.a6,signInWithEmailLink:()=>h.a9,signInWithPhoneNumber:()=>h.s,signInWithPopup:()=>h.c,signInWithRedirect:()=>h.f,signOut:()=>h.y,unlink:()=>h.ak,updateCurrentUser:()=>h.x,updateEmail:()=>h.ag,updatePassword:()=>h.ah,updatePhoneNumber:()=>h.u,updateProfile:()=>h.af,useDeviceLanguage:()=>h.w,verifyBeforeUpdateEmail:()=>h.ac,verifyPasswordResetCode:()=>h.a4});var h=P(4233);P(3854),P(8026),P(5422),P(3910)},7841:(It,ve,P)=>{"use strict";P.d(ve,{Z:()=>h.Z});var h=P(3394);h.Z.registerVersion("firebase","9.8.4","app-compat")},4828:(It,ve,P)=>{"use strict";P.r(ve);var h=P(8239),R=P(3394),z=P(4233),ue=P(3854),ce=(P(8026),P(5422),P(3910));function X(){return window}function J(){return(J=(0,h.Z)(function*(tt,He,ke){var Dt;const{BuildInfo:qt}=X();(0,z.aq)(He.sessionId,"AuthEvent did not contain a session ID");const Yn=yield qe(He.sessionId),$n={};return(0,z.ar)()?$n.ibi=qt.packageName:(0,z.as)()?$n.apn=qt.packageName:(0,z.at)(tt,"operation-not-supported-in-this-environment"),qt.displayName&&($n.appDisplayName=qt.displayName),$n.sessionId=Yn,(0,z.au)(tt,ke,He.type,void 0,null!==(Dt=He.eventId)&&void 0!==Dt?Dt:void 0,$n)})).apply(this,arguments)}function we(){return(we=(0,h.Z)(function*(tt){const{BuildInfo:He}=X(),ke={};(0,z.ar)()?ke.iosBundleId=He.packageName:(0,z.as)()?ke.androidPackageName=He.packageName:(0,z.at)(tt,"operation-not-supported-in-this-environment"),yield(0,z.av)(tt,ke)})).apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(tt,He,ke){const{cordova:Dt}=X();let qt=()=>{};try{yield new Promise((Yn,$n)=>{let Rn=null;function Jn(){var tr;Yn();const xr=null===(tr=Dt.plugins.browsertab)||void 0===tr?void 0:tr.close;"function"==typeof xr&&xr(),"function"==typeof(null==ke?void 0:ke.close)&&ke.close()}function Pr(){Rn||(Rn=window.setTimeout(()=>{$n((0,z.aw)(tt,"redirect-cancelled-by-user"))},2e3))}function Lr(){"visible"===(null==document?void 0:document.visibilityState)&&Pr()}He.addPassiveListener(Jn),document.addEventListener("resume",Pr,!1),(0,z.as)()&&document.addEventListener("visibilitychange",Lr,!1),qt=()=>{He.removePassiveListener(Jn),document.removeEventListener("resume",Pr,!1),document.removeEventListener("visibilitychange",Lr,!1),Rn&&window.clearTimeout(Rn)}})}finally{qt()}})).apply(this,arguments)}function qe(tt){return rt.apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(tt){const He=re(tt),ke=yield crypto.subtle.digest("SHA-256",He);return Array.from(new Uint8Array(ke)).map(qt=>qt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function re(tt){if((0,z.aq)(/[0-9a-zA-Z]+/.test(tt),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(tt);const He=new ArrayBuffer(tt.length),ke=new Uint8Array(He);for(let Dt=0;Dt<tt.length;Dt++)ke[Dt]=tt.charCodeAt(Dt);return ke}class Tn extends z.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(He=>{this.resolveInialized=He})}addPassiveListener(He){this.passiveListeners.add(He)}removePassiveListener(He){this.passiveListeners.delete(He)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(He){return this.resolveInialized(),this.passiveListeners.forEach(ke=>ke(He)),super.onEvent(He)}initialized(){var He=this;return(0,h.Z)(function*(){yield He.initPromise})()}}function jt(tt){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,h.Z)(function*(tt){const He=yield Mt()._get(Et(tt));return He&&(yield Mt()._remove(Et(tt))),He})).apply(this,arguments)}function gt(){const tt=[],He="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ke=0;ke<20;ke++){const Dt=Math.floor(Math.random()*He.length);tt.push(He.charAt(Dt))}return tt.join("")}function Mt(){return(0,z.ay)(z.b)}function Et(tt){return(0,z.az)("authEvent",tt.config.apiKey,tt.name)}function En(tt){if(!(null==tt?void 0:tt.includes("?")))return{};const[He,...ke]=tt.split("?");return(0,ue.zd)(ke.join("?"))}function Dn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aw)("no-auth-event")}}function wt(){var tt;return(null===(tt=null==self?void 0:self.location)||void 0===tt?void 0:tt.protocol)||null}function dn(tt=(0,ue.z$)()){return!("file:"!==wt()&&"ionic:"!==wt()&&"capacitor:"!==wt()||!tt.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ar(){try{const tt=self.localStorage,He=z.aI();if(tt)return tt.setItem(He,"1"),tt.removeItem(He),!function(tt=(0,ue.z$)()){return(0,ue.w1)()&&11===(null==document?void 0:document.documentMode)||function(tt=(0,ue.z$)()){return/Edge\/\d+/.test(tt)}(tt)}()||(0,ue.hl)()}catch(tt){return fn()&&(0,ue.hl)()}return!1}function fn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function St(){return("http:"===wt()||"https:"===wt()||(0,ue.ru)()||dn())&&!((0,ue.b$)()||(0,ue.UG)())&&Ar()&&!fn()}function Xn(){return dn()&&"undefined"!=typeof document}function ln(){return(ln=(0,h.Z)(function*(){return!!Xn()&&new Promise(tt=>{const He=setTimeout(()=>{tt(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(He),tt(!0)})})})).apply(this,arguments)}const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},Rr=z.ax,at="persistence";function Ae(tt){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(tt){yield tt._initializationPromise;const He=Xt(),ke=z.az(at,tt.config.apiKey,tt.name);He&&He.setItem(ke,tt._getPersistence())})).apply(this,arguments)}function Xt(){var tt;try{return(null===(tt="undefined"!=typeof window?window:null)||void 0===tt?void 0:tt.sessionStorage)||null}catch(He){return null}}const At=z.ax;class Yt{constructor(){this.browserResolver=z.ay(z.k),this.cordovaResolver=z.ay(class{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aB,this._overrideRedirectResult=z.aC}_initialize(He){var ke=this;return(0,h.Z)(function*(){const Dt=He._key();let qt=ke.eventManagers.get(Dt);return qt||(qt=new Tn(He),ke.eventManagers.set(Dt,qt),ke.attachCallbackListeners(He,qt)),qt})()}_openPopup(He){(0,z.at)(He,"operation-not-supported-in-this-environment")}_openRedirect(He,ke,Dt,qt){var Yn=this;return(0,h.Z)(function*(){!function(tt){var He,ke,Dt,qt,Yn,$n,Rn,Jn,Pr,Lr;const tr=X();(0,z.ax)("function"==typeof(null===(He=null==tr?void 0:tr.universalLinks)||void 0===He?void 0:He.subscribe),tt,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.ax)(void 0!==(null===(ke=null==tr?void 0:tr.BuildInfo)||void 0===ke?void 0:ke.packageName),tt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.ax)("function"==typeof(null===(Yn=null===(qt=null===(Dt=null==tr?void 0:tr.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===qt?void 0:qt.browsertab)||void 0===Yn?void 0:Yn.openUrl),tt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.ax)("function"==typeof(null===(Jn=null===(Rn=null===($n=null==tr?void 0:tr.cordova)||void 0===$n?void 0:$n.plugins)||void 0===Rn?void 0:Rn.browsertab)||void 0===Jn?void 0:Jn.isAvailable),tt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.ax)("function"==typeof(null===(Lr=null===(Pr=null==tr?void 0:tr.cordova)||void 0===Pr?void 0:Pr.InAppBrowser)||void 0===Lr?void 0:Lr.open),tt,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(He);const $n=yield Yn._initialize(He);yield $n.initialized(),$n.resetRedirect(),(0,z.aD)(),yield Yn._originValidation(He);const Rn=function(tt,He,ke=null){return{type:He,eventId:ke,urlResponse:null,sessionId:gt(),postBody:null,tenantId:tt.tenantId,error:(0,z.aw)(tt,"no-auth-event")}}(He,Dt,qt);yield function(tt,He){return Mt()._set(Et(tt),He)}(He,Rn);const Jn=yield function(tt,He,ke){return J.apply(this,arguments)}(He,Rn,ke),Pr=yield function(tt){const{cordova:He}=X();return new Promise(ke=>{He.plugins.browsertab.isAvailable(Dt=>{let qt=null;Dt?He.plugins.browsertab.openUrl(tt):qt=He.InAppBrowser.open(tt,(0,z.ap)()?"_blank":"_system","location=yes"),ke(qt)})})}(Jn);return function(tt,He,ke){return et.apply(this,arguments)}(He,$n,Pr)})()}_isIframeWebStorageSupported(He,ke){throw new Error("Method not implemented.")}_originValidation(He){const ke=He._key();return this.originValidationPromises[ke]||(this.originValidationPromises[ke]=function(tt){return we.apply(this,arguments)}(He)),this.originValidationPromises[ke]}attachCallbackListeners(He,ke){const{universalLinks:Dt,handleOpenURL:qt,BuildInfo:Yn}=X(),$n=setTimeout((0,h.Z)(function*(){yield jt(He),ke.onEvent(Dn())}),500),Rn=function(){var Lr=(0,h.Z)(function*(tr){clearTimeout($n);const xr=yield jt(He);let Jt=null;xr&&(null==tr?void 0:tr.url)&&(Jt=function(tt,He){var ke,Dt;const qt=function(tt){const He=En(tt),ke=He.link?decodeURIComponent(He.link):void 0,Dt=En(ke).link,qt=He.deep_link_id?decodeURIComponent(He.deep_link_id):void 0;return En(qt).link||qt||Dt||ke||tt}(He);if(qt.includes("/__/auth/callback")){const Yn=En(qt),$n=Yn.firebaseError?function(tt){try{return JSON.parse(tt)}catch(He){return null}}(decodeURIComponent(Yn.firebaseError)):null,Rn=null===(Dt=null===(ke=null==$n?void 0:$n.code)||void 0===ke?void 0:ke.split("auth/"))||void 0===Dt?void 0:Dt[1],Jn=Rn?(0,z.aw)(Rn):null;return Jn?{type:tt.type,eventId:tt.eventId,tenantId:tt.tenantId,error:Jn,urlResponse:null,sessionId:null,postBody:null}:{type:tt.type,eventId:tt.eventId,tenantId:tt.tenantId,sessionId:tt.sessionId,urlResponse:qt,postBody:null}}return null}(xr,tr.url)),ke.onEvent(Jt||Dn())});return function(xr){return Lr.apply(this,arguments)}}();void 0!==Dt&&"function"==typeof Dt.subscribe&&Dt.subscribe(null,Rn);const Jn=qt,Pr=`${Yn.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var Lr=(0,h.Z)(function*(tr){if(tr.toLowerCase().startsWith(Pr)&&Rn({url:tr}),"function"==typeof Jn)try{Jn(tr)}catch(xr){console.error(xr)}});return function(tr){return Lr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aB,this._overrideRedirectResult=z.aC}_initialize(He){var ke=this;return(0,h.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._initialize(He)})()}_openPopup(He,ke,Dt,qt){var Yn=this;return(0,h.Z)(function*(){return yield Yn.selectUnderlyingResolver(),Yn.assertedUnderlyingResolver._openPopup(He,ke,Dt,qt)})()}_openRedirect(He,ke,Dt,qt){var Yn=this;return(0,h.Z)(function*(){return yield Yn.selectUnderlyingResolver(),Yn.assertedUnderlyingResolver._openRedirect(He,ke,Dt,qt)})()}_isIframeWebStorageSupported(He,ke){this.assertedUnderlyingResolver._isIframeWebStorageSupported(He,ke)}_originValidation(He){return this.assertedUnderlyingResolver._originValidation(He)}get _shouldInitProactively(){return Xn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return At(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var He=this;return(0,h.Z)(function*(){if(He.underlyingResolver)return;const ke=yield function(){return ln.apply(this,arguments)}();He.underlyingResolver=ke?He.cordovaResolver:He.browserResolver})()}}function On(tt){return tt.unwrap()}function Wn(tt){return Nr(tt)}function Nr(tt){const{_tokenResponse:He}=tt instanceof ue.ZR?tt.customData:tt;if(!He)return null;if(!(tt instanceof ue.ZR)&&"temporaryProof"in He&&"phoneNumber"in He)return z.P.credentialFromResult(tt);const ke=He.providerId;if(!ke||ke===z.o.PASSWORD)return null;let Dt;switch(ke){case z.o.GOOGLE:Dt=z.Q;break;case z.o.FACEBOOK:Dt=z.N;break;case z.o.GITHUB:Dt=z.T;break;case z.o.TWITTER:Dt=z.W;break;default:const{oauthIdToken:qt,oauthAccessToken:Yn,oauthTokenSecret:$n,pendingToken:Rn,nonce:Jn}=He;return Yn||$n||qt||Rn?Rn?ke.startsWith("saml.")?z.aL._create(ke,Rn):z.J._fromParams({providerId:ke,signInMethod:ke,pendingToken:Rn,idToken:qt,accessToken:Yn}):new z.U(ke).credential({idToken:qt,accessToken:Yn,rawNonce:Jn}):null}return tt instanceof ue.ZR?Dt.credentialFromError(tt):Dt.credentialFromResult(tt)}function yn(tt,He){return He.catch(ke=>{throw ke instanceof ue.ZR&&function(tt,He){var ke,Dt;const qt=null===(ke=He.customData)||void 0===ke?void 0:ke._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Dt=He)||void 0===Dt?void 0:Dt.code))He.resolver=new Te(tt,z.an(tt,He));else if(qt){const Yn=Nr(He),$n=He;Yn&&($n.credential=Yn,$n.tenantId=qt.tenantId||void 0,$n.email=qt.email||void 0,$n.phoneNumber=qt.phoneNumber||void 0)}}(tt,ke),ke}).then(ke=>{const qt=ke.user;return{operationType:ke.operationType,credential:Wn(ke),additionalUserInfo:z.al(ke),user:Ke.getOrCreate(qt)}})}function on(tt,He){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,h.Z)(function*(tt,He){const ke=yield He;return{verificationId:ke.verificationId,confirm:Dt=>yn(tt,ke.confirm(Dt))}})).apply(this,arguments)}class Te{constructor(He,ke){this.resolver=ke,this.auth=He.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(He){return yn(On(this.auth),this.resolver.resolveSignIn(He))}}class Ke{constructor(He){this._delegate=He,this.multiFactor=z.ao(He)}static getOrCreate(He){return Ke.USER_MAP.has(He)||Ke.USER_MAP.set(He,new Ke(He)),Ke.USER_MAP.get(He)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(He){return this._delegate.getIdTokenResult(He)}getIdToken(He){return this._delegate.getIdToken(He)}linkAndRetrieveDataWithCredential(He){return this.linkWithCredential(He)}linkWithCredential(He){var ke=this;return(0,h.Z)(function*(){return yn(ke.auth,z.Z(ke._delegate,He))})()}linkWithPhoneNumber(He,ke){var Dt=this;return(0,h.Z)(function*(){return on(Dt.auth,z.l(Dt._delegate,He,ke))})()}linkWithPopup(He){var ke=this;return(0,h.Z)(function*(){return yn(ke.auth,z.d(ke._delegate,He,Yt))})()}linkWithRedirect(He){var ke=this;return(0,h.Z)(function*(){return yield Ae(z.aE(ke.auth)),z.g(ke._delegate,He,Yt)})()}reauthenticateAndRetrieveDataWithCredential(He){return this.reauthenticateWithCredential(He)}reauthenticateWithCredential(He){var ke=this;return(0,h.Z)(function*(){return yn(ke.auth,z._(ke._delegate,He))})()}reauthenticateWithPhoneNumber(He,ke){return on(this.auth,z.r(this._delegate,He,ke))}reauthenticateWithPopup(He){return yn(this.auth,z.e(this._delegate,He,Yt))}reauthenticateWithRedirect(He){var ke=this;return(0,h.Z)(function*(){return yield Ae(z.aE(ke.auth)),z.h(ke._delegate,He,Yt)})()}sendEmailVerification(He){return z.ab(this._delegate,He)}unlink(He){var ke=this;return(0,h.Z)(function*(){return yield z.ak(ke._delegate,He),ke})()}updateEmail(He){return z.ag(this._delegate,He)}updatePassword(He){return z.ah(this._delegate,He)}updatePhoneNumber(He){return z.u(this._delegate,He)}updateProfile(He){return z.af(this._delegate,He)}verifyBeforeUpdateEmail(He,ke){return z.ac(this._delegate,He,ke)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ke.USER_MAP=new WeakMap;const Fe=z.ax;let Ie=(()=>{class tt{constructor(ke,Dt){if(this.app=ke,Dt.isInitialized())return this._delegate=Dt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qt}=ke.options;Fe(qt,"invalid-api-key",{appName:ke.name}),Fe(qt,"invalid-api-key",{appName:ke.name});const Yn="undefined"!=typeof window?Yt:void 0;this._delegate=Dt.initialize({options:{persistence:Ot(qt,ke.name),popupRedirectResolver:Yn}}),this._delegate._updateErrorMap(z.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ke.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ke){this._delegate.languageCode=ke}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ke){this._delegate.tenantId=ke}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ke,Dt){z.G(this._delegate,ke,Dt)}applyActionCode(ke){return z.a2(this._delegate,ke)}checkActionCode(ke){return z.a3(this._delegate,ke)}confirmPasswordReset(ke,Dt){return z.a1(this._delegate,ke,Dt)}createUserWithEmailAndPassword(ke,Dt){var qt=this;return(0,h.Z)(function*(){return yn(qt._delegate,z.a5(qt._delegate,ke,Dt))})()}fetchProvidersForEmail(ke){return this.fetchSignInMethodsForEmail(ke)}fetchSignInMethodsForEmail(ke){return z.aa(this._delegate,ke)}isSignInWithEmailLink(ke){return z.a8(this._delegate,ke)}getRedirectResult(){var ke=this;return(0,h.Z)(function*(){Fe(St(),ke._delegate,"operation-not-supported-in-this-environment");const Dt=yield z.j(ke._delegate,Yt);return Dt?yn(ke._delegate,Promise.resolve(Dt)):{credential:null,user:null}})()}addFrameworkForLogging(ke){!function(tt,He){(0,z.aE)(tt)._logFramework(He)}(this._delegate,ke)}onAuthStateChanged(ke,Dt,qt){const{next:Yn,error:$n,complete:Rn}=_t(ke,Dt,qt);return this._delegate.onAuthStateChanged(Yn,$n,Rn)}onIdTokenChanged(ke,Dt,qt){const{next:Yn,error:$n,complete:Rn}=_t(ke,Dt,qt);return this._delegate.onIdTokenChanged(Yn,$n,Rn)}sendSignInLinkToEmail(ke,Dt){return z.a7(this._delegate,ke,Dt)}sendPasswordResetEmail(ke,Dt){return z.a0(this._delegate,ke,Dt||void 0)}setPersistence(ke){var Dt=this;return(0,h.Z)(function*(){let qt;switch(function(tt,He){Rr(Object.values(Ir).includes(He),tt,"invalid-persistence-type"),(0,ue.b$)()?Rr(He!==Ir.SESSION,tt,"unsupported-persistence-type"):(0,ue.UG)()?Rr(He===Ir.NONE,tt,"unsupported-persistence-type"):fn()?Rr(He===Ir.NONE||He===Ir.LOCAL&&(0,ue.hl)(),tt,"unsupported-persistence-type"):Rr(He===Ir.NONE||Ar(),tt,"unsupported-persistence-type")}(Dt._delegate,ke),ke){case Ir.SESSION:qt=z.a;break;case Ir.LOCAL:qt=(yield z.ay(z.i)._isAvailable())?z.i:z.b;break;case Ir.NONE:qt=z.L;break;default:return z.at("argument-error",{appName:Dt._delegate.name})}return Dt._delegate.setPersistence(qt)})()}signInAndRetrieveDataWithCredential(ke){return this.signInWithCredential(ke)}signInAnonymously(){return yn(this._delegate,z.X(this._delegate))}signInWithCredential(ke){return yn(this._delegate,z.Y(this._delegate,ke))}signInWithCustomToken(ke){return yn(this._delegate,z.$(this._delegate,ke))}signInWithEmailAndPassword(ke,Dt){return yn(this._delegate,z.a6(this._delegate,ke,Dt))}signInWithEmailLink(ke,Dt){return yn(this._delegate,z.a9(this._delegate,ke,Dt))}signInWithPhoneNumber(ke,Dt){return on(this._delegate,z.s(this._delegate,ke,Dt))}signInWithPopup(ke){var Dt=this;return(0,h.Z)(function*(){return Fe(St(),Dt._delegate,"operation-not-supported-in-this-environment"),yn(Dt._delegate,z.c(Dt._delegate,ke,Yt))})()}signInWithRedirect(ke){var Dt=this;return(0,h.Z)(function*(){return Fe(St(),Dt._delegate,"operation-not-supported-in-this-environment"),yield Ae(Dt._delegate),z.f(Dt._delegate,ke,Yt)})()}updateCurrentUser(ke){return this._delegate.updateCurrentUser(ke)}verifyPasswordResetCode(ke){return z.a4(this._delegate,ke)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return tt.Persistence=Ir,tt})();function _t(tt,He,ke){let Dt=tt;"function"!=typeof tt&&({next:Dt,error:He,complete:ke}=tt);const qt=Dt;return{next:$n=>qt($n&&Ke.getOrCreate($n)),error:He,complete:ke}}function Ot(tt,He){const ke=function(tt,He){const ke=Xt();if(!ke)return[];const Dt=z.az(at,tt,He);switch(ke.getItem(Dt)){case Ir.NONE:return[z.L];case Ir.LOCAL:return[z.i,z.a];case Ir.SESSION:return[z.a];default:return[]}}(tt,He);if("undefined"!=typeof self&&!ke.includes(z.i)&&ke.push(z.i),"undefined"!=typeof window)for(const Dt of[z.b,z.a])ke.includes(Dt)||ke.push(Dt);return ke.includes(z.L)||ke.push(z.L),ke}class mn{constructor(){this.providerId="phone",this._delegate=new z.P(On(R.Z.auth()))}static credential(He,ke){return z.P.credential(He,ke)}verifyPhoneNumber(He,ke){return this._delegate.verifyPhoneNumber(He,ke)}unwrap(){return this._delegate}}mn.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,mn.PROVIDER_ID=z.P.PROVIDER_ID;const jn=z.ax;var tt;(tt=R.Z).INTERNAL.registerComponent(new ce.wA("auth-compat",He=>{const ke=He.getProvider("app-compat").getImmediate(),Dt=He.getProvider("auth");return new Ie(ke,Dt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.M,FacebookAuthProvider:z.N,GithubAuthProvider:z.T,GoogleAuthProvider:z.Q,OAuthProvider:z.U,SAMLAuthProvider:z.V,PhoneAuthProvider:mn,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:class{constructor(He,ke,Dt=R.Z.app()){var qt;jn(null===(qt=Dt.options)||void 0===qt?void 0:qt.apiKey,"invalid-api-key",{appName:Dt.name}),this._delegate=new z.R(He,ke,Dt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:z.W,Auth:Ie,AuthCredential:z.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),tt.registerVersion("@firebase/auth-compat","0.2.17")},6215:(It,ve,P)=>{"use strict";P.d(ve,{X:()=>z});var h=P(9765),R=P(7971);class z extends h.xQ{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ee=super._subscribe(pe);return ee&&!ee.closed&&pe.next(this._value),ee}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R.N;return this._value}next(pe){super.next(this._value=pe)}}},3098:(It,ve,P)=>{"use strict";P.d(ve,{P:()=>pe});var h=P(9193),R=P(5917),z=P(205);class pe{constructor(ce,X,le){this.kind=ce,this.value=X,this.error=le,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,X,le){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return X&&X(this.error);case"C":return le&&le()}}accept(ce,X,le){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,X,le)}toObservable(){switch(this.kind){case"N":return(0,R.of)(this.value);case"E":return(0,z._)(this.error);case"C":return(0,h.c)()}throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new pe("N",ce):pe.undefinedValueNotification}static createError(ce){return new pe("E",void 0,ce)}static createComplete(){return pe.completeNotification}}pe.completeNotification=new pe("C"),pe.undefinedValueNotification=new pe("N",void 0)},8891:(It,ve,P)=>{"use strict";P.d(ve,{y:()=>le});var h=P(7393),z=P(9181),ue=P(6490),ee=P(6554),ce=P(4022),X=P(2494);let le=(()=>{class J{constructor(we){this._isScalar=!1,we&&(this._subscribe=we)}lift(we){const xe=new J;return xe.source=this,xe.operator=we,xe}subscribe(we,xe,Xe){const{operator:et}=this,Se=function(J,ie,we){if(J){if(J instanceof h.L)return J;if(J[z.b])return J[z.b]()}return J||ie||we?new h.L(J,ie,we):new h.L(ue.c)}(we,xe,Xe);if(Se.add(et?et.call(Se,this.source):this.source||X.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),X.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(we){try{return this._subscribe(we)}catch(xe){X.v.useDeprecatedSynchronousErrorHandling&&(we.syncErrorThrown=!0,we.syncErrorValue=xe),function(J){for(;J;){const{closed:ie,destination:we,isStopped:xe}=J;if(ie||xe)return!1;J=we&&we instanceof h.L?we:null}return!0}(we)?we.error(xe):console.warn(xe)}}forEach(we,xe){return new(xe=$(xe))((Xe,et)=>{let Se;Se=this.subscribe(qe=>{try{we(qe)}catch(rt){et(rt),Se&&Se.unsubscribe()}},et,Xe)})}_subscribe(we){const{source:xe}=this;return xe&&xe.subscribe(we)}[ee.L](){return this}pipe(...we){return 0===we.length?this:(0,ce.U)(we)(this)}toPromise(we){return new(we=$(we))((xe,Xe)=>{let et;this.subscribe(Se=>et=Se,Se=>Xe(Se),()=>xe(et))})}}return J.create=ie=>new J(ie),J})();function $(J){if(J||(J=X.v.Promise||Promise),!J)throw new Error("no Promise impl found");return J}},6490:(It,ve,P)=>{"use strict";P.d(ve,{c:()=>z});var h=P(2494),R=P(4449);const z={closed:!0,next(ue){},error(ue){if(h.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,R.z)(ue)},complete(){}}},5197:(It,ve,P)=>{"use strict";P.d(ve,{L:()=>R});var h=P(7393);class R extends h.L{notifyNext(ue,pe,ee,ce,X){this.destination.next(pe)}notifyError(ue,pe){this.destination.error(ue)}notifyComplete(ue){this.destination.complete()}}},8229:(It,ve,P)=>{"use strict";P.d(ve,{t:()=>ce});var h=P(9765),R=P(7771),z=P(5319),ue=P(9746),pe=P(7971),ee=P(8858);class ce extends h.xQ{constructor($=Number.POSITIVE_INFINITY,J=Number.POSITIVE_INFINITY,ie){super(),this.scheduler=ie,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=$<1?1:$,this._windowTime=J<1?1:J,J===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow($){if(!this.isStopped){const J=this._events;J.push($),J.length>this._bufferSize&&J.shift()}super.next($)}nextTimeWindow($){this.isStopped||(this._events.push(new X(this._getNow(),$)),this._trimBufferThenGetEvents()),super.next($)}_subscribe($){const J=this._infiniteTimeWindow,ie=J?this._events:this._trimBufferThenGetEvents(),we=this.scheduler,xe=ie.length;let Xe;if(this.closed)throw new pe.N;if(this.isStopped||this.hasError?Xe=z.w.EMPTY:(this.observers.push($),Xe=new ee.W(this,$)),we&&$.add($=new ue.ht($,we)),J)for(let et=0;et<xe&&!$.closed;et++)$.next(ie[et]);else for(let et=0;et<xe&&!$.closed;et++)$.next(ie[et].value);return this.hasError?$.error(this.thrownError):this.isStopped&&$.complete(),Xe}_getNow(){return(this.scheduler||R.c).now()}_trimBufferThenGetEvents(){const $=this._getNow(),J=this._bufferSize,ie=this._windowTime,we=this._events,xe=we.length;let Xe=0;for(;Xe<xe&&!($-we[Xe].time<ie);)Xe++;return xe>J&&(Xe=Math.max(Xe,xe-J)),Xe>0&&we.splice(0,Xe),we}}class X{constructor($,J){this.time=$,this.value=J}}},9765:(It,ve,P)=>{"use strict";P.d(ve,{Yc:()=>ce,xQ:()=>X});var h=P(8891),R=P(7393),z=P(5319),ue=P(7971),pe=P(8858),ee=P(9181);class ce extends R.L{constructor(J){super(J),this.destination=J}}let X=(()=>{class $ extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new ce(this)}lift(ie){const we=new le(this,this);return we.operator=ie,we}next(ie){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:we}=this,xe=we.length,Xe=we.slice();for(let et=0;et<xe;et++)Xe[et].next(ie)}}error(ie){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:we}=this,xe=we.length,Xe=we.slice();for(let et=0;et<xe;et++)Xe[et].error(ie);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:ie}=this,we=ie.length,xe=ie.slice();for(let Xe=0;Xe<we;Xe++)xe[Xe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new ue.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new ue.N;return this.hasError?(ie.error(this.thrownError),z.w.EMPTY):this.isStopped?(ie.complete(),z.w.EMPTY):(this.observers.push(ie),new pe.W(this,ie))}asObservable(){const ie=new h.y;return ie.source=this,ie}}return $.create=(J,ie)=>new le(J,ie),$})();class le extends X{constructor(J,ie){super(),this.destination=J,this.source=ie}next(J){const{destination:ie}=this;ie&&ie.next&&ie.next(J)}error(J){const{destination:ie}=this;ie&&ie.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:ie}=this;return ie?this.source.subscribe(J):z.w.EMPTY}}},8858:(It,ve,P)=>{"use strict";P.d(ve,{W:()=>R});var h=P(5319);class R extends h.w{constructor(ue,pe){super(),this.subject=ue,this.subscriber=pe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,pe=ue.observers;if(this.subject=null,!pe||0===pe.length||ue.isStopped||ue.closed)return;const ee=pe.indexOf(this.subscriber);-1!==ee&&pe.splice(ee,1)}}},7393:(It,ve,P)=>{"use strict";P.d(ve,{L:()=>ce});var h=P(9105),R=P(6490),z=P(5319),ue=P(9181),pe=P(2494),ee=P(4449);class ce extends z.w{constructor($,J,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!$){this.destination=R.c;break}if("object"==typeof $){$ instanceof ce?(this.syncErrorThrowable=$.syncErrorThrowable,this.destination=$,$.add(this)):(this.syncErrorThrowable=!0,this.destination=new X(this,$));break}default:this.syncErrorThrowable=!0,this.destination=new X(this,$,J,ie)}}[ue.b](){return this}static create($,J,ie){const we=new ce($,J,ie);return we.syncErrorThrowable=!1,we}next($){this.isStopped||this._next($)}error($){this.isStopped||(this.isStopped=!0,this._error($))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next($){this.destination.next($)}_error($){this.destination.error($),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:$}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=$,this}}class X extends ce{constructor($,J,ie,we){super(),this._parentSubscriber=$;let xe,Xe=this;(0,h.m)(J)?xe=J:J&&(xe=J.next,ie=J.error,we=J.complete,J!==R.c&&(Xe=Object.create(J),(0,h.m)(Xe.unsubscribe)&&this.add(Xe.unsubscribe.bind(Xe)),Xe.unsubscribe=this.unsubscribe.bind(this))),this._context=Xe,this._next=xe,this._error=ie,this._complete=we}next($){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;pe.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,$)&&this.unsubscribe():this.__tryOrUnsub(this._next,$)}}error($){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:ie}=pe.v;if(this._error)ie&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,$),this.unsubscribe()):(this.__tryOrUnsub(this._error,$),this.unsubscribe());else if(J.syncErrorThrowable)ie?(J.syncErrorValue=$,J.syncErrorThrown=!0):(0,ee.z)($),this.unsubscribe();else{if(this.unsubscribe(),ie)throw $;(0,ee.z)($)}}}complete(){if(!this.isStopped){const{_parentSubscriber:$}=this;if(this._complete){const J=()=>this._complete.call(this._context);pe.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?(this.__tryOrSetError($,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub($,J){try{$.call(this._context,J)}catch(ie){if(this.unsubscribe(),pe.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ee.z)(ie)}}__tryOrSetError($,J,ie){if(!pe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,ie)}catch(we){return pe.v.useDeprecatedSynchronousErrorHandling?($.syncErrorValue=we,$.syncErrorThrown=!0,!0):((0,ee.z)(we),!0)}return!1}_unsubscribe(){const{_parentSubscriber:$}=this;this._context=null,this._parentSubscriber=null,$.unsubscribe()}}},5319:(It,ve,P)=>{"use strict";P.d(ve,{w:()=>ee});var h=P(9796),R=P(1555),z=P(9105);const pe=(()=>{function X(le){return Error.call(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map(($,J)=>`${J+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le,this}return X.prototype=Object.create(Error.prototype),X})();class ee{constructor(le){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,le&&(this._ctorUnsubscribe=!0,this._unsubscribe=le)}unsubscribe(){let le;if(this.closed)return;let{_parentOrParents:$,_ctorUnsubscribe:J,_unsubscribe:ie,_subscriptions:we}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,$ instanceof ee)$.remove(this);else if(null!==$)for(let xe=0;xe<$.length;++xe)$[xe].remove(this);if((0,z.m)(ie)){J&&(this._unsubscribe=void 0);try{ie.call(this)}catch(xe){le=xe instanceof pe?ce(xe.errors):[xe]}}if((0,h.k)(we)){let xe=-1,Xe=we.length;for(;++xe<Xe;){const et=we[xe];if((0,R.K)(et))try{et.unsubscribe()}catch(Se){le=le||[],Se instanceof pe?le=le.concat(ce(Se.errors)):le.push(Se)}}}if(le)throw new pe(le)}add(le){let $=le;if(!le)return ee.EMPTY;switch(typeof le){case"function":$=new ee(le);case"object":if($===this||$.closed||"function"!=typeof $.unsubscribe)return $;if(this.closed)return $.unsubscribe(),$;if(!($ instanceof ee)){const we=$;$=new ee,$._subscriptions=[we]}break;default:throw new Error("unrecognized teardown "+le+" added to Subscription.")}let{_parentOrParents:J}=$;if(null===J)$._parentOrParents=this;else if(J instanceof ee){if(J===this)return $;$._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return $;J.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[$]:ie.push($),$}remove(le){const $=this._subscriptions;if($){const J=$.indexOf(le);-1!==J&&$.splice(J,1)}}}var X;function ce(X){return X.reduce((le,$)=>le.concat($ instanceof pe?$.errors:$),[])}ee.EMPTY=((X=new ee).closed=!0,X)},2494:(It,ve,P)=>{"use strict";P.d(ve,{v:()=>R});let h=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(z){if(z){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=z},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(It,ve,P)=>{"use strict";P.d(ve,{IY:()=>ue,Ds:()=>ee,ft:()=>X});var h=P(7393),R=P(8891),z=P(7444);class ue extends h.L{constructor($){super(),this.parent=$}_next($){this.parent.notifyNext($)}_error($){this.parent.notifyError($),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends h.L{notifyNext($){this.destination.next($)}notifyError($){this.destination.error($)}notifyComplete(){this.destination.complete()}}function X(le,$){if($.closed)return;if(le instanceof R.y)return le.subscribe($);let J;try{J=(0,z.s)(le)($)}catch(ie){$.error(ie)}return J}},2441:(It,ve,P)=>{"use strict";P.d(ve,{c:()=>pe,N:()=>ee});var h=P(9765),R=P(8891),z=P(5319),ue=P(1307);class pe extends R.y{constructor(J,ie){super(),this.source=J,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new z.w,J.add(this.source.subscribe(new ce(this.getSubject(),this))),J.closed&&(this._connection=null,J=z.w.EMPTY)),J}refCount(){return(0,ue.x)()(this)}}const ee=(()=>{const $=pe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$._subscribe},_isComplete:{value:$._isComplete,writable:!0},getSubject:{value:$.getSubject},connect:{value:$.connect},refCount:{value:$.refCount}}})();class ce extends h.Yc{constructor(J,ie){super(J),this.connectable=ie}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const ie=J._connection;J._refCount=0,J._subject=null,J._connection=null,ie&&ie.unsubscribe()}}}},9112:(It,ve,P)=>{"use strict";P.d(ve,{aj:()=>ce,Ms:()=>X});var h=P(4869),R=P(9796),z=P(5197),ue=P(509),pe=P(6693);const ee={};function ce(...$){let J,ie;return(0,h.K)($[$.length-1])&&(ie=$.pop()),"function"==typeof $[$.length-1]&&(J=$.pop()),1===$.length&&(0,R.k)($[0])&&($=$[0]),(0,pe.n)($,ie).lift(new X(J))}class X{constructor(J){this.resultSelector=J}call(J,ie){return ie.subscribe(new le(J,this.resultSelector))}}class le extends z.L{constructor(J,ie){super(J),this.resultSelector=ie,this.active=0,this.values=[],this.observables=[]}_next(J){this.values.push(ee),this.observables.push(J)}_complete(){const J=this.observables,ie=J.length;if(0===ie)this.destination.complete();else{this.active=ie,this.toRespond=ie;for(let we=0;we<ie;we++)this.add((0,ue.D)(this,J[we],void 0,we))}}notifyComplete(J){0==(this.active-=1)&&this.destination.complete()}notifyNext(J,ie,we){const xe=this.values,et=this.toRespond?xe[we]===ee?--this.toRespond:this.toRespond:0;xe[we]=ie,0===et&&(this.resultSelector?this._tryResultSelector(xe):this.destination.next(xe.slice()))}_tryResultSelector(J){let ie;try{ie=this.resultSelector.apply(this,J)}catch(we){return void this.destination.error(we)}this.destination.next(ie)}}},9923:(It,ve,P)=>{"use strict";P.d(ve,{z:()=>z});var h=P(5917),R=P(5766);function z(...ue){return(0,R.u)()((0,h.of)(...ue))}},1439:(It,ve,P)=>{"use strict";P.d(ve,{P:()=>ue});var h=P(8891),R=P(4402),z=P(9193);function ue(pe){return new h.y(ee=>{let ce;try{ce=pe()}catch(le){return void ee.error(le)}return(ce?(0,R.D)(ce):(0,z.c)()).subscribe(ee)})}},9193:(It,ve,P)=>{"use strict";P.d(ve,{E:()=>R,c:()=>z});var h=P(8891);const R=new h.y(pe=>pe.complete());function z(pe){return pe?function(pe){return new h.y(ee=>pe.schedule(()=>ee.complete()))}(pe):R}},4402:(It,ve,P)=>{"use strict";P.d(ve,{D:()=>Xe});var h=P(8891),R=P(7444),z=P(5319),ue=P(6554),ce=P(4087),X=P(377),J=P(4072),ie=P(9489);function Xe(et,Se){return Se?function(et,Se){if(null!=et){if(function(et){return et&&"function"==typeof et[ue.L]}(et))return function(et,Se){return new h.y(qe=>{const rt=new z.w;return rt.add(Se.schedule(()=>{const re=et[ue.L]();rt.add(re.subscribe({next(pt){rt.add(Se.schedule(()=>qe.next(pt)))},error(pt){rt.add(Se.schedule(()=>qe.error(pt)))},complete(){rt.add(Se.schedule(()=>qe.complete()))}}))})),rt})}(et,Se);if((0,J.t)(et))return function(et,Se){return new h.y(qe=>{const rt=new z.w;return rt.add(Se.schedule(()=>et.then(re=>{rt.add(Se.schedule(()=>{qe.next(re),rt.add(Se.schedule(()=>qe.complete()))}))},re=>{rt.add(Se.schedule(()=>qe.error(re)))}))),rt})}(et,Se);if((0,ie.z)(et))return(0,ce.r)(et,Se);if(function(et){return et&&"function"==typeof et[X.hZ]}(et)||"string"==typeof et)return function(et,Se){if(!et)throw new Error("Iterable cannot be null");return new h.y(qe=>{const rt=new z.w;let re;return rt.add(()=>{re&&"function"==typeof re.return&&re.return()}),rt.add(Se.schedule(()=>{re=et[X.hZ](),rt.add(Se.schedule(function(){if(qe.closed)return;let pt,Tn;try{const _n=re.next();pt=_n.value,Tn=_n.done}catch(_n){return void qe.error(_n)}Tn?qe.complete():(qe.next(pt),this.schedule())}))})),rt})}(et,Se)}throw new TypeError((null!==et&&typeof et||et)+" is not observable")}(et,Se):et instanceof h.y?et:new h.y((0,R.s)(et))}},6693:(It,ve,P)=>{"use strict";P.d(ve,{n:()=>ue});var h=P(8891),R=P(5015),z=P(4087);function ue(pe,ee){return ee?(0,z.r)(pe,ee):new h.y((0,R.V)(pe))}},6682:(It,ve,P)=>{"use strict";P.d(ve,{T:()=>pe});var h=P(8891),R=P(4869),z=P(3282),ue=P(6693);function pe(...ee){let ce=Number.POSITIVE_INFINITY,X=null,le=ee[ee.length-1];return(0,R.K)(le)?(X=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(ce=ee.pop())):"number"==typeof le&&(ce=ee.pop()),null===X&&1===ee.length&&ee[0]instanceof h.y?ee[0]:(0,z.J)(ce)((0,ue.n)(ee,X))}},5917:(It,ve,P)=>{"use strict";P.d(ve,{of:()=>ue});var h=P(4869),R=P(6693),z=P(4087);function ue(...pe){let ee=pe[pe.length-1];return(0,h.K)(ee)?(pe.pop(),(0,z.r)(pe,ee)):(0,R.n)(pe)}},205:(It,ve,P)=>{"use strict";P.d(ve,{_:()=>R});var h=P(8891);function R(ue,pe){return new h.y(pe?ee=>pe.schedule(z,0,{error:ue,subscriber:ee}):ee=>ee.error(ue))}function z({error:ue,subscriber:pe}){pe.error(ue)}},5304:(It,ve,P)=>{"use strict";P.d(ve,{K:()=>R});var h=P(5345);function R(pe){return function(ce){const X=new z(pe),le=ce.lift(X);return X.caught=le}}class z{constructor(ee){this.selector=ee}call(ee,ce){return ce.subscribe(new ue(ee,this.selector,this.caught))}}class ue extends h.Ds{constructor(ee,ce,X){super(ee),this.selector=ce,this.caught=X}error(ee){if(!this.isStopped){let ce;try{ce=this.selector(ee,this.caught)}catch($){return void super.error($)}this._unsubscribeAndRecycle();const X=new h.IY(this);this.add(X);const le=(0,h.ft)(ce,X);le!==X&&this.add(le)}}}},5766:(It,ve,P)=>{"use strict";P.d(ve,{u:()=>R});var h=P(3282);function R(){return(0,h.J)(1)}},4612:(It,ve,P)=>{"use strict";P.d(ve,{b:()=>R});var h=P(9773);function R(z,ue){return(0,h.zg)(z,ue,1)}},5242:(It,ve,P)=>{"use strict";P.d(ve,{d:()=>R});var h=P(7393);function R(pe=null){return ee=>ee.lift(new z(pe))}class z{constructor(ee){this.defaultValue=ee}call(ee,ce){return ce.subscribe(new ue(ee,this.defaultValue))}}class ue extends h.L{constructor(ee,ce){super(ee),this.defaultValue=ce,this.isEmpty=!0}_next(ee){this.isEmpty=!1,this.destination.next(ee)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5792:(It,ve,P)=>{"use strict";P.d(ve,{g:()=>pe});var h=P(3637),R=P(9989),z=P(7393),ue=P(3098);function pe(le,$=h.P){const ie=(0,R.J)(le)?+le-$.now():Math.abs(le);return we=>we.lift(new ee(ie,$))}class ee{constructor($,J){this.delay=$,this.scheduler=J}call($,J){return J.subscribe(new ce($,this.delay,this.scheduler))}}class ce extends z.L{constructor($,J,ie){super($),this.delay=J,this.scheduler=ie,this.queue=[],this.active=!1,this.errored=!1}static dispatch($){const J=$.source,ie=J.queue,we=$.scheduler,xe=$.destination;for(;ie.length>0&&ie[0].time-we.now()<=0;)ie.shift().notification.observe(xe);if(ie.length>0){const Xe=Math.max(0,ie[0].time-we.now());this.schedule($,Xe)}else this.unsubscribe(),J.active=!1}_schedule($){this.active=!0,this.destination.add($.schedule(ce.dispatch,this.delay,{source:this,destination:this.destination,scheduler:$}))}scheduleNotification($){if(!0===this.errored)return;const J=this.scheduler,ie=new X(J.now()+this.delay,$);this.queue.push(ie),!1===this.active&&this._schedule(J)}_next($){this.scheduleNotification(ue.P.createNext($))}_error($){this.errored=!0,this.queue=[],this.destination.error($),this.unsubscribe()}_complete(){this.scheduleNotification(ue.P.createComplete()),this.unsubscribe()}}class X{constructor($,J){this.time=$,this.notification=J}}},7519:(It,ve,P)=>{"use strict";P.d(ve,{x:()=>R});var h=P(7393);function R(pe,ee){return ce=>ce.lift(new z(pe,ee))}class z{constructor(ee,ce){this.compare=ee,this.keySelector=ce}call(ee,ce){return ce.subscribe(new ue(ee,this.compare,this.keySelector))}}class ue extends h.L{constructor(ee,ce,X){super(ee),this.keySelector=X,this.hasKey=!1,"function"==typeof ce&&(this.compare=ce)}compare(ee,ce){return ee===ce}_next(ee){let ce;try{const{keySelector:le}=this;ce=le?le(ee):ee}catch(le){return this.destination.error(le)}let X=!1;if(this.hasKey)try{const{compare:le}=this;X=le(this.key,ce)}catch(le){return this.destination.error(le)}else this.hasKey=!0;X||(this.key=ce,this.destination.next(ee))}}},5435:(It,ve,P)=>{"use strict";P.d(ve,{h:()=>R});var h=P(7393);function R(pe,ee){return function(X){return X.lift(new z(pe,ee))}}class z{constructor(ee,ce){this.predicate=ee,this.thisArg=ce}call(ee,ce){return ce.subscribe(new ue(ee,this.predicate,this.thisArg))}}class ue extends h.L{constructor(ee,ce,X){super(ee),this.predicate=ce,this.thisArg=X,this.count=0}_next(ee){let ce;try{ce=this.predicate.call(this.thisArg,ee,this.count++)}catch(X){return void this.destination.error(X)}ce&&this.destination.next(ee)}}},197:(It,ve,P)=>{"use strict";P.d(ve,{x:()=>z});var h=P(7393),R=P(5319);function z(ee){return ce=>ce.lift(new ue(ee))}class ue{constructor(ce){this.callback=ce}call(ce,X){return X.subscribe(new pe(ce,this.callback))}}class pe extends h.L{constructor(ce,X){super(ce),this.add(new R.w(X))}}},8049:(It,ve,P)=>{"use strict";P.d(ve,{P:()=>ce});var h=P(3410),R=P(5435),z=P(5257),ue=P(5242),pe=P(4635),ee=P(4487);function ce(X,le){const $=arguments.length>=2;return J=>J.pipe(X?(0,R.h)((ie,we)=>X(ie,we,J)):ee.y,(0,z.q)(1),$?(0,ue.d)(le):(0,pe.T)(()=>new h.K))}},2627:(It,ve,P)=>{"use strict";P.d(ve,{Z:()=>ce});var h=P(3410),R=P(5435),z=P(548),ue=P(4635),pe=P(5242),ee=P(4487);function ce(X,le){const $=arguments.length>=2;return J=>J.pipe(X?(0,R.h)((ie,we)=>X(ie,we,J)):ee.y,(0,z.h)(1),$?(0,pe.d)(le):(0,ue.T)(()=>new h.K))}},8002:(It,ve,P)=>{"use strict";P.d(ve,{U:()=>R});var h=P(7393);function R(pe,ee){return function(X){if("function"!=typeof pe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return X.lift(new z(pe,ee))}}class z{constructor(ee,ce){this.project=ee,this.thisArg=ce}call(ee,ce){return ce.subscribe(new ue(ee,this.project,this.thisArg))}}class ue extends h.L{constructor(ee,ce,X){super(ee),this.project=ce,this.count=0,this.thisArg=X||this}_next(ee){let ce;try{ce=this.project.call(this.thisArg,ee,this.count++)}catch(X){return void this.destination.error(X)}this.destination.next(ce)}}},3282:(It,ve,P)=>{"use strict";P.d(ve,{J:()=>z});var h=P(9773),R=P(4487);function z(ue=Number.POSITIVE_INFINITY){return(0,h.zg)(R.y,ue)}},9773:(It,ve,P)=>{"use strict";P.d(ve,{zg:()=>ue,VS:()=>ce});var h=P(8002),R=P(4402),z=P(5345);function ue(X,le,$=Number.POSITIVE_INFINITY){return"function"==typeof le?J=>J.pipe(ue((ie,we)=>(0,R.D)(X(ie,we)).pipe((0,h.U)((xe,Xe)=>le(ie,xe,we,Xe))),$)):("number"==typeof le&&($=le),J=>J.lift(new pe(X,$)))}class pe{constructor(le,$=Number.POSITIVE_INFINITY){this.project=le,this.concurrent=$}call(le,$){return $.subscribe(new ee(le,this.project,this.concurrent))}}class ee extends z.Ds{constructor(le,$,J=Number.POSITIVE_INFINITY){super(le),this.project=$,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(le){this.active<this.concurrent?this._tryNext(le):this.buffer.push(le)}_tryNext(le){let $;const J=this.index++;try{$=this.project(le,J)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub($)}_innerSub(le){const $=new z.IY(this),J=this.destination;J.add($);const ie=(0,z.ft)(le,$);ie!==$&&J.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(le){this.destination.next(le)}notifyComplete(){const le=this.buffer;this.active--,le.length>0?this._next(le.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const ce=ue},4458:(It,ve,P)=>{"use strict";P.d(ve,{O:()=>R});var h=P(2441);function R(ue,pe){return function(ce){let X;if(X="function"==typeof ue?ue:function(){return ue},"function"==typeof pe)return ce.lift(new z(X,pe));const le=Object.create(ce,h.N);return le.source=ce,le.subjectFactory=X,le}}class z{constructor(pe,ee){this.subjectFactory=pe,this.selector=ee}call(pe,ee){const{selector:ce}=this,X=this.subjectFactory(),le=ce(X).subscribe(pe);return le.add(ee.subscribe(X)),le}}},9746:(It,ve,P)=>{"use strict";P.d(ve,{QV:()=>z,ht:()=>pe});var h=P(7393),R=P(3098);function z(ce,X=0){return function($){return $.lift(new ue(ce,X))}}class ue{constructor(X,le=0){this.scheduler=X,this.delay=le}call(X,le){return le.subscribe(new pe(X,this.scheduler,this.delay))}}class pe extends h.L{constructor(X,le,$=0){super(X),this.scheduler=le,this.delay=$}static dispatch(X){const{notification:le,destination:$}=X;le.observe($),this.unsubscribe()}scheduleMessage(X){this.destination.add(this.scheduler.schedule(pe.dispatch,this.delay,new ee(X,this.destination)))}_next(X){this.scheduleMessage(R.P.createNext(X))}_error(X){this.scheduleMessage(R.P.createError(X)),this.unsubscribe()}_complete(){this.scheduleMessage(R.P.createComplete()),this.unsubscribe()}}class ee{constructor(X,le){this.notification=X,this.destination=le}}},9328:(It,ve,P)=>{"use strict";P.d(ve,{G:()=>R});var h=P(7393);function R(){return pe=>pe.lift(new z)}class z{call(ee,ce){return ce.subscribe(new ue(ee))}}class ue extends h.L{constructor(ee){super(ee),this.hasPrev=!1}_next(ee){let ce;this.hasPrev?ce=[this.prev,ee]:this.hasPrev=!0,this.prev=ee,ce&&this.destination.next(ce)}}},2790:(It,ve,P)=>{"use strict";P.d(ve,{n:()=>z});var h=P(9765),R=P(4458);function z(ue){return ue?(0,R.O)(()=>new h.xQ,ue):(0,R.O)(new h.xQ)}},1307:(It,ve,P)=>{"use strict";P.d(ve,{x:()=>R});var h=P(7393);function R(){return function(ee){return ee.lift(new z(ee))}}class z{constructor(ee){this.connectable=ee}call(ee,ce){const{connectable:X}=this;X._refCount++;const le=new ue(ee,X),$=ce.subscribe(le);return le.closed||(le.connection=X.connect()),$}}class ue extends h.L{constructor(ee,ce){super(ee),this.connectable=ce}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const ce=ee._refCount;if(ce<=0)return void(this.connection=null);if(ee._refCount=ce-1,ce>1)return void(this.connection=null);const{connection:X}=this,le=ee._connection;this.connection=null,le&&(!X||le===X)&&le.unsubscribe()}}},2145:(It,ve,P)=>{"use strict";P.d(ve,{R:()=>R});var h=P(7393);function R(pe,ee){let ce=!1;return arguments.length>=2&&(ce=!0),function(le){return le.lift(new z(pe,ee,ce))}}class z{constructor(ee,ce,X=!1){this.accumulator=ee,this.seed=ce,this.hasSeed=X}call(ee,ce){return ce.subscribe(new ue(ee,this.accumulator,this.seed,this.hasSeed))}}class ue extends h.L{constructor(ee,ce,X,le){super(ee),this.accumulator=ce,this._seed=X,this.hasSeed=le,this.index=0}get seed(){return this._seed}set seed(ee){this.hasSeed=!0,this._seed=ee}_next(ee){if(this.hasSeed)return this._tryNext(ee);this.seed=ee,this.destination.next(ee)}_tryNext(ee){const ce=this.index++;let X;try{X=this.accumulator(this.seed,ee,ce)}catch(le){this.destination.error(le)}this.seed=X,this.destination.next(X)}}},8345:(It,ve,P)=>{"use strict";P.d(ve,{B:()=>pe});var h=P(4458),R=P(1307),z=P(9765);function ue(){return new z.xQ}function pe(){return ee=>(0,R.x)()((0,h.O)(ue)(ee))}},7349:(It,ve,P)=>{"use strict";P.d(ve,{d:()=>R});var h=P(8229);function R(ue,pe,ee){let ce;return ce=ue&&"object"==typeof ue?ue:{bufferSize:ue,windowTime:pe,refCount:!1,scheduler:ee},X=>X.lift(function({bufferSize:ue=Number.POSITIVE_INFINITY,windowTime:pe=Number.POSITIVE_INFINITY,refCount:ee,scheduler:ce}){let X,$,le=0,J=!1,ie=!1;return function(xe){let Xe;le++,!X||J?(J=!1,X=new h.t(ue,pe,ce),Xe=X.subscribe(this),$=xe.subscribe({next(et){X.next(et)},error(et){J=!0,X.error(et)},complete(){ie=!0,$=void 0,X.complete()}}),ie&&($=void 0)):Xe=X.subscribe(this),this.add(()=>{le--,Xe.unsubscribe(),Xe=void 0,$&&!ie&&ee&&0===le&&($.unsubscribe(),$=void 0,X=void 0)})}}(ce))}},6888:(It,ve,P)=>{"use strict";P.d(ve,{n:()=>R});var h=P(7393);function R(pe){return ee=>ee.lift(new z(pe))}class z{constructor(ee){this.predicate=ee}call(ee,ce){return ce.subscribe(new ue(ee,this.predicate))}}class ue extends h.L{constructor(ee,ce){super(ee),this.predicate=ce,this.skipping=!0,this.index=0}_next(ee){const ce=this.destination;this.skipping&&this.tryCallPredicate(ee),this.skipping||ce.next(ee)}tryCallPredicate(ee){try{const ce=this.predicate(ee,this.index++);this.skipping=Boolean(ce)}catch(ce){this.destination.error(ce)}}}},9761:(It,ve,P)=>{"use strict";P.d(ve,{O:()=>z});var h=P(9923),R=P(4869);function z(...ue){const pe=ue[ue.length-1];return(0,R.K)(pe)?(ue.pop(),ee=>(0,h.z)(ue,ee,pe)):ee=>(0,h.z)(ue,ee)}},2639:(It,ve,P)=>{"use strict";P.d(ve,{R:()=>et});var h=P(8891);let R=1;const z=Promise.resolve(),ue={};function pe(qe){return qe in ue&&(delete ue[qe],!0)}const ee={setImmediate(qe){const rt=R++;return ue[rt]=!0,z.then(()=>pe(rt)&&qe()),rt},clearImmediate(qe){pe(qe)}};var X=P(6465),$=P(6102);const we=new class extends $.v{flush(rt){this.active=!0,this.scheduled=void 0;const{actions:re}=this;let pt,Tn=-1,_n=re.length;rt=rt||re.shift();do{if(pt=rt.execute(rt.state,rt.delay))break}while(++Tn<_n&&(rt=re.shift()));if(this.active=!1,pt){for(;++Tn<_n&&(rt=re.shift());)rt.unsubscribe();throw pt}}}(class extends X.o{constructor(rt,re){super(rt,re),this.scheduler=rt,this.work=re}requestAsyncId(rt,re,pt=0){return null!==pt&&pt>0?super.requestAsyncId(rt,re,pt):(rt.actions.push(this),rt.scheduled||(rt.scheduled=ee.setImmediate(rt.flush.bind(rt,null))))}recycleAsyncId(rt,re,pt=0){if(null!==pt&&pt>0||null===pt&&this.delay>0)return super.recycleAsyncId(rt,re,pt);0===rt.actions.length&&(ee.clearImmediate(re),rt.scheduled=void 0)}});var xe=P(6561);class Xe extends h.y{constructor(rt,re=0,pt=we){super(),this.source=rt,this.delayTime=re,this.scheduler=pt,(!(0,xe.k)(re)||re<0)&&(this.delayTime=0),(!pt||"function"!=typeof pt.schedule)&&(this.scheduler=we)}static create(rt,re=0,pt=we){return new Xe(rt,re,pt)}static dispatch(rt){const{source:re,subscriber:pt}=rt;return this.add(re.subscribe(pt))}_subscribe(rt){return this.scheduler.schedule(Xe.dispatch,this.delayTime,{source:this.source,subscriber:rt})}}function et(qe,rt=0){return function(pt){return pt.lift(new Se(qe,rt))}}class Se{constructor(rt,re){this.scheduler=rt,this.delay=re}call(rt,re){return new Xe(re,this.delay,this.scheduler).subscribe(rt)}}},3190:(It,ve,P)=>{"use strict";P.d(ve,{w:()=>ue});var h=P(8002),R=P(4402),z=P(5345);function ue(ce,X){return"function"==typeof X?le=>le.pipe(ue(($,J)=>(0,R.D)(ce($,J)).pipe((0,h.U)((ie,we)=>X($,ie,J,we))))):le=>le.lift(new pe(ce))}class pe{constructor(X){this.project=X}call(X,le){return le.subscribe(new ee(X,this.project))}}class ee extends z.Ds{constructor(X,le){super(X),this.project=le,this.index=0}_next(X){let le;const $=this.index++;try{le=this.project(X,$)}catch(J){return void this.destination.error(J)}this._innerSub(le)}_innerSub(X){const le=this.innerSubscription;le&&le.unsubscribe();const $=new z.IY(this),J=this.destination;J.add($),this.innerSubscription=(0,z.ft)(X,$),this.innerSubscription!==$&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:X}=this;(!X||X.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(X){this.destination.next(X)}}},9499:(It,ve,P)=>{"use strict";P.d(ve,{c:()=>R});var h=P(3190);function R(z,ue){return ue?(0,h.w)(()=>z,ue):(0,h.w)(()=>z)}},5257:(It,ve,P)=>{"use strict";P.d(ve,{q:()=>ue});var h=P(7393),R=P(7108),z=P(9193);function ue(ce){return X=>0===ce?(0,z.c)():X.lift(new pe(ce))}class pe{constructor(X){if(this.total=X,this.total<0)throw new R.W}call(X,le){return le.subscribe(new ee(X,this.total))}}class ee extends h.L{constructor(X,le){super(X),this.total=le,this.count=0}_next(X){const le=this.total,$=++this.count;$<=le&&(this.destination.next(X),$===le&&(this.destination.complete(),this.unsubscribe()))}}},548:(It,ve,P)=>{"use strict";P.d(ve,{h:()=>ue});var h=P(7393),R=P(7108),z=P(9193);function ue(ce){return function(le){return 0===ce?(0,z.c)():le.lift(new pe(ce))}}class pe{constructor(X){if(this.total=X,this.total<0)throw new R.W}call(X,le){return le.subscribe(new ee(X,this.total))}}class ee extends h.L{constructor(X,le){super(X),this.total=le,this.ring=new Array,this.count=0}_next(X){const le=this.ring,$=this.total,J=this.count++;le.length<$?le.push(X):le[J%$]=X}_complete(){const X=this.destination;let le=this.count;if(le>0){const $=this.count>=this.total?this.total:this.count,J=this.ring;for(let ie=0;ie<$;ie++){const we=le++%$;X.next(J[we])}}X.complete()}}},8307:(It,ve,P)=>{"use strict";P.d(ve,{b:()=>ue});var h=P(7393),R=P(8640),z=P(9105);function ue(ce,X,le){return function(J){return J.lift(new pe(ce,X,le))}}class pe{constructor(X,le,$){this.nextOrObserver=X,this.error=le,this.complete=$}call(X,le){return le.subscribe(new ee(X,this.nextOrObserver,this.error,this.complete))}}class ee extends h.L{constructor(X,le,$,J){super(X),this._tapNext=R.Z,this._tapError=R.Z,this._tapComplete=R.Z,this._tapError=$||R.Z,this._tapComplete=J||R.Z,(0,z.m)(le)?(this._context=this,this._tapNext=le):le&&(this._context=le,this._tapNext=le.next||R.Z,this._tapError=le.error||R.Z,this._tapComplete=le.complete||R.Z)}_next(X){try{this._tapNext.call(this._context,X)}catch(le){return void this.destination.error(le)}this.destination.next(X)}_error(X){try{this._tapError.call(this._context,X)}catch(le){return void this.destination.error(le)}this.destination.error(X)}_complete(){try{this._tapComplete.call(this._context)}catch(X){return void this.destination.error(X)}return this.destination.complete()}}},4635:(It,ve,P)=>{"use strict";P.d(ve,{T:()=>z});var h=P(3410),R=P(7393);function z(ce=ee){return X=>X.lift(new ue(ce))}class ue{constructor(X){this.errorFactory=X}call(X,le){return le.subscribe(new pe(X,this.errorFactory))}}class pe extends R.L{constructor(X,le){super(X),this.errorFactory=le,this.hasValue=!1}_next(X){this.hasValue=!0,this.destination.next(X)}_complete(){if(this.hasValue)return this.destination.complete();{let X;try{X=this.errorFactory()}catch(le){X=le}this.destination.error(X)}}}function ee(){return new h.K}},7057:(It,ve,P)=>{"use strict";P.d(ve,{M:()=>z});var h=P(5197),R=P(509);function z(...ee){return ce=>{let X;return"function"==typeof ee[ee.length-1]&&(X=ee.pop()),ce.lift(new ue(ee,X))}}class ue{constructor(ce,X){this.observables=ce,this.project=X}call(ce,X){return X.subscribe(new pe(ce,this.observables,this.project))}}class pe extends h.L{constructor(ce,X,le){super(ce),this.observables=X,this.project=le,this.toRespond=[];const $=X.length;this.values=new Array($);for(let J=0;J<$;J++)this.toRespond.push(J);for(let J=0;J<$;J++)this.add((0,R.D)(this,X[J],void 0,J))}notifyNext(ce,X,le){this.values[le]=X;const $=this.toRespond;if($.length>0){const J=$.indexOf(le);-1!==J&&$.splice(J,1)}}notifyComplete(){}_next(ce){if(0===this.toRespond.length){const X=[ce,...this.values];this.project?this._tryProject(X):this.destination.next(X)}}_tryProject(ce){let X;try{X=this.project.apply(this,ce)}catch(le){return void this.destination.error(le)}this.destination.next(X)}}},4087:(It,ve,P)=>{"use strict";P.d(ve,{r:()=>z});var h=P(8891),R=P(5319);function z(ue,pe){return new h.y(ee=>{const ce=new R.w;let X=0;return ce.add(pe.schedule(function(){X!==ue.length?(ee.next(ue[X++]),ee.closed||ce.add(this.schedule())):ee.complete()})),ce})}},6465:(It,ve,P)=>{"use strict";P.d(ve,{o:()=>z});var h=P(5319);class R extends h.w{constructor(pe,ee){super()}schedule(pe,ee=0){return this}}class z extends R{constructor(pe,ee){super(pe,ee),this.scheduler=pe,this.work=ee,this.pending=!1}schedule(pe,ee=0){if(this.closed)return this;this.state=pe;const ce=this.id,X=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(X,ce,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(X,this.id,ee),this}requestAsyncId(pe,ee,ce=0){return setInterval(pe.flush.bind(pe,this),ce)}recycleAsyncId(pe,ee,ce=0){if(null!==ce&&this.delay===ce&&!1===this.pending)return ee;clearInterval(ee)}execute(pe,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(pe,ee);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ee){let X,ce=!1;try{this.work(pe)}catch(le){ce=!0,X=!!le&&le||new Error(le)}if(ce)return this.unsubscribe(),X}_unsubscribe(){const pe=this.id,ee=this.scheduler,ce=ee.actions,X=ce.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==X&&ce.splice(X,1),null!=pe&&(this.id=this.recycleAsyncId(ee,pe,null)),this.delay=null}}},6102:(It,ve,P)=>{"use strict";P.d(ve,{v:()=>R});let h=(()=>{class z{constructor(pe,ee=z.now){this.SchedulerAction=pe,this.now=ee}schedule(pe,ee=0,ce){return new this.SchedulerAction(this,pe).schedule(ce,ee)}}return z.now=()=>Date.now(),z})();class R extends h{constructor(ue,pe=h.now){super(ue,()=>R.delegate&&R.delegate!==this?R.delegate.now():pe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,pe=0,ee){return R.delegate&&R.delegate!==this?R.delegate.schedule(ue,pe,ee):super.schedule(ue,pe,ee)}flush(ue){const{actions:pe}=this;if(this.active)return void pe.push(ue);let ee;this.active=!0;do{if(ee=ue.execute(ue.state,ue.delay))break}while(ue=pe.shift());if(this.active=!1,ee){for(;ue=pe.shift();)ue.unsubscribe();throw ee}}}},3637:(It,ve,P)=>{"use strict";P.d(ve,{z:()=>z,P:()=>ue});var h=P(6465);const z=new(P(6102).v)(h.o),ue=z},7771:(It,ve,P)=>{"use strict";P.d(ve,{c:()=>ee,N:()=>pe});var h=P(6465),z=P(6102);const pe=new class extends z.v{}(class extends h.o{constructor(X,le){super(X,le),this.scheduler=X,this.work=le}schedule(X,le=0){return le>0?super.schedule(X,le):(this.delay=le,this.state=X,this.scheduler.flush(this),this)}execute(X,le){return le>0||this.closed?super.execute(X,le):this._execute(X,le)}requestAsyncId(X,le,$=0){return null!==$&&$>0||null===$&&this.delay>0?super.requestAsyncId(X,le,$):X.flush(this)}}),ee=pe},377:(It,ve,P)=>{"use strict";P.d(ve,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(It,ve,P)=>{"use strict";P.d(ve,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(It,ve,P)=>{"use strict";P.d(ve,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(It,ve,P)=>{"use strict";P.d(ve,{W:()=>R});const R=(()=>{function z(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return z.prototype=Object.create(Error.prototype),z})()},3410:(It,ve,P)=>{"use strict";P.d(ve,{K:()=>R});const R=(()=>{function z(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return z.prototype=Object.create(Error.prototype),z})()},7971:(It,ve,P)=>{"use strict";P.d(ve,{N:()=>R});const R=(()=>{function z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return z.prototype=Object.create(Error.prototype),z})()},4449:(It,ve,P)=>{"use strict";function h(R){setTimeout(()=>{throw R},0)}P.d(ve,{z:()=>h})},4487:(It,ve,P)=>{"use strict";function h(R){return R}P.d(ve,{y:()=>h})},9796:(It,ve,P)=>{"use strict";P.d(ve,{k:()=>h});const h=Array.isArray||(R=>R&&"number"==typeof R.length)},9489:(It,ve,P)=>{"use strict";P.d(ve,{z:()=>h});const h=R=>R&&"number"==typeof R.length&&"function"!=typeof R},9989:(It,ve,P)=>{"use strict";function h(R){return R instanceof Date&&!isNaN(+R)}P.d(ve,{J:()=>h})},9105:(It,ve,P)=>{"use strict";function h(R){return"function"==typeof R}P.d(ve,{m:()=>h})},6561:(It,ve,P)=>{"use strict";P.d(ve,{k:()=>R});var h=P(9796);function R(z){return!(0,h.k)(z)&&z-parseFloat(z)+1>=0}},1555:(It,ve,P)=>{"use strict";function h(R){return null!==R&&"object"==typeof R}P.d(ve,{K:()=>h})},4072:(It,ve,P)=>{"use strict";function h(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}P.d(ve,{t:()=>h})},4869:(It,ve,P)=>{"use strict";function h(R){return R&&"function"==typeof R.schedule}P.d(ve,{K:()=>h})},8640:(It,ve,P)=>{"use strict";function h(){}P.d(ve,{Z:()=>h})},4022:(It,ve,P)=>{"use strict";P.d(ve,{z:()=>R,U:()=>z});var h=P(4487);function R(...ue){return z(ue)}function z(ue){return 0===ue.length?h.y:1===ue.length?ue[0]:function(ee){return ue.reduce((ce,X)=>X(ce),ee)}}},7444:(It,ve,P)=>{"use strict";P.d(ve,{s:()=>J});var h=P(5015),R=P(4449),ue=P(377),ee=P(6554),X=P(9489),le=P(4072),$=P(1555);const J=ie=>{if(ie&&"function"==typeof ie[ee.L])return(ie=>we=>{const xe=ie[ee.L]();if("function"!=typeof xe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return xe.subscribe(we)})(ie);if((0,X.z)(ie))return(0,h.V)(ie);if((0,le.t)(ie))return(ie=>we=>(ie.then(xe=>{we.closed||(we.next(xe),we.complete())},xe=>we.error(xe)).then(null,R.z),we))(ie);if(ie&&"function"==typeof ie[ue.hZ])return(ie=>we=>{const xe=ie[ue.hZ]();for(;;){let Xe;try{Xe=xe.next()}catch(et){return we.error(et),we}if(Xe.done){we.complete();break}if(we.next(Xe.value),we.closed)break}return"function"==typeof xe.return&&we.add(()=>{xe.return&&xe.return()}),we})(ie);{const xe=`You provided ${(0,$.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(xe)}}},5015:(It,ve,P)=>{"use strict";P.d(ve,{V:()=>h});const h=R=>z=>{for(let ue=0,pe=R.length;ue<pe&&!z.closed;ue++)z.next(R[ue]);z.complete()}},509:(It,ve,P)=>{"use strict";P.d(ve,{D:()=>pe});var h=P(7393);class R extends h.L{constructor(ce,X,le){super(),this.parent=ce,this.outerValue=X,this.outerIndex=le,this.index=0}_next(ce){this.parent.notifyNext(this.outerValue,ce,this.outerIndex,this.index++,this)}_error(ce){this.parent.notifyError(ce,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var z=P(7444),ue=P(8891);function pe(ee,ce,X,le,$=new R(ee,X,le)){if(!$.closed)return ce instanceof ue.y?ce.subscribe($):(0,z.s)(ce)($)}},7571:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{audit:()=>R,auditTime:()=>J,buffer:()=>ie,bufferCount:()=>et,bufferTime:()=>re,bufferToggle:()=>Et,bufferWhen:()=>En,catchError:()=>ar.K,combineAll:()=>tn,combineLatest:()=>wt,concat:()=>dn,concatAll:()=>wn.u,concatMap:()=>Qt.b,concatMapTo:()=>Ft,count:()=>ir,debounce:()=>St,debounceTime:()=>ln,defaultIfEmpty:()=>at.d,delay:()=>$e.g,delayWhen:()=>Ae,dematerialize:()=>Yt,distinct:()=>Wn,distinctUntilChanged:()=>yn.x,distinctUntilKeyChanged:()=>on,elementAt:()=>Ie,endWith:()=>Ot,every:()=>mn,exhaust:()=>Mr,exhaustMap:()=>ke,expand:()=>Yn,filter:()=>Te.h,finalize:()=>Jn.x,find:()=>Pr,findIndex:()=>xr,first:()=>Jt.P,flatMap:()=>yr.VS,groupBy:()=>Qn,ignoreElements:()=>hi,isEmpty:()=>Le,last:()=>Ze.Z,map:()=>He.U,mapTo:()=>vt,materialize:()=>Kn,max:()=>Yi,merge:()=>us,mergeAll:()=>_s.J,mergeMap:()=>yr.zg,mergeMapTo:()=>Ui,mergeScan:()=>Ds,min:()=>zn,multicast:()=>fr.O,observeOn:()=>je.QV,onErrorResumeNext:()=>Ne,pairwise:()=>pn.G,partition:()=>kn,pluck:()=>Hn,publish:()=>ls.n,publishBehavior:()=>As,publishLast:()=>eo,publishReplay:()=>Mi,race:()=>cs,reduce:()=>ei,refCount:()=>ai.x,repeat:()=>ni,repeatWhen:()=>fi,retry:()=>ks,retryWhen:()=>oi,sample:()=>ds,sampleTime:()=>j,scan:()=>Qi.R,sequenceEqual:()=>Me,share:()=>V.B,shareReplay:()=>N.d,single:()=>Ye,skip:()=>Vr,skipLast:()=>Gr,skipUntil:()=>vs,skipWhile:()=>pa.n,startWith:()=>Ga.O,subscribeOn:()=>Ko.R,switchAll:()=>wr,switchMap:()=>Ms.w,switchMapTo:()=>ga.c,take:()=>Fe.q,takeLast:()=>qi.h,takeUntil:()=>Ii,takeWhile:()=>Ks,tap:()=>go.b,throttle:()=>Io,throttleTime:()=>Hi,throwIfEmpty:()=>Ke.T,timeInterval:()=>Zo,timeout:()=>Zs,timeoutWith:()=>_a,timestamp:()=>ya,toArray:()=>$a,window:()=>Qs,windowCount:()=>xi,windowTime:()=>no,windowToggle:()=>Ea,windowWhen:()=>ro,withLatestFrom:()=>io.M,zip:()=>Wi,zipAll:()=>So});var h=P(5345);function R(ge){return function(O){return O.lift(new z(ge))}}class z{constructor(C){this.durationSelector=C}call(C,O){return O.subscribe(new ue(C,this.durationSelector))}}class ue extends h.Ds{constructor(C,O){super(C),this.durationSelector=O,this.hasValue=!1}_next(C){if(this.value=C,this.hasValue=!0,!this.throttled){let O;try{const{durationSelector:D}=this;O=D(C)}catch(D){return this.destination.error(D)}const fe=(0,h.ft)(O,new h.IY(this));!fe||fe.closed?this.clearThrottle():this.add(this.throttled=fe)}}clearThrottle(){const{value:C,hasValue:O,throttled:fe}=this;fe&&(this.remove(fe),this.throttled=void 0,fe.unsubscribe()),O&&(this.value=void 0,this.hasValue=!1,this.destination.next(C))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var pe=P(3637),ee=P(8891),ce=P(6561),X=P(4869);function $(ge){const{index:C,period:O,subscriber:fe}=ge;if(fe.next(C),!fe.closed){if(-1===O)return fe.complete();ge.index=C+1,this.schedule(ge,O)}}function J(ge,C=pe.P){return R(()=>function(ge=0,C,O){let fe=-1;return(0,ce.k)(C)?fe=Number(C)<1?1:Number(C):(0,X.K)(C)&&(O=C),(0,X.K)(O)||(O=pe.P),new ee.y(D=>{const S=(0,ce.k)(ge)?ge:+ge-O.now();return O.schedule($,S,{index:0,period:fe,subscriber:D})})}(ge,C))}function ie(ge){return function(O){return O.lift(new we(ge))}}class we{constructor(C){this.closingNotifier=C}call(C,O){return O.subscribe(new xe(C,this.closingNotifier))}}class xe extends h.Ds{constructor(C,O){super(C),this.buffer=[],this.add((0,h.ft)(O,new h.IY(this)))}_next(C){this.buffer.push(C)}notifyNext(){const C=this.buffer;this.buffer=[],this.destination.next(C)}}var Xe=P(7393);function et(ge,C=null){return function(fe){return fe.lift(new Se(ge,C))}}class Se{constructor(C,O){this.bufferSize=C,this.startBufferEvery=O,this.subscriberClass=O&&C!==O?rt:qe}call(C,O){return O.subscribe(new this.subscriberClass(C,this.bufferSize,this.startBufferEvery))}}class qe extends Xe.L{constructor(C,O){super(C),this.bufferSize=O,this.buffer=[]}_next(C){const O=this.buffer;O.push(C),O.length==this.bufferSize&&(this.destination.next(O),this.buffer=[])}_complete(){const C=this.buffer;C.length>0&&this.destination.next(C),super._complete()}}class rt extends Xe.L{constructor(C,O,fe){super(C),this.bufferSize=O,this.startBufferEvery=fe,this.buffers=[],this.count=0}_next(C){const{bufferSize:O,startBufferEvery:fe,buffers:D,count:S}=this;this.count++,S%fe==0&&D.push([]);for(let w=D.length;w--;){const L=D[w];L.push(C),L.length===O&&(D.splice(w,1),this.destination.next(L))}}_complete(){const{buffers:C,destination:O}=this;for(;C.length>0;){let fe=C.shift();fe.length>0&&O.next(fe)}super._complete()}}function re(ge){let C=arguments.length,O=pe.P;(0,X.K)(arguments[arguments.length-1])&&(O=arguments[arguments.length-1],C--);let fe=null;C>=2&&(fe=arguments[1]);let D=Number.POSITIVE_INFINITY;return C>=3&&(D=arguments[2]),function(w){return w.lift(new pt(ge,fe,D,O))}}class pt{constructor(C,O,fe,D){this.bufferTimeSpan=C,this.bufferCreationInterval=O,this.maxBufferSize=fe,this.scheduler=D}call(C,O){return O.subscribe(new _n(C,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class Tn{constructor(){this.buffer=[]}}class _n extends Xe.L{constructor(C,O,fe,D,S){super(C),this.bufferTimeSpan=O,this.bufferCreationInterval=fe,this.maxBufferSize=D,this.scheduler=S,this.contexts=[];const w=this.openContext();if(this.timespanOnly=null==fe||fe<0,this.timespanOnly)this.add(w.closeAction=S.schedule(st,O,{subscriber:this,context:w,bufferTimeSpan:O}));else{const Z={bufferTimeSpan:O,bufferCreationInterval:fe,subscriber:this,scheduler:S};this.add(w.closeAction=S.schedule(Ue,O,{subscriber:this,context:w})),this.add(S.schedule(jt,fe,Z))}}_next(C){const O=this.contexts,fe=O.length;let D;for(let S=0;S<fe;S++){const w=O[S],L=w.buffer;L.push(C),L.length==this.maxBufferSize&&(D=w)}D&&this.onBufferFull(D)}_error(C){this.contexts.length=0,super._error(C)}_complete(){const{contexts:C,destination:O}=this;for(;C.length>0;){const fe=C.shift();O.next(fe.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(C){this.closeContext(C);const O=C.closeAction;if(O.unsubscribe(),this.remove(O),!this.closed&&this.timespanOnly){C=this.openContext();const fe=this.bufferTimeSpan;this.add(C.closeAction=this.scheduler.schedule(st,fe,{subscriber:this,context:C,bufferTimeSpan:fe}))}}openContext(){const C=new Tn;return this.contexts.push(C),C}closeContext(C){this.destination.next(C.buffer);const O=this.contexts;(O?O.indexOf(C):-1)>=0&&O.splice(O.indexOf(C),1)}}function st(ge){const C=ge.subscriber,O=ge.context;O&&C.closeContext(O),C.closed||(ge.context=C.openContext(),ge.context.closeAction=this.schedule(ge,ge.bufferTimeSpan))}function jt(ge){const{bufferCreationInterval:C,bufferTimeSpan:O,subscriber:fe,scheduler:D}=ge,S=fe.openContext();fe.closed||(fe.add(S.closeAction=D.schedule(Ue,O,{subscriber:fe,context:S})),this.schedule(ge,C))}function Ue(ge){const{subscriber:C,context:O}=ge;C.closeContext(O)}var bt=P(5319),gt=P(509),Mt=P(5197);function Et(ge,C){return function(fe){return fe.lift(new en(ge,C))}}class en{constructor(C,O){this.openings=C,this.closingSelector=O}call(C,O){return O.subscribe(new xt(C,this.openings,this.closingSelector))}}class xt extends Mt.L{constructor(C,O,fe){super(C),this.closingSelector=fe,this.contexts=[],this.add((0,gt.D)(this,O))}_next(C){const O=this.contexts,fe=O.length;for(let D=0;D<fe;D++)O[D].buffer.push(C)}_error(C){const O=this.contexts;for(;O.length>0;){const fe=O.shift();fe.subscription.unsubscribe(),fe.buffer=null,fe.subscription=null}this.contexts=null,super._error(C)}_complete(){const C=this.contexts;for(;C.length>0;){const O=C.shift();this.destination.next(O.buffer),O.subscription.unsubscribe(),O.buffer=null,O.subscription=null}this.contexts=null,super._complete()}notifyNext(C,O){C?this.closeBuffer(C):this.openBuffer(O)}notifyComplete(C){this.closeBuffer(C.context)}openBuffer(C){try{const fe=this.closingSelector.call(this,C);fe&&this.trySubscribe(fe)}catch(O){this._error(O)}}closeBuffer(C){const O=this.contexts;if(O&&C){const{buffer:fe,subscription:D}=C;this.destination.next(fe),O.splice(O.indexOf(C),1),this.remove(D),D.unsubscribe()}}trySubscribe(C){const O=this.contexts,D=new bt.w,S={buffer:[],subscription:D};O.push(S);const w=(0,gt.D)(this,C,S);!w||w.closed?this.closeBuffer(S):(w.context=S,this.add(w),D.add(w))}}function En(ge){return function(C){return C.lift(new mr(ge))}}class mr{constructor(C){this.closingSelector=C}call(C,O){return O.subscribe(new Sn(C,this.closingSelector))}}class Sn extends h.Ds{constructor(C,O){super(C),this.closingSelector=O,this.subscribing=!1,this.openBuffer()}_next(C){this.buffer.push(C)}_complete(){const C=this.buffer;C&&this.destination.next(C),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let fe,{closingSubscription:C}=this;C&&(this.remove(C),C.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:D}=this;fe=D()}catch(D){return this.error(D)}C=new bt.w,this.closingSubscription=C,this.add(C),this.subscribing=!0,C.add((0,h.ft)(fe,new h.IY(this))),this.subscribing=!1}}var ar=P(5304),Dn=P(9112);function tn(ge){return C=>C.lift(new Dn.Ms(ge))}var Dr=P(9796),Ht=P(4402);function wt(...ge){let C=null;return"function"==typeof ge[ge.length-1]&&(C=ge.pop()),1===ge.length&&(0,Dr.k)(ge[0])&&(ge=ge[0].slice()),O=>O.lift.call((0,Ht.D)([O,...ge]),new Dn.Ms(C))}var Ln=P(9923);function dn(...ge){return C=>C.lift.call((0,Ln.z)(C,...ge))}var wn=P(5766),Qt=P(4612);function Ft(ge,C){return(0,Qt.b)(()=>ge,C)}function ir(ge){return C=>C.lift(new Ar(ge,C))}class Ar{constructor(C,O){this.predicate=C,this.source=O}call(C,O){return O.subscribe(new fn(C,this.predicate,this.source))}}class fn extends Xe.L{constructor(C,O,fe){super(C),this.predicate=O,this.source=fe,this.count=0,this.index=0}_next(C){this.predicate?this._tryPredicate(C):this.count++}_tryPredicate(C){let O;try{O=this.predicate(C,this.index++,this.source)}catch(fe){return void this.destination.error(fe)}O&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function St(ge){return C=>C.lift(new Xn(ge))}class Xn{constructor(C){this.durationSelector=C}call(C,O){return O.subscribe(new xn(C,this.durationSelector))}}class xn extends h.Ds{constructor(C,O){super(C),this.durationSelector=O,this.hasValue=!1}_next(C){try{const O=this.durationSelector.call(this,C);O&&this._tryNext(C,O)}catch(O){this.destination.error(O)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(C,O){let fe=this.durationSubscription;this.value=C,this.hasValue=!0,fe&&(fe.unsubscribe(),this.remove(fe)),fe=(0,h.ft)(O,new h.IY(this)),fe&&!fe.closed&&this.add(this.durationSubscription=fe)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const C=this.value,O=this.durationSubscription;O&&(this.durationSubscription=void 0,O.unsubscribe(),this.remove(O)),this.value=void 0,this.hasValue=!1,super._next(C)}}}function ln(ge,C=pe.P){return O=>O.lift(new Fn(ge,C))}class Fn{constructor(C,O){this.dueTime=C,this.scheduler=O}call(C,O){return O.subscribe(new Ir(C,this.dueTime,this.scheduler))}}class Ir extends Xe.L{constructor(C,O,fe){super(C),this.dueTime=O,this.scheduler=fe,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(C){this.clearDebounce(),this.lastValue=C,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Rr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:C}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(C)}}clearDebounce(){const C=this.debouncedSubscription;null!==C&&(this.remove(C),C.unsubscribe(),this.debouncedSubscription=null)}}function Rr(ge){ge.debouncedNext()}var at=P(5242),$e=P(5792);function Ae(ge,C){return C?O=>new Xt(O,C).lift(new dt(ge)):O=>O.lift(new dt(ge))}class dt{constructor(C){this.delayDurationSelector=C}call(C,O){return O.subscribe(new mt(C,this.delayDurationSelector))}}class mt extends Mt.L{constructor(C,O){super(C),this.delayDurationSelector=O,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(C,O,fe,D,S){this.destination.next(C),this.removeSubscription(S),this.tryComplete()}notifyError(C,O){this._error(C)}notifyComplete(C){const O=this.removeSubscription(C);O&&this.destination.next(O),this.tryComplete()}_next(C){const O=this.index++;try{const fe=this.delayDurationSelector(C,O);fe&&this.tryDelay(fe,C)}catch(fe){this.destination.error(fe)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(C){C.unsubscribe();const O=this.delayNotifierSubscriptions.indexOf(C);return-1!==O&&this.delayNotifierSubscriptions.splice(O,1),C.outerValue}tryDelay(C,O){const fe=(0,gt.D)(this,C,O);fe&&!fe.closed&&(this.destination.add(fe),this.delayNotifierSubscriptions.push(fe))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Xt extends ee.y{constructor(C,O){super(),this.source=C,this.subscriptionDelay=O}_subscribe(C){this.subscriptionDelay.subscribe(new At(C,this.source))}}class At extends Xe.L{constructor(C,O){super(),this.parent=C,this.source=O,this.sourceSubscribed=!1}_next(C){this.subscribeToSource()}_error(C){this.unsubscribe(),this.parent.error(C)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Yt(){return function(C){return C.lift(new On)}}class On{call(C,O){return O.subscribe(new _r(C))}}class _r extends Xe.L{constructor(C){super(C)}_next(C){C.observe(this.destination)}}function Wn(ge,C){return O=>O.lift(new Cn(ge,C))}class Cn{constructor(C,O){this.keySelector=C,this.flushes=O}call(C,O){return O.subscribe(new Nr(C,this.keySelector,this.flushes))}}class Nr extends h.Ds{constructor(C,O,fe){super(C),this.keySelector=O,this.values=new Set,fe&&this.add((0,h.ft)(fe,new h.IY(this)))}notifyNext(){this.values.clear()}notifyError(C){this._error(C)}_next(C){this.keySelector?this._useKeySelector(C):this._finalizeNext(C,C)}_useKeySelector(C){let O;const{destination:fe}=this;try{O=this.keySelector(C)}catch(D){return void fe.error(D)}this._finalizeNext(O,C)}_finalizeNext(C,O){const{values:fe}=this;fe.has(C)||(fe.add(C),this.destination.next(O))}}var yn=P(7519);function on(ge,C){return(0,yn.x)((O,fe)=>C?C(O[ge],fe[ge]):O[ge]===fe[ge])}var Ce=P(7108),Te=P(5435),Ke=P(4635),Fe=P(5257);function Ie(ge,C){if(ge<0)throw new Ce.W;const O=arguments.length>=2;return fe=>fe.pipe((0,Te.h)((D,S)=>S===ge),(0,Fe.q)(1),O?(0,at.d)(C):(0,Ke.T)(()=>new Ce.W))}var _t=P(5917);function Ot(...ge){return C=>(0,Ln.z)(C,(0,_t.of)(...ge))}function mn(ge,C){return O=>O.lift(new jn(ge,C,O))}class jn{constructor(C,O,fe){this.predicate=C,this.thisArg=O,this.source=fe}call(C,O){return O.subscribe(new lr(C,this.predicate,this.thisArg,this.source))}}class lr extends Xe.L{constructor(C,O,fe,D){super(C),this.predicate=O,this.thisArg=fe,this.source=D,this.index=0,this.thisArg=fe||this}notifyComplete(C){this.destination.next(C),this.destination.complete()}_next(C){let O=!1;try{O=this.predicate.call(this.thisArg,C,this.index++,this.source)}catch(fe){return void this.destination.error(fe)}O||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Mr(){return ge=>ge.lift(new er)}class er{call(C,O){return O.subscribe(new tt(C))}}class tt extends h.Ds{constructor(C){super(C),this.hasCompleted=!1,this.hasSubscription=!1}_next(C){this.hasSubscription||(this.hasSubscription=!0,this.add((0,h.ft)(C,new h.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var He=P(8002);function ke(ge,C){return C?O=>O.pipe(ke((fe,D)=>(0,Ht.D)(ge(fe,D)).pipe((0,He.U)((S,w)=>C(fe,S,D,w))))):O=>O.lift(new Dt(ge))}class Dt{constructor(C){this.project=C}call(C,O){return O.subscribe(new qt(C,this.project))}}class qt extends h.Ds{constructor(C,O){super(C),this.project=O,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(C){this.hasSubscription||this.tryNext(C)}tryNext(C){let O;const fe=this.index++;try{O=this.project(C,fe)}catch(D){return void this.destination.error(D)}this.hasSubscription=!0,this._innerSub(O)}_innerSub(C){const O=new h.IY(this),fe=this.destination;fe.add(O);const D=(0,h.ft)(C,O);D!==O&&fe.add(D)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(C){this.destination.next(C)}notifyError(C){this.destination.error(C)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Yn(ge,C=Number.POSITIVE_INFINITY,O){return C=(C||0)<1?Number.POSITIVE_INFINITY:C,fe=>fe.lift(new $n(ge,C,O))}class $n{constructor(C,O,fe){this.project=C,this.concurrent=O,this.scheduler=fe}call(C,O){return O.subscribe(new Rn(C,this.project,this.concurrent,this.scheduler))}}class Rn extends h.Ds{constructor(C,O,fe,D){super(C),this.project=O,this.concurrent=fe,this.scheduler=D,this.index=0,this.active=0,this.hasCompleted=!1,fe<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(C){const{subscriber:O,result:fe,value:D,index:S}=C;O.subscribeToProjection(fe,D,S)}_next(C){const O=this.destination;if(O.closed)return void this._complete();const fe=this.index++;if(this.active<this.concurrent){O.next(C);try{const{project:D}=this,S=D(C,fe);this.scheduler?this.destination.add(this.scheduler.schedule(Rn.dispatch,0,{subscriber:this,result:S,value:C,index:fe})):this.subscribeToProjection(S,C,fe)}catch(D){O.error(D)}}else this.buffer.push(C)}subscribeToProjection(C,O,fe){this.active++,this.destination.add((0,h.ft)(C,new h.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(C){this._next(C)}notifyComplete(){const C=this.buffer;this.active--,C&&C.length>0&&this._next(C.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Jn=P(197);function Pr(ge,C){if("function"!=typeof ge)throw new TypeError("predicate is not a function");return O=>O.lift(new Lr(ge,O,!1,C))}class Lr{constructor(C,O,fe,D){this.predicate=C,this.source=O,this.yieldIndex=fe,this.thisArg=D}call(C,O){return O.subscribe(new tr(C,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class tr extends Xe.L{constructor(C,O,fe,D,S){super(C),this.predicate=O,this.source=fe,this.yieldIndex=D,this.thisArg=S,this.index=0}notifyComplete(C){const O=this.destination;O.next(C),O.complete(),this.unsubscribe()}_next(C){const{predicate:O,thisArg:fe}=this,D=this.index++;try{O.call(fe||this,C,D,this.source)&&this.notifyComplete(this.yieldIndex?D:C)}catch(S){this.destination.error(S)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function xr(ge,C){return O=>O.lift(new Lr(ge,O,!0,C))}var Jt=P(8049),un=P(9765);function Qn(ge,C,O,fe){return D=>D.lift(new zr(ge,C,O,fe))}class zr{constructor(C,O,fe,D){this.keySelector=C,this.elementSelector=O,this.durationSelector=fe,this.subjectSelector=D}call(C,O){return O.subscribe(new Xr(C,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Xr extends Xe.L{constructor(C,O,fe,D,S){super(C),this.keySelector=O,this.elementSelector=fe,this.durationSelector=D,this.subjectSelector=S,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(C){let O;try{O=this.keySelector(C)}catch(fe){return void this.error(fe)}this._group(C,O)}_group(C,O){let fe=this.groups;fe||(fe=this.groups=new Map);let S,D=fe.get(O);if(this.elementSelector)try{S=this.elementSelector(C)}catch(w){this.error(w)}else S=C;if(!D){D=this.subjectSelector?this.subjectSelector():new un.xQ,fe.set(O,D);const w=new Zr(O,D,this);if(this.destination.next(w),this.durationSelector){let L;try{L=this.durationSelector(new Zr(O,D))}catch(Z){return void this.error(Z)}this.add(L.subscribe(new Tr(O,D,this)))}}D.closed||D.next(S)}_error(C){const O=this.groups;O&&(O.forEach((fe,D)=>{fe.error(C)}),O.clear()),this.destination.error(C)}_complete(){const C=this.groups;C&&(C.forEach((O,fe)=>{O.complete()}),C.clear()),this.destination.complete()}removeGroup(C){this.groups.delete(C)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Tr extends Xe.L{constructor(C,O,fe){super(O),this.key=C,this.group=O,this.parent=fe}_next(C){this.complete()}_unsubscribe(){const{parent:C,key:O}=this;this.key=this.parent=null,C&&C.removeGroup(O)}}class Zr extends ee.y{constructor(C,O,fe){super(),this.key=C,this.groupSubject=O,this.refCountSubscription=fe}_subscribe(C){const O=new bt.w,{refCountSubscription:fe,groupSubject:D}=this;return fe&&!fe.closed&&O.add(new cr(fe)),O.add(D.subscribe(C)),O}}class cr extends bt.w{constructor(C){super(),this.parent=C,C.count++}unsubscribe(){const C=this.parent;!C.closed&&!this.closed&&(super.unsubscribe(),C.count-=1,0===C.count&&C.attemptedToUnsubscribe&&C.unsubscribe())}}function hi(){return function(C){return C.lift(new Bi)}}class Bi{call(C,O){return O.subscribe(new Vn(C))}}class Vn extends Xe.L{_next(C){}}function Le(){return ge=>ge.lift(new Ve)}class Ve{call(C,O){return O.subscribe(new _e(C))}}class _e extends Xe.L{constructor(C){super(C)}notifyComplete(C){const O=this.destination;O.next(C),O.complete()}_next(C){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Ze=P(2627);function vt(ge){return C=>C.lift(new In(ge))}class In{constructor(C){this.value=C}call(C,O){return O.subscribe(new Bn(C,this.value))}}class Bn extends Xe.L{constructor(C,O){super(C),this.value=O}_next(C){this.destination.next(this.value)}}var ur=P(3098);function Kn(){return function(C){return C.lift(new xs)}}class xs{call(C,O){return O.subscribe(new Zi(C))}}class Zi extends Xe.L{constructor(C){super(C)}_next(C){this.destination.next(ur.P.createNext(C))}_error(C){const O=this.destination;O.next(ur.P.createError(C)),O.complete()}_complete(){const C=this.destination;C.next(ur.P.createComplete()),C.complete()}}var Qi=P(2145),qi=P(548),Xi=P(4022);function ei(ge,C){return arguments.length>=2?function(fe){return(0,Xi.z)((0,Qi.R)(ge,C),(0,qi.h)(1),(0,at.d)(C))(fe)}:function(fe){return(0,Xi.z)((0,Qi.R)((D,S,w)=>ge(D,S,w+1)),(0,qi.h)(1))(fe)}}function Yi(ge){return ei("function"==typeof ge?(O,fe)=>ge(O,fe)>0?O:fe:(O,fe)=>O>fe?O:fe)}var bi=P(6682);function us(...ge){return C=>C.lift.call((0,bi.T)(C,...ge))}var _s=P(3282),yr=P(9773);function Ui(ge,C,O=Number.POSITIVE_INFINITY){return"function"==typeof C?(0,yr.zg)(()=>ge,C,O):("number"==typeof C&&(O=C),(0,yr.zg)(()=>ge,O))}function Ds(ge,C,O=Number.POSITIVE_INFINITY){return fe=>fe.lift(new Ji(ge,C,O))}class Ji{constructor(C,O,fe){this.accumulator=C,this.seed=O,this.concurrent=fe}call(C,O){return O.subscribe(new hr(C,this.accumulator,this.seed,this.concurrent))}}class hr extends h.Ds{constructor(C,O,fe,D){super(C),this.accumulator=O,this.acc=fe,this.concurrent=D,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(C){if(this.active<this.concurrent){const O=this.index++,fe=this.destination;let D;try{const{accumulator:S}=this;D=S(this.acc,C,O)}catch(S){return fe.error(S)}this.active++,this._innerSub(D)}else this.buffer.push(C)}_innerSub(C){const O=new h.IY(this),fe=this.destination;fe.add(O);const D=(0,h.ft)(C,O);D!==O&&fe.add(D)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(C){const{destination:O}=this;this.acc=C,this.hasValue=!0,O.next(C)}notifyComplete(){const C=this.buffer;this.active--,C.length>0?this._next(C.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function zn(ge){return ei("function"==typeof ge?(O,fe)=>ge(O,fe)<0?O:fe:(O,fe)=>O<fe?O:fe)}var fr=P(4458),je=P(9746);function Ne(...ge){return 1===ge.length&&(0,Dr.k)(ge[0])&&(ge=ge[0]),C=>C.lift(new Pt(ge))}class Pt{constructor(C){this.nextSources=C}call(C,O){return O.subscribe(new Gt(C,this.nextSources))}}class Gt extends h.Ds{constructor(C,O){super(C),this.destination=C,this.nextSources=O}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(C){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const C=this.nextSources.shift();if(C){const O=new h.IY(this),fe=this.destination;fe.add(O);const D=(0,h.ft)(C,O);D!==O&&fe.add(D)}else this.destination.complete()}}var pn=P(9328);function Mn(ge,C){function O(){return!O.pred.apply(O.thisArg,arguments)}return O.pred=ge,O.thisArg=C,O}function kn(ge,C){return O=>[(0,Te.h)(ge,C)(O),(0,Te.h)(Mn(ge,C))(O)]}function Hn(...ge){const C=ge.length;if(0===C)throw new Error("list of properties cannot be empty.");return O=>(0,He.U)(function(ge,C){return fe=>{let D=fe;for(let S=0;S<C;S++){const w=null!=D?D[ge[S]]:void 0;if(void 0===w)return;D=w}return D}}(ge,C))(O)}var ls=P(2790),Yr=P(6215);function As(ge){return C=>(0,fr.O)(new Yr.X(ge))(C)}class ys extends un.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(C){return this.hasError?(C.error(this.thrownError),bt.w.EMPTY):this.hasCompleted&&this.hasNext?(C.next(this.value),C.complete(),bt.w.EMPTY):super._subscribe(C)}next(C){this.hasCompleted||(this.value=C,this.hasNext=!0)}error(C){this.hasCompleted||super.error(C)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function eo(){return ge=>(0,fr.O)(new ys)(ge)}var fa=P(8229);function Mi(ge,C,O,fe){O&&"function"!=typeof O&&(fe=O);const D="function"==typeof O?O:void 0,S=new fa.t(ge,C,fe);return w=>(0,fr.O)(()=>S,D)(w)}var Oi=P(6693);class ho{call(C,O){return O.subscribe(new fo(C))}}class fo extends Mt.L{constructor(C){super(C),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(C){this.observables.push(C)}_complete(){const C=this.observables,O=C.length;if(0===O)this.destination.complete();else{for(let fe=0;fe<O&&!this.hasFirst;fe++){const S=(0,gt.D)(this,C[fe],void 0,fe);this.subscriptions&&this.subscriptions.push(S),this.add(S)}this.observables=null}}notifyNext(C,O,fe){if(!this.hasFirst){this.hasFirst=!0;for(let D=0;D<this.subscriptions.length;D++)if(D!==fe){let S=this.subscriptions[D];S.unsubscribe(),this.remove(S)}this.subscriptions=null}this.destination.next(O)}}function cs(...ge){return function(O){return 1===ge.length&&(0,Dr.k)(ge[0])&&(ge=ge[0]),O.lift.call(function(...ge){if(1===ge.length){if(!(0,Dr.k)(ge[0]))return ge[0];ge=ge[0]}return(0,Oi.n)(ge,void 0).lift(new ho)}(O,...ge))}}var Rs=P(9193);function ni(ge=-1){return C=>0===ge?(0,Rs.c)():C.lift(new ki(ge<0?-1:ge-1,C))}class ki{constructor(C,O){this.count=C,this.source=O}call(C,O){return O.subscribe(new Ns(C,this.count,this.source))}}class Ns extends Xe.L{constructor(C,O,fe){super(C),this.count=O,this.source=fe}complete(){if(!this.isStopped){const{source:C,count:O}=this;if(0===O)return super.complete();O>-1&&(this.count=O-1),C.subscribe(this._unsubscribeAndRecycle())}}}function fi(ge){return C=>C.lift(new vn(ge))}class vn{constructor(C){this.notifier=C}call(C,O){return O.subscribe(new Os(C,this.notifier,O))}}class Os extends h.Ds{constructor(C,O,fe){super(C),this.notifier=O,this.source=fe,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:C,retriesSubscription:O}=this;C&&(C.unsubscribe(),this.notifications=void 0),O&&(O.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:C}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=C,this}subscribeToRetries(){let C;this.notifications=new un.xQ;try{const{notifier:O}=this;C=O(this.notifications)}catch(O){return super.complete()}this.retries=C,this.retriesSubscription=(0,h.ft)(C,new h.IY(this))}}function ks(ge=-1){return C=>C.lift(new Ws(ge,C))}class Ws{constructor(C,O){this.count=C,this.source=O}call(C,O){return O.subscribe(new Ci(C,this.count,this.source))}}class Ci extends Xe.L{constructor(C,O,fe){super(C),this.count=O,this.source=fe}error(C){if(!this.isStopped){const{source:O,count:fe}=this;if(0===fe)return super.error(C);fe>-1&&(this.count=fe-1),O.subscribe(this._unsubscribeAndRecycle())}}}function oi(ge){return C=>C.lift(new ri(ge,C))}class ri{constructor(C,O){this.notifier=C,this.source=O}call(C,O){return O.subscribe(new po(C,this.notifier,this.source))}}class po extends h.Ds{constructor(C,O,fe){super(C),this.notifier=O,this.source=fe}error(C){if(!this.isStopped){let O=this.errors,fe=this.retries,D=this.retriesSubscription;if(fe)this.errors=void 0,this.retriesSubscription=void 0;else{O=new un.xQ;try{const{notifier:S}=this;fe=S(O)}catch(S){return super.error(S)}D=(0,h.ft)(fe,new h.IY(this))}this._unsubscribeAndRecycle(),this.errors=O,this.retries=fe,this.retriesSubscription=D,O.next(C)}}_unsubscribe(){const{errors:C,retriesSubscription:O}=this;C&&(C.unsubscribe(),this.errors=void 0),O&&(O.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:C}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=C,this.source.subscribe(this)}}var ai=P(1307);function ds(ge){return C=>C.lift(new Ur(ge))}class Ur{constructor(C){this.notifier=C}call(C,O){const fe=new $s(C),D=O.subscribe(fe);return D.add((0,h.ft)(this.notifier,new h.IY(fe))),D}}class $s extends h.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(C){this.value=C,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function j(ge,C=pe.P){return O=>O.lift(new ae(ge,C))}class ae{constructor(C,O){this.period=C,this.scheduler=O}call(C,O){return O.subscribe(new H(C,this.period,this.scheduler))}}class H extends Xe.L{constructor(C,O,fe){super(C),this.period=O,this.scheduler=fe,this.hasValue=!1,this.add(fe.schedule(he,O,{subscriber:this,period:O}))}_next(C){this.lastValue=C,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function he(ge){let{subscriber:C,period:O}=ge;C.notifyNext(),this.schedule(ge,O)}function Me(ge,C){return O=>O.lift(new yt(ge,C))}class yt{constructor(C,O){this.compareTo=C,this.comparator=O}call(C,O){return O.subscribe(new Vt(C,this.compareTo,this.comparator))}}class Vt extends Xe.L{constructor(C,O,fe){super(C),this.compareTo=O,this.comparator=fe,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(O.subscribe(new U(C,this)))}_next(C){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(C),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:C,_b:O,comparator:fe}=this;for(;C.length>0&&O.length>0;){let D=C.shift(),S=O.shift(),w=!1;try{w=fe?fe(D,S):D===S}catch(L){this.destination.error(L)}w||this.emit(!1)}}emit(C){const{destination:O}=this;O.next(C),O.complete()}nextB(C){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(C),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class U extends Xe.L{constructor(C,O){super(C),this.parent=O}_next(C){this.parent.nextB(C)}_error(C){this.parent.error(C),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var V=P(8345),N=P(7349),te=P(3410);function Ye(ge){return C=>C.lift(new Kt(ge,C))}class Kt{constructor(C,O){this.predicate=C,this.source=O}call(C,O){return O.subscribe(new Pn(C,this.predicate,this.source))}}class Pn extends Xe.L{constructor(C,O,fe){super(C),this.predicate=O,this.source=fe,this.seenValue=!1,this.index=0}applySingleValue(C){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=C)}_next(C){const O=this.index++;this.predicate?this.tryNext(C,O):this.applySingleValue(C)}tryNext(C,O){try{this.predicate(C,O,this.source)&&this.applySingleValue(C)}catch(fe){this.destination.error(fe)}}_complete(){const C=this.destination;this.index>0?(C.next(this.seenValue?this.singleValue:void 0),C.complete()):C.error(new te.K)}}function Vr(ge){return C=>C.lift(new pi(ge))}class pi{constructor(C){this.total=C}call(C,O){return O.subscribe(new Er(C,this.total))}}class Er extends Xe.L{constructor(C,O){super(C),this.total=O,this.count=0}_next(C){++this.count>this.total&&this.destination.next(C)}}function Gr(ge){return C=>C.lift(new Gn(ge))}class Gn{constructor(C){if(this._skipCount=C,this._skipCount<0)throw new Ce.W}call(C,O){return O.subscribe(0===this._skipCount?new Xe.L(C):new nr(C,this._skipCount))}}class nr extends Xe.L{constructor(C,O){super(C),this._skipCount=O,this._count=0,this._ring=new Array(O)}_next(C){const O=this._skipCount,fe=this._count++;if(fe<O)this._ring[fe]=C;else{const D=fe%O,S=this._ring,w=S[D];S[D]=C,this.destination.next(w)}}}function vs(ge){return C=>C.lift(new $o(ge))}class $o{constructor(C){this.notifier=C}call(C,O){return O.subscribe(new ui(C,this.notifier))}}class ui extends h.Ds{constructor(C,O){super(C),this.hasValue=!1;const fe=new h.IY(this);this.add(fe),this.innerSubscription=fe;const D=(0,h.ft)(O,fe);D!==fe&&(this.add(D),this.innerSubscription=D)}_next(C){this.hasValue&&super._next(C)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}var pa=P(6888),Ga=P(9761),Ko=P(2639),Ms=P(3190),Nt=P(4487);function wr(){return(0,Ms.w)(Nt.y)}var ga=P(9499);function Ii(ge){return C=>C.lift(new zo(ge))}class zo{constructor(C){this.notifier=C}call(C,O){const fe=new bo(C),D=(0,h.ft)(this.notifier,new h.IY(fe));return D&&!fe.seenValue?(fe.add(D),O.subscribe(fe)):fe}}class bo extends h.Ds{constructor(C){super(C),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ks(ge,C=!1){return O=>O.lift(new zs(ge,C))}class zs{constructor(C,O){this.predicate=C,this.inclusive=O}call(C,O){return O.subscribe(new Ls(C,this.predicate,this.inclusive))}}class Ls extends Xe.L{constructor(C,O,fe){super(C),this.predicate=O,this.inclusive=fe,this.index=0}_next(C){const O=this.destination;let fe;try{fe=this.predicate(C,this.index++)}catch(D){return void O.error(D)}this.nextOrComplete(C,fe)}nextOrComplete(C,O){const fe=this.destination;Boolean(O)?fe.next(C):(this.inclusive&&fe.next(C),fe.complete())}}var go=P(8307);const Co={leading:!0,trailing:!1};function Io(ge,C=Co){return O=>O.lift(new Fs(ge,!!C.leading,!!C.trailing))}class Fs{constructor(C,O,fe){this.durationSelector=C,this.leading=O,this.trailing=fe}call(C,O){return O.subscribe(new ji(C,this.durationSelector,this.leading,this.trailing))}}class ji extends h.Ds{constructor(C,O,fe,D){super(C),this.destination=C,this.durationSelector=O,this._leading=fe,this._trailing=D,this._hasValue=!1}_next(C){this._hasValue=!0,this._sendValue=C,this._throttled||(this._leading?this.send():this.throttle(C))}send(){const{_hasValue:C,_sendValue:O}=this;C&&(this.destination.next(O),this.throttle(O)),this._hasValue=!1,this._sendValue=void 0}throttle(C){const O=this.tryDurationSelector(C);O&&this.add(this._throttled=(0,h.ft)(O,new h.IY(this)))}tryDurationSelector(C){try{return this.durationSelector(C)}catch(O){return this.destination.error(O),null}}throttlingDone(){const{_throttled:C,_trailing:O}=this;C&&C.unsubscribe(),this._throttled=void 0,O&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Hi(ge,C=pe.P,O=Co){return fe=>fe.lift(new Wa(ge,C,O.leading,O.trailing))}class Wa{constructor(C,O,fe,D){this.duration=C,this.scheduler=O,this.leading=fe,this.trailing=D}call(C,O){return O.subscribe(new Jr(C,this.duration,this.scheduler,this.leading,this.trailing))}}class Jr extends Xe.L{constructor(C,O,fe,D,S){super(C),this.duration=O,this.scheduler=fe,this.leading=D,this.trailing=S,this._hasTrailingValue=!1,this._trailingValue=null}_next(C){this.throttled?this.trailing&&(this._trailingValue=C,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(hs,this.duration,{subscriber:this})),this.leading?this.destination.next(C):this.trailing&&(this._trailingValue=C,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const C=this.throttled;C&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),C.unsubscribe(),this.remove(C),this.throttled=null)}}function hs(ge){const{subscriber:C}=ge;C.clearThrottle()}var ma=P(1439);function Zo(ge=pe.P){return C=>(0,ma.P)(()=>C.pipe((0,Qi.R)(({current:O},fe)=>({value:fe,current:ge.now(),last:O}),{current:ge.now(),value:void 0,last:void 0}),(0,He.U)(({current:O,last:fe,value:D})=>new Qo(D,O-fe))))}class Qo{constructor(C,O){this.value=C,this.interval=O}}const xo=(()=>{function ge(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return ge.prototype=Object.create(Error.prototype),ge})();var Es=P(9989);function _a(ge,C,O=pe.P){return fe=>{let D=(0,Es.J)(ge),S=D?+ge-O.now():Math.abs(ge);return fe.lift(new to(S,D,C,O))}}class to{constructor(C,O,fe,D){this.waitFor=C,this.absoluteTimeout=O,this.withObservable=fe,this.scheduler=D}call(C,O){return O.subscribe(new qo(C,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class qo extends h.Ds{constructor(C,O,fe,D,S){super(C),this.absoluteTimeout=O,this.waitFor=fe,this.withObservable=D,this.scheduler=S,this.scheduleTimeout()}static dispatchTimeout(C){const{withObservable:O}=C;C._unsubscribeAndRecycle(),C.add((0,h.ft)(O,new h.IY(C)))}scheduleTimeout(){const{action:C}=this;C?this.action=C.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(qo.dispatchTimeout,this.waitFor,this))}_next(C){this.absoluteTimeout||this.scheduleTimeout(),super._next(C)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var fs=P(205);function Zs(ge,C=pe.P){return _a(ge,(0,fs._)(new xo),C)}function ya(ge=pe.P){return(0,He.U)(C=>new va(C,ge.now()))}class va{constructor(C,O){this.value=C,this.timestamp=O}}function Pi(ge,C,O){return 0===O?[C]:(ge.push(C),ge)}function $a(){return ei(Pi,[])}function Qs(ge){return function(O){return O.lift(new mo(ge))}}class mo{constructor(C){this.windowBoundaries=C}call(C,O){const fe=new Xo(C),D=O.subscribe(fe);return D.closed||fe.add((0,h.ft)(this.windowBoundaries,new h.IY(fe))),D}}class Xo extends h.Ds{constructor(C){super(C),this.window=new un.xQ,C.next(this.window)}notifyNext(){this.openWindow()}notifyError(C){this._error(C)}notifyComplete(){this._complete()}_next(C){this.window.next(C)}_error(C){this.window.error(C),this.destination.error(C)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const C=this.window;C&&C.complete();const O=this.destination,fe=this.window=new un.xQ;O.next(fe)}}function xi(ge,C=0){return function(fe){return fe.lift(new vi(ge,C))}}class vi{constructor(C,O){this.windowSize=C,this.startWindowEvery=O}call(C,O){return O.subscribe(new Ti(C,this.windowSize,this.startWindowEvery))}}class Ti extends Xe.L{constructor(C,O,fe){super(C),this.destination=C,this.windowSize=O,this.startWindowEvery=fe,this.windows=[new un.xQ],this.count=0,C.next(this.windows[0])}_next(C){const O=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,fe=this.destination,D=this.windowSize,S=this.windows,w=S.length;for(let Z=0;Z<w&&!this.closed;Z++)S[Z].next(C);const L=this.count-D+1;if(L>=0&&L%O==0&&!this.closed&&S.shift().complete(),++this.count%O==0&&!this.closed){const Z=new un.xQ;S.push(Z),fe.next(Z)}}_error(C){const O=this.windows;if(O)for(;O.length>0&&!this.closed;)O.shift().error(C);this.destination.error(C)}_complete(){const C=this.windows;if(C)for(;C.length>0&&!this.closed;)C.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function no(ge){let C=pe.P,O=null,fe=Number.POSITIVE_INFINITY;return(0,X.K)(arguments[3])&&(C=arguments[3]),(0,X.K)(arguments[2])?C=arguments[2]:(0,ce.k)(arguments[2])&&(fe=Number(arguments[2])),(0,X.K)(arguments[1])?C=arguments[1]:(0,ce.k)(arguments[1])&&(O=Number(arguments[1])),function(S){return S.lift(new Yo(ge,O,fe,C))}}class Yo{constructor(C,O,fe,D){this.windowTimeSpan=C,this.windowCreationInterval=O,this.maxWindowSize=fe,this.scheduler=D}call(C,O){return O.subscribe(new _o(C,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class To extends un.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(C){this._numberOfNextedValues++,super.next(C)}get numberOfNextedValues(){return this._numberOfNextedValues}}class _o extends Xe.L{constructor(C,O,fe,D,S){super(C),this.destination=C,this.windowTimeSpan=O,this.windowCreationInterval=fe,this.maxWindowSize=D,this.scheduler=S,this.windows=[];const w=this.openWindow();if(null!==fe&&fe>=0){const Z={windowTimeSpan:O,windowCreationInterval:fe,subscriber:this,scheduler:S};this.add(S.schedule(ts,O,{subscriber:this,window:w,context:null})),this.add(S.schedule(yo,fe,Z))}else this.add(S.schedule(Vs,O,{subscriber:this,window:w,windowTimeSpan:O}))}_next(C){const O=this.windows,fe=O.length;for(let D=0;D<fe;D++){const S=O[D];S.closed||(S.next(C),S.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(S))}}_error(C){const O=this.windows;for(;O.length>0;)O.shift().error(C);this.destination.error(C)}_complete(){const C=this.windows;for(;C.length>0;){const O=C.shift();O.closed||O.complete()}this.destination.complete()}openWindow(){const C=new To;return this.windows.push(C),this.destination.next(C),C}closeWindow(C){C.complete();const O=this.windows;O.splice(O.indexOf(C),1)}}function Vs(ge){const{subscriber:C,windowTimeSpan:O,window:fe}=ge;fe&&C.closeWindow(fe),ge.window=C.openWindow(),this.schedule(ge,O)}function yo(ge){const{windowTimeSpan:C,subscriber:O,scheduler:fe,windowCreationInterval:D}=ge,S=O.openWindow(),w=this;let L={action:w,subscription:null};L.subscription=fe.schedule(ts,C,{subscriber:O,window:S,context:L}),w.add(L.subscription),w.schedule(ge,D)}function ts(ge){const{subscriber:C,window:O,context:fe}=ge;fe&&fe.action&&fe.subscription&&fe.action.remove(fe.subscription),C.closeWindow(O)}function Ea(ge,C){return O=>O.lift(new bs(ge,C))}class bs{constructor(C,O){this.openings=C,this.closingSelector=O}call(C,O){return O.subscribe(new li(C,this.openings,this.closingSelector))}}class li extends Mt.L{constructor(C,O,fe){super(C),this.openings=O,this.closingSelector=fe,this.contexts=[],this.add(this.openSubscription=(0,gt.D)(this,O,O))}_next(C){const{contexts:O}=this;if(O){const fe=O.length;for(let D=0;D<fe;D++)O[D].window.next(C)}}_error(C){const{contexts:O}=this;if(this.contexts=null,O){const fe=O.length;let D=-1;for(;++D<fe;){const S=O[D];S.window.error(C),S.subscription.unsubscribe()}}super._error(C)}_complete(){const{contexts:C}=this;if(this.contexts=null,C){const O=C.length;let fe=-1;for(;++fe<O;){const D=C[fe];D.window.complete(),D.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:C}=this;if(this.contexts=null,C){const O=C.length;let fe=-1;for(;++fe<O;){const D=C[fe];D.window.unsubscribe(),D.subscription.unsubscribe()}}}notifyNext(C,O,fe,D,S){if(C===this.openings){let w;try{const{closingSelector:We}=this;w=We(O)}catch(We){return this.error(We)}const L=new un.xQ,Z=new bt.w,de={window:L,subscription:Z};this.contexts.push(de);const Pe=(0,gt.D)(this,w,de);Pe.closed?this.closeWindow(this.contexts.length-1):(Pe.context=de,Z.add(Pe)),this.destination.next(L)}else this.closeWindow(this.contexts.indexOf(C))}notifyError(C){this.error(C)}notifyComplete(C){C!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(C.context))}closeWindow(C){if(-1===C)return;const{contexts:O}=this,fe=O[C],{window:D,subscription:S}=fe;O.splice(C,1),D.complete(),S.unsubscribe()}}function ro(ge){return function(O){return O.lift(new iu(ge))}}class iu{constructor(C){this.closingSelector=C}call(C,O){return O.subscribe(new Bs(C,this.closingSelector))}}class Bs extends Mt.L{constructor(C,O){super(C),this.destination=C,this.closingSelector=O,this.openWindow()}notifyNext(C,O,fe,D,S){this.openWindow(S)}notifyError(C){this._error(C)}notifyComplete(C){this.openWindow(C)}_next(C){this.window.next(C)}_error(C){this.window.error(C),this.destination.error(C),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(C=null){C&&(this.remove(C),C.unsubscribe());const O=this.window;O&&O.complete();const fe=this.window=new un.xQ;let D;this.destination.next(fe);try{const{closingSelector:S}=this;D=S()}catch(S){return this.destination.error(S),void this.window.error(S)}this.add(this.closingNotification=(0,gt.D)(this,D))}}var io=P(7057),so=P(377);class Wr{constructor(C){this.resultSelector=C}call(C,O){return O.subscribe(new wo(C,this.resultSelector))}}class wo extends Xe.L{constructor(C,O,fe=Object.create(null)){super(C),this.resultSelector=O,this.iterators=[],this.active=0,this.resultSelector="function"==typeof O?O:void 0}_next(C){const O=this.iterators;(0,Dr.k)(C)?O.push(new $r(C)):O.push("function"==typeof C[so.hZ]?new su(C[so.hZ]()):new oo(this.destination,this,C))}_complete(){const C=this.iterators,O=C.length;if(this.unsubscribe(),0!==O){this.active=O;for(let fe=0;fe<O;fe++){let D=C[fe];D.stillUnsubscribed?this.destination.add(D.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const C=this.iterators,O=C.length,fe=this.destination;for(let w=0;w<O;w++){let L=C[w];if("function"==typeof L.hasValue&&!L.hasValue())return}let D=!1;const S=[];for(let w=0;w<O;w++){let L=C[w],Z=L.next();if(L.hasCompleted()&&(D=!0),Z.done)return void fe.complete();S.push(Z.value)}this.resultSelector?this._tryresultSelector(S):fe.next(S),D&&fe.complete()}_tryresultSelector(C){let O;try{O=this.resultSelector.apply(this,C)}catch(fe){return void this.destination.error(fe)}this.destination.next(O)}}class su{constructor(C){this.iterator=C,this.nextResult=C.next()}hasValue(){return!0}next(){const C=this.nextResult;return this.nextResult=this.iterator.next(),C}hasCompleted(){const C=this.nextResult;return Boolean(C&&C.done)}}class $r{constructor(C){this.array=C,this.index=0,this.length=0,this.length=C.length}[so.hZ](){return this}next(C){const O=this.index++;return O<this.length?{value:this.array[O],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class oo extends h.Ds{constructor(C,O,fe){super(C),this.parent=O,this.observable=fe,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[so.hZ](){return this}next(){const C=this.buffer;return 0===C.length&&this.isComplete?{value:null,done:!0}:{value:C.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(C){this.buffer.push(C),this.parent.checkIterators()}subscribe(){return(0,h.ft)(this.observable,new h.IY(this))}}function Wi(...ge){return function(O){return O.lift.call(function(...ge){const C=ge[ge.length-1];return"function"==typeof C&&ge.pop(),(0,Oi.n)(ge,void 0).lift(new Wr(C))}(O,...ge))}}function So(ge){return C=>C.lift(new Wr(ge))}},158:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.AppRoutingModule=void 0;const h=P(9895),R=P(6361),z=P(4338),ue=P(5556),pe=P(6985),ee=P(3509),ce=P(1020),X=P(3980),le=P(6845),$=P(2327),J=P(5608),ie=P(7716),xe=(P(9895),[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:pe.DashboardComponent,canActivate:[X.AuthGuard]},{path:"details/:id",component:$.DetailsComponent},{path:"sign-in",component:R.LoginComponent},{path:"sign-up",component:ue.RegisterComponent},{path:"profile",component:le.ProfileComponent},{path:"logout",component:z.LogoutComponent},{path:"forgot-password",component:ee.ForgotPasswordComponent},{path:"email-verification",component:ce.VerifyEmailComponent},{path:"page-not-found",component:J.PageNotFoundComponent},{path:"**",redirectTo:"/page-not-found"}]);class Xe{}ve.AppRoutingModule=Xe,Xe.\u0275fac=function(Se){return new(Se||Xe)},Xe.\u0275mod=ie.\u0275\u0275defineNgModule({type:Xe}),Xe.\u0275inj=ie.\u0275\u0275defineInjector({imports:[[h.RouterModule.forRoot(xe)],h.RouterModule]})},5041:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.AppComponent=void 0;const h=P(7716),R=P(1228),z=P(9895),ue=P(8583),pe=function(){return["/profile"]};function ee(le,$){1&le&&(h.\u0275\u0275elementStart(0,"div",11),h.\u0275\u0275elementStart(1,"button",12),h.\u0275\u0275text(2," My Account "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"ul",13),h.\u0275\u0275elementStart(4,"li"),h.\u0275\u0275elementStart(5,"a",14),h.\u0275\u0275text(6,"Profile"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&le&&(h.\u0275\u0275advance(5),h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction0(1,pe)))}const ce=function(){return["/dashboard"]};class X{constructor($){this.authService=$,this.title="popmovies",this.isLoggedIn=!0}}ve.AppComponent=X,X.\u0275fac=function($){return new($||X)(h.\u0275\u0275directiveInject(R.AuthService))},X.\u0275cmp=h.\u0275\u0275defineComponent({type:X,selectors:[["app-root"]],decls:19,vars:3,consts:[[1,"container-fluid",2,"margin","auto"],[1,"navbar","navbar-dark","bg-dark","fixed-top"],[1,"container-fluid"],["routerLinkActive","active",1,"navbar-brand",3,"routerLink"],["class","dropdown  me-4",4,"ngIf"],[1,"row","justify-content-center"],[1,"row"],[1,"navbar","bottom","navbar","navbar-dark","bg-dark","fixed-bottom"],[1,"d-flex","flex-column","flex-end"],["src","./assets/images/blue_long_1-8ba2ac31f354005783fab473602c34c3f4fd207150182061e425d366e4f34596.png","alt","",2,"width","30%"],[1,"tiny-font-light"],[1,"dropdown","me-4"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"]],template:function($,J){1&$&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"nav",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"a",3),h.\u0275\u0275text(4," Popular Movies "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div"),h.\u0275\u0275template(6,ee,7,2,"div",4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275element(8,"router-outlet"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",2),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"nav",7),h.\u0275\u0275elementStart(12,"div",2),h.\u0275\u0275elementStart(13,"div",6),h.\u0275\u0275elementStart(14,"div",8),h.\u0275\u0275elementStart(15,"div"),h.\u0275\u0275element(16,"img",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",10),h.\u0275\u0275text(18,"This product uses the TMDB API but is not endorsed or certified by TMDB"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&$&&(h.\u0275\u0275advance(3),h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction0(2,ce)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngIf",J.authService.userState))},directives:[z.RouterLinkWithHref,z.RouterLinkActive,ue.NgIf,z.RouterOutlet],styles:[""]})},6747:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.AppModule=void 0;const h=P(9075),R=P(665),z=P(1841),ue=P(8939),pe=P(1325),ee=P(4384),ce=P(158),X=P(5041),le=P(9618),$=P(2340),J=P(7716);P(9618),P(8939);class xe{}ve.AppModule=xe,xe.\u0275fac=function(et){return new(et||xe)},xe.\u0275mod=J.\u0275\u0275defineNgModule({type:xe,bootstrap:[X.AppComponent]}),xe.\u0275inj=J.\u0275\u0275defineInjector({providers:[],imports:[[h.BrowserModule,z.HttpClientModule,R.FormsModule,R.ReactiveFormsModule,ce.AppRoutingModule,le.ServiceWorkerModule.register("ngsw-worker.js",{enabled:$.environment.production,registrationStrategy:"registerWhenStable:30000"}),ue.AngularFireModule.initializeApp($.environment.firebaseConfig),pe.AngularFireAuthModule,ee.AngularFirestoreModule]]})},3509:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.ForgotPasswordComponent=void 0;const h=P(7716),R=P(1228),z=P(665),ue=P(9895);class pe{constructor(ce){this.authService=ce}ngOnInit(){}}ve.ForgotPasswordComponent=pe,pe.\u0275fac=function(ce){return new(ce||pe)(h.\u0275\u0275directiveInject(R.AuthService))},pe.\u0275cmp=h.\u0275\u0275defineComponent({type:pe,selectors:[["app-forgot-password"]],decls:14,vars:0,consts:[[1,"profile-container"],[1,"authBlock"],[1,"formGroup"],["type","email","ngModel","","name","username","placeholder","Email Address","required","",1,"form-control"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btn-primary","btn-block",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"]],template:function(ce,X){if(1&ce){const le=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"h3"),h.\u0275\u0275text(3,"Forgot Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(4,"div",2),h.\u0275\u0275element(5,"input",3,4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"div",2),h.\u0275\u0275elementStart(8,"input",5),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(le);const J=h.\u0275\u0275reference(6);return X.authService.ForgotPassword(J.value)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",6),h.\u0275\u0275elementStart(10,"span"),h.\u0275\u0275text(11,"Already have an account? "),h.\u0275\u0275elementStart(12,"span",7),h.\u0275\u0275text(13,"Log In"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}},directives:[z.DefaultValueAccessor,z.NgControlStatus,z.NgModel,z.RequiredValidator,ue.RouterLink],styles:[""]})},6361:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.LoginComponent=void 0;const h=P(7716),R=P(1228),z=P(9895),ue=P(8583),pe=P(665),ee=P(120);function ce(J,ie){1&J&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",17),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function X(J,ie){if(1&J&&(h.\u0275\u0275elementStart(0,"div",18),h.\u0275\u0275elementStart(1,"p"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&J){const we=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(we.authService.errorMessage)}}function le(J,ie){1&J&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275element(1,"app-spinner"),h.\u0275\u0275elementEnd())}class ${constructor(ie,we){this.authService=ie,this.router=we,this.isLoading=!1,this.errorMessage=""}ngOnInit(){}ngOnDestroy(){this.isLoading=!1}}ve.LoginComponent=$,$.\u0275fac=function(ie){return new(ie||$)(h.\u0275\u0275directiveInject(R.AuthService),h.\u0275\u0275directiveInject(z.Router))},$.\u0275cmp=h.\u0275\u0275defineComponent({type:$,selectors:[["app-login"]],decls:33,vars:4,consts:[[1,"profile-container"],[4,"ngIf"],[1,"authBlock"],["action","","role","form"],["loginForm","ngForm"],[1,"formGroup"],["type","text","ngModel","","name","username","placeholder","Username","required","",1,"form-control"],["userName",""],["type","password","ngModel","","name","password","placeholder","Password","required","",1,"form-control"],["password",""],["type","button",1,"btn","btn-primary","btn-block",3,"disabled","click"],["class","alert alert-danger mt-4","role","alert",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/sign-up",1,"redirect"],[1,"placeholder"],["role","alert",1,"alert","alert-danger","mt-4"]],template:function(ie,we){if(1&ie){const xe=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275template(1,ce,3,0,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Sign in"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"form",3,4),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275elementStart(8,"label"),h.\u0275\u0275text(9,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(10,"input",6,7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"div",5),h.\u0275\u0275elementStart(13,"label"),h.\u0275\u0275text(14,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(15,"input",8,9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",5),h.\u0275\u0275elementStart(18,"button",10),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(xe);const et=h.\u0275\u0275reference(11),Se=h.\u0275\u0275reference(16);return we.authService.SignIn(et.value,Se.value)}),h.\u0275\u0275text(19,"Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(20,X,3,1,"div",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(21,"div",5),h.\u0275\u0275elementStart(22,"button",12),h.\u0275\u0275listener("click",function(){return we.authService.GoogleAuth()}),h.\u0275\u0275text(23," Log in with Google "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(24,"div",13),h.\u0275\u0275elementStart(25,"span",14),h.\u0275\u0275text(26,"Forgot Password?"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(27,"div",15),h.\u0275\u0275elementStart(28,"span"),h.\u0275\u0275text(29,"Not registered yet?"),h.\u0275\u0275elementStart(30,"span",16),h.\u0275\u0275text(31," Register"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(32,le,2,0,"div",1),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&ie){const xe=h.\u0275\u0275reference(6);h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",we.authService.isLoading),h.\u0275\u0275advance(17),h.\u0275\u0275property("disabled",!xe.valid),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",we.authService.errorMessage),h.\u0275\u0275advance(12),h.\u0275\u0275property("ngIf",we.isLoading)}},directives:[ue.NgIf,pe.\u0275NgNoValidate,pe.NgControlStatusGroup,pe.NgForm,pe.DefaultValueAccessor,pe.NgControlStatus,pe.NgModel,pe.RequiredValidator,z.RouterLink,ee.SpinnerComponent],styles:[""]})},4338:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.LogoutComponent=void 0;const h=P(7716);class R{constructor(){}ngOnInit(){}}ve.LogoutComponent=R,R.\u0275fac=function(ue){return new(ue||R)},R.\u0275cmp=h.\u0275\u0275defineComponent({type:R,selectors:[["app-logout"]],decls:2,vars:0,template:function(ue,pe){1&ue&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"You have successfully logged out"),h.\u0275\u0275elementEnd())},styles:[""]})},5556:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.RegisterComponent=void 0;const h=P(7716),R=P(1228),z=P(8583),ue=P(665),pe=P(9895),ee=P(120);function ce($,J){1&$&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",15),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function X($,J){if(1&$&&(h.\u0275\u0275elementStart(0,"div",16),h.\u0275\u0275elementStart(1,"p"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(3,"button",17),h.\u0275\u0275elementEnd()),2&$){const ie=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(ie.authService.errorMessage)}}class le{constructor(J){this.authService=J,this.isLoading=!1,this.errorMessage=""}ngOnInit(){}}ve.RegisterComponent=le,le.\u0275fac=function(J){return new(J||le)(h.\u0275\u0275directiveInject(R.AuthService))},le.\u0275cmp=h.\u0275\u0275defineComponent({type:le,selectors:[["app-register"]],decls:27,vars:3,consts:[[1,"profile-container"],[4,"ngIf"],[1,"authBlock"],["action","","role","form"],["registerForm","ngForm"],[1,"formGroup"],["placeholder","Email","type","email","ngModel","","name","username","required","",1,"form-control"],["userEmail",""],["type","password","placeholder","Password","ngModel","","name","password","required","",1,"form-control"],["userPwd",""],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],["type","button","value","Sign Up",1,"btn","btn-block","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-block","btn-danger","m-3",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"],[1,"placeholder"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"]],template:function(J,ie){if(1&J){const we=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275template(1,ce,3,0,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Register"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"form",3,4),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275elementStart(8,"label"),h.\u0275\u0275text(9,"Email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(10,"input",6,7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"div",5),h.\u0275\u0275elementStart(13,"label"),h.\u0275\u0275text(14,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(15,"input",8,9),h.\u0275\u0275template(17,X,4,1,"div",10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(18,"div",5),h.\u0275\u0275elementStart(19,"input",11),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(we);const Xe=h.\u0275\u0275reference(11),et=h.\u0275\u0275reference(16);return ie.authService.SignUp(Xe.value,et.value)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"button",12),h.\u0275\u0275listener("click",function(){return ie.authService.GoogleAuth()}),h.\u0275\u0275text(21," Continue with Google "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"div",13),h.\u0275\u0275elementStart(23,"span"),h.\u0275\u0275text(24,"Already have an account? "),h.\u0275\u0275elementStart(25,"span",14),h.\u0275\u0275text(26,"Log In"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&J){const we=h.\u0275\u0275reference(6);h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",ie.authService.isLoading),h.\u0275\u0275advance(16),h.\u0275\u0275property("ngIf",ie.authService.errorMessage),h.\u0275\u0275advance(2),h.\u0275\u0275property("disabled",!we.valid)}},directives:[z.NgIf,ue.\u0275NgNoValidate,ue.NgControlStatusGroup,ue.NgForm,ue.DefaultValueAccessor,ue.NgControlStatus,ue.NgModel,ue.RequiredValidator,pe.RouterLink,ee.SpinnerComponent],styles:[""]})},1020:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.VerifyEmailComponent=void 0;const h=P(7716),R=P(1228),z=P(8583),ue=P(9895);function pe(X,le){if(1&X){const $=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"h1"),h.\u0275\u0275text(2,"You have registered successfully"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"p"),h.\u0275\u0275text(4,"We've sent you a verification email. If you did not receive it, click the button below and we shall resend it. "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div",3),h.\u0275\u0275elementStart(6,"p",4),h.\u0275\u0275text(7,"Confirmation mail has been sent to "),h.\u0275\u0275elementStart(8,"strong"),h.\u0275\u0275text(9),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(10,"."),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"button",5),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView($),h.\u0275\u0275nextContext().authService.SendVerificationMail()}),h.\u0275\u0275text(12," Verify Email "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&X){const $=h.\u0275\u0275nextContext();h.\u0275\u0275advance(9),h.\u0275\u0275textInterpolate($.user.email)}}function ee(X,le){1&X&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"h1"),h.\u0275\u0275text(2,"You're email has been verified successfully"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"button",6),h.\u0275\u0275text(4,"Home"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}class ce{constructor(le){this.authService=le}ngOnInit(){}}ve.VerifyEmailComponent=ce,ce.\u0275fac=function(le){return new(le||ce)(h.\u0275\u0275directiveInject(R.AuthService))},ce.\u0275cmp=h.\u0275\u0275defineComponent({type:ce,selectors:[["app-verify-email"]],decls:4,vars:2,consts:[[1,"profile-container","flex-column"],[1,"authBlock"],[4,"ngIf"],[1,"formGroup"],[1,"text-center"],["type","button",1,"btn","btn-block","btn-success",3,"click"],["routerLink","/dashboard",1,"btn","btn-outline-primary"]],template:function(le,$){1&le&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275template(2,pe,13,1,"div",2),h.\u0275\u0275template(3,ee,5,0,"div",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&le&&(h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",!$.authService.userState.emailVerified),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",$.authService.userState.emailVerified))},directives:[z.NgIf,ue.RouterLink],styles:[""]})},6985:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.DashboardComponent=void 0;const h=P(7716),R=P(1228),z=P(885),ue=P(8583),pe=P(120);function ee(le,$){1&le&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",9),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function ce(le,$){if(1&le){const J=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",10),h.\u0275\u0275elementStart(1,"img",11),h.\u0275\u0275listener("click",function(){const xe=h.\u0275\u0275restoreView(J).$implicit;return h.\u0275\u0275nextContext().openDetailsPage(xe.id,xe)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(2,"div",12),h.\u0275\u0275elementStart(3,"p",13),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"small"),h.\u0275\u0275text(6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"small"),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"small"),h.\u0275\u0275text(10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"small"),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&le){const J=$.$implicit,ie=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate2("src","",ie.baseImageURI,"",J.poster_path,"",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(J.original_title),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Popularity: ",J.popularity," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Release date: ",J.release_date," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Vote average: ",J.vote_average," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Vote count: ",J.vote_count," ")}}class X{constructor($,J){this.authService=$,this.tmdbService=J,this.moviesLoaded=!1,this.placeholderArray=[],this.placeholderArray=Array(15).fill(1),this.baseImageURI=J.images_uri}ngOnInit(){this.subscription=this.tmdbService.getMovies().subscribe($=>{this.movies=$,this.results=$.results})}openDetailsPage($,J){this.tmdbService.openDetailsPage($,J)}ngOnDestroy(){this.subscription.unsubscribe()}}ve.DashboardComponent=X,X.\u0275fac=function($){return new($||X)(h.\u0275\u0275directiveInject(R.AuthService),h.\u0275\u0275directiveInject(z.TmdbService))},X.\u0275cmp=h.\u0275\u0275defineComponent({type:X,selectors:[["app-dashboard"]],decls:11,vars:2,consts:[[1,"container-fluid",2,"margin-top","5em","margin-bottom","5em"],[1,"jumbotron","jumbotron-fluid","dashboard-banner"],[1,"container"],[1,"display-4"],[1,"lead"],[1,"row","justify-content-center"],[4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center"],["class","movie_card col-xl-2 col-lg-3 col-md-3 col-xs-1",4,"ngFor","ngForOf"],[1,"placeholder"],[1,"movie_card","col-xl-2","col-lg-3","col-md-3","col-xs-1"],["alt","...",1,"movie-image",3,"src","click"],[1,"movie-content"],[1,"movie-title"]],template:function($,J){1&$&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h1",3),h.\u0275\u0275text(4,"Welcome to popular movies"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"p",4),h.\u0275\u0275text(6,"Below are the 20 most popular movies today"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275template(8,ee,3,0,"div",6),h.\u0275\u0275elementStart(9,"div",7),h.\u0275\u0275template(10,ce,13,7,"div",8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&$&&(h.\u0275\u0275advance(8),h.\u0275\u0275property("ngIf",J.moviesLoaded),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngForOf",J.results))},directives:[ue.NgIf,ue.NgForOf,pe.SpinnerComponent],styles:[""]})},2327:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.DetailsComponent=void 0;const h=P(7716),R=P(9895),z=P(885),ue=P(8583),pe=P(120);function ee(X,le){1&X&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",9),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}class ce{constructor(le,$){this.route=le,this.tmdbService=$,this.isLoading=!1}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.imageBaseUri=this.tmdbService.images_uri,this.isLoading=!0,this.subscription=this.route.queryParams.subscribe(le=>{this.movie_object=le,this.isLoading=!1})}}ve.DetailsComponent=ce,ce.\u0275fac=function(le){return new(le||ce)(h.\u0275\u0275directiveInject(R.ActivatedRoute),h.\u0275\u0275directiveInject(z.TmdbService))},ce.\u0275cmp=h.\u0275\u0275defineComponent({type:ce,selectors:[["app-details"]],decls:15,vars:16,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[4,"ngIf"],[1,"jumbotron"],["alt","",1,"details-header-poster;",3,"src"],[1,"row","d-flex","justify-content-start","align-items-center","mt-5"],[1,"col-xl-3","col-lg-3","col-md-4","col-sm-12","col-xs-12","mt-3","ml-1"],["alt","",1,"movie-details-image",3,"src"],[1,"col-xl-6","col-lg-6","col-md-8","col-sm-12","col-xs-12","mt-4"],[1,"placeholder"]],template:function(le,$){1&le&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275template(2,ee,3,0,"div",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275element(4,"img",4),h.\u0275\u0275elementStart(5,"div",5),h.\u0275\u0275elementStart(6,"div",6),h.\u0275\u0275element(7,"img",7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",8),h.\u0275\u0275elementStart(9,"h1"),h.\u0275\u0275text(10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"p"),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"p"),h.\u0275\u0275text(14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&le&&(h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",$.isLoading),h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate2("src","",$.imageBaseUri,"",$.movie_object.backdrop_path,")",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275propertyInterpolate2("src","",$.imageBaseUri,"",$.movie_object.poster_path,"",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate($.movie_object.original_title),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate($.movie_object.overview),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolateV([" ",$.movie_object.adult," ",$.movie_object.id," ",$.movie_object.original_language," ",$.movie_object.popularity," ",$.movie_object.release_date," ",$.movie_object.title," ",$.movie_object.video," ",$.movie_object.vote_average," ",$.movie_object.vote_count," "]))},directives:[ue.NgIf,pe.SpinnerComponent],styles:[""]})},5608:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.PageNotFoundComponent=void 0;const h=P(7716);class R{constructor(){}ngOnInit(){}}ve.PageNotFoundComponent=R,R.\u0275fac=function(ue){return new(ue||R)},R.\u0275cmp=h.\u0275\u0275defineComponent({type:R,selectors:[["app-page-not-found"]],decls:3,vars:0,consts:[[1,"profile-container"]],template:function(ue,pe){1&ue&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"h1"),h.\u0275\u0275text(2,"Page not found"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())},styles:[""]})},6845:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.ProfileComponent=void 0;const h=P(7716),R=P(1228),z=P(8583),ue=P(120),pe=P(665);function ee(xe,Xe){1&xe&&(h.\u0275\u0275elementStart(0,"div",4),h.\u0275\u0275elementStart(1,"div",5),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function ce(xe,Xe){if(1&xe){const et=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",15),h.\u0275\u0275elementStart(1,"span"),h.\u0275\u0275text(2,"Verify your "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"span",16),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(et),h.\u0275\u0275nextContext(3).authService.SendVerificationMail()}),h.\u0275\u0275text(4,"email"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}}function X(xe,Xe){if(1&xe){const et=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",8),h.\u0275\u0275element(1,"img",9),h.\u0275\u0275elementStart(2,"div",10),h.\u0275\u0275elementStart(3,"h2"),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"p"),h.\u0275\u0275text(6,"Email: "),h.\u0275\u0275elementStart(7,"strong"),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"small"),h.\u0275\u0275text(10,"A member since "),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(11,"br"),h.\u0275\u0275elementStart(12,"small"),h.\u0275\u0275elementStart(13,"strong"),h.\u0275\u0275text(14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(15,"br"),h.\u0275\u0275elementStart(16,"small"),h.\u0275\u0275text(17,"Last Login"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(18,"br"),h.\u0275\u0275elementStart(19,"small"),h.\u0275\u0275elementStart(20,"strong"),h.\u0275\u0275text(21),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(22,"br"),h.\u0275\u0275elementStart(23,"small"),h.\u0275\u0275text(24,"Current device"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(25,"br"),h.\u0275\u0275elementStart(26,"small"),h.\u0275\u0275elementStart(27,"strong"),h.\u0275\u0275text(28),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(29,"br"),h.\u0275\u0275template(30,ce,5,0,"div",11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(31,"div",12),h.\u0275\u0275elementStart(32,"button",13),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(et),h.\u0275\u0275nextContext(2).authService.isEditingProfile=!0}),h.\u0275\u0275text(33," Edit profile "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(34,"button",14),h.\u0275\u0275listener("click",function(){return h.\u0275\u0275restoreView(et),h.\u0275\u0275nextContext(2).authService.SignOut()}),h.\u0275\u0275text(35," Sign Out "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&xe){const et=h.\u0275\u0275nextContext().ngIf,Se=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate("src",et.photoURL?et.photoURL:"/assets/icons/icon-128x128.png",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275propertyInterpolate("alt",et.displayName),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate1("Hi ",et.displayName?et.displayName:" there,",""),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(et.email),h.\u0275\u0275advance(6),h.\u0275\u0275textInterpolate(et.metadata.creationTime),h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate(et.metadata.lastSignInTime),h.\u0275\u0275advance(7),h.\u0275\u0275textInterpolate(Se.authService.currentDeviceUserAgent),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",!Se.authService.userState.emailVerified)}}function le(xe,Xe){if(1&xe&&(h.\u0275\u0275elementStart(0,"div",6),h.\u0275\u0275template(1,X,36,8,"div",7),h.\u0275\u0275elementEnd()),2&xe){const et=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",!et.authService.isEditingProfile)}}function $(xe,Xe){if(1&xe&&(h.\u0275\u0275elementStart(0,"div",25),h.\u0275\u0275elementStart(1,"p"),h.\u0275\u0275text(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&xe){const et=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(et.authService.errorMessage)}}function J(xe,Xe){1&xe&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275element(1,"app-spinner"),h.\u0275\u0275elementEnd())}function ie(xe,Xe){if(1&xe){const et=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",6),h.\u0275\u0275elementStart(1,"h3"),h.\u0275\u0275text(2,"Edit profile"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"form",17,18),h.\u0275\u0275elementStart(5,"div",19),h.\u0275\u0275elementStart(6,"label"),h.\u0275\u0275text(7,"Name"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(8,"input",20,21),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(10,"div",19),h.\u0275\u0275elementStart(11,"button",22),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(et);const qe=h.\u0275\u0275reference(9);return h.\u0275\u0275nextContext().authService.updateProfile(qe.value)}),h.\u0275\u0275text(12,"Update profile"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(13,$,3,1,"div",23),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(14,J,2,0,"div",24),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&xe){const et=h.\u0275\u0275reference(4),Se=h.\u0275\u0275nextContext();h.\u0275\u0275advance(11),h.\u0275\u0275property("disabled",!et.valid),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",Se.authService.errorMessage),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",Se.isLoading)}}class we{constructor(Xe){this.authService=Xe}ngOnInit(){}}ve.ProfileComponent=we,we.\u0275fac=function(Xe){return new(Xe||we)(h.\u0275\u0275directiveInject(R.AuthService))},we.\u0275cmp=h.\u0275\u0275defineComponent({type:we,selectors:[["app-profile"]],decls:5,vars:3,consts:[[1,"profile-container"],[1,"row"],["class","profile-container flex-column",4,"ngIf"],["class","authBlock",4,"ngIf"],[1,"profile-container","flex-column"],[1,"placeholder"],[1,"authBlock"],["class","profile-content",4,"ngIf"],[1,"profile-content"],[1,"align-self-start","m-3","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"],["class","redirectToLogin",4,"ngIf"],[1,"mb-2","mt-2"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-danger","m-2",3,"click"],[1,"redirectToLogin"],[1,"redirect",3,"click"],["action","","role","form"],["updateForm","ngForm"],[1,"formGroup"],["type","text","ngModel","","name","name","placeholder","Name","required","",1,"form-control"],["name",""],["type","button",1,"btn","btn-primary","btn-block",3,"disabled","click"],["class","alert alert-danger mt-4","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","mt-4"]],template:function(Xe,et){1&Xe&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275template(2,ee,3,0,"div",2),h.\u0275\u0275template(3,le,2,1,"div",3),h.\u0275\u0275template(4,ie,15,3,"div",3),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&Xe&&(h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",!et.authService.userState),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",et.authService.userState),h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",et.authService.isEditingProfile))},directives:[z.NgIf,ue.SpinnerComponent,pe.\u0275NgNoValidate,pe.NgControlStatusGroup,pe.NgForm,pe.DefaultValueAccessor,pe.NgControlStatus,pe.NgModel,pe.RequiredValidator],styles:[""]})},120:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.SpinnerComponent=void 0;const h=P(7716);class R{constructor(){}ngOnInit(){}}ve.SpinnerComponent=R,R.\u0275fac=function(ue){return new(ue||R)},R.\u0275cmp=h.\u0275\u0275defineComponent({type:R,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"d-flex","align-items-center",2,"justify-content","center","margin-top","auto","margin-bottom","auto"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(ue,pe){1&ue&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275element(1,"div",1),h.\u0275\u0275elementEnd())},styles:[""]})},1228:(It,ve,P)=>{"use strict";var h=P(1052).default;Object.defineProperty(ve,"__esModule",{value:!0}),ve.AuthService=void 0;const R=P(7985),z=P(7716),ue=P(9895),pe=P(4384),ee=P(1325),ce=P(2626),X=P(870),le=P(1841);class ${constructor(ie,we,xe,Xe,et,Se,qe){var rt=this;this.router=ie,this.afs=we,this.afAuth=xe,this.ngZone=Xe,this.db=et,this.deviceService=Se,this.http=qe,this.errorCode="",this.errorMessage="",this.responseMessage="",this.isLoading=!1,this.isEditingProfile=!1,this.newDevice=!1,this.afAuth.authState.subscribe(re=>{re?(this.isLoading=!0,this.userState=re,localStorage.setItem("user",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("user")),this.actionCodeSettings={url:"https://themontired.github.io/popmovies/?email="+this.userState.email,handleCodeInApp:!0},this.getDeviceDetails(re).then(function(){var pt=h(function*(Tn){rt.previousDeviceUserAgent=Tn.data().deviceUserAgent,rt.currentDeviceUserAgent=rt.deviceService.getDeviceInfo().userAgent,rt.responseMessage="New login activity detected on a new device: "+rt.currentDeviceUserAgent+" on "+re.metadata.lastSignInTime+" by "+re.displayName+". If this is not you, reset your password immediately.",rt.currentDeviceUserAgent!==rt.previousDeviceUserAgent&&(rt.sendEmail(re.displayName,re.email,rt.responseMessage),console.log("Response: "+rt.responseMessage))});return function(Tn){return pt.apply(this,arguments)}}()),this.SetUserData(re,this.currentDeviceUserAgent),this.router.navigate(["/dashboard"]),this.isLoading=!1):(this.isLoading=!1,localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")),this.router.navigate(["/"]))})}SignIn(ie,we){var xe=this;return h(function*(){return xe.isLoading=!0,xe.afAuth.signInWithEmailAndPassword(ie,we).then(Xe=>{Xe&&(xe.userState=Xe,xe.router.navigate(["dashboard"]),xe.isLoading=!1,console.log("New device ",xe.newDevice))}).catch(Xe=>{xe.errorMessage=Xe.message,xe.isLoading=!1})})()}SignUp(ie,we){var xe=this;return h(function*(){try{xe.isLoading=!0;const Xe=xe.afAuth.createUserWithEmailAndPassword(ie,we);xe.SendVerificationMail(),xe.SetUserData((yield Xe).user,xe.currentDeviceUserAgent),xe.isLoading=!1}catch(Xe){xe.ngZone.run(()=>{xe.isLoading=!1,xe.errorMessage=Xe.message})}})()}addNewDevice(){var ie=this;return h(function*(){try{ie.db.list(ie.userState.uid).push({device:ie.currentDeviceUserAgent})}catch(we){ie.errorMessage=we.message,console.error(we.message)}})()}SendVerificationMail(){var ie=this;return h(function*(){if(ie.isLoading=!0,ie.userState&&!ie.userState.verified)return ie.afAuth.currentUser.then(we=>we.sendEmailVerification(ie.actionCodeSettings)).then(()=>{ie.ngZone.run(()=>{ie.isLoading=!1,ie.responseMessage="We've sent an "})});ie.isLoading=!1,ie.ngZone.run(()=>{ie.responseMessage="Your email has already been verified :-)"})})()}GoogleAuth(){return this.AuthLogin(new R.GoogleAuthProvider)}AuthLogin(ie){var we=this;return h(function*(){return we.isLoading=!0,we.afAuth.signInWithPopup(ie).then(xe=>{we.ngZone.run(()=>{we.isLoading=!1,we.router.navigate(["dashboard"])}),we.SetUserData(xe.user,we.currentDeviceUserAgent)}).catch(xe=>{we.isLoading=!1,we.errorMessage=xe.message})})()}SetUserData(ie,we){var xe=this;return h(function*(){const Xe=xe.afs.doc(`users/${ie.uid}`),et={uid:ie.uid,email:ie.email,displayName:ie.displayName,photoURL:ie.photoURL,emailVerified:ie.emailVerified,deviceUserAgent:we};try{yield Xe.set(et,{merge:!0})}catch(Se){}})()}getDeviceDetails(ie){var we=this;return h(function*(){return yield we.afs.collection("/users").doc(ie.uid).ref.get()})()}ForgotPassword(ie){var we=this;return h(function*(){return we.isLoading=!0,we.afAuth.sendPasswordResetEmail(ie).then(()=>{we.responseMessage="An email with the reset link has been sent to your email"}).catch(xe=>{we.isLoading=!1,we.responseMessage=xe.message})})()}get isLoggedIn(){const ie=JSON.parse(localStorage.getItem("user"));return null!==ie&&!1!==ie.emailVerified}SignOut(){var ie=this;return h(function*(){ie.isLoading=!0,yield ie.afAuth.signOut().then(()=>{ie.isLoading=!1,localStorage.removeItem("user"),ie.ngZone.run(()=>{window.location.reload(),ie.router.navigate(["sign-in"])})}).catch(we=>{ie.isLoading=!1,ie.errorMessage=we.message})})()}updateProfile(ie){this.isEditingProfile=!1,this.isLoading=!0,this.userState.updateProfile({displayName:ie}).then(()=>{this.isLoading=!1}).catch(we=>{this.isLoading=!1,this.errorMessage=we.message})}sendEmail(ie,we,xe){this.http.post("https://formspree.io/f/meqnwdad",{name:ie,replyto:we,message:xe}).subscribe(et=>{console.log(et)}).unsubscribe()}}ve.AuthService=$,$.\u0275fac=function(ie){return new(ie||$)(z.\u0275\u0275inject(ue.Router),z.\u0275\u0275inject(pe.AngularFirestore),z.\u0275\u0275inject(ee.AngularFireAuth),z.\u0275\u0275inject(z.NgZone),z.\u0275\u0275inject(ce.AngularFireDatabase),z.\u0275\u0275inject(X.DeviceDetectorService),z.\u0275\u0275inject(le.HttpClient))},$.\u0275prov=z.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac,providedIn:"root"})},3980:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.AuthGuard=void 0;const h=P(7716),R=P(1228),z=P(9895);class ue{constructor(ee,ce){this.authService=ee,this.router=ce}canActivate(ee,ce){return this.authService.userState?(console.log("User athenticated"),!0):(console.log("User unathenticated"),this.router.navigate(["sign-in"]),!1)}}ve.AuthGuard=ue,ue.\u0275fac=function(ee){return new(ee||ue)(h.\u0275\u0275inject(R.AuthService),h.\u0275\u0275inject(z.Router))},ue.\u0275prov=h.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac,providedIn:"root"})},885:(It,ve,P)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.TmdbService=void 0;const h=P(2340),R=P(7571),z=P(7716),ue=P(1841),pe=P(9895);class ee{constructor(X,le){this.http=X,this.router=le,this.pageNo=1,this.apiKey=h.environment.tmdbAPIKey,this.baseUri=h.environment.tmdbbaseUri,this.images_uri=h.environment.tmdbimages_uri,this.url=this.baseUri+"movie/popular?api_key="+this.apiKey+"&language=en-US&page="+this.pageNo}getMovies(){return this.http.get(this.url).pipe(R.map(X=>X))}openDetailsPage(X,le){this.router.navigate(["details",X],{queryParams:le})}getMovieDetails(){}}ve.TmdbService=ee,ee.\u0275fac=function(X){return new(X||ee)(z.\u0275\u0275inject(ue.HttpClient),z.\u0275\u0275inject(pe.Router))},ee.\u0275prov=z.\u0275\u0275defineInjectable({token:ee,factory:ee.\u0275fac,providedIn:"root"})},2340:(It,ve)=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0}),ve.environment=void 0,ve.environment={production:!0,firebaseConfig:{apiKey:"AIzaSyAv54h8EtcMzACF77yk2YpsA9th09Q_nXE",authDomain:"popmovies-fc69d.firebaseapp.com",projectId:"popmovies-fc69d",storageBucket:"popmovies-fc69d.appspot.com",messagingSenderId:"993149127523",appId:"1:993149127523:web:78f61846b56387fdc52156",measurementId:"G-PW8Z17YZKG"},tmdbAPIKey:"e7bc36e1bf4e98ccf1db456a7fe1d839",tmdbbaseUri:"https://api.themoviedb.org/3/",tmdbimages_uri:"https://image.tmdb.org/t/p/w500/"}},4431:(It,ve,P)=>{"use strict";const R=P(9075),z=P(7716),ue=P(6747);P(2340).environment.production&&z.enableProdMode(),R.platformBrowser().bootstrapModule(ue.AppModule).catch(ee=>console.error(ee))},1052:It=>{function ve(h,R,z,ue,pe,ee,ce){try{var X=h[ee](ce),le=X.value}catch($){return void z($)}X.done?R(le):Promise.resolve(le).then(ue,pe)}It.exports=function(h){return function(){var R=this,z=arguments;return new Promise(function(ue,pe){var ee=h.apply(R,z);function ce(le){ve(ee,ue,pe,ce,X,"next",le)}function X(le){ve(ee,ue,pe,ce,X,"throw",le)}ce(void 0)})}},It.exports.default=It.exports,It.exports.__esModule=!0},3394:(It,ve,P)=>{"use strict";P.d(ve,{Z:()=>Xe});var h=P(3854),R=P(3910),z=P(8026),ue=P(5422);class pe{constructor(Se,qe){this._delegate=Se,this.firebase=qe,(0,z._addComponent)(Se,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Se,qe=z._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const re=this._delegate.container.getProvider(Se);return!re.isInitialized()&&"EXPLICIT"===(null===(rt=re.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&re.initialize(),re.getImmediate({identifier:qe})}_removeServiceInstance(Se,qe=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(qe)}_addComponent(Se){(0,z._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,z._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const et=function(et){const Se={},qe={__esModule:!0,initializeApp:function(jt,Ue={}){const bt=z.initializeApp(jt,Ue);if((0,h.r3)(Se,bt.name))return Se[bt.name];const gt=new et(bt,qe);return Se[bt.name]=gt,gt},app:re,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function(jt){const Ue=jt.name,bt=Ue.replace("-compat","");if(z._registerComponent(jt)&&"PUBLIC"===jt.type){const gt=(Mt=re())=>{if("function"!=typeof Mt[bt])throw ce.create("invalid-app-argument",{appName:Ue});return Mt[bt]()};void 0!==jt.serviceProps&&(0,h.ZB)(gt,jt.serviceProps),qe[bt]=gt,et.prototype[bt]=function(...Mt){return this._getService.bind(this,Ue).apply(this,jt.multipleInstances?Mt:[])}}return"PUBLIC"===jt.type?qe[bt]:null},removeApp:function(jt){delete Se[jt]},useAsService:function(jt,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:z}};function re(jt){if(!(0,h.r3)(Se,jt=jt||z._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:jt});return Se[jt]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function(){return Object.keys(Se).map(jt=>Se[jt])}}),re.App=et,qe}(pe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function(qe){(0,h.ZB)(et,qe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),et}(),J=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=$;(0,z.registerVersion)("@firebase/app-compat","0.1.28",undefined)},8026:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ar,_DEFAULT_ENTRY_NAME:()=>ar,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>Zt,_apps:()=>tn,_clearComponents:()=>wn,_components:()=>Dr,_getProvider:()=>Ln,_registerComponent:()=>wt,_removeServiceInstance:()=>dn,deleteApp:()=>xn,getApp:()=>St,getApps:()=>Xn,initializeApp:()=>fn,onLog:()=>Ir,registerVersion:()=>Fn,setLogLevel:()=>Rr});var h=P(8239),R=P(3910),z=P(5422),ue=P(3854),pe=P(7449);class ee{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function(Fe){const Ie=Fe.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(_t)){const Ot=_t.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(_t=>_t).join(" ")}}const X="@firebase/app",$=new z.Yd("@firebase/app"),ar="[DEFAULT]",Dn={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,Dr=new Map;function Ht(Fe,Ie){try{Fe.container.addComponent(Ie)}catch(_t){$.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Fe.name}`,_t)}}function Zt(Fe,Ie){Fe.container.addOrOverwriteComponent(Ie)}function wt(Fe){const Ie=Fe.name;if(Dr.has(Ie))return $.debug(`There were multiple attempts to register component ${Ie}.`),!1;Dr.set(Ie,Fe);for(const _t of tn.values())Ht(_t,Fe);return!0}function Ln(Fe,Ie){const _t=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),Fe.container.getProvider(Ie)}function dn(Fe,Ie,_t=ar){Ln(Fe,Ie).clearInstance(_t)}function wn(){Dr.clear()}const Ft=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ir{constructor(Ie,_t,Ot){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const Ar="9.8.4";function fn(Fe,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const _t=Object.assign({name:ar,automaticDataCollectionEnabled:!1},Ie),Ot=_t.name;if("string"!=typeof Ot||!Ot)throw Ft.create("bad-app-name",{appName:String(Ot)});const mn=tn.get(Ot);if(mn){if((0,ue.vZ)(Fe,mn.options)&&(0,ue.vZ)(_t,mn.config))return mn;throw Ft.create("duplicate-app",{appName:Ot})}const jn=new R.H0(Ot);for(const Mr of Dr.values())jn.addComponent(Mr);const lr=new ir(Fe,_t,jn);return tn.set(Ot,lr),lr}function St(Fe=ar){const Ie=tn.get(Fe);if(!Ie)throw Ft.create("no-app",{appName:Fe});return Ie}function Xn(){return Array.from(tn.values())}function xn(Fe){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(Fe){const Ie=Fe.name;tn.has(Ie)&&(tn.delete(Ie),yield Promise.all(Fe.container.getProviders().map(_t=>_t.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function Fn(Fe,Ie,_t){var Ot;let mn=null!==(Ot=Dn[Fe])&&void 0!==Ot?Ot:Fe;_t&&(mn+=`-${_t}`);const jn=mn.match(/\s|\//),lr=Ie.match(/\s|\//);if(jn||lr){const Mr=[`Unable to register library "${mn}" with version "${Ie}":`];return jn&&Mr.push(`library name "${mn}" contains illegal characters (whitespace or "/")`),jn&&lr&&Mr.push("and"),lr&&Mr.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void $.warn(Mr.join(" "))}wt(new R.wA(`${mn}-version`,()=>({library:mn,version:Ie}),"VERSION"))}function Ir(Fe,Ie){if(null!==Fe&&"function"!=typeof Fe)throw Ft.create("invalid-log-argument");(0,z.Am)(Fe,Ie)}function Rr(Fe){(0,z.Ub)(Fe)}const Ae="firebase-heartbeat-store";let dt=null;function mt(){return dt||(dt=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(Fe,Ie)=>{switch(Ie){case 0:Fe.createObjectStore(Ae)}}}).catch(Fe=>{throw Ft.create("storage-open",{originalErrorMessage:Fe.message})})),dt}function At(){return(At=(0,h.Z)(function*(Fe){var Ie;try{return(yield mt()).transaction(Ae).objectStore(Ae).get(_r(Fe))}catch(_t){throw Ft.create("storage-get",{originalErrorMessage:null===(Ie=_t)||void 0===Ie?void 0:Ie.message})}})).apply(this,arguments)}function Yt(Fe,Ie){return On.apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(Fe,Ie){var _t;try{const mn=(yield mt()).transaction(Ae,"readwrite");return yield mn.objectStore(Ae).put(Ie,_r(Fe)),mn.done}catch(Ot){throw Ft.create("storage-set",{originalErrorMessage:null===(_t=Ot)||void 0===_t?void 0:_t.message})}})).apply(this,arguments)}function _r(Fe){return`${Fe.name}!${Fe.options.appId}`}class Nr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Ce(_t),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var Ie=this;return(0,h.Z)(function*(){const Ot=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mn=yn();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==mn&&!Ie._heartbeatsCache.heartbeats.some(jn=>jn.date===mn))return Ie._heartbeatsCache.heartbeats.push({date:mn,agent:Ot}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(jn=>{const lr=new Date(jn.date).valueOf();return Date.now()-lr<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,h.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const _t=yn(),{heartbeatsToSend:Ot,unsentEntries:mn}=function(Fe,Ie=1024){const _t=[];let Ot=Fe.slice();for(const mn of Fe){const jn=_t.find(lr=>lr.agent===mn.agent);if(jn){if(jn.dates.push(mn.date),Te(_t)>Ie){jn.dates.pop();break}}else if(_t.push({agent:mn.agent,dates:[mn.date]}),Te(_t)>Ie){_t.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Ot}}(Ie._heartbeatsCache.heartbeats),jn=(0,ue.L)(JSON.stringify({version:2,heartbeats:Ot}));return Ie._heartbeatsCache.lastSentHeartbeatDate=_t,mn.length>0?(Ie._heartbeatsCache.heartbeats=mn,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),jn})()}}function yn(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,h.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function(Fe){return At.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var _t=this;return(0,h.Z)(function*(){var Ot;if(yield _t._canUseIndexedDBPromise){const jn=yield _t.read();return Yt(_t.app,{lastSentHeartbeatDate:null!==(Ot=Ie.lastSentHeartbeatDate)&&void 0!==Ot?Ot:jn.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var _t=this;return(0,h.Z)(function*(){var Ot;if(yield _t._canUseIndexedDBPromise){const jn=yield _t.read();return Yt(_t.app,{lastSentHeartbeatDate:null!==(Ot=Ie.lastSentHeartbeatDate)&&void 0!==Ot?Ot:jn.lastSentHeartbeatDate,heartbeats:[...jn.heartbeats,...Ie.heartbeats]})}})()}}function Te(Fe){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Fe})).length}wt(new R.wA("platform-logger",Ie=>new ee(Ie),"PRIVATE")),wt(new R.wA("heartbeat",Ie=>new Nr(Ie),"PRIVATE")),Fn(X,"0.7.27",""),Fn(X,"0.7.27","esm2017"),Fn("fire-js","")},3910:(It,ve,P)=>{"use strict";P.d(ve,{wA:()=>z,H0:()=>X,zt:()=>pe});var h=P(8239),R=P(3854);class z{constructor($,J,ie){this.name=$,this.instanceFactory=J,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class pe{constructor($,J){this.name=$,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const J=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(J)){const ie=new R.BH;if(this.instancesDeferred.set(J,ie),this.isInitialized(J)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:J});we&&ie.resolve(we)}catch(we){}}return this.instancesDeferred.get(J).promise}getImmediate($){var J;const ie=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),we=null!==(J=null==$?void 0:$.optional)&&void 0!==J&&J;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(xe){if(we)return null;throw xe}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(J){}for(const[J,ie]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(J);try{const xe=this.getOrInitializeService({instanceIdentifier:we});ie.resolve(xe)}catch(xe){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,h.Z)(function*(){const J=Array.from($.instances.values());yield Promise.all([...J.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...J.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:J={}}=$,ie=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:ie,options:J});for(const[xe,Xe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(xe)&&Xe.resolve(we);return we}onInit($,J){var ie;const we=this.normalizeInstanceIdentifier(J),xe=null!==(ie=this.onInitCallbacks.get(we))&&void 0!==ie?ie:new Set;xe.add($),this.onInitCallbacks.set(we,xe);const Xe=this.instances.get(we);return Xe&&$(Xe,we),()=>{xe.delete($)}}invokeOnInitCallbacks($,J){const ie=this.onInitCallbacks.get(J);if(ie)for(const we of ie)try{we($,J)}catch(xe){}}getOrInitializeService({instanceIdentifier:$,options:J={}}){let ie=this.instances.get($);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ue?void 0:le),options:J}),this.instances.set($,ie),this.instancesOptions.set($,J),this.invokeOnInitCallbacks(ie,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ie)}catch(we){}var le;return ie||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor($){this.name=$,this.providers=new Map}addComponent($){const J=this.getProvider($.name);if(J.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);J.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const J=new pe($,this);return this.providers.set($,J),J}getProviders(){return Array.from(this.providers.values())}}},5422:(It,ve,P)=>{"use strict";P.d(ve,{in:()=>R,Yd:()=>ce,Ub:()=>X,Am:()=>le});const h=[];var R=(()=>{return($=R||(R={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",R;var $})();const z={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ue=R.INFO,pe={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},ee=($,J,...ie)=>{if(J<$.logLevel)return;const we=(new Date).toISOString(),xe=pe[J];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[xe](`[${we}]  ${$.name}:`,...ie)};class ce{constructor(J){this.name=J,this._logLevel=ue,this._logHandler=ee,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in R))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?z[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...J),this._logHandler(this,R.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...J),this._logHandler(this,R.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,R.INFO,...J),this._logHandler(this,R.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,R.WARN,...J),this._logHandler(this,R.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...J),this._logHandler(this,R.ERROR,...J)}}function X($){h.forEach(J=>{J.setLogLevel($)})}function le($,J){for(const ie of h){let we=null;J&&J.level&&(we=z[J.level]),ie.userLogHandler=null===$?null:(xe,Xe,...et)=>{const Se=et.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch(rt){return null}}).filter(qe=>qe).join(" ");Xe>=(null!=we?we:xe.logLevel)&&$({level:R[Xe].toLowerCase(),message:Se,args:et,type:xe.name})}}}},7449:(It,ve,P)=>{"use strict";P.d(ve,{Lj:()=>pt,X3:()=>re});var h=P(8239);let z,ue;const ce=new WeakMap,X=new WeakMap,le=new WeakMap,$=new WeakMap,J=new WeakMap;let xe={get(Ue,bt,gt){if(Ue instanceof IDBTransaction){if("done"===bt)return X.get(Ue);if("objectStoreNames"===bt)return Ue.objectStoreNames||le.get(Ue);if("store"===bt)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return qe(Ue[bt])},set:(Ue,bt,gt)=>(Ue[bt]=gt,!0),has:(Ue,bt)=>Ue instanceof IDBTransaction&&("done"===bt||"store"===bt)||bt in Ue};function Se(Ue){return"function"==typeof Ue?function(Ue){return Ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Ue)?function(...bt){return Ue.apply(rt(this),bt),qe(ce.get(this))}:function(...bt){return qe(Ue.apply(rt(this),bt))}:function(bt,...gt){const Mt=Ue.call(rt(this),bt,...gt);return le.set(Mt,bt.sort?bt.sort():[bt]),qe(Mt)}}(Ue):(Ue instanceof IDBTransaction&&function(Ue){if(X.has(Ue))return;const bt=new Promise((gt,Mt)=>{const Et=()=>{Ue.removeEventListener("complete",en),Ue.removeEventListener("error",xt),Ue.removeEventListener("abort",xt)},en=()=>{gt(),Et()},xt=()=>{Mt(Ue.error||new DOMException("AbortError","AbortError")),Et()};Ue.addEventListener("complete",en),Ue.addEventListener("error",xt),Ue.addEventListener("abort",xt)});X.set(Ue,bt)}(Ue),((Ue,bt)=>bt.some(gt=>Ue instanceof gt))(Ue,z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(Ue,xe):Ue)}function qe(Ue){if(Ue instanceof IDBRequest)return function(Ue){const bt=new Promise((gt,Mt)=>{const Et=()=>{Ue.removeEventListener("success",en),Ue.removeEventListener("error",xt)},en=()=>{gt(qe(Ue.result)),Et()},xt=()=>{Mt(Ue.error),Et()};Ue.addEventListener("success",en),Ue.addEventListener("error",xt)});return bt.then(gt=>{gt instanceof IDBCursor&&ce.set(gt,Ue)}).catch(()=>{}),J.set(bt,Ue),bt}(Ue);if($.has(Ue))return $.get(Ue);const bt=Se(Ue);return bt!==Ue&&($.set(Ue,bt),J.set(bt,Ue)),bt}const rt=Ue=>J.get(Ue);function re(Ue,bt,{blocked:gt,upgrade:Mt,blocking:Et,terminated:en}={}){const xt=indexedDB.open(Ue,bt),En=qe(xt);return Mt&&xt.addEventListener("upgradeneeded",mr=>{Mt(qe(xt.result),mr.oldVersion,mr.newVersion,qe(xt.transaction))}),gt&&xt.addEventListener("blocked",()=>gt()),En.then(mr=>{en&&mr.addEventListener("close",()=>en()),Et&&mr.addEventListener("versionchange",()=>Et())}).catch(()=>{}),En}function pt(Ue,{blocked:bt}={}){const gt=indexedDB.deleteDatabase(Ue);return bt&&gt.addEventListener("blocked",()=>bt()),qe(gt).then(()=>{})}const Tn=["get","getKey","getAll","getAllKeys","count"],_n=["put","add","delete","clear"],st=new Map;function jt(Ue,bt){if(!(Ue instanceof IDBDatabase)||bt in Ue||"string"!=typeof bt)return;if(st.get(bt))return st.get(bt);const gt=bt.replace(/FromIndex$/,""),Mt=bt!==gt,Et=_n.includes(gt);if(!(gt in(Mt?IDBIndex:IDBObjectStore).prototype)||!Et&&!Tn.includes(gt))return;const en=function(){var xt=(0,h.Z)(function*(En,...mr){const Sn=this.transaction(En,Et?"readwrite":"readonly");let ar=Sn.store;return Mt&&(ar=ar.index(mr.shift())),(yield Promise.all([ar[gt](...mr),Et&&Sn.done]))[0]});return function(mr){return xt.apply(this,arguments)}}();return st.set(bt,en),en}var Ue;xe=jT(UT({},Ue=xe),{get:(bt,gt,Mt)=>jt(bt,gt)||Ue.get(bt,gt,Mt),has:(bt,gt)=>!!jt(bt,gt)||Ue.has(bt,gt)})},870:(It,ve,P)=>{"use strict";P.r(ve),P.d(ve,{BROWSERS:()=>ue,BROWSERS_RE:()=>ie,BROWSER_VERSIONS_RE:()=>Se,BROWSER_VERSIONS_RE_MAP:()=>Xe,DESKTOP_DEVICES:()=>X,DEVICES:()=>ce,DEVICES_RE:()=>we,DeviceDetectorService:()=>_n,DeviceType:()=>re,GENERAL:()=>z,MOBILES_RE:()=>pe,OS:()=>le,OS_RE:()=>J,OS_VERSIONS:()=>$,OS_VERSIONS_RE:()=>et,OS_VERSIONS_RE_MAP:()=>xe,OrientationType:()=>pt,ReTree:()=>rt,TABLETS_RE:()=>ee});var h=P(7716),R=P(8583);const z={UKNOWN:"Unknown"},ue={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:z.UKNOWN},pe={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},ee={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},ce={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:z.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},X=[ce.PS4,ce.CHROME_BOOK,ce.MAC,ce.DELL,ce.ASUS,ce.UNKNOWN],le={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:z.UKNOWN},$={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:z.UKNOWN.toLowerCase()},J={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},ie={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},we=Object.assign(Object.assign(Object.assign(Object.assign({},pe),ee),J),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),xe={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Xe={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},et=Object.keys(xe).reduce((st,jt)=>(st[jt]=xe[jt],st),{}),Se=Object.keys(Xe).reduce((st,jt)=>(st[ue[jt]]=Xe[jt],st),{});var qe=Object.freeze({__proto__:null,GENERAL:z,BROWSERS:ue,MOBILES_RE:pe,TABLETS_RE:ee,DEVICES:ce,DESKTOP_DEVICES:X,OS:le,OS_VERSIONS:$,OS_RE:J,BROWSERS_RE:ie,DEVICES_RE:we,OS_VERSIONS_RE_MAP:xe,BROWSER_VERSIONS_RE_MAP:Xe,OS_VERSIONS_RE:et,BROWSER_VERSIONS_RE:Se});class rt{constructor(){}test(jt,Ue){return"string"==typeof Ue&&(Ue=new RegExp(Ue)),Ue instanceof RegExp?Ue.test(jt):Ue&&Array.isArray(Ue.and)?Ue.and.every(bt=>this.test(jt,bt)):Ue&&Array.isArray(Ue.or)?Ue.or.some(bt=>this.test(jt,bt)):!(!Ue||!Ue.not||this.test(jt,Ue.not))}exec(jt,Ue){return"string"==typeof Ue&&(Ue=new RegExp(Ue)),Ue instanceof RegExp?Ue.exec(jt):Ue&&Array.isArray(Ue)?Ue.reduce((bt,gt)=>bt||this.exec(jt,gt),null):null}}var re=(()=>{return(st=re||(re={})).Mobile="mobile",st.Tablet="tablet",st.Desktop="desktop",st.Unknown="unknown",re;var st})(),pt=(()=>{return(st=pt||(pt={})).Portrait="portrait",st.Landscape="landscape",pt;var st})();const Tn="iPad";let _n=(()=>{class st{constructor(Ue){this.platformId=Ue,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new rt,this.deviceType="",this.orientation="",(0,R.isPlatformBrowser)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(Ue=this.userAgent){Ue!==this.userAgent&&(this.userAgent=Ue);const bt=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(bt.forEach(gt=>{this[gt.prop]=Object.keys(qe[gt.const]).reduce((Mt,Et)=>"device"===qe[gt.const][Et]&&(0,R.isPlatformBrowser)(this.platformId)&&(this.reTree.test(this.userAgent,ee[Tn])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(Mt[qe[gt.const][Et]]=Tn,Object):(Mt[qe[gt.const][Et]]=this.reTree.test(Ue,qe[`${gt.const}_RE`][Et]),Mt),{})}),bt.forEach(gt=>{this[gt.prop]=Object.keys(qe[gt.const]).map(Mt=>qe[gt.const][Mt]).reduce((Mt,Et)=>"device"===gt.prop&&Mt===qe[gt.const].ANDROID?this[gt.prop][Et]?Et:Mt:Mt===qe[gt.const].UNKNOWN&&this[gt.prop][Et]?Et:Mt,qe[gt.const].UNKNOWN)}),this.browser_version="0",this.browser!==ue.UNKNOWN){const Mt=this.reTree.exec(Ue,Se[this.browser]);Mt&&(this.browser_version=Mt[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?pt.Landscape:pt.Portrait:z.UKNOWN,this.deviceType=this.isTablet()?re.Tablet:this.isMobile(this.userAgent)?re.Mobile:this.isDesktop(this.userAgent)?re.Desktop:re.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(Ue=this.userAgent){return!this.isTablet(Ue)&&!!Object.keys(pe).find(gt=>this.reTree.test(Ue,pe[gt]))}isTablet(Ue=this.userAgent){return!(!(0,R.isPlatformBrowser)(this.platformId)||!(this.reTree.test(this.userAgent,ee[Tn])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(ee).find(gt=>!!this.reTree.test(Ue,ee[gt]))}isDesktop(Ue=this.userAgent){return(this.device!==ce.UNKNOWN||!this.isMobile(Ue)&&!this.isTablet(Ue))&&X.indexOf(this.device)>-1}}return st.\u0275fac=function(Ue){return new(Ue||st)(h.\u0275\u0275inject(h.PLATFORM_ID))},st.\u0275prov=h.\u0275\u0275defineInjectable({token:st,factory:st.\u0275fac,providedIn:"root"}),st})()},8239:(It,ve,P)=>{"use strict";function h(z,ue,pe,ee,ce,X,le){try{var $=z[X](le),J=$.value}catch(ie){return void pe(ie)}$.done?ue(J):Promise.resolve(J).then(ee,ce)}function R(z){return function(){var ue=this,pe=arguments;return new Promise(function(ee,ce){var X=z.apply(ue,pe);function le(J){h(X,ee,ce,le,$,"next",J)}function $(J){h(X,ee,ce,le,$,"throw",J)}le(void 0)})}}P.d(ve,{Z:()=>R})}},It=>{It(It.s=4431)}]);