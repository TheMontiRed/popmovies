var Zx=Object.defineProperty,qx=Object.defineProperties,Qx=Object.getOwnPropertyDescriptors,VC=Object.getOwnPropertySymbols,Yx=Object.prototype.hasOwnProperty,Jx=Object.prototype.propertyIsEnumerable,UC=(it,ue,D)=>ue in it?Zx(it,ue,{enumerable:!0,configurable:!0,writable:!0,value:D}):it[ue]=D,jC=(it,ue)=>{for(var D in ue||(ue={}))Yx.call(ue,D)&&UC(it,D,ue[D]);if(VC)for(var D of VC(ue))Jx.call(ue,D)&&UC(it,D,ue[D]);return it},BC=(it,ue)=>qx(it,Qx(ue));(self.webpackChunkpopmovies=self.webpackChunkpopmovies||[]).push([[179],{8255:it=>{function ue(D){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+D+"'");throw h.code="MODULE_NOT_FOUND",h})}ue.keys=()=>[],ue.resolve=ue,ue.id=8255,it.exports=ue},8583:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{APP_BASE_HREF:()=>ze,AsyncPipe:()=>ct,CommonModule:()=>Tr,CurrencyPipe:()=>Wi,DOCUMENT:()=>ee,DatePipe:()=>Hn,DecimalPipe:()=>Ai,FormStyle:()=>It,FormatWidth:()=>jt,HashLocationStrategy:()=>Xe,I18nPluralPipe:()=>Hi,I18nSelectPipe:()=>gi,JsonPipe:()=>$i,KeyValuePipe:()=>ls,LOCATION_INITIALIZED:()=>U,Location:()=>_n,LocationStrategy:()=>ye,LowerCasePipe:()=>Tt,NgClass:()=>rn,NgComponentOutlet:()=>mn,NgForOf:()=>In,NgForOfContext:()=>Vn,NgIf:()=>pi,NgIfContext:()=>Ei,NgLocaleLocalization:()=>ie,NgLocalization:()=>be,NgPlural:()=>Wn,NgPluralCase:()=>wi,NgStyle:()=>Ji,NgSwitch:()=>Ii,NgSwitchCase:()=>Br,NgSwitchDefault:()=>Pi,NgTemplateOutlet:()=>Ci,NumberFormatStyle:()=>ut,NumberSymbol:()=>gt,PathLocationStrategy:()=>pt,PercentPipe:()=>ci,PlatformLocation:()=>W,Plural:()=>dt,SlicePipe:()=>Fi,TitleCasePipe:()=>nr,TranslationWidth:()=>at,UpperCasePipe:()=>Hr,VERSION:()=>$r,ViewportScroller:()=>mi,WeekDay:()=>Xt,XhrFactory:()=>Ds,formatCurrency:()=>br,formatDate:()=>cn,formatNumber:()=>Zn,formatPercent:()=>Ir,getCurrencySymbol:()=>cr,getLocaleCurrencyCode:()=>jn,getLocaleCurrencyName:()=>Ct,getLocaleCurrencySymbol:()=>Vt,getLocaleDateFormat:()=>Ut,getLocaleDateTimeFormat:()=>pn,getLocaleDayNames:()=>Ln,getLocaleDayPeriods:()=>vn,getLocaleDirection:()=>Wt,getLocaleEraNames:()=>nn,getLocaleExtraDayPeriodRules:()=>Cn,getLocaleExtraDayPeriods:()=>Bn,getLocaleFirstDayOfWeek:()=>ar,getLocaleId:()=>Gn,getLocaleMonthNames:()=>un,getLocaleNumberFormat:()=>an,getLocaleNumberSymbol:()=>Kt,getLocalePluralCase:()=>Yt,getLocaleTimeFormat:()=>ht,getLocaleWeekEndRange:()=>Dt,getNumberOfCurrencyDigits:()=>Te,isPlatformBrowser:()=>Is,isPlatformServer:()=>ws,isPlatformWorkerApp:()=>ds,isPlatformWorkerUi:()=>Gi,registerLocaleData:()=>Me,\u0275BrowserPlatformLocation:()=>G,\u0275DomAdapter:()=>K,\u0275NullViewportScroller:()=>vr,\u0275PLATFORM_BROWSER_ID:()=>Qr,\u0275PLATFORM_SERVER_ID:()=>os,\u0275PLATFORM_WORKER_APP_ID:()=>li,\u0275PLATFORM_WORKER_UI_ID:()=>hr,\u0275angular_packages_common_common_a:()=>Y,\u0275angular_packages_common_common_b:()=>Ae,\u0275angular_packages_common_common_c:()=>tn,\u0275angular_packages_common_common_d:()=>Le,\u0275angular_packages_common_common_e:()=>ui,\u0275angular_packages_common_common_f:()=>Xi,\u0275getDOM:()=>j,\u0275parseCookieValue:()=>Ye,\u0275setRootDomAdapter:()=>ne});var h=D(7716);let A=null;function j(){return A}function ne(P){A||(A=P)}class K{}const ee=new h.InjectionToken("DocumentToken");let W=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:Y,token:P,providedIn:"platform"}),P})();function Y(){return(0,h.\u0275\u0275inject)(G)}const U=new h.InjectionToken("Location Initialized");let G=(()=>{class P extends W{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(k){const J=j().getGlobalEventTarget(this._doc,"window");return J.addEventListener("popstate",k,!1),()=>J.removeEventListener("popstate",k)}onHashChange(k){const J=j().getGlobalEventTarget(this._doc,"window");return J.addEventListener("hashchange",k,!1),()=>J.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,J,pe){re()?this._history.pushState(k,J,pe):this.location.hash=pe}replaceState(k,J,pe){re()?this._history.replaceState(k,J,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275inject(ee))},P.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:Ae,token:P,providedIn:"platform"}),P})();function re(){return!!window.history.pushState}function Ae(){return new G((0,h.\u0275\u0275inject)(ee))}function Fe(P,Q){if(0==P.length)return Q;if(0==Q.length)return P;let k=0;return P.endsWith("/")&&k++,Q.startsWith("/")&&k++,2==k?P+Q.substring(1):1==k?P+Q:P+"/"+Q}function $e(P){const Q=P.match(/#|\?|$/),k=Q&&Q.index||P.length;return P.slice(0,k-("/"===P[k-1]?1:0))+P.slice(k)}function rt(P){return P&&"?"!==P[0]?"?"+P:P}let ye=(()=>{class P{historyGo(k){throw new Error("Not implemented")}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:Le,token:P,providedIn:"root"}),P})();function Le(P){const Q=(0,h.\u0275\u0275inject)(ee).location;return new pt((0,h.\u0275\u0275inject)(W),Q&&Q.origin||"")}const ze=new h.InjectionToken("appBaseHref");let pt=(()=>{class P extends ye{constructor(k,J){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==J&&(J=this._platformLocation.getBaseHrefFromDOM()),null==J)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=J}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Fe(this._baseHref,k)}path(k=!1){const J=this._platformLocation.pathname+rt(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&k?`${J}${pe}`:J}pushState(k,J,pe,Qe){const bt=this.prepareExternalUrl(pe+rt(Qe));this._platformLocation.pushState(k,J,bt)}replaceState(k,J,pe,Qe){const bt=this.prepareExternalUrl(pe+rt(Qe));this._platformLocation.replaceState(k,J,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var J,pe;null===(pe=(J=this._platformLocation).historyGo)||void 0===pe||pe.call(J,k)}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275inject(W),h.\u0275\u0275inject(ze,8))},P.\u0275prov=h.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})(),Xe=(()=>{class P extends ye{constructor(k,J){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let J=this._platformLocation.hash;return null==J&&(J="#"),J.length>0?J.substring(1):J}prepareExternalUrl(k){const J=Fe(this._baseHref,k);return J.length>0?"#"+J:J}pushState(k,J,pe,Qe){let bt=this.prepareExternalUrl(pe+rt(Qe));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(k,J,bt)}replaceState(k,J,pe,Qe){let bt=this.prepareExternalUrl(pe+rt(Qe));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(k,J,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var J,pe;null===(pe=(J=this._platformLocation).historyGo)||void 0===pe||pe.call(J,k)}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275inject(W),h.\u0275\u0275inject(ze,8))},P.\u0275prov=h.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})(),_n=(()=>{class P{constructor(k,J){this._subject=new h.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=k;const pe=this._platformStrategy.getBaseHref();this._platformLocation=J,this._baseHref=$e(kt(pe)),this._platformStrategy.onPopState(Qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Qe.state,type:Qe.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,J=""){return this.path()==this.normalize(k+rt(J))}normalize(k){return P.stripTrailingSlash(function(P,Q){return P&&Q.startsWith(P)?Q.substring(P.length):Q}(this._baseHref,kt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,J="",pe=null){this._platformStrategy.pushState(pe,"",k,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+rt(J)),pe)}replaceState(k,J="",pe=null){this._platformStrategy.replaceState(pe,"",k,J),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+rt(J)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var J,pe;null===(pe=(J=this._platformStrategy).historyGo)||void 0===pe||pe.call(J,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(J=>{this._notifyUrlChangeListeners(J.url,J.state)}))}_notifyUrlChangeListeners(k="",J){this._urlChangeListeners.forEach(pe=>pe(k,J))}subscribe(k,J,pe){return this._subject.subscribe({next:k,error:J,complete:pe})}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275inject(ye),h.\u0275\u0275inject(W))},P.normalizeQueryParams=rt,P.joinWithSlash=Fe,P.stripTrailingSlash=$e,P.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:tn,token:P,providedIn:"root"}),P})();function tn(){return new _n((0,h.\u0275\u0275inject)(ye),(0,h.\u0275\u0275inject)(W))}function kt(P){return P.replace(/\/index.html$/,"")}const ke={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Percent=1]="Percent",ut[ut.Currency=2]="Currency",ut[ut.Scientific=3]="Scientific",ut))(),dt=(()=>((dt=dt||{})[dt.Zero=0]="Zero",dt[dt.One=1]="One",dt[dt.Two=2]="Two",dt[dt.Few=3]="Few",dt[dt.Many=4]="Many",dt[dt.Other=5]="Other",dt))(),It=(()=>((It=It||{})[It.Format=0]="Format",It[It.Standalone=1]="Standalone",It))(),at=(()=>((at=at||{})[at.Narrow=0]="Narrow",at[at.Abbreviated=1]="Abbreviated",at[at.Wide=2]="Wide",at[at.Short=3]="Short",at))(),jt=(()=>((jt=jt||{})[jt.Short=0]="Short",jt[jt.Medium=1]="Medium",jt[jt.Long=2]="Long",jt[jt.Full=3]="Full",jt))(),gt=(()=>((gt=gt||{})[gt.Decimal=0]="Decimal",gt[gt.Group=1]="Group",gt[gt.List=2]="List",gt[gt.PercentSign=3]="PercentSign",gt[gt.PlusSign=4]="PlusSign",gt[gt.MinusSign=5]="MinusSign",gt[gt.Exponential=6]="Exponential",gt[gt.SuperscriptingExponent=7]="SuperscriptingExponent",gt[gt.PerMille=8]="PerMille",gt[gt.Infinity=9]="Infinity",gt[gt.NaN=10]="NaN",gt[gt.TimeSeparator=11]="TimeSeparator",gt[gt.CurrencyDecimal=12]="CurrencyDecimal",gt[gt.CurrencyGroup=13]="CurrencyGroup",gt))(),Xt=(()=>((Xt=Xt||{})[Xt.Sunday=0]="Sunday",Xt[Xt.Monday=1]="Monday",Xt[Xt.Tuesday=2]="Tuesday",Xt[Xt.Wednesday=3]="Wednesday",Xt[Xt.Thursday=4]="Thursday",Xt[Xt.Friday=5]="Friday",Xt[Xt.Saturday=6]="Saturday",Xt))();function Gn(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.LocaleId]}function vn(P,Q,k){const J=(0,h.\u0275findLocaleData)(P),Qe=hn([J[h.\u0275LocaleDataIndex.DayPeriodsFormat],J[h.\u0275LocaleDataIndex.DayPeriodsStandalone]],Q);return hn(Qe,k)}function Ln(P,Q,k){const J=(0,h.\u0275findLocaleData)(P),Qe=hn([J[h.\u0275LocaleDataIndex.DaysFormat],J[h.\u0275LocaleDataIndex.DaysStandalone]],Q);return hn(Qe,k)}function un(P,Q,k){const J=(0,h.\u0275findLocaleData)(P),Qe=hn([J[h.\u0275LocaleDataIndex.MonthsFormat],J[h.\u0275LocaleDataIndex.MonthsStandalone]],Q);return hn(Qe,k)}function nn(P,Q){return hn((0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.Eras],Q)}function ar(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.FirstDayOfWeek]}function Dt(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.WeekendRange]}function Ut(P,Q){return hn((0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.DateFormat],Q)}function ht(P,Q){return hn((0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.TimeFormat],Q)}function pn(P,Q){return hn((0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.DateTimeFormat],Q)}function Kt(P,Q){const k=(0,h.\u0275findLocaleData)(P),J=k[h.\u0275LocaleDataIndex.NumberSymbols][Q];if(void 0===J){if(Q===gt.CurrencyDecimal)return k[h.\u0275LocaleDataIndex.NumberSymbols][gt.Decimal];if(Q===gt.CurrencyGroup)return k[h.\u0275LocaleDataIndex.NumberSymbols][gt.Group]}return J}function an(P,Q){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.NumberFormats][Q]}function Vt(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.CurrencySymbol]||null}function Ct(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.CurrencyName]||null}function jn(P){return(0,h.\u0275getLocaleCurrencyCode)(P)}const Yt=h.\u0275getLocalePluralCase;function st(P){if(!P[h.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[h.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cn(P){const Q=(0,h.\u0275findLocaleData)(P);return st(Q),(Q[h.\u0275LocaleDataIndex.ExtraData][2]||[]).map(J=>"string"==typeof J?Kn(J):[Kn(J[0]),Kn(J[1])])}function Bn(P,Q,k){const J=(0,h.\u0275findLocaleData)(P);st(J);const Qe=hn([J[h.\u0275LocaleDataIndex.ExtraData][0],J[h.\u0275LocaleDataIndex.ExtraData][1]],Q)||[];return hn(Qe,k)||[]}function Wt(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.Directionality]}function hn(P,Q){for(let k=Q;k>-1;k--)if(void 0!==P[k])return P[k];throw new Error("Locale data API: locale data undefined")}function Kn(P){const[Q,k]=P.split(":");return{hours:+Q,minutes:+k}}function cr(P,Q,k="en"){const J=function(P){return(0,h.\u0275findLocaleData)(P)[h.\u0275LocaleDataIndex.Currencies]}(k)[P]||ke[P]||[],pe=J[1];return"narrow"===Q&&"string"==typeof pe?pe:J[0]||P}function Te(P){let Q;const k=ke[P];return k&&(Q=k[2]),"number"==typeof Q?Q:2}const fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ze={},tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Nt=(()=>((Nt=Nt||{})[Nt.Short=0]="Short",Nt[Nt.ShortGMT=1]="ShortGMT",Nt[Nt.Long=2]="Long",Nt[Nt.Extended=3]="Extended",Nt))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function cn(P,Q,k,J){let pe=function(P){if(Tn(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[pe,Qe=1,bt=1]=P.split("-").map(N=>+N);return zn(pe,Qe-1,bt)}const k=parseFloat(P);if(!isNaN(P-k))return new Date(k);let J;if(J=P.match(fe))return function(P){const Q=new Date(0);let k=0,J=0;const pe=P[8]?Q.setUTCFullYear:Q.setFullYear,Qe=P[8]?Q.setUTCHours:Q.setHours;P[9]&&(k=Number(P[9]+P[10]),J=Number(P[9]+P[11])),pe.call(Q,Number(P[1]),Number(P[2])-1,Number(P[3]));const bt=Number(P[4]||0)-k,N=Number(P[5]||0)-J,R=Number(P[6]||0),S=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return Qe.call(Q,bt,N,R,S),Q}(J)}const Q=new Date(P);if(!Tn(Q))throw new Error(`Unable to convert "${P}" into a date`);return Q}(P);Q=Dn(k,Q)||Q;let N,bt=[];for(;Q;){if(N=tt.exec(Q),!N){bt.push(Q);break}{bt=bt.concat(N.slice(1));const z=bt.pop();if(!z)break;Q=z}}let R=pe.getTimezoneOffset();J&&(R=Ue(J,R),pe=function(P,Q,k){const pe=P.getTimezoneOffset();return function(P,Q){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Q),P}(P,-1*(Ue(Q,pe)-pe))}(pe,J));let S="";return bt.forEach(z=>{const Ne=function(P){if(rr[P])return rr[P];let Q;switch(P){case"G":case"GG":case"GGG":Q=de(Mt.Eras,at.Abbreviated);break;case"GGGG":Q=de(Mt.Eras,at.Wide);break;case"GGGGG":Q=de(Mt.Eras,at.Narrow);break;case"y":Q=Bt(lt.FullYear,1,0,!1,!0);break;case"yy":Q=Bt(lt.FullYear,2,0,!0,!0);break;case"yyy":Q=Bt(lt.FullYear,3,0,!1,!0);break;case"yyyy":Q=Bt(lt.FullYear,4,0,!1,!0);break;case"Y":Q=kn(1);break;case"YY":Q=kn(2,!0);break;case"YYY":Q=kn(3);break;case"YYYY":Q=kn(4);break;case"M":case"L":Q=Bt(lt.Month,1,1);break;case"MM":case"LL":Q=Bt(lt.Month,2,1);break;case"MMM":Q=de(Mt.Months,at.Abbreviated);break;case"MMMM":Q=de(Mt.Months,at.Wide);break;case"MMMMM":Q=de(Mt.Months,at.Narrow);break;case"LLL":Q=de(Mt.Months,at.Abbreviated,It.Standalone);break;case"LLLL":Q=de(Mt.Months,at.Wide,It.Standalone);break;case"LLLLL":Q=de(Mt.Months,at.Narrow,It.Standalone);break;case"w":Q=En(1);break;case"ww":Q=En(2);break;case"W":Q=En(1,!0);break;case"d":Q=Bt(lt.Date,1);break;case"dd":Q=Bt(lt.Date,2);break;case"c":case"cc":Q=Bt(lt.Day,1);break;case"ccc":Q=de(Mt.Days,at.Abbreviated,It.Standalone);break;case"cccc":Q=de(Mt.Days,at.Wide,It.Standalone);break;case"ccccc":Q=de(Mt.Days,at.Narrow,It.Standalone);break;case"cccccc":Q=de(Mt.Days,at.Short,It.Standalone);break;case"E":case"EE":case"EEE":Q=de(Mt.Days,at.Abbreviated);break;case"EEEE":Q=de(Mt.Days,at.Wide);break;case"EEEEE":Q=de(Mt.Days,at.Narrow);break;case"EEEEEE":Q=de(Mt.Days,at.Short);break;case"a":case"aa":case"aaa":Q=de(Mt.DayPeriods,at.Abbreviated);break;case"aaaa":Q=de(Mt.DayPeriods,at.Wide);break;case"aaaaa":Q=de(Mt.DayPeriods,at.Narrow);break;case"b":case"bb":case"bbb":Q=de(Mt.DayPeriods,at.Abbreviated,It.Standalone,!0);break;case"bbbb":Q=de(Mt.DayPeriods,at.Wide,It.Standalone,!0);break;case"bbbbb":Q=de(Mt.DayPeriods,at.Narrow,It.Standalone,!0);break;case"B":case"BB":case"BBB":Q=de(Mt.DayPeriods,at.Abbreviated,It.Format,!0);break;case"BBBB":Q=de(Mt.DayPeriods,at.Wide,It.Format,!0);break;case"BBBBB":Q=de(Mt.DayPeriods,at.Narrow,It.Format,!0);break;case"h":Q=Bt(lt.Hours,1,-12);break;case"hh":Q=Bt(lt.Hours,2,-12);break;case"H":Q=Bt(lt.Hours,1);break;case"HH":Q=Bt(lt.Hours,2);break;case"m":Q=Bt(lt.Minutes,1);break;case"mm":Q=Bt(lt.Minutes,2);break;case"s":Q=Bt(lt.Seconds,1);break;case"ss":Q=Bt(lt.Seconds,2);break;case"S":Q=Bt(lt.FractionalSeconds,1);break;case"SS":Q=Bt(lt.FractionalSeconds,2);break;case"SSS":Q=Bt(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Q=Ie(Nt.Short);break;case"ZZZZZ":Q=Ie(Nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Q=Ie(Nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Q=Ie(Nt.Long);break;default:return null}return rr[P]=Q,Q}(z);S+=Ne?Ne(pe,k,R):"''"===z?"'":z.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function zn(P,Q,k){const J=new Date(0);return J.setFullYear(P,Q,k),J.setHours(0,0,0),J}function Dn(P,Q){const k=Gn(P);if(Ze[k]=Ze[k]||{},Ze[k][Q])return Ze[k][Q];let J="";switch(Q){case"shortDate":J=Ut(P,jt.Short);break;case"mediumDate":J=Ut(P,jt.Medium);break;case"longDate":J=Ut(P,jt.Long);break;case"fullDate":J=Ut(P,jt.Full);break;case"shortTime":J=ht(P,jt.Short);break;case"mediumTime":J=ht(P,jt.Medium);break;case"longTime":J=ht(P,jt.Long);break;case"fullTime":J=ht(P,jt.Full);break;case"short":const pe=Dn(P,"shortTime"),Qe=Dn(P,"shortDate");J=sn(pn(P,jt.Short),[pe,Qe]);break;case"medium":const bt=Dn(P,"mediumTime"),N=Dn(P,"mediumDate");J=sn(pn(P,jt.Medium),[bt,N]);break;case"long":const R=Dn(P,"longTime"),S=Dn(P,"longDate");J=sn(pn(P,jt.Long),[R,S]);break;case"full":const z=Dn(P,"fullTime"),Ne=Dn(P,"fullDate");J=sn(pn(P,jt.Full),[z,Ne])}return J&&(Ze[k][Q]=J),J}function sn(P,Q){return Q&&(P=P.replace(/\{([^}]+)}/g,function(k,J){return null!=Q&&J in Q?Q[J]:k})),P}function lr(P,Q,k="-",J,pe){let Qe="";(P<0||pe&&P<=0)&&(pe?P=1-P:(P=-P,Qe=k));let bt=String(P);for(;bt.length<Q;)bt="0"+bt;return J&&(bt=bt.substr(bt.length-Q)),Qe+bt}function Bt(P,Q,k=0,J=!1,pe=!1){return function(Qe,bt){let N=function(P,Q){switch(P){case lt.FullYear:return Q.getFullYear();case lt.Month:return Q.getMonth();case lt.Date:return Q.getDate();case lt.Hours:return Q.getHours();case lt.Minutes:return Q.getMinutes();case lt.Seconds:return Q.getSeconds();case lt.FractionalSeconds:return Q.getMilliseconds();case lt.Day:return Q.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,Qe);if((k>0||N>-k)&&(N+=k),P===lt.Hours)0===N&&-12===k&&(N=12);else if(P===lt.FractionalSeconds)return function(P,Q){return lr(P,3).substr(0,Q)}(N,Q);const R=Kt(bt,gt.MinusSign);return lr(N,Q,R,J,pe)}}function de(P,Q,k=It.Format,J=!1){return function(pe,Qe){return function(P,Q,k,J,pe,Qe){switch(k){case Mt.Months:return un(Q,pe,J)[P.getMonth()];case Mt.Days:return Ln(Q,pe,J)[P.getDay()];case Mt.DayPeriods:const bt=P.getHours(),N=P.getMinutes();if(Qe){const S=Cn(Q),z=Bn(Q,pe,J),Ne=S.findIndex(St=>{if(Array.isArray(St)){const[fn,yr]=St,ni=bt>=fn.hours&&N>=fn.minutes,pr=bt<yr.hours||bt===yr.hours&&N<yr.minutes;if(fn.hours<yr.hours){if(ni&&pr)return!0}else if(ni||pr)return!0}else if(St.hours===bt&&St.minutes===N)return!0;return!1});if(-1!==Ne)return z[Ne]}return vn(Q,pe,J)[bt<12?0:1];case Mt.Eras:return nn(Q,J)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(pe,Qe,P,Q,k,J)}}function Ie(P){return function(Q,k,J){const pe=-1*J,Qe=Kt(k,gt.MinusSign),bt=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(P){case Nt.Short:return(pe>=0?"+":"")+lr(bt,2,Qe)+lr(Math.abs(pe%60),2,Qe);case Nt.ShortGMT:return"GMT"+(pe>=0?"+":"")+lr(bt,1,Qe);case Nt.Long:return"GMT"+(pe>=0?"+":"")+lr(bt,2,Qe)+":"+lr(Math.abs(pe%60),2,Qe);case Nt.Extended:return 0===J?"Z":(pe>=0?"+":"")+lr(bt,2,Qe)+":"+lr(Math.abs(pe%60),2,Qe);default:throw new Error(`Unknown zone width "${P}"`)}}}function Zt(P){return zn(P.getFullYear(),P.getMonth(),P.getDate()+(4-P.getDay()))}function En(P,Q=!1){return function(k,J){let pe;if(Q){const Qe=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,bt=k.getDate();pe=1+Math.floor((bt+Qe)/7)}else{const Qe=Zt(k),bt=function(P){const Q=zn(P,0,1).getDay();return zn(P,0,1+(Q<=4?4:11)-Q)}(Qe.getFullYear()),N=Qe.getTime()-bt.getTime();pe=1+Math.round(N/6048e5)}return lr(pe,P,Kt(J,gt.MinusSign))}}function kn(P,Q=!1){return function(k,J){return lr(Zt(k).getFullYear(),P,Kt(J,gt.MinusSign),Q)}}const rr={};function Ue(P,Q){P=P.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(k)?Q:k}function Tn(P){return P instanceof Date&&!isNaN(P.valueOf())}const bn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function wn(P,Q,k,J,pe,Qe,bt=!1){let N="",R=!1;if(isFinite(P)){let S=function(P){let J,pe,Qe,bt,N,Q=Math.abs(P)+"",k=0;for((pe=Q.indexOf("."))>-1&&(Q=Q.replace(".","")),(Qe=Q.search(/e/i))>0?(pe<0&&(pe=Qe),pe+=+Q.slice(Qe+1),Q=Q.substring(0,Qe)):pe<0&&(pe=Q.length),Qe=0;"0"===Q.charAt(Qe);Qe++);if(Qe===(N=Q.length))J=[0],pe=1;else{for(N--;"0"===Q.charAt(N);)N--;for(pe-=Qe,J=[],bt=0;Qe<=N;Qe++,bt++)J[bt]=Number(Q.charAt(Qe))}return pe>22&&(J=J.splice(0,21),k=pe-1,pe=1),{digits:J,exponent:k,integerLen:pe}}(P);bt&&(S=function(P){if(0===P.digits[0])return P;const Q=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===Q?P.digits.push(0,0):1===Q&&P.digits.push(0),P.integerLen+=2),P}(S));let z=Q.minInt,Ne=Q.minFrac,St=Q.maxFrac;if(Qe){const Ri=Qe.match(bn);if(null===Ri)throw new Error(`${Qe} is not a valid digit info`);const xn=Ri[1],hs=Ri[3],to=Ri[5];null!=xn&&(z=gn(xn)),null!=hs&&(Ne=gn(hs)),null!=to?St=gn(to):null!=hs&&Ne>St&&(St=Ne)}!function(P,Q,k){if(Q>k)throw new Error(`The minimum number of digits after fraction (${Q}) is higher than the maximum (${k}).`);let J=P.digits,pe=J.length-P.integerLen;const Qe=Math.min(Math.max(Q,pe),k);let bt=Qe+P.integerLen,N=J[bt];if(bt>0){J.splice(Math.max(P.integerLen,bt));for(let Ne=bt;Ne<J.length;Ne++)J[Ne]=0}else{pe=Math.max(0,pe),P.integerLen=1,J.length=Math.max(1,bt=Qe+1),J[0]=0;for(let Ne=1;Ne<bt;Ne++)J[Ne]=0}if(N>=5)if(bt-1<0){for(let Ne=0;Ne>bt;Ne--)J.unshift(0),P.integerLen++;J.unshift(1),P.integerLen++}else J[bt-1]++;for(;pe<Math.max(0,Qe);pe++)J.push(0);let R=0!==Qe;const S=Q+P.integerLen,z=J.reduceRight(function(Ne,St,fn,yr){return yr[fn]=(St+=Ne)<10?St:St-10,R&&(0===yr[fn]&&fn>=S?yr.pop():R=!1),St>=10?1:0},0);z&&(J.unshift(z),P.integerLen++)}(S,Ne,St);let fn=S.digits,yr=S.integerLen;const ni=S.exponent;let pr=[];for(R=fn.every(Ri=>!Ri);yr<z;yr++)fn.unshift(0);for(;yr<0;yr++)fn.unshift(0);yr>0?pr=fn.splice(yr,fn.length):(pr=fn,fn=[0]);const Sr=[];for(fn.length>=Q.lgSize&&Sr.unshift(fn.splice(-Q.lgSize,fn.length).join(""));fn.length>Q.gSize;)Sr.unshift(fn.splice(-Q.gSize,fn.length).join(""));fn.length&&Sr.unshift(fn.join("")),N=Sr.join(Kt(k,J)),pr.length&&(N+=Kt(k,pe)+pr.join("")),ni&&(N+=Kt(k,gt.Exponential)+"+"+ni)}else N=Kt(k,gt.Infinity);return N=P<0&&!R?Q.negPre+N+Q.negSuf:Q.posPre+N+Q.posSuf,N}function br(P,Q,k,J,pe){const bt=_r(an(Q,ut.Currency),Kt(Q,gt.MinusSign));return bt.minFrac=Te(J),bt.maxFrac=bt.minFrac,wn(P,bt,Q,gt.CurrencyGroup,gt.CurrencyDecimal,pe).replace("\xa4",k).replace("\xa4","").trim()}function Ir(P,Q,k){return wn(P,_r(an(Q,ut.Percent),Kt(Q,gt.MinusSign)),Q,gt.Group,gt.Decimal,k,!0).replace(new RegExp("%","g"),Kt(Q,gt.PercentSign))}function Zn(P,Q,k){return wn(P,_r(an(Q,ut.Decimal),Kt(Q,gt.MinusSign)),Q,gt.Group,gt.Decimal,k)}function _r(P,Q="-"){const k={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},J=P.split(";"),pe=J[0],Qe=J[1],bt=-1!==pe.indexOf(".")?pe.split("."):[pe.substring(0,pe.lastIndexOf("0")+1),pe.substring(pe.lastIndexOf("0")+1)],N=bt[0],R=bt[1]||"";k.posPre=N.substr(0,N.indexOf("#"));for(let z=0;z<R.length;z++){const Ne=R.charAt(z);"0"===Ne?k.minFrac=k.maxFrac=z+1:"#"===Ne?k.maxFrac=z+1:k.posSuf+=Ne}const S=N.split(",");if(k.gSize=S[1]?S[1].length:0,k.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,Qe){const z=pe.length-k.posPre.length-k.posSuf.length,Ne=Qe.indexOf("#");k.negPre=Qe.substr(0,Ne).replace(/'/g,""),k.negSuf=Qe.substr(Ne+z).replace(/'/g,"")}else k.negPre=Q+k.posPre,k.negSuf=k.posSuf;return k}function gn(P){const Q=parseInt(P);if(isNaN(Q))throw new Error("Invalid integer literal when parsing "+P);return Q}class be{}function Ce(P,Q,k,J){let pe=`=${P}`;if(Q.indexOf(pe)>-1||(pe=k.getPluralCategory(P,J),Q.indexOf(pe)>-1))return pe;if(Q.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${P}"`)}let ie=(()=>{class P extends be{constructor(k){super(),this.locale=k}getPluralCategory(k,J){switch(Yt(J||this.locale)(k)){case dt.Zero:return"zero";case dt.One:return"one";case dt.Two:return"two";case dt.Few:return"few";case dt.Many:return"many";default:return"other"}}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275inject(h.LOCALE_ID))},P.\u0275prov=h.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P})();function Me(P,Q,k){return(0,h.\u0275registerLocaleData)(P,Q,k)}function Ye(P,Q){Q=encodeURIComponent(Q);for(const k of P.split(";")){const J=k.indexOf("="),[pe,Qe]=-1==J?[k,""]:[k.slice(0,J),k.slice(J+1)];if(pe.trim()===Q)return decodeURIComponent(Qe)}return null}let rn=(()=>{class P{constructor(k,J,pe,Qe){this._iterableDiffers=k,this._keyValueDiffers=J,this._ngEl=pe,this._renderer=Qe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,h.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(J=>this._toggleClass(J.key,J.currentValue)),k.forEachChangedItem(J=>this._toggleClass(J.key,J.currentValue)),k.forEachRemovedItem(J=>{J.previousValue&&this._toggleClass(J.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(J=>{if("string"!=typeof J.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.\u0275stringify)(J.item)}`);this._toggleClass(J.item,!0)}),k.forEachRemovedItem(J=>this._toggleClass(J.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(J=>this._toggleClass(J,!0)):Object.keys(k).forEach(J=>this._toggleClass(J,!!k[J])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(J=>this._toggleClass(J,!1)):Object.keys(k).forEach(J=>this._toggleClass(J,!1)))}_toggleClass(k,J){(k=k.trim())&&k.split(/\s+/g).forEach(pe=>{J?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.IterableDiffers),h.\u0275\u0275directiveInject(h.KeyValueDiffers),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),P})(),mn=(()=>{class P{constructor(k){this._viewContainerRef=k,this._componentRef=null,this._moduleRef=null}ngOnChanges(k){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const J=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(k.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const bt=J.get(h.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(bt.injector)}else this._moduleRef=null;const Qe=(this._moduleRef?this._moduleRef.componentFactoryResolver:J.get(h.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(Qe,this._viewContainerRef.length,J,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[h.\u0275\u0275NgOnChangesFeature]}),P})();class Vn{constructor(Q,k,J,pe){this.$implicit=Q,this.ngForOf=k,this.index=J,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class P{constructor(k,J,pe){this._viewContainer=k,this._template=J,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;if(!this._differ&&k)try{this._differ=this._differs.find(k).create(this.ngForTrackBy)}catch(J){throw new Error(`Cannot find a differ supporting object '${k}' of type '${function(P){return P.name||typeof P}(k)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const J=[];k.forEachOperation((pe,Qe,bt)=>{if(null==pe.previousIndex){const N=this._viewContainer.createEmbeddedView(this._template,new Vn(null,this._ngForOf,-1,-1),null===bt?void 0:bt),R=new Yi(pe,N);J.push(R)}else if(null==bt)this._viewContainer.remove(null===Qe?void 0:Qe);else if(null!==Qe){const N=this._viewContainer.get(Qe);this._viewContainer.move(N,bt);const R=new Yi(pe,N);J.push(R)}});for(let pe=0;pe<J.length;pe++)this._perViewChange(J[pe].view,J[pe].record);for(let pe=0,Qe=this._viewContainer.length;pe<Qe;pe++){const bt=this._viewContainer.get(pe);bt.context.index=pe,bt.context.count=Qe,bt.context.ngForOf=this._ngForOf}k.forEachIdentityChange(pe=>{this._viewContainer.get(pe.currentIndex).context.$implicit=pe.item})}_perViewChange(k,J){k.context.$implicit=J.item}static ngTemplateContextGuard(k,J){return!0}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(h.IterableDiffers))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class Yi{constructor(Q,k){this.record=Q,this.view=k}}let pi=(()=>{class P{constructor(k,J){this._viewContainer=k,this._context=new Ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=J}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){bi("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){bi("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,J){return!0}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Ei{constructor(){this.$implicit=null,this.ngIf=null}}function bi(P,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,h.\u0275stringify)(Q)}'.`)}class xr{constructor(Q,k){this._viewContainerRef=Q,this._templateRef=k,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Ii=(()=>{class P{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(k){this._ngSwitch=k,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(k){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(k)}_matchCase(k){const J=k==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||J,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),J}_updateDefaultCases(k){if(this._defaultViews&&k!==this._defaultUsed){this._defaultUsed=k;for(let J=0;J<this._defaultViews.length;J++)this._defaultViews[J].enforceState(k)}}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),P})(),Br=(()=>{class P{constructor(k,J,pe){this.ngSwitch=pe,pe._addCase(),this._view=new xr(k,J)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(Ii,9))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),P})(),Pi=(()=>{class P{constructor(k,J,pe){pe._addDefault(new xr(k,J))}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(Ii,9))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngSwitchDefault",""]]}),P})(),Wn=(()=>{class P{constructor(k){this._localization=k,this._caseViews={}}set ngPlural(k){this._switchValue=k,this._updateView()}addCase(k,J){this._caseViews[k]=J}_updateView(){this._clearViews();const k=Object.keys(this._caseViews),J=Ce(this._switchValue,k,this._localization);this._activateView(this._caseViews[J])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(k){k&&(this._activeView=k,this._activeView.create())}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(be))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),P})(),wi=(()=>{class P{constructor(k,J,pe,Qe){this.value=k;const bt=!isNaN(Number(k));Qe.addCase(bt?`=${k}`:k,new xr(pe,J))}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275injectAttribute("ngPluralCase"),h.\u0275\u0275directiveInject(h.TemplateRef),h.\u0275\u0275directiveInject(h.ViewContainerRef),h.\u0275\u0275directiveInject(Wn,1))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngPluralCase",""]]}),P})(),Ji=(()=>{class P{constructor(k,J,pe){this._ngEl=k,this._differs=J,this._renderer=pe,this._ngStyle=null,this._differ=null}set ngStyle(k){this._ngStyle=k,!this._differ&&k&&(this._differ=this._differs.find(k).create())}ngDoCheck(){if(this._differ){const k=this._differ.diff(this._ngStyle);k&&this._applyChanges(k)}}_setStyle(k,J){const[pe,Qe]=k.split(".");null!=(J=null!=J&&Qe?`${J}${Qe}`:J)?this._renderer.setStyle(this._ngEl.nativeElement,pe,J):this._renderer.removeStyle(this._ngEl.nativeElement,pe)}_applyChanges(k){k.forEachRemovedItem(J=>this._setStyle(J.key,null)),k.forEachAddedItem(J=>this._setStyle(J.key,J.currentValue)),k.forEachChangedItem(J=>this._setStyle(J.key,J.currentValue))}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.KeyValueDiffers),h.\u0275\u0275directiveInject(h.Renderer2))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),P})(),Ci=(()=>{class P{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(k){if(k.ngTemplateOutlet){const J=this._viewContainerRef;this._viewRef&&J.remove(J.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?J.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ViewContainerRef))},P.\u0275dir=h.\u0275\u0275defineDirective({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[h.\u0275\u0275NgOnChangesFeature]}),P})();const ui=[rn,mn,In,pi,Ci,Ji,Ii,Br,Pi,Wn,wi];function Or(P,Q){return Error(`InvalidPipeArgument: '${Q}' for pipe '${(0,h.\u0275stringify)(P)}'`)}class vs{createSubscription(Q,k){return Q.subscribe({next:k,error:J=>{throw J}})}dispose(Q){Q.unsubscribe()}onDestroy(Q){Q.unsubscribe()}}class De{createSubscription(Q,k){return Q.then(k,J=>{throw J})}dispose(Q){}onDestroy(Q){}}const xe=new De,je=new vs;let ct=(()=>{class P{constructor(k){this._ref=k,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,J=>this._updateLatestValue(k,J))}_selectStrategy(k){if((0,h.\u0275isPromise)(k))return xe;if((0,h.\u0275isSubscribable)(k))return je;throw Or(P,k)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,J){k===this._obj&&(this._latestValue=J,this._ref.markForCheck())}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"async",type:P,pure:!1}),P})(),Tt=(()=>{class P{transform(k){if(null==k)return null;if("string"!=typeof k)throw Or(P,k);return k.toLowerCase()}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"lowercase",type:P,pure:!0}),P})();const qt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let nr=(()=>{class P{transform(k){if(null==k)return null;if("string"!=typeof k)throw Or(P,k);return k.replace(qt,J=>J[0].toUpperCase()+J.substr(1).toLowerCase())}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"titlecase",type:P,pure:!0}),P})(),Hr=(()=>{class P{transform(k){if(null==k)return null;if("string"!=typeof k)throw Or(P,k);return k.toUpperCase()}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"uppercase",type:P,pure:!0}),P})(),Hn=(()=>{class P{constructor(k){this.locale=k}transform(k,J="mediumDate",pe,Qe){if(null==k||""===k||k!=k)return null;try{return cn(k,J,Qe||this.locale,pe)}catch(bt){throw Or(P,bt.message)}}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"date",type:P,pure:!0}),P})();const Dr=/#/g;let Hi=(()=>{class P{constructor(k){this._localization=k}transform(k,J,pe){if(null==k)return"";if("object"!=typeof J||null===J)throw Or(P,J);return J[Ce(k,Object.keys(J),this._localization,pe)].replace(Dr,k.toString())}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(be,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"i18nPlural",type:P,pure:!0}),P})(),gi=(()=>{class P{transform(k,J){if(null==k)return"";if("object"!=typeof J||"string"!=typeof k)throw Or(P,J);return J.hasOwnProperty(k)?J[k]:J.hasOwnProperty("other")?J.other:""}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"i18nSelect",type:P,pure:!0}),P})(),$i=(()=>{class P{transform(k){return JSON.stringify(k,null,2)}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"json",type:P,pure:!1}),P})(),ls=(()=>{class P{constructor(k){this.differs=k,this.keyValues=[],this.compareFn=Wo}transform(k,J=Wo){if(!k||!(k instanceof Map)&&"object"!=typeof k)return null;this.differ||(this.differ=this.differs.find(k).create());const pe=this.differ.diff(k),Qe=J!==this.compareFn;return pe&&(this.keyValues=[],pe.forEachItem(bt=>{this.keyValues.push(function(P,Q){return{key:P,value:Q}}(bt.key,bt.currentValue))})),(pe||Qe)&&(this.keyValues.sort(J),this.compareFn=J),this.keyValues}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.KeyValueDiffers,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"keyvalue",type:P,pure:!1}),P})();function Wo(P,Q){const k=P.key,J=Q.key;if(k===J)return 0;if(void 0===k)return 1;if(void 0===J)return-1;if(null===k)return 1;if(null===J)return-1;if("string"==typeof k&&"string"==typeof J)return k<J?-1:1;if("number"==typeof k&&"number"==typeof J)return k-J;if("boolean"==typeof k&&"boolean"==typeof J)return k<J?-1:1;const pe=String(k),Qe=String(J);return pe==Qe?0:pe<Qe?-1:1}let Ai=(()=>{class P{constructor(k){this._locale=k}transform(k,J,pe){if(!Es(k))return null;pe=pe||this._locale;try{return Zn(bs(k),pe,J)}catch(Qe){throw Or(P,Qe.message)}}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"number",type:P,pure:!0}),P})(),ci=(()=>{class P{constructor(k){this._locale=k}transform(k,J,pe){if(!Es(k))return null;pe=pe||this._locale;try{return Ir(bs(k),pe,J)}catch(Qe){throw Or(P,Qe.message)}}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"percent",type:P,pure:!0}),P})(),Wi=(()=>{class P{constructor(k,J="USD"){this._locale=k,this._defaultCurrencyCode=J}transform(k,J=this._defaultCurrencyCode,pe="symbol",Qe,bt){if(!Es(k))return null;bt=bt||this._locale,"boolean"==typeof pe&&(pe=pe?"symbol":"code");let N=J||this._defaultCurrencyCode;"code"!==pe&&(N="symbol"===pe||"symbol-narrow"===pe?cr(N,"symbol"===pe?"wide":"narrow",bt):pe);try{return br(bs(k),bt,N,J,Qe)}catch(R){throw Or(P,R.message)}}}return P.\u0275fac=function(k){return new(k||P)(h.\u0275\u0275directiveInject(h.LOCALE_ID,16),h.\u0275\u0275directiveInject(h.DEFAULT_CURRENCY_CODE,16))},P.\u0275pipe=h.\u0275\u0275definePipe({name:"currency",type:P,pure:!0}),P})();function Es(P){return!(null==P||""===P||P!=P)}function bs(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}let Fi=(()=>{class P{transform(k,J,pe){if(null==k)return null;if(!this.supports(k))throw Or(P,k);return k.slice(J,pe)}supports(k){return"string"==typeof k||Array.isArray(k)}}return P.\u0275fac=function(k){return new(k||P)},P.\u0275pipe=h.\u0275\u0275definePipe({name:"slice",type:P,pure:!1}),P})();const Xi=[ct,Hr,Tt,$i,Fi,Ai,ci,nr,Wi,Hn,Hi,gi,ls];let Tr=(()=>{class P{}return P.\u0275fac=function(k){return new(k||P)},P.\u0275mod=h.\u0275\u0275defineNgModule({type:P}),P.\u0275inj=h.\u0275\u0275defineInjector({providers:[{provide:be,useClass:ie}]}),P})();const Qr="browser",os="server",li="browserWorkerApp",hr="browserWorkerUi";function Is(P){return P===Qr}function ws(P){return P===os}function ds(P){return P===li}function Gi(P){return P===hr}const $r=new h.Version("12.2.16");let mi=(()=>{class P{}return P.\u0275prov=(0,h.\u0275\u0275defineInjectable)({token:P,providedIn:"root",factory:()=>new Cs((0,h.\u0275\u0275inject)(ee),window)}),P})();class Cs{constructor(Q,k){this.document=Q,this.window=k,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const k=function(P,Q){const k=P.getElementById(Q)||P.getElementsByName(Q)[0];if(k)return k;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const J=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let pe=J.currentNode;for(;pe;){const Qe=pe.shadowRoot;if(Qe){const bt=Qe.getElementById(Q)||Qe.querySelector(`[name="${Q}"]`);if(bt)return bt}pe=J.nextNode()}}return null}(this.document,Q);k&&(this.scrollToElement(k),this.attemptFocus(k))}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=Q)}}scrollToElement(Q){const k=Q.getBoundingClientRect(),J=k.left+this.window.pageXOffset,pe=k.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(J-Qe[0],pe-Qe[1])}attemptFocus(Q){return Q.focus(),this.document.activeElement===Q}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=es(this.window.history)||es(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch(Q){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Q){return!1}}}function es(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class vr{setOffset(Q){}getScrollPosition(){return[0,0]}scrollToPosition(Q){}scrollToAnchor(Q){}setHistoryScrollRestoration(Q){}}class Ds{}},1841:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{HTTP_INTERCEPTORS:()=>Gn,HttpBackend:()=>Y,HttpClient:()=>gt,HttpClientJsonpModule:()=>Kn,HttpClientModule:()=>hn,HttpClientXsrfModule:()=>Wt,HttpContext:()=>ze,HttpContextToken:()=>Le,HttpErrorResponse:()=>at,HttpEventType:()=>ke,HttpHandler:()=>W,HttpHeaderResponse:()=>dt,HttpHeaders:()=>U,HttpParams:()=>ye,HttpRequest:()=>kt,HttpResponse:()=>It,HttpResponseBase:()=>ut,HttpUrlEncodingCodec:()=>G,HttpXhrBackend:()=>an,HttpXsrfTokenExtractor:()=>jn,JsonpClientBackend:()=>Ut,JsonpInterceptor:()=>ht,XhrFactory:()=>cr,\u0275HttpInterceptingHandler:()=>st,\u0275angular_packages_common_http_http_a:()=>vn,\u0275angular_packages_common_http_http_b:()=>Dt,\u0275angular_packages_common_http_http_c:()=>Bn,\u0275angular_packages_common_http_http_d:()=>Vt,\u0275angular_packages_common_http_http_e:()=>Ct,\u0275angular_packages_common_http_http_f:()=>Jn,\u0275angular_packages_common_http_http_g:()=>Yt});var h=D(8583),A=D(7716),j=D(5917),X=D(8891),ne=D(4612),K=D(5435),ee=D(8002);class W{}class Y{}class U{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(fe=>{const Ze=fe.indexOf(":");if(Ze>0){const tt=fe.slice(0,Ze),Nt=tt.toLowerCase(),lt=fe.slice(Ze+1).trim();this.maybeSetNormalizedName(tt,Nt),this.headers.has(Nt)?this.headers.get(Nt).push(lt):this.headers.set(Nt,[lt])}})}:()=>{this.headers=new Map,Object.keys(Te).forEach(fe=>{let Ze=Te[fe];const tt=fe.toLowerCase();"string"==typeof Ze&&(Ze=[Ze]),Ze.length>0&&(this.headers.set(tt,Ze),this.maybeSetNormalizedName(fe,tt))})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const fe=this.headers.get(Te.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,fe){return this.clone({name:Te,value:fe,op:"a"})}set(Te,fe){return this.clone({name:Te,value:fe,op:"s"})}delete(Te,fe){return this.clone({name:Te,value:fe,op:"d"})}maybeSetNormalizedName(Te,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,Te)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(fe=>{this.headers.set(fe,Te.headers.get(fe)),this.normalizedNames.set(fe,Te.normalizedNames.get(fe))})}clone(Te){const fe=new U;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),fe}applyUpdate(Te){const fe=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let Ze=Te.value;if("string"==typeof Ze&&(Ze=[Ze]),0===Ze.length)return;this.maybeSetNormalizedName(Te.name,fe);const tt=("a"===Te.op?this.headers.get(fe):void 0)||[];tt.push(...Ze),this.headers.set(fe,tt);break;case"d":const Nt=Te.value;if(Nt){let lt=this.headers.get(fe);if(!lt)return;lt=lt.filter(Mt=>-1===Nt.indexOf(Mt)),0===lt.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,lt)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>Te(this.normalizedNames.get(fe),this.headers.get(fe)))}}class G{encodeKey(Te){return $e(Te)}encodeValue(Te){return $e(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const Ae=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $e(He){return encodeURIComponent(He).replace(Ae,(Te,fe)=>{var Ze;return null!==(Ze=Fe[fe])&&void 0!==Ze?Ze:Te})}function rt(He){return`${He}`}class ye{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new G,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(He,Te){const fe=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(tt=>{const Nt=tt.indexOf("="),[lt,Mt]=-1==Nt?[Te.decodeKey(tt),""]:[Te.decodeKey(tt.slice(0,Nt)),Te.decodeValue(tt.slice(Nt+1))],cn=fe.get(lt)||[];cn.push(Mt),fe.set(lt,cn)}),fe}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(fe=>{const Ze=Te.fromObject[fe];this.map.set(fe,Array.isArray(Ze)?Ze:[Ze])})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const fe=this.map.get(Te);return fe?fe[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,fe){return this.clone({param:Te,value:fe,op:"a"})}appendAll(Te){const fe=[];return Object.keys(Te).forEach(Ze=>{const tt=Te[Ze];Array.isArray(tt)?tt.forEach(Nt=>{fe.push({param:Ze,value:Nt,op:"a"})}):fe.push({param:Ze,value:tt,op:"a"})}),this.clone(fe)}set(Te,fe){return this.clone({param:Te,value:fe,op:"s"})}delete(Te,fe){return this.clone({param:Te,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const fe=this.encoder.encodeKey(Te);return this.map.get(Te).map(Ze=>fe+"="+this.encoder.encodeValue(Ze)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const fe=new ye({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(Te),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const fe=("a"===Te.op?this.map.get(Te.param):void 0)||[];fe.push(rt(Te.value)),this.map.set(Te.param,fe);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let Ze=this.map.get(Te.param)||[];const tt=Ze.indexOf(rt(Te.value));-1!==tt&&Ze.splice(tt,1),Ze.length>0?this.map.set(Te.param,Ze):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class Le{constructor(Te){this.defaultValue=Te}}class ze{constructor(){this.map=new Map}set(Te,fe){return this.map.set(Te,fe),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}keys(){return this.map.keys()}}function Xe(He){return"undefined"!=typeof ArrayBuffer&&He instanceof ArrayBuffer}function _n(He){return"undefined"!=typeof Blob&&He instanceof Blob}function tn(He){return"undefined"!=typeof FormData&&He instanceof FormData}class kt{constructor(Te,fe,Ze,tt){let Nt;if(this.url=fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||tt?(this.body=void 0!==Ze?Ze:null,Nt=tt):Nt=Ze,Nt&&(this.reportProgress=!!Nt.reportProgress,this.withCredentials=!!Nt.withCredentials,Nt.responseType&&(this.responseType=Nt.responseType),Nt.headers&&(this.headers=Nt.headers),Nt.context&&(this.context=Nt.context),Nt.params&&(this.params=Nt.params)),this.headers||(this.headers=new U),this.context||(this.context=new ze),this.params){const lt=this.params.toString();if(0===lt.length)this.urlWithParams=fe;else{const Mt=fe.indexOf("?");this.urlWithParams=fe+(-1===Mt?"?":Mt<fe.length-1?"&":"")+lt}}else this.params=new ye,this.urlWithParams=fe}serializeBody(){return null===this.body?null:Xe(this.body)||_n(this.body)||tn(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tn(this.body)?null:_n(this.body)?this.body.type||null:Xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){var fe;const Ze=Te.method||this.method,tt=Te.url||this.url,Nt=Te.responseType||this.responseType,lt=void 0!==Te.body?Te.body:this.body,Mt=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,cn=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let zn=Te.headers||this.headers,Dn=Te.params||this.params;const sn=null!==(fe=Te.context)&&void 0!==fe?fe:this.context;return void 0!==Te.setHeaders&&(zn=Object.keys(Te.setHeaders).reduce((lr,Jt)=>lr.set(Jt,Te.setHeaders[Jt]),zn)),Te.setParams&&(Dn=Object.keys(Te.setParams).reduce((lr,Jt)=>lr.set(Jt,Te.setParams[Jt]),Dn)),new kt(Ze,tt,lt,{params:Dn,headers:zn,context:sn,reportProgress:cn,responseType:Nt,withCredentials:Mt})}}var ke=(()=>((ke=ke||{})[ke.Sent=0]="Sent",ke[ke.UploadProgress=1]="UploadProgress",ke[ke.ResponseHeader=2]="ResponseHeader",ke[ke.DownloadProgress=3]="DownloadProgress",ke[ke.Response=4]="Response",ke[ke.User=5]="User",ke))();class ut{constructor(Te,fe=200,Ze="OK"){this.headers=Te.headers||new U,this.status=void 0!==Te.status?Te.status:fe,this.statusText=Te.statusText||Ze,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class dt extends ut{constructor(Te={}){super(Te),this.type=ke.ResponseHeader}clone(Te={}){return new dt({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class It extends ut{constructor(Te={}){super(Te),this.type=ke.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new It({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class at extends ut{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function jt(He,Te){return{body:Te,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials}}let gt=(()=>{class He{constructor(fe){this.handler=fe}request(fe,Ze,tt={}){let Nt;if(fe instanceof kt)Nt=fe;else{let cn,zn;cn=tt.headers instanceof U?tt.headers:new U(tt.headers),tt.params&&(zn=tt.params instanceof ye?tt.params:new ye({fromObject:tt.params})),Nt=new kt(fe,Ze,void 0!==tt.body?tt.body:null,{headers:cn,context:tt.context,params:zn,reportProgress:tt.reportProgress,responseType:tt.responseType||"json",withCredentials:tt.withCredentials})}const lt=(0,j.of)(Nt).pipe((0,ne.b)(cn=>this.handler.handle(cn)));if(fe instanceof kt||"events"===tt.observe)return lt;const Mt=lt.pipe((0,K.h)(cn=>cn instanceof It));switch(tt.observe||"body"){case"body":switch(Nt.responseType){case"arraybuffer":return Mt.pipe((0,ee.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return Mt.pipe((0,ee.U)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return Mt.pipe((0,ee.U)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));case"json":default:return Mt.pipe((0,ee.U)(cn=>cn.body))}case"response":return Mt;default:throw new Error(`Unreachable: unhandled observe type ${tt.observe}}`)}}delete(fe,Ze={}){return this.request("DELETE",fe,Ze)}get(fe,Ze={}){return this.request("GET",fe,Ze)}head(fe,Ze={}){return this.request("HEAD",fe,Ze)}jsonp(fe,Ze){return this.request("JSONP",fe,{params:(new ye).append(Ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,Ze={}){return this.request("OPTIONS",fe,Ze)}patch(fe,Ze,tt={}){return this.request("PATCH",fe,jt(tt,Ze))}post(fe,Ze,tt={}){return this.request("POST",fe,jt(tt,Ze))}put(fe,Ze,tt={}){return this.request("PUT",fe,jt(tt,Ze))}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(W))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})();class Xt{constructor(Te,fe){this.next=Te,this.interceptor=fe}handle(Te){return this.interceptor.intercept(Te,this.next)}}const Gn=new A.InjectionToken("HTTP_INTERCEPTORS");let vn=(()=>{class He{intercept(fe,Ze){return Ze.handle(fe)}}return He.\u0275fac=function(fe){return new(fe||He)},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})(),Ln=0;class Dt{}let Ut=(()=>{class He{constructor(fe,Ze){this.callbackMap=fe,this.document=Ze,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Ln++}handle(fe){if("JSONP"!==fe.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==fe.responseType)throw new Error("JSONP requests must use Json response type.");return new X.y(Ze=>{const tt=this.nextCallback(),Nt=fe.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${tt}$1`),lt=this.document.createElement("script");lt.src=Nt;let Mt=null,cn=!1,zn=!1;this.callbackMap[tt]=Jt=>{delete this.callbackMap[tt],!zn&&(Mt=Jt,cn=!0)};const Dn=()=>{lt.parentNode&&lt.parentNode.removeChild(lt),delete this.callbackMap[tt]},sn=Jt=>{zn||this.resolvedPromise.then(()=>{Dn(),cn?(Ze.next(new It({body:Mt,status:200,statusText:"OK",url:Nt})),Ze.complete()):Ze.error(new at({url:Nt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},lr=Jt=>{zn||(Dn(),Ze.error(new at({error:Jt,status:0,statusText:"JSONP Error",url:Nt})))};return lt.addEventListener("load",sn),lt.addEventListener("error",lr),this.document.body.appendChild(lt),Ze.next({type:ke.Sent}),()=>{zn=!0,lt.removeEventListener("load",sn),lt.removeEventListener("error",lr),Dn()}})}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(Dt),A.\u0275\u0275inject(h.DOCUMENT))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})(),ht=(()=>{class He{constructor(fe){this.jsonp=fe}intercept(fe,Ze){return"JSONP"===fe.method?this.jsonp.handle(fe):Ze.handle(fe)}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(Ut))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})();const pn=/^\)\]\}',?\n/;let an=(()=>{class He{constructor(fe){this.xhrFactory=fe}handle(fe){if("JSONP"===fe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new X.y(Ze=>{const tt=this.xhrFactory.build();if(tt.open(fe.method,fe.urlWithParams),fe.withCredentials&&(tt.withCredentials=!0),fe.headers.forEach((Jt,Bt)=>tt.setRequestHeader(Jt,Bt.join(","))),fe.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!fe.headers.has("Content-Type")){const Jt=fe.detectContentTypeHeader();null!==Jt&&tt.setRequestHeader("Content-Type",Jt)}if(fe.responseType){const Jt=fe.responseType.toLowerCase();tt.responseType="json"!==Jt?Jt:"text"}const Nt=fe.serializeBody();let lt=null;const Mt=()=>{if(null!==lt)return lt;const Jt=1223===tt.status?204:tt.status,Bt=tt.statusText||"OK",ce=new U(tt.getAllResponseHeaders()),de=function(He){return"responseURL"in He&&He.responseURL?He.responseURL:/^X-Request-URL:/m.test(He.getAllResponseHeaders())?He.getResponseHeader("X-Request-URL"):null}(tt)||fe.url;return lt=new dt({headers:ce,status:Jt,statusText:Bt,url:de}),lt},cn=()=>{let{headers:Jt,status:Bt,statusText:ce,url:de}=Mt(),Se=null;204!==Bt&&(Se=void 0===tt.response?tt.responseText:tt.response),0===Bt&&(Bt=Se?200:0);let Ie=Bt>=200&&Bt<300;if("json"===fe.responseType&&"string"==typeof Se){const le=Se;Se=Se.replace(pn,"");try{Se=""!==Se?JSON.parse(Se):null}catch(qe){Se=le,Ie&&(Ie=!1,Se={error:qe,text:Se})}}Ie?(Ze.next(new It({body:Se,headers:Jt,status:Bt,statusText:ce,url:de||void 0})),Ze.complete()):Ze.error(new at({error:Se,headers:Jt,status:Bt,statusText:ce,url:de||void 0}))},zn=Jt=>{const{url:Bt}=Mt(),ce=new at({error:Jt,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:Bt||void 0});Ze.error(ce)};let Dn=!1;const sn=Jt=>{Dn||(Ze.next(Mt()),Dn=!0);let Bt={type:ke.DownloadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(Bt.total=Jt.total),"text"===fe.responseType&&!!tt.responseText&&(Bt.partialText=tt.responseText),Ze.next(Bt)},lr=Jt=>{let Bt={type:ke.UploadProgress,loaded:Jt.loaded};Jt.lengthComputable&&(Bt.total=Jt.total),Ze.next(Bt)};return tt.addEventListener("load",cn),tt.addEventListener("error",zn),tt.addEventListener("timeout",zn),tt.addEventListener("abort",zn),fe.reportProgress&&(tt.addEventListener("progress",sn),null!==Nt&&tt.upload&&tt.upload.addEventListener("progress",lr)),tt.send(Nt),Ze.next({type:ke.Sent}),()=>{tt.removeEventListener("error",zn),tt.removeEventListener("abort",zn),tt.removeEventListener("load",cn),tt.removeEventListener("timeout",zn),fe.reportProgress&&(tt.removeEventListener("progress",sn),null!==Nt&&tt.upload&&tt.upload.removeEventListener("progress",lr)),tt.readyState!==tt.DONE&&tt.abort()}})}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(h.XhrFactory))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})();const Vt=new A.InjectionToken("XSRF_COOKIE_NAME"),Ct=new A.InjectionToken("XSRF_HEADER_NAME");class jn{}let Jn=(()=>{class He{constructor(fe,Ze,tt){this.doc=fe,this.platform=Ze,this.cookieName=tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,h.\u0275parseCookieValue)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(h.DOCUMENT),A.\u0275\u0275inject(A.PLATFORM_ID),A.\u0275\u0275inject(Vt))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})(),Yt=(()=>{class He{constructor(fe,Ze){this.tokenService=fe,this.headerName=Ze}intercept(fe,Ze){const tt=fe.url.toLowerCase();if("GET"===fe.method||"HEAD"===fe.method||tt.startsWith("http://")||tt.startsWith("https://"))return Ze.handle(fe);const Nt=this.tokenService.getToken();return null!==Nt&&!fe.headers.has(this.headerName)&&(fe=fe.clone({headers:fe.headers.set(this.headerName,Nt)})),Ze.handle(fe)}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(jn),A.\u0275\u0275inject(Ct))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})(),st=(()=>{class He{constructor(fe,Ze){this.backend=fe,this.injector=Ze,this.chain=null}handle(fe){if(null===this.chain){const Ze=this.injector.get(Gn,[]);this.chain=Ze.reduceRight((tt,Nt)=>new Xt(tt,Nt),this.backend)}return this.chain.handle(fe)}}return He.\u0275fac=function(fe){return new(fe||He)(A.\u0275\u0275inject(Y),A.\u0275\u0275inject(A.Injector))},He.\u0275prov=A.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac}),He})();function Bn(){return"object"==typeof window?window:{}}let Wt=(()=>{class He{static disable(){return{ngModule:He,providers:[{provide:Yt,useClass:vn}]}}static withOptions(fe={}){return{ngModule:He,providers:[fe.cookieName?{provide:Vt,useValue:fe.cookieName}:[],fe.headerName?{provide:Ct,useValue:fe.headerName}:[]]}}}return He.\u0275fac=function(fe){return new(fe||He)},He.\u0275mod=A.\u0275\u0275defineNgModule({type:He}),He.\u0275inj=A.\u0275\u0275defineInjector({providers:[Yt,{provide:Gn,useExisting:Yt,multi:!0},{provide:jn,useClass:Jn},{provide:Vt,useValue:"XSRF-TOKEN"},{provide:Ct,useValue:"X-XSRF-TOKEN"}]}),He})(),hn=(()=>{class He{}return He.\u0275fac=function(fe){return new(fe||He)},He.\u0275mod=A.\u0275\u0275defineNgModule({type:He}),He.\u0275inj=A.\u0275\u0275defineInjector({providers:[gt,{provide:W,useClass:st},an,{provide:Y,useExisting:an}],imports:[[Wt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),He})(),Kn=(()=>{class He{}return He.\u0275fac=function(fe){return new(fe||He)},He.\u0275mod=A.\u0275\u0275defineNgModule({type:He}),He.\u0275inj=A.\u0275\u0275defineInjector({providers:[Ut,{provide:Dt,useFactory:Bn},{provide:Gn,useClass:ht,multi:!0}]}),He})();const cr=h.XhrFactory},7716:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Xa,APP_BOOTSTRAP_LISTENER:()=>Fw,APP_ID:()=>Mw,APP_INITIALIZER:()=>hb,ApplicationInitStatus:()=>dp,ApplicationModule:()=>RA,ApplicationRef:()=>Im,Attribute:()=>va,COMPILER_OPTIONS:()=>$w,CUSTOM_ELEMENTS_SCHEMA:()=>Fh,ChangeDetectionStrategy:()=>Ze,ChangeDetectorRef:()=>NE,Compiler:()=>bm,CompilerFactory:()=>Ww,Component:()=>xS,ComponentFactory:()=>ip,ComponentFactoryResolver:()=>sp,ComponentRef:()=>DE,ContentChild:()=>Lc,ContentChildren:()=>Fc,DEFAULT_CURRENCY_CODE:()=>Vw,DebugElement:()=>SA,DebugEventListener:()=>lC,DebugNode:()=>TA,DefaultIterableDiffer:()=>G0,Directive:()=>Tw,ElementRef:()=>ju,EmbeddedViewRef:()=>mA,ErrorHandler:()=>_o,EventEmitter:()=>Nc,Host:()=>cd,HostBinding:()=>NS,HostListener:()=>PS,INJECTOR:()=>pu,Inject:()=>Qu,InjectFlags:()=>Wt,Injectable:()=>Zv,InjectionToken:()=>Gr,Injector:()=>fi,Input:()=>MS,IterableDiffers:()=>M_,KeyValueDiffers:()=>O_,LOCALE_ID:()=>B_,MissingTranslationStrategy:()=>Pc,ModuleWithComponentFactories:()=>jw,NO_ERRORS_SCHEMA:()=>Cp,NgModule:()=>VS,NgModuleFactory:()=>PE,NgModuleFactoryLoader:()=>lA,NgModuleRef:()=>sd,NgProbeToken:()=>sA,NgZone:()=>qa,Optional:()=>ra,Output:()=>OS,PACKAGE_ROOT_URL:()=>jS,PLATFORM_ID:()=>kw,PLATFORM_INITIALIZER:()=>Pw,Pipe:()=>RS,PlatformRef:()=>wb,Query:()=>Ua,QueryList:()=>ym,ReflectiveInjector:()=>Cc,ReflectiveKey:()=>bc,Renderer2:()=>B0,RendererFactory2:()=>R_,RendererStyleFlags2:()=>lu,ResolvedReflectiveFactory:()=>uh,Sanitizer:()=>SE,SecurityContext:()=>en,Self:()=>iu,SimpleChange:()=>Xi,SkipSelf:()=>si,SystemJsNgModuleLoader:()=>gA,SystemJsNgModuleLoaderConfig:()=>aC,TRANSLATIONS:()=>BS,TRANSLATIONS_FORMAT:()=>HS,TemplateRef:()=>bh,Testability:()=>Zw,TestabilityRegistry:()=>_b,Type:()=>Fs,VERSION:()=>AE,Version:()=>W0,ViewChild:()=>Ea,ViewChildren:()=>Vc,ViewContainerRef:()=>om,ViewEncapsulation:()=>lt,ViewRef:()=>cC,WrappedValue:()=>Na,asNativeElements:()=>yA,assertPlatform:()=>tC,createPlatform:()=>Xw,createPlatformFactory:()=>eC,defineInjectable:()=>pn,destroyPlatform:()=>oA,enableProdMode:()=>eA,forwardRef:()=>G,getDebugNode:()=>Ws,getModuleFactory:()=>hA,getPlatform:()=>Ib,inject:()=>jc,isDevMode:()=>Eb,platformCore:()=>AA,resolveForwardRef:()=>re,setTestabilityGetter:()=>XS,\u02750:()=>bl,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>bb,\u0275APP_ID_RANDOM_PROVIDER:()=>Nw,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>Zu,\u0275ChangeDetectorStatus:()=>tt,\u0275CodegenComponentFactoryResolver:()=>AD,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>Hw,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>pb,\u0275Compiler_compileModuleAsync__POST_R3__:()=>Bw,\u0275Compiler_compileModuleSync__POST_R3__:()=>H_,\u0275ComponentFactory:()=>ip,\u0275Console:()=>Lw,\u0275DEFAULT_LOCALE_ID:()=>L,\u0275EMPTY_ARRAY:()=>ce,\u0275EMPTY_MAP:()=>cT,\u0275INJECTOR_IMPL__POST_R3__:()=>hg,\u0275INJECTOR_SCOPE:()=>gu,\u0275LifecycleHooksFeature:()=>Ig,\u0275LocaleDataIndex:()=>c,\u0275NG_COMP_DEF:()=>de,\u0275NG_DIR_DEF:()=>Se,\u0275NG_ELEMENT_ID:()=>Zt,\u0275NG_INJ_DEF:()=>st,\u0275NG_MOD_DEF:()=>le,\u0275NG_PIPE_DEF:()=>Ie,\u0275NG_PROV_DEF:()=>Yt,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>wh,\u0275NO_CHANGE:()=>ir,\u0275NgModuleFactory:()=>U_,\u0275NoopNgZone:()=>zw,\u0275ReflectionCapabilities:()=>Ke,\u0275Render3ComponentFactory:()=>zE,\u0275Render3ComponentRef:()=>AI,\u0275Render3NgModuleRef:()=>NI,\u0275RuntimeError:()=>$e,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>Z0,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>Sw,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>Aw,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>zy,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>Rw,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>xw,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>U0,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>Uw,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>H0,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>J0,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>eI,\u0275_sanitizeHtml:()=>nt,\u0275_sanitizeUrl:()=>Aa,\u0275allowSanitizationBypassAndThrow:()=>Sa,\u0275and:()=>MA,\u0275angular_packages_core_core_a:()=>Ae,\u0275angular_packages_core_core_b:()=>Po,\u0275angular_packages_core_core_ba:()=>vC,\u0275angular_packages_core_core_bb:()=>$,\u0275angular_packages_core_core_bc:()=>V_,\u0275angular_packages_core_core_bd:()=>YD,\u0275angular_packages_core_core_be:()=>Qr,\u0275angular_packages_core_core_bf:()=>SI,\u0275angular_packages_core_core_bg:()=>We,\u0275angular_packages_core_core_bh:()=>_t,\u0275angular_packages_core_core_bi:()=>ri,\u0275angular_packages_core_core_bj:()=>Ss,\u0275angular_packages_core_core_bl:()=>ZE,\u0275angular_packages_core_core_bm:()=>qE,\u0275angular_packages_core_core_bn:()=>QE,\u0275angular_packages_core_core_bo:()=>YE,\u0275angular_packages_core_core_bp:()=>JE,\u0275angular_packages_core_core_bq:()=>Rs,\u0275angular_packages_core_core_br:()=>Er,\u0275angular_packages_core_core_bs:()=>ta,\u0275angular_packages_core_core_bv:()=>K,\u0275angular_packages_core_core_bw:()=>Yd,\u0275angular_packages_core_core_bx:()=>Kn,\u0275angular_packages_core_core_bz:()=>R,\u0275angular_packages_core_core_c:()=>Cu,\u0275angular_packages_core_core_cb:()=>Nl,\u0275angular_packages_core_core_cc:()=>x0,\u0275angular_packages_core_core_d:()=>t_,\u0275angular_packages_core_core_e:()=>Nf,\u0275angular_packages_core_core_f:()=>Ng,\u0275angular_packages_core_core_g:()=>Ow,\u0275angular_packages_core_core_h:()=>$0,\u0275angular_packages_core_core_i:()=>V0,\u0275angular_packages_core_core_j:()=>Eh,\u0275angular_packages_core_core_k:()=>dA,\u0275angular_packages_core_core_l:()=>X0,\u0275angular_packages_core_core_m:()=>sm,\u0275angular_packages_core_core_n:()=>tI,\u0275angular_packages_core_core_o:()=>wm,\u0275angular_packages_core_core_p:()=>$s,\u0275angular_packages_core_core_q:()=>IA,\u0275angular_packages_core_core_r:()=>q0,\u0275angular_packages_core_core_s:()=>xE,\u0275angular_packages_core_core_t:()=>RE,\u0275angular_packages_core_core_u:()=>ME,\u0275angular_packages_core_core_v:()=>OE,\u0275angular_packages_core_core_w:()=>gC,\u0275angular_packages_core_core_x:()=>mC,\u0275angular_packages_core_core_y:()=>yC,\u0275angular_packages_core_core_z:()=>_C,\u0275bypassSanitizationTrustHtml:()=>yd,\u0275bypassSanitizationTrustResourceUrl:()=>_p,\u0275bypassSanitizationTrustScript:()=>Dl,\u0275bypassSanitizationTrustStyle:()=>_d,\u0275bypassSanitizationTrustUrl:()=>Rh,\u0275ccf:()=>ST,\u0275clearOverrides:()=>kx,\u0275clearResolutionOfComponentResourcesQueue:()=>Il,\u0275cmf:()=>Fx,\u0275compileComponent:()=>pw,\u0275compileDirective:()=>db,\u0275compileNgModule:()=>uw,\u0275compileNgModuleDefs:()=>cw,\u0275compileNgModuleFactory__POST_R3__:()=>Yw,\u0275compilePipe:()=>Cw,\u0275createInjector:()=>ag,\u0275crt:()=>XD,\u0275defaultIterableDiffers:()=>Q0,\u0275defaultKeyValueDiffers:()=>Y0,\u0275detectChanges:()=>yf,\u0275devModeEqual:()=>$l,\u0275did:()=>$T,\u0275eld:()=>OA,\u0275findLocaleData:()=>em,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>ow,\u0275getComponentViewDefinitionFactory:()=>_I,\u0275getDebugNodeR2:()=>CA,\u0275getDebugNode__POST_R3__:()=>W_,\u0275getDirectives:()=>wf,\u0275getHostElement:()=>Cf,\u0275getInjectableDef:()=>an,\u0275getLContext:()=>us,\u0275getLocaleCurrencyCode:()=>s,\u0275getLocalePluralCase:()=>e,\u0275getModuleFactory__POST_R3__:()=>iC,\u0275getSanitizationBypassType:()=>md,\u0275global:()=>sn,\u0275initServicesIfNeeded:()=>Sm,\u0275inlineInterpolate:()=>uT,\u0275interpolate:()=>aT,\u0275isBoundToModule__POST_R3__:()=>Jw,\u0275isDefaultChangeDetectionStrategy:()=>Nt,\u0275isListLikeIterable:()=>rh,\u0275isObservable:()=>ku,\u0275isPromise:()=>kg,\u0275isSubscribable:()=>fh,\u0275ivyEnabled:()=>Em,\u0275makeDecorator:()=>ea,\u0275markDirty:()=>sg,\u0275mod:()=>pT,\u0275mpd:()=>fT,\u0275ncd:()=>KA,\u0275noSideEffects:()=>fe,\u0275nov:()=>kT,\u0275overrideComponentView:()=>Px,\u0275overrideProvider:()=>Nx,\u0275pad:()=>qA,\u0275patchComponentDefWithScope:()=>ub,\u0275pid:()=>WT,\u0275pod:()=>QA,\u0275ppd:()=>ZA,\u0275prd:()=>GT,\u0275publishDefaultGlobalUtils:()=>Uv,\u0275publishGlobalUtil:()=>jo,\u0275qud:()=>HA,\u0275registerLocaleData:()=>T_,\u0275registerModuleFactory:()=>rS,\u0275registerNgModuleType:()=>MI,\u0275renderComponent:()=>jv,\u0275resetCompiledComponents:()=>vS,\u0275resetJitOptions:()=>yS,\u0275resolveComponentResources:()=>Yu,\u0275setClassMetadata:()=>xI,\u0275setCurrentInjector:()=>Zi,\u0275setDocument:()=>xi,\u0275setLocaleId:()=>on,\u0275store:()=>Mg,\u0275stringify:()=>W,\u0275ted:()=>ex,\u0275transitiveScopesFor:()=>vm,\u0275unregisterLocaleData:()=>o,\u0275unv:()=>JD,\u0275unwrapSafeValue:()=>Ta,\u0275vid:()=>ix,\u0275whenRendered:()=>Bv,\u0275\u0275CopyDefinitionFeature:()=>By,\u0275\u0275FactoryTarget:()=>Rr,\u0275\u0275InheritDefinitionFeature:()=>th,\u0275\u0275NgOnChangesFeature:()=>Tr,\u0275\u0275ProvidersFeature:()=>k0,\u0275\u0275advance:()=>vo,\u0275\u0275attribute:()=>ih,\u0275\u0275attributeInterpolate1:()=>xf,\u0275\u0275attributeInterpolate2:()=>Dg,\u0275\u0275attributeInterpolate3:()=>Rf,\u0275\u0275attributeInterpolate4:()=>Tg,\u0275\u0275attributeInterpolate5:()=>Sg,\u0275\u0275attributeInterpolate6:()=>Ag,\u0275\u0275attributeInterpolate7:()=>xg,\u0275\u0275attributeInterpolate8:()=>Mf,\u0275\u0275attributeInterpolateV:()=>sh,\u0275\u0275classMap:()=>hl,\u0275\u0275classMapInterpolate1:()=>nd,\u0275\u0275classMapInterpolate2:()=>rd,\u0275\u0275classMapInterpolate3:()=>Xs,\u0275\u0275classMapInterpolate4:()=>y_,\u0275\u0275classMapInterpolate5:()=>Yf,\u0275\u0275classMapInterpolate6:()=>pl,\u0275\u0275classMapInterpolate7:()=>Rc,\u0275\u0275classMapInterpolate8:()=>Jf,\u0275\u0275classMapInterpolateV:()=>Mc,\u0275\u0275classProp:()=>zg,\u0275\u0275contentQuery:()=>ew,\u0275\u0275defineComponent:()=>kn,\u0275\u0275defineDirective:()=>Tn,\u0275\u0275defineInjectable:()=>ht,\u0275\u0275defineInjector:()=>Kt,\u0275\u0275defineNgModule:()=>ve,\u0275\u0275definePipe:()=>bn,\u0275\u0275directiveInject:()=>dh,\u0275\u0275disableBindings:()=>Ks,\u0275\u0275element:()=>Vf,\u0275\u0275elementContainer:()=>Pg,\u0275\u0275elementContainerEnd:()=>Yl,\u0275\u0275elementContainerStart:()=>Ql,\u0275\u0275elementEnd:()=>Lf,\u0275\u0275elementStart:()=>Ff,\u0275\u0275enableBindings:()=>Go,\u0275\u0275getCurrentView:()=>Jl,\u0275\u0275getInheritedFactory:()=>wu,\u0275\u0275hostProperty:()=>np,\u0275\u0275i18n:()=>R0,\u0275\u0275i18nApply:()=>O0,\u0275\u0275i18nAttributes:()=>M0,\u0275\u0275i18nEnd:()=>vE,\u0275\u0275i18nExp:()=>EE,\u0275\u0275i18nPostprocess:()=>N0,\u0275\u0275i18nStart:()=>_E,\u0275\u0275inject:()=>wr,\u0275\u0275injectAttribute:()=>Mo,\u0275\u0275invalidFactory:()=>Pf,\u0275\u0275invalidFactoryDep:()=>Ca,\u0275\u0275listener:()=>Ka,\u0275\u0275loadQuery:()=>tw,\u0275\u0275namespaceHTML:()=>So,\u0275\u0275namespaceMathML:()=>qo,\u0275\u0275namespaceSVG:()=>ks,\u0275\u0275nextContext:()=>Xl,\u0275\u0275ngDeclareClassMetadata:()=>jx,\u0275\u0275ngDeclareComponent:()=>Bx,\u0275\u0275ngDeclareDirective:()=>Ux,\u0275\u0275ngDeclareFactory:()=>Hx,\u0275\u0275ngDeclareInjectable:()=>Wx,\u0275\u0275ngDeclareInjector:()=>Gx,\u0275\u0275ngDeclareNgModule:()=>Kx,\u0275\u0275ngDeclarePipe:()=>zx,\u0275\u0275pipe:()=>WI,\u0275\u0275pipeBind1:()=>GI,\u0275\u0275pipeBind2:()=>KI,\u0275\u0275pipeBind3:()=>zI,\u0275\u0275pipeBind4:()=>ZI,\u0275\u0275pipeBindV:()=>qI,\u0275\u0275projection:()=>s_,\u0275\u0275projectionDef:()=>i_,\u0275\u0275property:()=>hh,\u0275\u0275propertyInterpolate:()=>Lg,\u0275\u0275propertyInterpolate1:()=>jf,\u0275\u0275propertyInterpolate2:()=>Bf,\u0275\u0275propertyInterpolate3:()=>Vg,\u0275\u0275propertyInterpolate4:()=>Ug,\u0275\u0275propertyInterpolate5:()=>Hf,\u0275\u0275propertyInterpolate6:()=>jg,\u0275\u0275propertyInterpolate7:()=>Bg,\u0275\u0275propertyInterpolate8:()=>$f,\u0275\u0275propertyInterpolateV:()=>Hg,\u0275\u0275pureFunction0:()=>PI,\u0275\u0275pureFunction1:()=>kI,\u0275\u0275pureFunction2:()=>FI,\u0275\u0275pureFunction3:()=>LI,\u0275\u0275pureFunction4:()=>VI,\u0275\u0275pureFunction5:()=>UI,\u0275\u0275pureFunction6:()=>jI,\u0275\u0275pureFunction7:()=>BI,\u0275\u0275pureFunction8:()=>HI,\u0275\u0275pureFunctionV:()=>$I,\u0275\u0275queryRefresh:()=>JI,\u0275\u0275reference:()=>oh,\u0275\u0275resolveBody:()=>Ap,\u0275\u0275resolveDocument:()=>Gm,\u0275\u0275resolveWindow:()=>Sp,\u0275\u0275restoreView:()=>Ko,\u0275\u0275sanitizeHtml:()=>Nr,\u0275\u0275sanitizeResourceUrl:()=>sa,\u0275\u0275sanitizeScript:()=>nc,\u0275\u0275sanitizeStyle:()=>tr,\u0275\u0275sanitizeUrl:()=>$n,\u0275\u0275sanitizeUrlOrResourceUrl:()=>zc,\u0275\u0275setComponentScope:()=>rr,\u0275\u0275setNgModuleScope:()=>ot,\u0275\u0275styleMap:()=>ka,\u0275\u0275styleMapInterpolate1:()=>__,\u0275\u0275styleMapInterpolate2:()=>v_,\u0275\u0275styleMapInterpolate3:()=>E_,\u0275\u0275styleMapInterpolate4:()=>Lu,\u0275\u0275styleMapInterpolate5:()=>b_,\u0275\u0275styleMapInterpolate6:()=>I_,\u0275\u0275styleMapInterpolate7:()=>w_,\u0275\u0275styleMapInterpolate8:()=>Xf,\u0275\u0275styleMapInterpolateV:()=>Xg,\u0275\u0275styleProp:()=>Kg,\u0275\u0275stylePropInterpolate1:()=>id,\u0275\u0275stylePropInterpolate2:()=>gl,\u0275\u0275stylePropInterpolate3:()=>ph,\u0275\u0275stylePropInterpolate4:()=>ep,\u0275\u0275stylePropInterpolate5:()=>gh,\u0275\u0275stylePropInterpolate6:()=>tp,\u0275\u0275stylePropInterpolate7:()=>mh,\u0275\u0275stylePropInterpolate8:()=>yh,\u0275\u0275stylePropInterpolateV:()=>_h,\u0275\u0275syntheticHostListener:()=>dl,\u0275\u0275syntheticHostProperty:()=>vh,\u0275\u0275template:()=>Rg,\u0275\u0275templateRefExtractor:()=>sw,\u0275\u0275text:()=>m_,\u0275\u0275textInterpolate:()=>Kf,\u0275\u0275textInterpolate1:()=>fl,\u0275\u0275textInterpolate2:()=>Jg,\u0275\u0275textInterpolate3:()=>zf,\u0275\u0275textInterpolate4:()=>Zf,\u0275\u0275textInterpolate5:()=>Fu,\u0275\u0275textInterpolate6:()=>Bo,\u0275\u0275textInterpolate7:()=>Hs,\u0275\u0275textInterpolate8:()=>qf,\u0275\u0275textInterpolateV:()=>Qf,\u0275\u0275trustConstantHtml:()=>oa,\u0275\u0275trustConstantResourceUrl:()=>Cd,\u0275\u0275viewQuery:()=>XI});var h=D(9765),A=D(5319),j=D(8891),X=D(6682),ne=D(8345);function K(t){for(let n in t)if(t[n]===K)return n;throw Error("Could not find renamed property on target object.")}function ee(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function W(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(W).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Y(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const U=K({__forward_ref__:K});function G(t){return t.__forward_ref__=G,t.toString=function(){return W(this())},t}function re(t){return Ae(t)?t():t}function Ae(t){return"function"==typeof t&&t.hasOwnProperty(U)&&t.__forward_ref__===G}class $e extends Error{constructor(n,i){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,i)),this.code=n}}function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}function tn(t,n){const i=n?` in ${n}`:"";throw new $e("201",`No provider for ${ze(t)} found${i}`)}function nn(t,n,i,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${i} ${a} ${n} <=Actual]`))}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const pn=ht;function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function an(t){return Vt(t,Yt)||Vt(t,Cn)}function Vt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Jn(t){return t&&(t.hasOwnProperty(st)||t.hasOwnProperty(Bn))?t[st]:null}const Yt=K({\u0275prov:K}),st=K({\u0275inj:K}),Cn=K({ngInjectableDef:K}),Bn=K({ngInjectorDef:K});var Wt=(()=>((Wt=Wt||{})[Wt.Default=0]="Default",Wt[Wt.Host=1]="Host",Wt[Wt.Self=2]="Self",Wt[Wt.SkipSelf=4]="SkipSelf",Wt[Wt.Optional=8]="Optional",Wt))();let hn;function Kn(){return hn}function cr(t){const n=hn;return hn=t,n}function He(t,n,i){const a=an(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&Wt.Optional?null:void 0!==n?n:void tn(W(t),"Injector")}function fe(t){return{toString:t}.toString()}var Ze=(()=>((Ze=Ze||{})[Ze.OnPush=0]="OnPush",Ze[Ze.Default=1]="Default",Ze))(),tt=(()=>((tt=tt||{})[tt.CheckOnce=0]="CheckOnce",tt[tt.Checked=1]="Checked",tt[tt.CheckAlways=2]="CheckAlways",tt[tt.Detached=3]="Detached",tt[tt.Errored=4]="Errored",tt[tt.Destroyed=5]="Destroyed",tt))();function Nt(t){return null==t||t===Ze.Default}var lt=(()=>((lt=lt||{})[lt.Emulated=0]="Emulated",lt[lt.None=2]="None",lt[lt.ShadowDom=3]="ShadowDom",lt))();const Mt="undefined"!=typeof globalThis&&globalThis,cn="undefined"!=typeof window&&window,zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=Mt||"undefined"!=typeof global&&global||cn||zn,Bt={},ce=[],de=K({\u0275cmp:K}),Se=K({\u0275dir:K}),Ie=K({\u0275pipe:K}),le=K({\u0275mod:K}),qe=K({\u0275loc:K}),vt=K({\u0275fac:K}),Zt=K({__NG_ELEMENT_ID__:K});let En=0;function kn(t){return fe(()=>{const i={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ze.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lt.Emulated,id:"c",styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,d=t.features,m=t.pipes;return a.id+=En++,a.inputs=xt(t.inputs,i),a.outputs=xt(t.outputs),d&&d.forEach(_=>_(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(On):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ue):null,a})}function rr(t,n,i){const a=t.\u0275cmp;a.directiveDefs=()=>n.map(On),a.pipeDefs=()=>i.map(Ue)}function On(t){return ln(t)||Sn(t)}function Ue(t){return ur(t)}const we={};function ve(t){return fe(()=>{const n={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(we[t.id]=t.type),n})}function ot(t,n){return fe(()=>{const i=dr(t,!0);i.declarations=n.declarations||ce,i.imports=n.imports||ce,i.exports=n.exports||ce})}function xt(t,n){if(null==t)return Bt;const i={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),i[u]=a,n&&(n[u]=d)}return i}const Tn=kn;function bn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ln(t){return t[de]||null}function Sn(t){return t[Se]||null}function ur(t){return t[Ie]||null}function dr(t,n){const i=t[le]||null;if(!i&&!0===n)throw new Error(`Type ${W(t)} does not have '\u0275mod' property.`);return i}function Bi(t){return Array.isArray(t)&&"object"==typeof t[1]}function Wn(t){return Array.isArray(t)&&!0===t[1]}function wi(t){return 0!=(8&t.flags)}function Ji(t){return 2==(2&t.flags)}function Ci(t){return 1==(1&t.flags)}function ui(t){return null!==t.template}function Or(t){return 0!=(512&t[2])}function Fi(t,n){return t.hasOwnProperty(vt)?t[vt]:null}class Xi{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function Tr(){return Qr}function Qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=li),os}function os(){const t=Is(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Bt)t.previous=n;else for(let a in n)i[a]=n[a];t.current=null,this.ngOnChanges(n)}}function li(t,n,i,a){const u=Is(t)||function(t,n){return t[hr]=n}(t,{previous:Bt,current:null}),d=u.current||(u.current={}),m=u.previous,_=this.declaredInputs[i],C=m[_];d[_]=new Xi(C&&C.currentValue,n,m===Bt),t[a]=n}Tr.ngInherit=!0;const hr="__ngSimpleChanges__";function Is(t){return t[hr]||null}let ds=null;const Gi=t=>{ds=t},$r=function(t,n,i){null!=ds&&ds(t,n,i)},mi="http://www.w3.org/2000/svg",Cs="http://www.w3.org/1998/MathML/";let es;function xi(t){es=t}function vr(){return void 0!==es?es:"undefined"!=typeof document?document:void 0}function P(t){return!!t.listen}const k={createRenderer:(t,n)=>vr()};function pe(t){for(;Array.isArray(t);)t=t[0];return t}function N(t,n){return pe(n[t])}function R(t,n){return pe(n[t.index])}function z(t,n){return t.data[n]}function Ne(t,n){return t[n]}function St(t,n){const i=n[t];return Bi(i)?i:i[0]}function fn(t){return 4==(4&t[2])}function yr(t){return 128==(128&t[2])}function pr(t,n){return null==n?null:t[n]}function Sr(t){t[18]=0}function Ri(t,n){t[5]+=n;let i=t,a=t[3];for(;null!==a&&(1===n&&1===i[5]||-1===n&&0===i[5]);)a[5]+=n,i=a,a=a[3]}const xn={lFrame:ma(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function da(){return xn.bindingsEnabled}function Go(){xn.bindingsEnabled=!0}function Ks(){xn.bindingsEnabled=!1}function _t(){return xn.lFrame.lView}function Qn(){return xn.lFrame.tView}function Ko(t){return xn.lFrame.contextLView=t,t[8]}function Wr(){let t=wo();for(;null!==t&&64===t.type;)t=t.parent;return t}function wo(){return xn.lFrame.currentTNode}function zs(){const t=xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function fs(t,n){const i=xn.lFrame;i.currentTNode=t,i.isParent=n}function no(){return xn.lFrame.isParent}function Ns(){xn.lFrame.isParent=!1}function ro(){return xn.isInCheckNoChangesMode}function Ts(t){xn.isInCheckNoChangesMode=t}function ri(){const t=xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Di(){return xn.lFrame.bindingIndex}function ha(t){return xn.lFrame.bindingIndex=t}function Cr(){return xn.lFrame.bindingIndex++}function Mi(t){const n=xn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function io(t){xn.lFrame.inI18n=t}function zo(t,n){const i=xn.lFrame;i.bindingIndex=i.bindingRootIndex=t,Zo(n)}function Zo(t){xn.lFrame.currentDirectiveIndex=t}function ts(t){const n=xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function pa(){return xn.lFrame.currentQueryIndex}function qs(t){xn.lFrame.currentQueryIndex=t}function To(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ns(t,n,i){if(i&Wt.SkipSelf){let u=n,d=t;for(;!(u=u.parent,null!==u||i&Wt.Host||(u=To(d),null===u||(d=d[15],10&u.type))););if(null===u)return!1;n=u,t=d}const a=xn.lFrame=ga();return a.currentTNode=n,a.lView=t,!0}function Ps(t){const n=ga(),i=t[1];xn.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ga(){const t=xn.lFrame,n=null===t?null:t.child;return null===n?ma(t):n}function ma(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Kr(){const t=xn.lFrame;return xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ya=Kr;function ps(){const t=Kr();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ss(t){return(xn.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,xn.lFrame.contextLView))[8]}function zr(){return xn.lFrame.selectedIndex}function rs(t){xn.lFrame.selectedIndex=t}function Yr(){const t=xn.lFrame;return z(t.tView,t.selectedIndex)}function ks(){xn.lFrame.currentNamespace=mi}function qo(){xn.lFrame.currentNamespace=Cs}function So(){xn.lFrame.currentNamespace=null}function As(t,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:C,ngAfterViewChecked:O,ngOnDestroy:B}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-i,m),_&&((t.contentHooks||(t.contentHooks=[])).push(i,_),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,_)),C&&(t.viewHooks||(t.viewHooks=[])).push(-i,C),O&&((t.viewHooks||(t.viewHooks=[])).push(i,O),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,O)),null!=B&&(t.destroyHooks||(t.destroyHooks=[])).push(i,B)}}function xo(t,n,i){gs(t,n,3,i)}function Oi(t,n,i,a){(3&t[2])===i&&gs(t,n,i,a)}function Zr(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function gs(t,n,i,a){const d=null!=a?a:-1,m=n.length-1;let _=0;for(let C=void 0!==a?65535&t[18]:0;C<m;C++)if("number"==typeof n[C+1]){if(_=n[C],null!=a&&_>=a)break}else n[C]<0&&(t[18]+=65536),(_<d||-1==d)&&(La(t,i,n,C),t[18]=(4294901760&t[18])+C+2),C++}function La(t,n,i,a){const u=i[a]<0,d=i[a+1],_=t[u?-i[a]:i[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048,$r(4,_,d);try{d.call(_)}finally{$r(5,_,d)}}}else{$r(4,_,d);try{d.call(_)}finally{$r(5,_,d)}}}class ao{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function ho(t,n,i){const a=P(t);let u=0;for(;u<i.length;){const d=i[u];if("number"==typeof d){if(0!==d)break;u++;const m=i[u++],_=i[u++],C=i[u++];a?t.setAttribute(n,_,C,m):n.setAttributeNS(m,_,C)}else{const m=d,_=i[++u];Jo(m)?a&&t.setProperty(n,m,_):a?t.setAttribute(n,m,_):n.setAttribute(m,_),u++}}return u}function Va(t){return 3===t||4===t||6===t}function Jo(t){return 64===t.charCodeAt(0)}function fo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:0===i||Ya(t,i,u,null,-1===i||2===i?n[++a]:null)}}return t}function Ya(t,n,i,a,u){let d=0,m=t.length;if(-1===n)m=-1;else for(;d<t.length;){const _=t[d++];if("number"==typeof _){if(_===n){m=-1;break}if(_>n){m=d-1;break}}}for(;d<t.length;){const _=t[d];if("number"==typeof _)break;if(_===i){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==m&&(t.splice(m,0,n),d=m+1),t.splice(d++,0,i),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}function v(t){return-1!==t}function l(t){return 32767&t}function b(t,n){let i=function(t){return t>>16}(t),a=n;for(;i>0;)a=a[15],i--;return a}let x=!0;function V(t){const n=x;return x=t,n}let Ot=0;function dn(t,n){const i=$t(t,n);if(-1!==i)return i;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,At(a.data,t),At(n,null),At(a.blueprint,null));const u=ii(t,n),d=t.injectorIndex;if(v(u)){const m=l(u),_=b(u,n),C=_[1].data;for(let O=0;O<8;O++)n[d+O]=_[m+O]|C[m+O]}return n[d+8]=u,d}function At(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $t(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ii(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,u=n;for(;null!==u;){const d=u[1],m=d.type;if(a=2===m?d.declTNode:1===m?u[6]:null,null===a)return-1;if(i++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return-1}function Lt(t,n,i){!function(t,n,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(Zt)&&(a=i[Zt]),null==a&&(a=i[Zt]=Ot++);const u=255&a;n.data[t+(u>>5)]|=1<<u}(t,n,i)}function We(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const a=i.length;let u=0;for(;u<a;){const d=i[u];if(Va(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof i[u];)u++;else{if(d===n)return i[u+1];u+=2}}}return null}function yt(t,n,i){if(i&Wt.Optional)return t;tn(n,"NodeInjector")}function kr(t,n,i,a){if(i&Wt.Optional&&void 0===a&&(a=null),0==(i&(Wt.Self|Wt.Host))){const u=t[9],d=cr(void 0);try{return u?u.get(n,a,i&Wt.Optional):He(n,a,i&Wt.Optional)}finally{cr(d)}}return yt(a,n,i)}function Qs(t,n,i,a=Wt.Default,u){if(null!==t){const d=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Zt)?t[Zt]:void 0;return"number"==typeof n?n>=0?255&n:ml:n}(i);if("function"==typeof d){if(!ns(n,t,a))return a&Wt.Host?yt(u,i,a):kr(n,i,a,u);try{const m=d(a);if(null!=m||a&Wt.Optional)return m;tn(i)}finally{ya()}}else if("number"==typeof d){let m=null,_=$t(t,n),C=-1,O=a&Wt.Host?n[16][6]:null;for((-1===_||a&Wt.SkipSelf)&&(C=-1===_?ii(t,n):n[_+8],-1!==C&&Vi(a,!1)?(m=n[1],_=l(C),n=b(C,n)):_=-1);-1!==_;){const B=n[1];if(zu(d,_,B.data)){const te=yl(_,n,i,m,a,O);if(te!==po)return te}C=n[_+8],-1!==C&&Vi(a,n[1].data[_+8]===O)&&zu(d,_,n)?(m=B,_=l(C),n=b(C,n)):_=-1}}}return kr(n,i,a,u)}const po={};function ml(){return new _a(Wr(),_t())}function yl(t,n,i,a,u,d){const m=n[1],_=m.data[t+8],B=Ku(_,m,i,null==a?Ji(_)&&x:a!=m&&0!=(3&_.type),u&Wt.Host&&d===_);return null!==B?Iu(n,m,B,_):po}function Ku(t,n,i,a,u){const d=t.providerIndexes,m=n.data,_=1048575&d,C=t.directiveStart,B=d>>20,ae=u?_+B:t.directiveEnd;for(let _e=a?_:_+B;_e<ae;_e++){const Oe=m[_e];if(_e<C&&i===Oe||_e>=C&&Oe.type===i)return _e}if(u){const _e=m[C];if(_e&&ui(_e)&&_e.type===i)return C}return null}function Iu(t,n,i,a){let u=t[i];const d=n.data;if(function(t){return t instanceof ao}(u)){const m=u;m.resolving&&function(t,n){throw new $e("200",`Circular dependency in DI detected for ${t}`)}(ze(d[i]));const _=V(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?cr(m.injectImpl):null;ns(t,a,Wt.Default);try{u=t[i]=m.factory(void 0,d,t,a),n.firstCreatePass&&i>=a.directiveStart&&function(t,n,i){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=n.type.prototype;if(a){const m=Qr(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,m),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,m)}u&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,u),d&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,d),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,d))}(i,d[i],n)}finally{null!==C&&cr(C),V(_),m.resolving=!1,ya()}}return u}function zu(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Vi(t,n){return!(t&Wt.Self||t&Wt.Host&&n)}class _a{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return Qs(this._tNode,this._lView,n,a,i)}}function wu(t){return fe(()=>{const n=t.prototype.constructor,i=n[vt]||Yn(n),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[vt]||Yn(u);if(d&&d!==i)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Yn(t){return Ae(t)?()=>{const n=Yn(re(t));return n&&n()}:Fi(t)}function Mo(t){return We(Wr(),t)}const Xo="__annotations__",Fr="__parameters__",Rn="__prop__metadata__";function ea(t,n,i,a,u){return fe(()=>{const d=gr(n);function m(..._){if(this instanceof m)return d.call(this,..._),this;const C=new m(..._);return function(B){return u&&u(B,..._),(B.hasOwnProperty(Xo)?B[Xo]:Object.defineProperty(B,Xo,{value:[]})[Xo]).push(C),a&&a(B),B}}return i&&(m.prototype=Object.create(i.prototype)),m.prototype.ngMetadataName=t,m.annotationCls=m,m})}function gr(t){return function(...i){if(t){const a=t(...i);for(const u in a)this[u]=a[u]}}}function ta(t,n,i){return fe(()=>{const a=gr(n);function u(...d){if(this instanceof u)return a.apply(this,d),this;const m=new u(...d);return _.annotation=m,_;function _(C,O,B){const te=C.hasOwnProperty(Fr)?C[Fr]:Object.defineProperty(C,Fr,{value:[]})[Fr];for(;te.length<=B;)te.push(null);return(te[B]=te[B]||[]).push(m),C}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Er(t,n,i,a){return fe(()=>{const u=gr(n);function d(...m){if(this instanceof d)return u.apply(this,m),this;const _=new d(...m);return function(O,B){const te=O.constructor,ae=te.hasOwnProperty(Rn)?te[Rn]:Object.defineProperty(te,Rn,{value:{}})[Rn];ae[B]=ae.hasOwnProperty(B)&&ae[B]||[],ae[B].unshift(_),a&&a(O,B,...m)}}return i&&(d.prototype=Object.create(i.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Zu(){return ta("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Mo(t)}))}const va=Zu();class Gr{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ht({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xa=new Gr("AnalyzeForEntryComponents");class Ua{}const Fc=Er("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),Ua),Lc=Er("ContentChild",(t,n={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},n),Ua),Vc=Er("ViewChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},n),Ua),Ea=Er("ViewChild",(t,n)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},n),Ua);var Rr=(()=>((Rr=Rr||{})[Rr.Directive=0]="Directive",Rr[Rr.Component=1]="Component",Rr[Rr.Injectable=2]="Injectable",Rr[Rr.Pipe=3]="Pipe",Rr[Rr.NgModule=4]="NgModule",Rr))();function qr(t){const n=sn.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Fs=Function;function tu(t){return"function"==typeof t}function Ls(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let a=t[i];Array.isArray(a)?(n===t&&(n=t.slice(0,i)),Ls(a,n)):n!==t&&n.push(a)}return n}function Oo(t,n){t.forEach(i=>Array.isArray(i)?Oo(i,n):n(i))}function nu(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Jr(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function No(t,n){const i=[];for(let a=0;a<t;a++)i.push(n);return i}function Vs(t,n,i){let a=Ki(t,n);return a>=0?t[1|a]=i:(a=~a,function(t,n,i,a){let u=t.length;if(u==n)t.push(i,a);else if(1===u)t.push(a,t[0]),t[0]=i;else{for(u--,t.push(t[u-1],t[u]);u>n;)t[u]=t[u-2],u--;t[n]=i,t[n+1]=a}}(t,a,n,i)),a}function go(t,n){const i=Ki(t,n);if(i>=0)return t[1|i]}function Ki(t,n){return function(t,n,i){let a=0,u=t.length>>i;for(;u!==a;){const d=a+(u-a>>1),m=t[d<<i];if(n===m)return d<<i;m>n?u=d:a=d+1}return~(u<<i)}(t,n,1)}const M=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,F=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,q=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,he=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Ke{constructor(n){this._reflect=n||sn.Reflect}isReflectionEnabled(){return!0}factory(n){return(...i)=>new n(...i)}_zipTypesAndAnnotations(n,i){let a;a=No(void 0===n?i.length:n.length);for(let u=0;u<a.length;u++)a[u]=void 0===n?[]:n[u]&&n[u]!=Object?[n[u]]:[],i&&null!=i[u]&&(a[u]=a[u].concat(i[u]));return a}_ownParameters(n,i){const a=n.toString();if(M.test(t=a)||he.test(t)||F.test(t)&&!q.test(t))return null;var t;if(n.parameters&&n.parameters!==i.parameters)return n.parameters;const u=n.ctorParameters;if(u&&u!==i.ctorParameters){const _="function"==typeof u?u():u,C=_.map(B=>B&&B.type),O=_.map(B=>B&&Et(B.decorators));return this._zipTypesAndAnnotations(C,O)}const d=n.hasOwnProperty(Fr)&&n[Fr],m=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return m||d?this._zipTypesAndAnnotations(m,d):No(n.length)}parameters(n){if(!tu(n))return[];const i=Qt(n);let a=this._ownParameters(n,i);return!a&&i!==Object&&(a=this.parameters(i)),a||[]}_ownAnnotations(n,i){if(n.annotations&&n.annotations!==i.annotations){let a=n.annotations;return"function"==typeof a&&a.annotations&&(a=a.annotations),a}return n.decorators&&n.decorators!==i.decorators?Et(n.decorators):n.hasOwnProperty(Xo)?n[Xo]:null}annotations(n){if(!tu(n))return[];const i=Qt(n),a=this._ownAnnotations(n,i)||[];return(i!==Object?this.annotations(i):[]).concat(a)}_ownPropMetadata(n,i){if(n.propMetadata&&n.propMetadata!==i.propMetadata){let a=n.propMetadata;return"function"==typeof a&&a.propMetadata&&(a=a.propMetadata),a}if(n.propDecorators&&n.propDecorators!==i.propDecorators){const a=n.propDecorators,u={};return Object.keys(a).forEach(d=>{u[d]=Et(a[d])}),u}return n.hasOwnProperty(Rn)?n[Rn]:null}propMetadata(n){if(!tu(n))return{};const i=Qt(n),a={};if(i!==Object){const d=this.propMetadata(i);Object.keys(d).forEach(m=>{a[m]=d[m]})}const u=this._ownPropMetadata(n,i);return u&&Object.keys(u).forEach(d=>{const m=[];a.hasOwnProperty(d)&&m.push(...a[d]),m.push(...u[d]),a[d]=m}),a}ownPropMetadata(n){return tu(n)&&this._ownPropMetadata(n,Qt(n))||{}}hasLifecycleHook(n,i){return n instanceof Fs&&i in n.prototype}guards(n){return{}}getter(n){return new Function("o","return o."+n+";")}setter(n){return new Function("o","v","return o."+n+" = v;")}method(n){return new Function("o","args",`if (!o.${n}) throw new Error('"${n}" is undefined');\n        return o.${n}.apply(o, args);`)}importUri(n){return"object"==typeof n&&n.filePath?n.filePath:`./${W(n)}`}resourceUri(n){return`./${W(n)}`}resolveIdentifier(n,i,a,u){return u}resolveEnum(n,i){return n[i]}}function Et(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Qt(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const Nn={},er="__NG_DI_FLAG__",Mn="ngTempTokenPath",zi=/\n/gm,as="__source",Js=K({provide:String,useValue:K});let wa;function Zi(t){const n=wa;return wa=t,n}function Po(t,n=Wt.Default){if(void 0===wa)throw new Error("inject() must be called from an injection context");return null===wa?He(t,void 0,n):wa.get(t,n&Wt.Optional?null:void 0,n)}function wr(t,n=Wt.Default){return(Kn()||Po)(re(t),n)}function Ca(t){throw new Error("invalid")}const jc=wr;function ko(t){const n=[];for(let i=0;i<t.length;i++){const a=re(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,d=Wt.Default;for(let m=0;m<a.length;m++){const _=a[m],C=El(_);"number"==typeof C?-1===C?u=_.token:d|=C:u=_}n.push(wr(u,d))}else n.push(wr(a))}return n}function Cu(t,n){return t[er]=n,t.prototype[er]=n,t}function El(t){return t[er]}function ru(t,n,i,a){const u=t[Mn];throw n[as]&&u.unshift(n[as]),t.message=function(t,n,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=W(n);if(Array.isArray(n))u=n.map(W).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let _=n[m];d.push(m+":"+("string"==typeof _?JSON.stringify(_):W(_)))}u=`{${d.join(", ")}}`}return`${i}${a?"("+a+")":""}[${u}]: ${t.replace(zi,"\n  ")}`}("\n"+t.message,u,i,a),t.ngTokenPath=u,t[Mn]=null,t}const bl=t=>({token:t}),Qu=Cu(ta("Inject",bl),-1),ra=Cu(ta("Optional"),8),iu=Cu(ta("Self"),2),si=Cu(ta("SkipSelf"),4),cd=Cu(ta("Host"),1);let Xr=null;function Hc(){return Xr=Xr||new Ke}function $c(t){return su(Hc().parameters(t))}function su(t){return t.map(n=>function(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let i=0;i<t.length;i++){const a=t[i];if(void 0===a)continue;const u=Object.getPrototypeOf(a);if(a instanceof ra||"Optional"===u.ngMetadataName)n.optional=!0;else if(a instanceof si||"SkipSelf"===u.ngMetadataName)n.skipSelf=!0;else if(a instanceof iu||"Self"===u.ngMetadataName)n.self=!0;else if(a instanceof cd||"Host"===u.ngMetadataName)n.host=!0;else if(a instanceof Qu)n.token=a.token;else if(a instanceof va){if(void 0===a.attributeName)throw new Error("Attribute name must be defined.");n.attribute=a.attributeName}else n.token=a}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}function Yu(t){const n=[],i=new Map;function a(u){let d=i.get(u);if(!d){const m=t(u);i.set(u,d=m.then(Ah))}return d}return Ba.forEach((u,d)=>{const m=[];u.templateUrl&&m.push(a(u.templateUrl).then(te=>{u.template=te}));const _=u.styleUrls,C=u.styles||(u.styles=[]),O=u.styles.length;_&&_.forEach((te,ae)=>{C.push(""),m.push(a(te).then(_e=>{C[O+ae]=_e,_.splice(_.indexOf(te),1),0==_.length&&(u.styleUrls=void 0)}))});const B=Promise.all(m).then(()=>function(t){Da.delete(t)}(d));n.push(B)}),Il(),Promise.all(n).then(()=>{})}let Ba=new Map;const Da=new Set;function qi(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}function Il(){const t=Ba;return Ba=new Map,t}function Ah(t){return"string"==typeof t?t:t.text()}let Wc,Gc;function wl(){if(void 0===Wc&&(Wc=null,sn.trustedTypes))try{Wc=sn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Wc}function Ju(t){var n;return(null===(n=wl())||void 0===n?void 0:n.createHTML(t))||t}function Cl(){if(void 0===Gc&&(Gc=null,sn.trustedTypes))try{Gc=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Gc}function Fo(t){var n;return(null===(n=Cl())||void 0===n?void 0:n.createHTML(t))||t}function fd(t){var n;return(null===(n=Cl())||void 0===n?void 0:n.createScript(t))||t}function Du(t){var n;return(null===(n=Cl())||void 0===n?void 0:n.createScriptURL(t))||t}class au{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class pd extends au{getTypeName(){return"HTML"}}class Xu extends au{getTypeName(){return"Style"}}class gd extends au{getTypeName(){return"Script"}}class ec extends au{getTypeName(){return"URL"}}class Lo extends au{getTypeName(){return"ResourceURL"}}function Ta(t){return t instanceof au?t.changingThisBreaksApplicationSecurity:t}function Sa(t,n){const i=md(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function md(t){return t instanceof au&&t.getTypeName()||null}function yd(t){return new pd(t)}function _d(t){return new Xu(t)}function Dl(t){return new gd(t)}function Rh(t){return new ec(t)}function _p(t){return new Lo(t)}function vd(t){const n=new Oh(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ju(""),"text/html")}catch(t){return!1}}()?new Mh(n):n}class Mh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Ju(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class Oh{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const a=this.inertDocument.createElement("body");i.appendChild(a)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Ju(n),i;const a=this.inertDocument.createElement("body");return a.innerHTML=Ju(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(n){const i=n.attributes;for(let u=i.length-1;0<u;u--){const m=i.item(u).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&n.removeAttribute(m)}let a=n.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const vp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Aa(t){return(t=String(t)).match(vp)||t.match(Nh)?t:"unsafe:"+t}function xa(t){return(t=String(t)).split(",").map(n=>Aa(n.trim())).join(", ")}function ia(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function yo(...t){const n={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}const Ed=ia("area,br,col,hr,img,wbr"),uu=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bd=ia("rp,rt"),Sl=yo(Ed,yo(uu,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yo(bd,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yo(bd,uu)),hi=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tc=ia("srcset"),I=yo(hi,tc,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g=ia("script,style,template");class y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let u=this.checkClobberedElement(i,i.nextSibling);if(u){i=u;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Sl.hasOwnProperty(i))return this.sanitizedSomething=!0,!g.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=n.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),m=d.name,_=m.toLowerCase();if(!I.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let C=d.value;hi[_]&&(C=Aa(C)),tc[_]&&(C=xa(C)),this.buf.push(" ",m,'="',Z(C),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Sl.hasOwnProperty(i)&&!Ed.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Z(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H=/([^\#-~ |!])/g;function Z(t){return t.replace(/&/g,"&amp;").replace(w,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(H,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Re;function nt(t,n){let i=null;try{Re=Re||vd(t);let a=n?String(n):"";i=Re.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=i.innerHTML,i=Re.getInertBodyElement(a)}while(a!==d);return Ju((new y).sanitizeChildren(Gt(i)||i))}finally{if(i){const a=Gt(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Gt(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function Nr(t){const n=Ms();return n?Fo(n.sanitize(en.HTML,t)||""):Sa(t,"HTML")?Fo(Ta(t)):nt(vr(),Le(t))}function tr(t){const n=Ms();return n?n.sanitize(en.STYLE,t)||"":Sa(t,"Style")?Ta(t):Le(t)}function $n(t){const n=Ms();return n?n.sanitize(en.URL,t)||"":Sa(t,"URL")?Ta(t):Aa(Le(t))}function sa(t){const n=Ms();if(n)return Du(n.sanitize(en.RESOURCE_URL,t)||"");if(Sa(t,"ResourceURL"))return Du(Ta(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function nc(t){const n=Ms();if(n)return fd(n.sanitize(en.SCRIPT,t)||"");if(Sa(t,"Script"))return fd(Ta(t));throw new Error("unsafe value used in a script context")}function oa(t){return Ju(t[0])}function Cd(t){return function(t){var n;return(null===(n=wl())||void 0===n?void 0:n.createScriptURL(t))||t}(t[0])}function Rs(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?sa:$n}function zc(t,n,i){return Rs(n,i)(t)}function Ms(){const t=_t();return t&&t[12]}function us(t){let n=Dd(t);if(n){if(Array.isArray(n)){const i=n;let a,u,d;if(function(t){return t&&t.constructor&&t.constructor.\u0275cmp}(t)){if(a=Ip(i,t),-1==a)throw new Error("The provided component was not found in the application");u=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(a=function(t,n){let i=t[1].firstChild;for(;i;){const u=i.directiveEnd;for(let d=i.directiveStart;d<u;d++)if(t[d]===n)return i.index;i=Nm(i)}return-1}(i,t),-1==a)throw new Error("The provided directive was not found in the application");d=km(a,i,!1)}else if(a=Ad(i,t),-1==a)return null;const m=pe(i[a]),_=Dd(m),C=_&&!Array.isArray(_)?_:Tu(i,a,m);if(u&&void 0===C.component&&(C.component=u,Un(C.component,C)),d&&void 0===C.directives){C.directives=d;for(let O=0;O<d.length;O++)Un(d[O],C)}Un(C.native,C),n=C}}else{const i=t;let a=i;for(;a=a.parentNode;){const u=Dd(a);if(u){let d;if(d=Array.isArray(u)?u:u.lView,!d)return null;const m=Ad(d,i);if(m>=0){const _=pe(d[m]),C=Tu(d,m,_);Un(_,C),n=C;break}}}}return n||null}function Tu(t,n,i){return{lView:t,nodeIndex:n,native:i,component:void 0,directives:void 0,localRefs:void 0}}function Al(t){let i,n=Dd(t);if(Array.isArray(n)){const a=Ip(n,t);i=St(a,n);const u=Tu(n,a,i[0]);u.component=t,Un(t,u),Un(u.native,u)}else i=St(n.nodeIndex,n.lView);return i}const kh="__ngContext__";function Un(t,n){t[kh]=n}function Dd(t){return t[kh]||null}function xl(t){const n=Dd(t);return n?Array.isArray(n)?n:n.lView:null}function Ad(t,n){const i=t[1];for(let a=20;a<i.bindingStartIndex;a++)if(pe(t[a])===n)return a;return-1}function Nm(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function Ip(t,n){const i=t[1].components;if(i)for(let a=0;a<i.length;a++){const u=i[a];if(St(u,t)[8]===n)return u}else if(St(20,t)[8]===n)return 20;return-1}function km(t,n,i){const a=n[1].data[t];let u=a.directiveStart;return 0==u?ce:(!i&&2&a.flags&&u++,n.slice(u,a.directiveEnd))}const Vm="ngDebugContext",wp="ngOriginalError",Rl="ngErrorLogger";function ms(t){return t[Vm]}function Ml(t){return t[wp]}function xd(t,...n){t.error(...n)}class _o{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),a=this._findContext(n),u=(t=n)&&t[Rl]||xd;var t;u(this._console,"ERROR",n),i&&u(this._console,"ORIGINAL ERROR",i),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(n){return n?ms(n)||this._findContext(Ml(n)):null}_findOriginalError(n){let i=n&&Ml(n);for(;i&&Ml(i);)i=Ml(i);return i||null}}const Fh={name:"custom-elements"},Cp={name:"no-errors-schema"},Rd=/^>|^->|<!--|-->|--!>|<!-$/g,Bm=/(<|>)/;function Md(t){return t.replace(Rd,n=>n.replace(Bm,"\u200b$1\u200b"))}function $m(t){return`ng-reflect-${t=function(t){return t.replace(Od,(...n)=>"-"+n[1].toLowerCase())}(t.replace(/[$@]/g,"_"))}`}const Od=/([A-Z])/g;function Wm(t){try{return null!=t?t.toString().slice(0,30):t}catch(n){return"[ERROR] Exception while trying to serialize the value"}}const Tp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function Sp(t){return t.ownerDocument.defaultView}function Gm(t){return t.ownerDocument}function Ap(t){return t.ownerDocument.body}function cu(t){return t instanceof Function?t():t}var lu=(()=>((lu=lu||{})[lu.Important=1]="Important",lu[lu.DashCase=2]="DashCase",lu))();let Lh;function Us(t,n){return Lh(t,n)}function Vo(t){const n=t[3];return Wn(n)?n[3]:n}function Nl(t){return function(t){let n=Bi(t)?t:xl(t);for(;n&&!(512&n[2]);)n=Vo(n);return n}(t)[8]}function Vh(t){return zm(t[13])}function Mp(t){return zm(t[4])}function zm(t){for(;null!==t&&!Wn(t);)t=t[4];return t}function Pl(t,n,i,a,u){if(null!=a){let d,m=!1;Wn(a)?d=a:Bi(a)&&(m=!0,a=a[0]);const _=pe(a);0===t&&null!==i?null==u?Hh(n,i,_):Su(n,i,_,u||null,!0):1===t&&null!==i?Su(n,i,_,u||null,!0):2===t?kp(n,_,m):3===t&&n.destroyNode(_),null!=d&&function(t,n,i,a,u){const d=i[7];d!==pe(i)&&Pl(n,t,a,d,u);for(let _=10;_<i.length;_++){const C=i[_];Ud(C[1],C,t,n,a,d)}}(n,t,d,i,u)}}function Op(t,n){return P(t)?t.createText(n):t.createTextNode(n)}function Zm(t,n,i){P(t)?t.setValue(n,i):n.textContent=i}function ev(t,n){return t.createComment(Md(n))}function Np(t,n,i){return P(t)?t.createElement(n,i):null===i?t.createElement(n):t.createElementNS(i,n)}function qm(t,n){const i=t[9],a=i.indexOf(n),u=n[3];1024&n[2]&&(n[2]&=-1025,Ri(u,-1)),i.splice(a,1)}function Uh(t,n){if(t.length<=10)return;const i=10+n,a=t[i];if(a){const u=a[17];null!==u&&u!==t&&qm(u,a),n>0&&(t[i-1][4]=a[4]);const d=Jr(t,10+n);!function(t,n){Ud(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Qm(t,n){if(!(256&n[2])){const i=n[11];P(i)&&i.destroyNode&&Ud(t,n,i,3,null,null),function(t){let n=t[13];if(!n)return jh(t[1],t);for(;n;){let i=null;if(Bi(n))i=n[13];else{const a=n[10];a&&(i=a)}if(!i){for(;n&&!n[4]&&n!==t;)Bi(n)&&jh(n[1],n),n=n[3];null===n&&(n=t),Bi(n)&&jh(n[1],n),i=n&&n[4]}n=i}}(n)}}function jh(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const u=n[i[a]];if(!(u instanceof ao)){const d=i[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const _=u[d[m]],C=d[m+1];$r(4,_,C);try{C.call(_)}finally{$r(5,_,C)}}else{$r(4,u,d);try{d.call(u)}finally{$r(5,u,d)}}}}}(t,n),function(t,n){const i=t.cleanup,a=n[7];let u=-1;if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+1],_="function"==typeof m?m(n):pe(n[m]),C=a[u=i[d+2]],O=i[d+3];"boolean"==typeof O?_.removeEventListener(i[d],C,O):O>=0?a[u=O]():a[u=-O].unsubscribe(),d+=2}else{const m=a[u=i[d+1]];i[d].call(m)}if(null!==a){for(let d=u+1;d<a.length;d++)a[d]();n[7]=null}}(t,n),1===n[1].type&&P(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Wn(n[3])){i!==n[3]&&qm(i,n);const a=n[19];null!==a&&a.detachView(t)}}}function Bh(t,n,i){return ys(t,n.parent,i)}function ys(t,n,i){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return i[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===lt.None||u===lt.Emulated)return null}return R(a,i)}function Su(t,n,i,a,u){P(t)?t.insertBefore(n,i,a,u):n.insertBefore(i,a,u)}function Hh(t,n,i){P(t)?t.appendChild(n,i):n.appendChild(i)}function $h(t,n,i,a,u){null!==a?Su(t,n,i,a,u):Hh(t,n,i)}function kd(t,n){return P(t)?t.parentNode(n):n.parentNode}function Pp(t,n,i){return ic(t,n,i)}function Fd(t,n,i){return 40&t.type?R(t,i):null}let Au,ic=Fd;function sc(t,n){ic=t,Au=n}function oc(t,n,i,a){const u=Bh(t,a,n),d=n[11],_=Pp(a.parent||n[6],a,n);if(null!=u)if(Array.isArray(i))for(let C=0;C<i.length;C++)$h(d,u,i[C],_,!1);else $h(d,u,i,_,!1);void 0!==Au&&Au(d,a,n,i,u)}function Ld(t,n){if(null!==n){const i=n.type;if(3&i)return R(n,t);if(4&i)return Vd(-1,t[n.index]);if(8&i){const a=n.child;if(null!==a)return Ld(t,a);{const u=t[n.index];return Wn(u)?Vd(-1,u):pe(u)}}if(32&i)return Us(n,t)()||pe(t[n.index]);{const a=Wh(t,n);return null!==a?Array.isArray(a)?a[0]:Ld(Vo(t[16]),a):Ld(t,n.next)}}return null}function Wh(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Vd(t,n){const i=10+t+1;if(i<n.length){const a=n[i],u=a[1].firstChild;if(null!==u)return Ld(a,u)}return n[7]}function kp(t,n,i){const a=kd(t,n);a&&function(t,n,i,a){P(t)?t.removeChild(n,i,a):n.removeChild(i)}(t,a,n,i)}function Gh(t,n,i,a,u,d,m){for(;null!=i;){const _=a[i.index],C=i.type;if(m&&0===n&&(_&&Un(pe(_),a),i.flags|=4),64!=(64&i.flags))if(8&C)Gh(t,n,i.child,a,u,d,!1),Pl(n,t,u,_,d);else if(32&C){const O=Us(i,a);let B;for(;B=O();)Pl(n,t,u,B,d);Pl(n,t,u,_,d)}else 16&C?Fp(t,n,a,i,u,d):Pl(n,t,u,_,d);i=m?i.projectionNext:i.next}}function Ud(t,n,i,a,u,d){Gh(i,a,t.firstChild,n,u,d,!1)}function Fp(t,n,i,a,u,d){const m=i[16],C=m[6].projection[a.projection];if(Array.isArray(C))for(let O=0;O<C.length;O++)Pl(n,t,u,C[O],d);else Gh(t,n,C,m[3],u,d,!0)}function ac(t,n,i){P(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function Lp(t,n,i){P(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Vp(t,n,i){let a=t.length;for(;;){const u=t.indexOf(n,i);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=n.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}i=u+1}}const Xm="ng-template";function cv(t,n,i){let a=0;for(;a<t.length;){let u=t[a++];if(i&&"class"===u){if(u=t[a],-1!==Vp(u.toLowerCase(),n,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===n)return!0;return!1}}return!1}function kl(t){return 4===t.type&&t.value!==Xm}function qc(t,n,i){return n===(4!==t.type||i?t.value:Xm)}function Qc(t,n,i){let a=4;const u=t.attrs||[],d=function(t){for(let n=0;n<t.length;n++)if(Va(t[n]))return n;return t.length}(u);let m=!1;for(let _=0;_<n.length;_++){const C=n[_];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!qc(t,C,i)||""===C&&1===n.length){if(Ma(a))return!1;m=!0}}else{const O=8&a?C:n[++_];if(8&a&&null!==t.attrs){if(!cv(t.attrs,O,i)){if(Ma(a))return!1;m=!0}continue}const te=lv(8&a?"class":C,u,kl(t),i);if(-1===te){if(Ma(a))return!1;m=!0;continue}if(""!==O){let ae;ae=te>d?"":u[te+1].toLowerCase();const _e=8&a?ae:null;if(_e&&-1!==Vp(_e,O,0)||2&a&&O!==ae){if(Ma(a))return!1;m=!0}}}}else{if(!m&&!Ma(a)&&!Ma(C))return!1;if(m&&Ma(C))continue;m=!1,a=C|1&a}}return Ma(a)||m}function Ma(t){return 0==(1&t)}function lv(t,n,i,a){if(null===n)return-1;let u=0;if(a||!i){let d=!1;for(;u<n.length;){const m=n[u];if(m===t)return u;if(3===m||6===m)d=!0;else{if(1===m||2===m){let _=n[++u];for(;"string"==typeof _;)_=n[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=d?1:2}return-1}return function(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===n)return i;i++}return-1}(n,t)}function ey(t,n,i=!1){for(let a=0;a<n.length;a++)if(Qc(t,n[a],i))return!0;return!1}function ty(t,n){e:for(let i=0;i<n.length;i++){const a=n[i];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Fl(t,n){return t?":not("+n.trim()+")":n}function Zh(t){let n=t[0],i=1,a=2,u="",d=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&a){const _=t[++i];u+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!Ma(m)&&(n+=Fl(d,u),u=""),a=m,d=d||!Ma(a);i++}return""!==u&&(n+=Fl(d,u)),n}const ir={};function vo(t){jp(Qn(),_t(),zr()+t,ro())}function jp(t,n,i,a){if(!a)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&xo(n,d,i)}else{const d=t.preOrderHooks;null!==d&&Oi(n,d,0,i)}rs(i)}function Yc(t,n){return t<<17|n<<2}function Uo(t){return t>>17&32767}function cc(t){return 2|t}function du(t){return(131068&t)>>2}function xu(t,n){return-131069&t|n<<2}function lc(t){return 1|t}const tf=(()=>Promise.resolve(null))();function nf(t,n){const i=t.contentQueries;if(null!==i)for(let a=0;a<i.length;a+=2){const u=i[a],d=i[a+1];if(-1!==d){const m=t.data[d];qs(u),m.contentQueries(2,n[d],d)}}}function $d(t,n,i,a,u,d,m,_,C,O){const B=n.blueprint.slice();return B[0]=u,B[2]=140|a,Sr(B),B[3]=B[15]=t,B[8]=i,B[10]=m||t&&t[10],B[11]=_||t&&t[11],B[12]=C||t&&t[12]||null,B[9]=O||t&&t[9]||null,B[6]=d,B[16]=2==n.type?t[16]:B,B}function Xc(t,n,i,a,u){let d=t.data[n];if(null===d)d=Gp(t,n,i,a,u),xn.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=i,d.value=a,d.attrs=u;const m=zs();d.injectorIndex=null===m?-1:m.injectorIndex}return fs(d,!0),d}function Gp(t,n,i,a,u){const d=wo(),m=no(),C=t.data[n]=function(t,n,i,a,u,d){return{type:i,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,n,a,u);return null===t.firstChild&&(t.firstChild=C),null!==d&&(m?null==d.child&&null!==C.parent&&(d.child=C):null===d.next&&(d.next=C)),C}function $a(t,n,i,a){if(0===i)return-1;const u=n.length;for(let d=0;d<i;d++)n.push(a),t.blueprint.push(a),t.data.push(null);return u}function fu(t,n,i){Ps(n);try{const a=t.viewQuery;null!==a&&ig(1,a,i);const u=t.template;null!==u&&Kp(t,n,u,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&nf(t,n),t.staticViewQueries&&ig(2,t.viewQuery,i);const d=t.components;null!==d&&function(t,n){for(let i=0;i<n.length;i++)Av(t,n[i])}(n,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,ps()}}function fc(t,n,i,a){const u=n[2];if(256==(256&u))return;Ps(n);const d=ro();try{Sr(n),ha(t.bindingStartIndex),null!==i&&Kp(t,n,i,2,a);const m=3==(3&u);if(!d)if(m){const O=t.preOrderCheckHooks;null!==O&&xo(n,O,null)}else{const O=t.preOrderHooks;null!==O&&Oi(n,O,0,null),Zr(n,0)}if(function(t){for(let n=Vh(t);null!==n;n=Mp(n)){if(!n[2])continue;const i=n[9];for(let a=0;a<i.length;a++){const u=i[a],d=u[3];0==(1024&u[2])&&Ri(d,1),u[2]|=1024}}}(n),function(t){for(let n=Vh(t);null!==n;n=Mp(n))for(let i=10;i<n.length;i++){const a=n[i],u=a[1];yr(a)&&fc(u,a,u.template,a[8])}}(n),null!==t.contentQueries&&nf(t,n),!d)if(m){const O=t.contentCheckHooks;null!==O&&xo(n,O)}else{const O=t.contentHooks;null!==O&&Oi(n,O,1),Zr(n,1)}!function(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const u=i[a];if(u<0)rs(~u);else{const d=u,m=i[++a],_=i[++a];zo(m,d),_(2,n[d])}}}finally{rs(-1)}}(t,n);const _=t.components;null!==_&&function(t,n){for(let i=0;i<n.length;i++)Sv(t,n[i])}(n,_);const C=t.viewQuery;if(null!==C&&ig(2,C,a),!d)if(m){const O=t.viewCheckHooks;null!==O&&xo(n,O)}else{const O=t.viewHooks;null!==O&&Oi(n,O,2),Zr(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Ri(n[3],-1))}finally{ps()}}function rf(t,n,i,a){const u=n[10],d=!ro(),m=fn(n);try{d&&!m&&u.begin&&u.begin(),m&&fu(t,n,a),fc(t,n,i,a)}finally{d&&!m&&u.end&&u.end()}}function Kp(t,n,i,a,u){const d=zr(),m=2&a;try{rs(-1),m&&n.length>20&&jp(t,n,20,ro()),$r(m?2:0,u),i(a,u)}finally{rs(d),$r(m?3:1,u)}}function zp(t,n,i){if(wi(n)){const u=n.directiveEnd;for(let d=n.directiveStart;d<u;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,i[d],d)}}}function sf(t,n,i){!da()||(function(t,n,i,a){const u=i.directiveStart,d=i.directiveEnd;t.firstCreatePass||dn(i,n),Un(a,n);const m=i.initialInputs;for(let _=u;_<d;_++){const C=t.data[_],O=ui(C);O&&eg(n,i,C);const B=Iu(n,t,_,i);Un(B,n),null!==m&&tg(0,_-u,B,C,0,m),O&&(St(i.index,n)[8]=B)}}(t,n,i,R(i,n)),128==(128&i.flags)&&function(t,n,i){const a=i.directiveStart,u=i.directiveEnd,m=i.index,_=xn.lFrame.currentDirectiveIndex;try{rs(m);for(let C=a;C<u;C++){const O=t.data[C],B=n[C];Zo(C),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&gy(O,B)}}finally{rs(-1),Zo(_)}}(t,n,i))}function Zp(t,n,i=R){const a=n.localNames;if(null!==a){let u=n.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],_=-1===m?i(n,t):t[m];t[u++]=_}}}function of(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=af(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function af(t,n,i,a,u,d,m,_,C,O){const B=20+a,te=B+u,ae=function(t,n){const i=[];for(let a=0;a<n;a++)i.push(a<t?null:ir);return i}(B,te),_e="function"==typeof O?O():O;return ae[1]={type:t,blueprint:ae,template:i,queries:null,viewQuery:_,declTNode:n,data:ae.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:_e,incompleteFirstPass:!1}}function uf(t,n,i){if(P(t))return t.selectRootElement(n,i===lt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}function Wd(t,n,i,a){const u=by(n);null===i?u.push(a):(u.push(i),t.firstCreatePass&&pf(t).push(a,u.length-1))}function Kd(t,n,i){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(i=null===i?{}:i).hasOwnProperty(a)?i[a].push(n,u):i[a]=[n,u]}return i}function Eo(t,n,i,a,u,d,m,_){const C=R(n,i);let B,O=n.inputs;!_&&null!=O&&(B=O[a])?(wy(t,i,B,a,u),Ji(n)&&function(t,n){const i=St(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(a=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=m?m(u,n.value||"",a):u,P(d)?d.setProperty(C,a,u):Jo(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}function Ul(t,n,i,a){let u=!1;if(da()){const d=function(t,n,i){const a=t.directiveRegistry;let u=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];ey(i,m.selectors,!1)&&(u||(u=[]),Lt(dn(i,n),t,m.type),ui(m)?(my(t,i),u.unshift(m)):u.push(m))}return u}(t,n,i),m=null===a?null:{"":-1};if(null!==d){u=!0,cf(i,t.data.length,d.length);for(let B=0;B<d.length;B++){const te=d[B];te.providersResolver&&te.providersResolver(te)}let _=!1,C=!1,O=$a(t,n,d.length,null);for(let B=0;B<d.length;B++){const te=d[B];i.mergedAttrs=fo(i.mergedAttrs,te.hostAttrs),el(t,i,n,O,te),zd(O,te,m),null!==te.contentQueries&&(i.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(i.flags|=128);const ae=te.type.prototype;!_&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),_=!0),!C&&(ae.ngOnChanges||ae.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),C=!0),O++}!function(t,n){const a=n.directiveEnd,u=t.data,d=n.attrs,m=[];let _=null,C=null;for(let O=n.directiveStart;O<a;O++){const B=u[O],te=B.inputs,ae=null===d||kl(n)?null:yy(te,d);m.push(ae),_=Kd(te,O,_),C=Kd(B.outputs,O,C)}null!==_&&(_.hasOwnProperty("class")&&(n.flags|=16),_.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=m,n.inputs=_,n.outputs=C}(t,i)}m&&function(t,n,i){if(n){const a=t.localNames=[];for(let u=0;u<n.length;u+=2){const d=i[n[u+1]];if(null==d)throw new $e("301",`Export of name '${n[u+1]}' not found!`);a.push(n[u],d)}}}(i,a,m)}return i.mergedAttrs=fo(i.mergedAttrs,i.attrs),u}function jl(t,n,i,a,u,d){const m=d.hostBindings;if(m){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const C=~n.index;(function(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(_)!=C&&_.push(C),_.push(a,u,m)}}function gy(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function my(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function zd(t,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=t;ui(n)&&(i[""]=t)}}function cf(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function el(t,n,i,a,u){t.data[a]=u;const d=u.factory||(u.factory=Fi(u.type)),m=new ao(d,ui(u),null);t.blueprint[a]=m,i[a]=m,jl(t,n,0,a,$a(t,i,u.hostVars,ir),u)}function eg(t,n,i){const a=R(n,t),u=of(i),d=t[10],m=df(t,$d(t,u,null,i.onPush?64:16,a,n,d,d.createRenderer(a,i),null,null));t[n.index]=m}function aa(t,n,i,a,u,d){const m=R(t,n);tl(n[11],m,d,t.value,i,a,u)}function tl(t,n,i,a,u,d,m){if(null==d)P(t)?t.removeAttribute(n,u,i):n.removeAttribute(u);else{const _=null==m?Le(d):m(d,a||"",u);P(t)?t.setAttribute(n,u,_,i):i?n.setAttributeNS(i,u,_):n.setAttribute(u,_)}}function tg(t,n,i,a,u,d){const m=d[n];if(null!==m){const _=a.setInput;for(let C=0;C<m.length;){const O=m[C++],B=m[C++],te=m[C++];null!==_?a.setInput(i,te,O,B):i[B]=te}}}function yy(t,n){let i=null,a=0;for(;a<n.length;){const u=n[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===i&&(i=[]),i.push(u,t[u],n[a+1])),a+=2}else a+=2;else a+=4}return i}function lf(t,n,i,a){return new Array(t,!0,!1,n,null,0,a,i,null,null)}function Sv(t,n){const i=St(n,t);if(yr(i)){const a=i[1];80&i[2]?fc(a,i,a.template,i[8]):i[5]>0&&Zd(i)}}function Zd(t){for(let a=Vh(t);null!==a;a=Mp(a))for(let u=10;u<a.length;u++){const d=a[u];if(1024&d[2]){const m=d[1];fc(m,d,m.template,d[8])}else d[5]>0&&Zd(d)}const i=t[1].components;if(null!==i)for(let a=0;a<i.length;a++){const u=St(i[a],t);yr(u)&&u[5]>0&&Zd(u)}}function Av(t,n){const i=St(n,t),a=i[1];(function(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(a,i),fu(a,i,i[8])}function df(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function qd(t){for(;t;){t[2]|=64;const n=Vo(t);if(Or(t)&&!n)return t;t=n}return null}function Qd(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],a=xl(i),u=a[1];rf(u,a,u.template,i)}}function ff(t,n,i){const a=n[10];a.begin&&a.begin();try{fc(t,n,t.template,i)}catch(u){throw gf(n,u),u}finally{a.end&&a.end()}}function nl(t){Qd(t[8])}function ig(t,n,i){qs(0),n(t,i)}const Ey=tf;function by(t){return t[7]||(t[7]=[])}function pf(t){return t.cleanup||(t.cleanup=[])}function Iy(t,n,i){return(null===t||ui(t))&&(i=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}function gf(t,n){const i=t[9],a=i?i.get(_o,null):null;a&&a.handleError(n)}function wy(t,n,i,a,u){for(let d=0;d<i.length;){const m=i[d++],_=i[d++],C=n[m],O=t.data[m];null!==O.setInput?O.setInput(C,u,a,_):C[_]=u}}function Wa(t,n,i){const a=N(n,t);Zm(t[11],a,i)}function mf(t,n,i){let a=i?t.styles:null,u=i?t.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const _=n[m];"number"==typeof _?d=_:1==d?u=Y(u,_):2==d&&(a=Y(a,_+": "+n[++m]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=u:t.classesWithoutHost=u}function yf(t){const n=Al(t);ff(n[1],n,t)}function sg(t){!function(t,n){if(0===t.flags&&t.clean==tf){let a;t.flags|=1,t.clean=new Promise(u=>a=u),t.scheduler(()=>{if(1&t.flags&&(t.flags&=-2,Qd(t)),2&t.flags){t.flags&=-3;const u=t.playerHandler;u&&u.flushPlayers()}t.clean=tf,a(null)})}}(qd(Al(t))[8])}const pu=new Gr("INJECTOR",-1);class Yd{get(n,i=Nn){if(i===Nn){const a=new Error(`NullInjectorError: No provider for ${W(n)}!`);throw a.name="NullInjectorError",a}return i}}const gu=new Gr("Set Injector scope."),Oa={},og={};let gc;function rl(){return void 0===gc&&(gc=new Yd),gc}function ag(t,n=null,i=null,a){const u=il(t,n,i,a);return u._resolveInjectorDefTypes(),u}function il(t,n=null,i=null,a){return new Mv(t,i,n||rl(),a)}class Mv{constructor(n,i,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];i&&Oo(i,_=>this.processProvider(_,n,i)),Oo([n],_=>this.processInjectorType(_,[],d)),this.records.set(pu,mc(void 0,this));const m=this.records.get(gu);this.scope=null!=m?m.value:null,this.source=u||("object"==typeof n?null:W(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Nn,a=Wt.Default){this.assertNotDestroyed();const u=Zi(this),d=cr(void 0);try{if(!(a&Wt.SkipSelf)){let _=this.records.get(n);if(void 0===_){const C=("function"==typeof(t=n)||"object"==typeof t&&t instanceof Gr)&&an(n);_=C&&this.injectableDefInScope(C)?mc(ug(n),Oa):null,this.records.set(n,_)}if(null!=_)return this.hydrate(n,_)}return(a&Wt.Self?rl():this.parent).get(n,i=a&Wt.Optional&&i===Nn?null:i)}catch(m){if("NullInjectorError"===m.name){if((m[Mn]=m[Mn]||[]).unshift(W(n)),u)throw m;return ru(m,n,"R3InjectorError",this.source)}throw m}finally{cr(d),Zi(u)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,u)=>n.push(W(u))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,a){if(!(n=re(n)))return!1;let u=Jn(n);const d=null==u&&n.ngModule||void 0,m=void 0===d?n:d,_=-1!==a.indexOf(m);if(void 0!==d&&(u=Jn(d)),null==u)return!1;if(null!=u.imports&&!_){let B;a.push(m);try{Oo(u.imports,te=>{this.processInjectorType(te,i,a)&&(void 0===B&&(B=[]),B.push(te))})}finally{}if(void 0!==B)for(let te=0;te<B.length;te++){const{ngModule:ae,providers:_e}=B[te];Oo(_e,Oe=>this.processProvider(Oe,ae,_e||ce))}}this.injectorDefTypes.add(m);const C=Fi(m)||(()=>new m);this.records.set(m,mc(C,Oa));const O=u.providers;if(null!=O&&!_){const B=n;Oo(O,te=>this.processProvider(te,B,O))}return void 0!==d&&void 0!==n.providers}processProvider(n,i,a){let u=yc(n=re(n))?n:re(n&&n.provide);const d=Dy(t=n)?mc(void 0,t.useValue):mc(_f(t),Oa);var t;if(yc(n)||!0!==n.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=mc(void 0,Oa,!0),m.factory=()=>ko(m.multi),this.records.set(u,m)),u=n,m.multi.push(n)}this.records.set(u,d)}hydrate(n,i){return i.value===Oa&&(i.value=og,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const i=re(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function ug(t){const n=an(t),i=null!==n?n.factory:Fi(t);if(null!==i)return i;if(t instanceof Gr)throw new Error(`Token ${W(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const a=No(n,"?");throw new Error(`Can't resolve all parameters for ${W(t)}: (${a.join(", ")}).`)}const i=function(t){const n=t&&(t[Yt]||t[Cn]);if(n){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function _f(t,n,i){let a;if(yc(t)){const u=re(t);return Fi(u)||ug(u)}if(Dy(t))a=()=>re(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ko(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))a=()=>wr(re(t.useExisting));else{const u=re(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Fi(u)||ug(u);a=()=>new u(...ko(t.deps))}return a}function mc(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function Dy(t){return null!==t&&"object"==typeof t&&Js in t}function yc(t){return"function"==typeof t}function hg(t,n,i){return ag({name:i},n,t,i)}const fg=hg;let fi=(()=>{class t{static create(i,a){return Array.isArray(i)?fg(i,a,""):fg(i.providers,i.parent,i.name||"")}}return t.THROW_IF_NOT_FOUND=Nn,t.NULL=new Yd,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>wr(pu)}),t.__NG_ELEMENT_ID__=-1,t})();function yg(t){eh(t);const n=us(t);return null===n?null:(void 0===n.component&&(n.component=function(t,n){const i=n[1].data[t];return 2&i.flags?n[i.directiveStart]:null}(n.nodeIndex,n.lView)),n.component)}function bf(t){eh(t);const n=us(t);return null===n?null:n.lView[8]}function My(t){const n=us(t);if(null===n)return null;let a,i=n.lView;for(;2===i[1].type&&(a=Vo(i));)i=a;return 512&i[2]?null:i[8]}function If(t){return[...Nl(t).components]}function Oy(t){const n=us(t);return null===n?fi.NULL:new _a(n.lView[1].data[n.nodeIndex],n.lView)}function wf(t){if(t instanceof Text)return[];const n=us(t);if(null===n)return[];const i=n.lView,a=i[1],u=n.nodeIndex;return(null==a?void 0:a.data[u])?(void 0===n.directives&&(n.directives=km(u,i,!1)),null===n.directives?[]:[...n.directives]):[]}function vg(t){const{constructor:n}=t;if(!n)throw new Error("Unable to find the instance constructor");const i=ln(n);if(i)return{inputs:i.inputs,outputs:i.outputs,encapsulation:i.encapsulation,changeDetection:i.onPush?Ze.OnPush:Ze.Default};const a=Sn(n);return a?{inputs:a.inputs,outputs:a.outputs}:null}function Cf(t){return us(t).native}function Py(t){eh(t);const n=us(t);if(null===n)return[];const i=n.lView,u=i[7],d=i[1].cleanup,m=[];if(d&&u)for(let _=0;_<d.length;){const C=d[_++],O=d[_++];if("string"==typeof C){const B=C,te=pe(i[O]),ae=u[d[_++]],_e=d[_++],Oe="boolean"==typeof _e||_e>=0?"dom":"output",Je="boolean"==typeof _e&&_e;t==te&&m.push({element:t,name:B,callback:ae,useCapture:Je,type:Oe})}}return m.sort(Eg),m}function Eg(t,n){return t.name==n.name?0:t.name<n.name?-1:1}function Nu(t){return void 0!==t.type&&void 0!==t.template&&void 0!==t.declaredInputs}function eh(t){if("undefined"!=typeof Element&&!(t instanceof Element))throw new Error("Expecting instance of DOM Element")}function Vv(t){sg(t),If(t).forEach(n=>yf(n))}let Df=!1;function Uv(){Df||(Df=!0,jo("\u0275setProfiler",Gi),jo("getDirectiveMetadata",vg),jo("getComponent",yg),jo("getContext",bf),jo("getListeners",Py),jo("getOwningComponent",My),jo("getHostElement",Cf),jo("getInjector",Oy),jo("getRootComponents",If),jo("getDirectives",wf),jo("applyChanges",Vv))}function jo(t,n){if("undefined"==typeof COMPILED||!COMPILED){const i=sn;if(i){let a=i.ng;a||(a=i.ng={}),a[t]=n}}}function jv(t,n={}){const i=n.rendererFactory||k,a=n.sanitizer||null,u=ln(t);u.type!=t&&(u.type=t);const d=u.selectors[0][0],_=uf(i.createRenderer(null,null),n.host||d,u.encapsulation),C=u.onPush?576:528,O=Sf(n.scheduler,n.playerHandler),B=i.createRenderer(_,u),te=af(0,null,null,1,0,null,null,null,null,null),ae=$d(null,te,O,C,null,null,i,B,null,n.injector||null);let _e;Ps(ae);try{i.begin&&i.begin(),_e=bg(Tf(_,u,ae,i,B,a),u,ae,O,n.hostFeatures||null),fu(te,ae,null),fc(te,ae,null,null)}finally{ps(),i.end&&i.end()}return _e}function Tf(t,n,i,a,u,d){const m=i[1];i[20]=t;const C=Xc(m,20,2,"#host",null),O=C.mergedAttrs=n.hostAttrs;null!==O&&(mf(C,O,!0),null!==t&&(ho(u,t,O),null!==C.classes&&Lp(u,t,C.classes),null!==C.styles&&ac(u,t,C.styles)));const B=a.createRenderer(t,n),te=$d(i,of(n),null,n.onPush?64:16,i[20],C,a,B,d||null,null);return m.firstCreatePass&&(Lt(dn(C,i),m,n.type),my(m,C),cf(C,i.length,1)),df(i,te),i[20]=te}function bg(t,n,i,a,u){const d=i[1],m=function(t,n,i){const a=Wr();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),el(t,a,n,$a(t,n,1,null),i));const u=Iu(n,t,a.directiveStart,a);Un(u,n);const d=R(a,n);return d&&Un(d,n),u}(d,i,n);if(a.components.push(m),t[8]=m,u&&u.forEach(C=>C(m,n)),n.contentQueries){const C=Wr();n.contentQueries(1,m,C.directiveStart)}const _=Wr();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(rs(_.index),jl(i[1],_,0,_.directiveStart,_.directiveEnd,n),gy(n,m)),m}function Sf(t,n){return{components:[],scheduler:t||Tp,clean:Ey,playerHandler:n||null,flags:0}}function Ig(t,n){As(xl(t)[1],Wr())}function Bv(t){return Nl(t).clean}function Vy(t){return Object.getPrototypeOf(t.prototype).constructor}function th(t){let n=Vy(t.type),i=!0;const a=[t];for(;n;){let u;if(ui(t))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");u=n.\u0275dir}if(u){if(i){a.push(u);const m=t;m.inputs=nh(t.inputs),m.declaredInputs=nh(t.declaredInputs),m.outputs=nh(t.outputs);const _=u.hostBindings;_&&$v(t,_);const C=u.viewQuery,O=u.contentQueries;if(C&&wg(t,C),O&&Cg(t,O),ee(t.inputs,u.inputs),ee(t.declaredInputs,u.declaredInputs),ee(t.outputs,u.outputs),ui(u)&&u.data.animation){const B=t.data;B.animation=(B.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let m=0;m<d.length;m++){const _=d[m];_&&_.ngInherit&&_(t),_===th&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,i=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=n+=u.hostVars,u.hostAttrs=fo(u.hostAttrs,i=fo(i,u.hostAttrs))}}(a)}function nh(t){return t===Bt?{}:t===ce?[]:t}function wg(t,n){const i=t.viewQuery;t.viewQuery=i?(a,u)=>{n(a,u),i(a,u)}:n}function Cg(t,n){const i=t.contentQueries;t.contentQueries=i?(a,u,d)=>{n(a,u,d),i(a,u,d)}:n}function $v(t,n){const i=t.hostBindings;t.hostBindings=i?(a,u)=>{n(a,u),i(a,u)}:n}const Uy=["providersResolver"],jy=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function By(t){let i,n=Vy(t.type);i=ui(t)?n.\u0275cmp:n.\u0275dir;const a=t;for(const u of Uy)a[u]=i[u];if(ui(i))for(const u of jy)a[u]=i[u]}let Hl=null;function ol(){if(!Hl){const t=sn.Symbol;if(t&&t.iterator)Hl=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const a=n[i];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Hl=a)}}}return Hl}function $l(t,n){const i=rh(t),a=rh(n);return i&&a?function(t,n,i){const a=t[ol()](),u=n[ol()]();for(;;){const d=a.next(),m=u.next();if(d.done&&m.done)return!0;if(d.done||m.done||!i(d.value,m.value))return!1}}(t,n,$l):!(i||!t||"object"!=typeof t&&"function"!=typeof t||a||!n||"object"!=typeof n&&"function"!=typeof n)||Object.is(t,n)}class Na{constructor(n){this.wrapped=n}static wrap(n){return new Na(n)}static unwrap(n){return Na.isWrapped(n)?n.wrapped:n}static isWrapped(n){return n instanceof Na}}function rh(t){return!!Af(t)&&(Array.isArray(t)||!(t instanceof Map)&&ol()in t)}function Af(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pa(t,n,i){return t[n]=i}function Wl(t,n){return t[n]}function Os(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Pu(t,n,i,a){const u=Os(t,n,i);return Os(t,n+1,a)||u}function Gl(t,n,i,a,u){const d=Pu(t,n,i,a);return Os(t,n+2,u)||d}function bo(t,n,i,a,u,d){const m=Pu(t,n,i,a);return Pu(t,n+2,u,d)||m}function ih(t,n,i,a){const u=_t();return Os(u,Cr(),n)&&(Qn(),aa(Yr(),u,t,n,i,a)),ih}function al(t,n){let i=!1,a=Di();for(let d=1;d<n.length;d+=2)i=Os(t,a++,n[d])||i;if(ha(a),!i)return ir;let u=n[0];for(let d=1;d<n.length;d+=2)u+=Le(n[d])+n[d+1];return u}function _c(t,n,i,a){return Os(t,Cr(),i)?n+Le(i)+a:ir}function ul(t,n,i,a,u,d){const _=Pu(t,Di(),i,u);return Mi(2),_?n+Le(i)+a+Le(u)+d:ir}function vc(t,n,i,a,u,d,m,_){const O=Gl(t,Di(),i,u,m);return Mi(3),O?n+Le(i)+a+Le(u)+d+Le(m)+_:ir}function Ga(t,n,i,a,u,d,m,_,C,O){const te=bo(t,Di(),i,u,m,C);return Mi(4),te?n+Le(i)+a+Le(u)+d+Le(m)+_+Le(C)+O:ir}function Ec(t,n,i,a,u,d,m,_,C,O,B,te){const ae=Di();let _e=bo(t,ae,i,u,m,C);return _e=Os(t,ae+4,B)||_e,Mi(5),_e?n+Le(i)+a+Le(u)+d+Le(m)+_+Le(C)+O+Le(B)+te:ir}function Kl(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e){const Oe=Di();let Je=bo(t,Oe,i,u,m,C);return Je=Pu(t,Oe+4,B,ae)||Je,Mi(6),Je?n+Le(i)+a+Le(u)+d+Le(m)+_+Le(C)+O+Le(B)+te+Le(ae)+_e:ir}function zl(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je){const Be=Di();let Ft=bo(t,Be,i,u,m,C);return Ft=Gl(t,Be+4,B,ae,Oe)||Ft,Mi(7),Ft?n+Le(i)+a+Le(u)+d+Le(m)+_+Le(C)+O+Le(B)+te+Le(ae)+_e+Le(Oe)+Je:ir}function Zl(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft){const mt=Di();let Fn=bo(t,mt,i,u,m,C);return Fn=bo(t,mt+4,B,ae,Oe,Be)||Fn,Mi(8),Fn?n+Le(i)+a+Le(u)+d+Le(m)+_+Le(C)+O+Le(B)+te+Le(ae)+_e+Le(Oe)+Je+Le(Be)+Ft:ir}function xf(t,n,i,a,u,d){const m=_t(),_=_c(m,n,i,a);return _!==ir&&aa(Yr(),m,t,_,u,d),xf}function Dg(t,n,i,a,u,d,m,_){const C=_t(),O=ul(C,n,i,a,u,d);return O!==ir&&aa(Yr(),C,t,O,m,_),Dg}function Rf(t,n,i,a,u,d,m,_,C,O){const B=_t(),te=vc(B,n,i,a,u,d,m,_);return te!==ir&&aa(Yr(),B,t,te,C,O),Rf}function Tg(t,n,i,a,u,d,m,_,C,O,B,te){const ae=_t(),_e=Ga(ae,n,i,a,u,d,m,_,C,O);return _e!==ir&&aa(Yr(),ae,t,_e,B,te),Tg}function Sg(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e){const Oe=_t(),Je=Ec(Oe,n,i,a,u,d,m,_,C,O,B,te);return Je!==ir&&aa(Yr(),Oe,t,Je,ae,_e),Sg}function Ag(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je){const Be=_t(),Ft=Kl(Be,n,i,a,u,d,m,_,C,O,B,te,ae,_e);return Ft!==ir&&aa(Yr(),Be,t,Ft,Oe,Je),Ag}function xg(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft){const mt=_t(),Fn=zl(mt,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je);return Fn!==ir&&aa(Yr(),mt,t,Fn,Be,Ft),xg}function Mf(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft,mt,Fn){const sr=_t(),Mr=Zl(sr,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft);return Mr!==ir&&aa(Yr(),sr,t,Mr,mt,Fn),Mf}function sh(t,n,i,a){const u=_t(),d=al(u,n);return d!==ir&&aa(Yr(),u,t,d,i,a),sh}function Rg(t,n,i,a,u,d,m,_){const C=_t(),O=Qn(),B=t+20,te=O.firstCreatePass?function(t,n,i,a,u,d,m,_,C){const O=n.consts,B=Xc(n,t,4,m||null,pr(O,_));Ul(n,i,B,pr(O,C)),As(n,B);const te=B.tViews=af(2,B,a,u,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,O);return null!==n.queries&&(n.queries.template(n,B),te.queries=n.queries.embeddedTView(B)),B}(B,O,C,n,i,a,u,d,m):O.data[B];fs(te,!1);const ae=C[11].createComment("");oc(O,C,ae,te),Un(ae,C),df(C,C[B]=lf(ae,C,ae,te)),Ci(te)&&sf(O,C,te),null!=m&&Zp(C,te,_)}function Mg(t,n,i,a){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=a}function oh(t){return Ne(xn.lFrame.contextLView,20+t)}const Ar={\u0275\u0275defineInjectable:ht,\u0275\u0275defineInjector:Kt,\u0275\u0275inject:wr,\u0275\u0275invalidFactoryDep:Ca,resolveForwardRef:re},ah=K({provide:String,useValue:K});function Wy(t){return void 0!==t.useClass}function Bs(t){return void 0!==t.useFactory}const Zv=ea("Injectable",void 0,void 0,void 0,(t,n)=>Ni(t,n)),zy=function(t,n){let i=null,a=null;t.hasOwnProperty(Yt)||Object.defineProperty(t,Yt,{get:()=>(null===i&&(i=qr().compileInjectable(Ar,`ng:///${t.name}/\u0275prov.js`,function(t,n){const i=n||{providedIn:null},a={name:t.name,type:t,typeArgumentCount:0,providedIn:i.providedIn};return(Wy(i)||Bs(i))&&void 0!==i.deps&&(a.deps=su(i.deps)),Wy(i)?a.useClass=i.useClass:function(t){return ah in t}(i)?a.useValue=i.useValue:Bs(i)?a.useFactory=i.useFactory:function(t){return void 0!==t.useExisting}(i)&&(a.useExisting=i.useExisting),a}(t,n))),i)}),t.hasOwnProperty(vt)||Object.defineProperty(t,vt,{get:()=>{if(null===a){const u=qr();a=u.compileFactory(Ar,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:$c(t),target:u.FactoryTarget.Injectable})}return a},configurable:!0})},Ni=zy;function Zy(t){return t.length>1?" ("+function(t){const n=[];for(let i=0;i<t.length;++i){if(n.indexOf(t[i])>-1)return n.push(t[i]),n;n.push(t[i])}return n}(t.slice().reverse()).map(a=>W(a.token)).join(" -> ")+")":""}function Qi(t,n,i,a){const u=[n],d=i(u),m=a?function(t,n){const i=`${t} caused by: ${n instanceof Error?n.message:n}`,a=Error(i);return a[wp]=n,a}(d,a):Error(d);return m.addKey=qy,m.keys=u,m.injectors=[t],m.constructResolvingMessage=i,m[wp]=a,m}function qy(t,n){this.injectors.push(t),this.keys.push(n),this.message=this.constructResolvingMessage(this.keys)}function Yy(t,n){const i=[];for(let a=0,u=n.length;a<u;a++){const d=n[a];i.push(d&&0!=d.length?d.map(W).join(" "):"?")}return Error("Cannot resolve all parameters for '"+W(t)+"'("+i.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+W(t)+"' is decorated with Injectable.")}function Xv(t,n){return Error(`Cannot mix multi providers and regular providers, got: ${t} ${n}`)}class bc{constructor(n,i){if(this.token=n,this.id=i,!n)throw new Error("Token must be defined!");this.displayName=W(this.token)}static get(n){return Jy.get(re(n))}static get numberOfKeys(){return Jy.numberOfKeys}}class eE{constructor(){this._allKeys=new Map}get(n){if(n instanceof bc)return n;if(this._allKeys.has(n))return this._allKeys.get(n);const i=new bc(n,bc.numberOfKeys);return this._allKeys.set(n,i),i}get numberOfKeys(){return this._allKeys.size}}const Jy=new eE;class Xy{constructor(n){this.reflectionCapabilities=n}updateCapabilities(n){this.reflectionCapabilities=n}factory(n){return this.reflectionCapabilities.factory(n)}parameters(n){return this.reflectionCapabilities.parameters(n)}annotations(n){return this.reflectionCapabilities.annotations(n)}propMetadata(n){return this.reflectionCapabilities.propMetadata(n)}hasLifecycleHook(n,i){return this.reflectionCapabilities.hasLifecycleHook(n,i)}getter(n){return this.reflectionCapabilities.getter(n)}setter(n){return this.reflectionCapabilities.setter(n)}method(n){return this.reflectionCapabilities.method(n)}importUri(n){return this.reflectionCapabilities.importUri(n)}resourceUri(n){return this.reflectionCapabilities.resourceUri(n)}resolveIdentifier(n,i,a,u){return this.reflectionCapabilities.resolveIdentifier(n,i,a,u)}resolveEnum(n,i){return this.reflectionCapabilities.resolveEnum(n,i)}}const yu=new Xy(new Ke);class Nf{constructor(n,i,a){this.key=n,this.optional=i,this.visibility=a}static fromKey(n){return new Nf(n,!1,null)}}const _u=[];class Ic{constructor(n,i,a){this.key=n,this.resolvedFactories=i,this.multiProvider=a,this.resolvedFactory=this.resolvedFactories[0]}}class uh{constructor(n,i){this.factory=n,this.dependencies=i}}function tE(t){let n,i;if(t.useClass){const a=re(t.useClass);n=yu.factory(a),i=wc(a)}else t.useExisting?(n=a=>a,i=[Nf.fromKey(bc.get(t.useExisting))]):t.useFactory?(n=t.useFactory,i=function(t,n){if(n){const i=n.map(a=>[a]);return n.map(a=>lh(t,a,i))}return wc(t)}(t.useFactory,t.deps)):(n=()=>t.useValue,i=_u);return new uh(n,i)}function nE(t){return new Ic(bc.get(t.provide),[tE(t)],t.multi||!1)}function Ng(t){const a=function(t,n){for(let i=0;i<t.length;i++){const a=t[i],u=n.get(a.key.id);if(u){if(a.multiProvider!==u.multiProvider)throw Xv(u,a);if(a.multiProvider)for(let d=0;d<a.resolvedFactories.length;d++)u.resolvedFactories.push(a.resolvedFactories[d]);else n.set(a.key.id,a)}else{let d;d=a.multiProvider?new Ic(a.key,a.resolvedFactories.slice(),a.multiProvider):a,n.set(a.key.id,d)}}return n}(ch(t,[]).map(nE),new Map);return Array.from(a.values())}function ch(t,n){return t.forEach(i=>{if(i instanceof Fs)n.push({provide:i,useClass:i});else if(i&&"object"==typeof i&&void 0!==i.provide)n.push(i);else{if(!Array.isArray(i))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(i);ch(i,n)}}),n}function wc(t){const n=yu.parameters(t);if(!n)return[];if(n.some(i=>null==i))throw Yy(t,n);return n.map(i=>lh(t,i,n))}function lh(t,n,i){let a=null,u=!1;if(!Array.isArray(n))return cl(n instanceof Qu?n.token:n,u,null);let d=null;for(let m=0;m<n.length;++m){const _=n[m];_ instanceof Fs?a=_:_ instanceof Qu?a=_.token:_ instanceof ra?u=!0:_ instanceof iu||_ instanceof si?d=_:_ instanceof Gr&&(a=_)}if(a=re(a),null!=a)return cl(a,u,d);throw Yy(t,i)}function cl(t,n,i){return new Nf(bc.get(t),n,i)}const ql={};class Cc{static resolve(n){return Ng(n)}static resolveAndCreate(n,i){const a=Cc.resolve(n);return Cc.fromResolvedProviders(a,i)}static fromResolvedProviders(n,i){return new t_(n,i)}}let t_=(()=>{class t{constructor(i,a){this._constructionCounter=0,this._providers=i,this.parent=a||null;const u=i.length;this.keyIds=[],this.objs=[];for(let d=0;d<u;d++)this.keyIds[d]=i[d].key.id,this.objs[d]=ql}get(i,a=Nn){return this._getByKey(bc.get(i),null,a)}resolveAndCreateChild(i){const a=Cc.resolve(i);return this.createChildFromResolved(a)}createChildFromResolved(i){const a=new t(i);return a.parent=this,a}resolveAndInstantiate(i){return this.instantiateResolved(Cc.resolve([i])[0])}instantiateResolved(i){return this._instantiateProvider(i)}getProviderAtIndex(i){if(i<0||i>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(i);return this._providers[i]}_new(i){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,n){return Qi(t,n,function(i){return`Cannot instantiate cyclic dependency!${Zy(i)}`})}(this,i.key);return this._instantiateProvider(i)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(i){if(i.multiProvider){const a=[];for(let u=0;u<i.resolvedFactories.length;++u)a[u]=this._instantiate(i,i.resolvedFactories[u]);return a}return this._instantiate(i,i.resolvedFactories[0])}_instantiate(i,a){const u=a.factory;let d,m;try{d=a.dependencies.map(_=>this._getByReflectiveDependency(_))}catch(_){throw _.addKey&&_.addKey(this,i.key),_}try{m=u(...d)}catch(_){throw function(t,n,i,a){return Qi(t,a,function(u){const d=W(u[0].token);return`${n.message}: Error during instantiation of ${d}!${Zy(u)}.`},n)}(this,_,0,i.key)}return m}_getByReflectiveDependency(i){return this._getByKey(i.key,i.visibility,i.optional?null:Nn)}_getByKey(i,a,u){return i===t.INJECTOR_KEY?this:a instanceof iu?this._getByKeySelf(i,u):this._getByKeyDefault(i,u,a)}_getObjByKeyId(i){for(let a=0;a<this.keyIds.length;a++)if(this.keyIds[a]===i)return this.objs[a]===ql&&(this.objs[a]=this._new(this._providers[a])),this.objs[a];return ql}_throwOrNull(i,a){if(a!==Nn)return a;throw function(t,n){return Qi(t,n,function(i){return`No provider for ${W(i[0].token)}!${Zy(i)}`})}(this,i)}_getByKeySelf(i,a){const u=this._getObjByKeyId(i.id);return u!==ql?u:this._throwOrNull(i,a)}_getByKeyDefault(i,a,u){let d;for(d=u instanceof si?this.parent:this;d instanceof t;){const m=d,_=m._getObjByKeyId(i.id);if(_!==ql)return _;d=m.parent}return null!==d?d.get(i.token,a):this._throwOrNull(i,a)}get displayName(){return`ReflectiveInjector(providers: [${function(t,n){const i=[];for(let a=0;a<t._providers.length;++a)i[a]=n(t.getProviderAtIndex(a));return i}(this,a=>' "'+a.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=bc.get(fi),t})();function dh(t,n=Wt.Default){const i=_t();return null===i?wr(t,n):Qs(Wr(),i,re(t),n)}function Pf(){throw new Error("invalid")}function hh(t,n,i){const a=_t();return Os(a,Cr(),n)&&Eo(Qn(),Yr(),a,t,n,a[11],i,!1),hh}function kf(t,n,i,a,u){const m=u?"class":"style";wy(t,i,n.inputs[m],m,a)}function Ff(t,n,i,a){const u=_t(),d=Qn(),m=20+t,_=u[11],C=u[m]=Np(_,n,xn.lFrame.currentNamespace),O=d.firstCreatePass?function(t,n,i,a,u,d,m){const _=n.consts,O=Xc(n,t,2,u,pr(_,d));return Ul(n,i,O,pr(_,m)),null!==O.attrs&&mf(O,O.attrs,!1),null!==O.mergedAttrs&&mf(O,O.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,O),O}(m,d,u,0,n,i,a):d.data[m];fs(O,!0);const B=O.mergedAttrs;null!==B&&ho(_,C,B);const te=O.classes;null!==te&&Lp(_,C,te);const ae=O.styles;null!==ae&&ac(_,C,ae),64!=(64&O.flags)&&oc(d,u,C,O),0===xn.lFrame.elementDepthCount&&Un(C,u),xn.lFrame.elementDepthCount++,Ci(O)&&(sf(d,u,O),zp(d,O,u)),null!==a&&Zp(u,O)}function Lf(){let t=Wr();no()?Ns():(t=t.parent,fs(t,!1));const n=t;xn.lFrame.elementDepthCount--;const i=Qn();i.firstCreatePass&&(As(i,t),wi(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&kf(i,n,_t(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&kf(i,n,_t(),n.stylesWithoutHost,!1)}function Vf(t,n,i,a){Ff(t,n,i,a),Lf()}function Ql(t,n,i){const a=_t(),u=Qn(),d=t+20,m=u.firstCreatePass?function(t,n,i,a,u){const d=n.consts,m=pr(d,a),_=Xc(n,t,8,"ng-container",m);return null!==m&&mf(_,m,!0),Ul(n,i,_,pr(d,u)),null!==n.queries&&n.queries.elementStart(n,_),_}(d,u,a,n,i):u.data[d];fs(m,!0);const _=a[d]=a[11].createComment("");oc(u,a,_,m),Un(_,a),Ci(m)&&(sf(u,a,m),zp(u,m,a)),null!=i&&Zp(a,m)}function Yl(){let t=Wr();const n=Qn();no()?Ns():(t=t.parent,fs(t,!1)),n.firstCreatePass&&(As(n,t),wi(t)&&n.queries.elementEnd(t))}function Pg(t,n,i){Ql(t,n,i),Yl()}function Jl(){return _t()}function kg(t){return!!t&&"function"==typeof t.then}function fh(t){return!!t&&"function"==typeof t.subscribe}const ku=fh;function Ka(t,n,i,a){const u=_t(),d=Qn(),m=Wr();return r_(d,u,u[11],m,t,n,!!i,a),Ka}function dl(t,n){const i=Wr(),a=_t(),u=Qn();return r_(u,a,Iy(ts(u.data),i,a),i,t,n,!1),dl}function r_(t,n,i,a,u,d,m,_){const C=Ci(a),B=t.firstCreatePass&&pf(t),te=n[8],ae=by(n);let _e=!0;if(3&a.type||_){const Be=R(a,n),Ft=_?_(Be):Be,mt=ae.length,Fn=_?sr=>_(pe(sr[a.index])):a.index;if(P(i)){let sr=null;if(!_&&C&&(sr=function(t,n,i,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const m=u[d];if(m===i&&u[d+1]===a){const _=n[7],C=u[d+2];return _.length>C?_[C]:null}"string"==typeof m&&(d+=2)}return null}(t,n,u,a.index)),null!==sr)(sr.__ngLastListenerFn__||sr).__ngNextListenerFn__=d,sr.__ngLastListenerFn__=d,_e=!1;else{d=Uf(a,n,te,d,!1);const Mr=i.listen(Ft,u,d);ae.push(d,Mr),B&&B.push(u,Fn,mt,mt+1)}}else d=Uf(a,n,te,d,!0),Ft.addEventListener(u,d,m),ae.push(d),B&&B.push(u,Fn,mt,m)}else d=Uf(a,n,te,d,!1);const Oe=a.outputs;let Je;if(_e&&null!==Oe&&(Je=Oe[u])){const Be=Je.length;if(Be)for(let Ft=0;Ft<Be;Ft+=2){const Gs=n[Je[Ft]][Je[Ft+1]].subscribe(d),bu=ae.length;ae.push(d,Gs),B&&B.push(u,a.index,bu,-(bu+1))}}}function Fg(t,n,i,a){try{return $r(6,n,i),!1!==i(a)}catch(u){return gf(t,u),!1}finally{$r(7,n,i)}}function Uf(t,n,i,a,u){return function d(m){if(m===Function)return a;const _=2&t.flags?St(t.index,n):n;0==(32&n[2])&&qd(_);let C=Fg(n,i,a,m),O=d.__ngNextListenerFn__;for(;O;)C=Fg(n,i,O,m)&&C,O=O.__ngNextListenerFn__;return u&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function Xl(t=1){return Ss(t)}function Tc(t,n){let i=null;const a=function(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let u=0;u<n.length;u++){const d=n[u];if("*"!==d){if(null===a?ey(t,d,!0):ty(a,d))return u}else i=u}return i}function i_(t){const n=_t()[16][6];if(!n.projection){const a=n.projection=No(t?t.length:1,null),u=a.slice();let d=n.child;for(;null!==d;){const m=t?Tc(d,t):0;null!==m&&(u[m]?u[m].projectionNext=d:a[m]=d,u[m]=d),d=d.next}}}function s_(t,n=0,i){const a=_t(),u=Qn(),d=Xc(u,20+t,16,null,i||null);null===d.projection&&(d.projection=n),Ns(),64!=(64&d.flags)&&function(t,n,i){Fp(n[11],0,n,i,Bh(t,i,n),Pp(i.parent||n[6],i,n))}(u,a,d)}function Lg(t,n,i){return jf(t,"",n,"",i),Lg}function jf(t,n,i,a,u){const d=_t(),m=_c(d,n,i,a);return m!==ir&&Eo(Qn(),Yr(),d,t,m,d[11],u,!1),jf}function Bf(t,n,i,a,u,d,m){const _=_t(),C=ul(_,n,i,a,u,d);return C!==ir&&Eo(Qn(),Yr(),_,t,C,_[11],m,!1),Bf}function Vg(t,n,i,a,u,d,m,_,C){const O=_t(),B=vc(O,n,i,a,u,d,m,_);return B!==ir&&Eo(Qn(),Yr(),O,t,B,O[11],C,!1),Vg}function Ug(t,n,i,a,u,d,m,_,C,O,B){const te=_t(),ae=Ga(te,n,i,a,u,d,m,_,C,O);return ae!==ir&&Eo(Qn(),Yr(),te,t,ae,te[11],B,!1),Ug}function Hf(t,n,i,a,u,d,m,_,C,O,B,te,ae){const _e=_t(),Oe=Ec(_e,n,i,a,u,d,m,_,C,O,B,te);return Oe!==ir&&Eo(Qn(),Yr(),_e,t,Oe,_e[11],ae,!1),Hf}function jg(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe){const Je=_t(),Be=Kl(Je,n,i,a,u,d,m,_,C,O,B,te,ae,_e);return Be!==ir&&Eo(Qn(),Yr(),Je,t,Be,Je[11],Oe,!1),jg}function Bg(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be){const Ft=_t(),mt=zl(Ft,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je);return mt!==ir&&Eo(Qn(),Yr(),Ft,t,mt,Ft[11],Be,!1),Bg}function $f(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft,mt){const Fn=_t(),sr=Zl(Fn,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft);return sr!==ir&&Eo(Qn(),Yr(),Fn,t,sr,Fn[11],mt,!1),$f}function Hg(t,n,i){const a=_t(),u=al(a,n);return u!==ir&&Eo(Qn(),Yr(),a,t,u,a[11],i,!1),Hg}function $g(t,n,i,a,u){const d=t[i+1],m=null===n;let _=a?Uo(d):du(d),C=!1;for(;0!==_&&(!1===C||m);){const B=t[_+1];u_(t[_],n)&&(C=!0,t[_+1]=a?lc(B):cc(B)),_=a?Uo(B):du(B)}C&&(t[i+1]=a?cc(d):lc(d))}function u_(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ki(t,n)>=0}const _s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wf(t){return t.substring(_s.key,_s.keyEnd)}function Gf(t){return t.substring(_s.value,_s.valueEnd)}function Wg(t,n){const i=_s.textEnd;return i===n?-1:(n=_s.keyEnd=function(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,_s.key=n,i),ed(t,n,i))}function c_(t,n){const i=_s.textEnd;let a=_s.key=ed(t,n,i);return i===a?-1:(a=_s.keyEnd=function(t,n,i){let a;for(;n<i&&(45===(a=t.charCodeAt(n))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)n++;return n}(t,a,i),a=l_(t,a,i),a=_s.value=ed(t,a,i),a=_s.valueEnd=function(t,n,i){let a=-1,u=-1,d=-1,m=n,_=m;for(;m<i;){const C=t.charCodeAt(m++);if(59===C)return _;34===C||39===C?_=m=Gg(t,C,m,i):n===m-4&&85===d&&82===u&&76===a&&40===C?_=m=Gg(t,41,m,i):C>32&&(_=m),d=u,u=a,a=-33&C}return _}(t,a,i),l_(t,a,i))}function Ac(t){_s.key=0,_s.keyEnd=0,_s.value=0,_s.valueEnd=0,_s.textEnd=t.length}function ed(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function l_(t,n,i,a){return(n=ed(t,n,i))<i&&n++,n}function Gg(t,n,i,a){let u=-1,d=i;for(;d<a;){const m=t.charCodeAt(d++);if(m==n&&92!==u)return d;u=92==m&&92===u?0:m}throw new Error}function Kg(t,n,i){return za(t,n,i,!1),Kg}function zg(t,n){return za(t,n,null,!0),zg}function ka(t){Za(p_,dE,t,!1)}function dE(t,n){for(let i=function(t){return Ac(t),c_(t,ed(t,0,_s.textEnd))}(n);i>=0;i=c_(n,i))p_(t,Wf(n),Gf(n))}function hl(t){Za(Vs,Fa,t,!0)}function Fa(t,n){for(let i=function(t){return Ac(t),Wg(t,ed(t,0,_s.textEnd))}(n);i>=0;i=Wg(n,i))Vs(t,Wf(n),!0)}function za(t,n,i,a){const u=_t(),d=Qn(),m=Mi(2);d.firstUpdatePass&&h_(d,t,m,a),n!==ir&&Os(u,m,n)&&qg(d,d.data[zr()],u,u[11],t,u[m+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=W(Ta(t)))),t}(n,i),a,m)}function Za(t,n,i,a){const u=Qn(),d=Mi(2);u.firstUpdatePass&&h_(u,null,d,a);const m=_t();if(i!==ir&&Os(m,d,i)){const _=u.data[zr()];if(g_(_,a)&&!d_(u,d)){let C=a?_.classesWithoutHost:_.stylesWithoutHost;null!==C&&(i=Y(C,i||"")),kf(u,_,m,i,a)}else!function(t,n,i,a,u,d,m,_){u===ir&&(u=ce);let C=0,O=0,B=0<u.length?u[0]:null,te=0<d.length?d[0]:null;for(;null!==B||null!==te;){const ae=C<u.length?u[C+1]:void 0,_e=O<d.length?d[O+1]:void 0;let Je,Oe=null;B===te?(C+=2,O+=2,ae!==_e&&(Oe=te,Je=_e)):null===te||null!==B&&B<te?(C+=2,Oe=B):(O+=2,Oe=te,Je=_e),null!==Oe&&qg(t,n,i,a,Oe,Je,m,_),B=C<u.length?u[C]:null,te=O<d.length?d[O]:null}}(u,_,m,m[11],m[d+1],m[d+1]=function(t,n,i){if(null==i||""===i)return ce;const a=[],u=Ta(i);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&n(a,u);return a}(t,n,i),a,d)}}function d_(t,n){return n>=t.expandoStartIndex}function h_(t,n,i,a){const u=t.data;if(null===u[i+1]){const d=u[zr()],m=d_(t,i);g_(d,a)&&null===n&&!m&&(n=!1),n=function(t,n,i,a){const u=ts(t);let d=a?n.residualClasses:n.residualStyles;if(null===u)0===(a?n.classBindings:n.styleBindings)&&(i=td(i=f_(null,t,n,i,a),n.attrs,a),d=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==u)if(i=f_(u,t,n,i,a),null===d){let C=function(t,n,i){const a=i?n.classBindings:n.styleBindings;if(0!==du(a))return t[Uo(a)]}(t,n,a);void 0!==C&&Array.isArray(C)&&(C=f_(null,t,n,C[1],a),C=td(C,n.attrs,a),function(t,n,i,a){t[Uo(i?n.classBindings:n.styleBindings)]=a}(t,n,a,C))}else d=function(t,n,i){let a;const u=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<u;d++)a=td(a,t[d].hostAttrs,i);return td(a,n.attrs,i)}(t,n,a)}return void 0!==d&&(a?n.residualClasses=d:n.residualStyles=d),i}(u,d,n,a),function(t,n,i,a,u,d){let m=d?n.classBindings:n.styleBindings,_=Uo(m),C=du(m);t[a]=i;let B,O=!1;if(Array.isArray(i)){const te=i;B=te[1],(null===B||Ki(te,B)>0)&&(O=!0)}else B=i;if(u)if(0!==C){const ae=Uo(t[_+1]);t[a+1]=Yc(ae,_),0!==ae&&(t[ae+1]=xu(t[ae+1],a)),t[_+1]=function(t,n){return 131071&t|n<<17}(t[_+1],a)}else t[a+1]=Yc(_,0),0!==_&&(t[_+1]=xu(t[_+1],a)),_=a;else t[a+1]=Yc(C,0),0===_?_=a:t[C+1]=xu(t[C+1],a),C=a;O&&(t[a+1]=cc(t[a+1])),$g(t,B,a,!0),$g(t,B,a,!1),function(t,n,i,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Ki(d,n)>=0&&(i[a+1]=lc(i[a+1]))}(n,B,t,a,d),m=Yc(_,C),d?n.classBindings=m:n.styleBindings=m}(u,d,n,i,m,a)}}function f_(t,n,i,a,u){let d=null;const m=i.directiveEnd;let _=i.directiveStylingLast;for(-1===_?_=i.directiveStart:_++;_<m&&(d=n[_],a=td(a,d.hostAttrs,u),d!==t);)_++;return null!==t&&(i.directiveStylingLast=_),a}function td(t,n,i){const a=i?1:2;let u=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?u=m:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vs(t,m,!!i||n[++d]))}return void 0===t?null:t}function p_(t,n,i){Vs(t,n,Ta(i))}function qg(t,n,i,a,u,d,m,_){if(!(3&n.type))return;const C=t.data,O=C[_+1];xc(function(t){return 1==(1&t)}(O)?Qg(C,n,i,u,du(O),m):void 0)||(xc(d)||function(t){return 2==(2&t)}(O)&&(d=Qg(C,null,i,u,_,m)),function(t,n,i,a,u){const d=P(t);if(n)u?d?t.addClass(i,a):i.classList.add(a):d?t.removeClass(i,a):i.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:lu.DashCase;if(null==u)d?t.removeStyle(i,a,m):i.style.removeProperty(a);else{const _="string"==typeof u&&u.endsWith("!important");_&&(u=u.slice(0,-10),m|=lu.Important),d?t.setStyle(i,a,u,m):i.style.setProperty(a,u,_?"important":"")}}}(a,m,N(zr(),i),u,d))}function Qg(t,n,i,a,u,d){const m=null===n;let _;for(;u>0;){const C=t[u],O=Array.isArray(C),B=O?C[1]:C,te=null===B;let ae=i[u+1];ae===ir&&(ae=te?ce:void 0);let _e=te?go(ae,a):B===a?ae:void 0;if(O&&!xc(_e)&&(_e=go(C,a)),xc(_e)&&(_=_e,m))return _;const Oe=t[u+1];u=m?Uo(Oe):du(Oe)}if(null!==n){let C=d?n.residualClasses:n.residualStyles;null!=C&&(_=go(C,a))}return _}function xc(t){return void 0!==t}function g_(t,n){return 0!=(t.flags&(n?16:32))}function m_(t,n=""){const i=_t(),a=Qn(),u=t+20,d=a.firstCreatePass?Xc(a,u,1,n,null):a.data[u],m=i[u]=Op(i[11],n);oc(a,i,m,d),fs(d,!1)}function Kf(t){return fl("",t,""),Kf}function fl(t,n,i){const a=_t(),u=_c(a,t,n,i);return u!==ir&&Wa(a,zr(),u),fl}function Jg(t,n,i,a,u){const d=_t(),m=ul(d,t,n,i,a,u);return m!==ir&&Wa(d,zr(),m),Jg}function zf(t,n,i,a,u,d,m){const _=_t(),C=vc(_,t,n,i,a,u,d,m);return C!==ir&&Wa(_,zr(),C),zf}function Zf(t,n,i,a,u,d,m,_,C){const O=_t(),B=Ga(O,t,n,i,a,u,d,m,_,C);return B!==ir&&Wa(O,zr(),B),Zf}function Fu(t,n,i,a,u,d,m,_,C,O,B){const te=_t(),ae=Ec(te,t,n,i,a,u,d,m,_,C,O,B);return ae!==ir&&Wa(te,zr(),ae),Fu}function Bo(t,n,i,a,u,d,m,_,C,O,B,te,ae){const _e=_t(),Oe=Kl(_e,t,n,i,a,u,d,m,_,C,O,B,te,ae);return Oe!==ir&&Wa(_e,zr(),Oe),Bo}function Hs(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe){const Je=_t(),Be=zl(Je,t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe);return Be!==ir&&Wa(Je,zr(),Be),Hs}function qf(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be){const Ft=_t(),mt=Zl(Ft,t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be);return mt!==ir&&Wa(Ft,zr(),mt),qf}function Qf(t){const n=_t(),i=al(n,t);return i!==ir&&Wa(n,zr(),i),Qf}function nd(t,n,i){Za(Vs,Fa,_c(_t(),t,n,i),!0)}function rd(t,n,i,a,u){Za(Vs,Fa,ul(_t(),t,n,i,a,u),!0)}function Xs(t,n,i,a,u,d,m){Za(Vs,Fa,vc(_t(),t,n,i,a,u,d,m),!0)}function y_(t,n,i,a,u,d,m,_,C){Za(Vs,Fa,Ga(_t(),t,n,i,a,u,d,m,_,C),!0)}function Yf(t,n,i,a,u,d,m,_,C,O,B){Za(Vs,Fa,Ec(_t(),t,n,i,a,u,d,m,_,C,O,B),!0)}function pl(t,n,i,a,u,d,m,_,C,O,B,te,ae){Za(Vs,Fa,Kl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae),!0)}function Rc(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe){Za(Vs,Fa,zl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe),!0)}function Jf(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be){Za(Vs,Fa,Zl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be),!0)}function Mc(t){Za(Vs,Fa,al(_t(),t),!0)}function __(t,n,i){ka(_c(_t(),t,n,i))}function v_(t,n,i,a,u){ka(ul(_t(),t,n,i,a,u))}function E_(t,n,i,a,u,d,m){ka(vc(_t(),t,n,i,a,u,d,m))}function Lu(t,n,i,a,u,d,m,_,C){ka(Ga(_t(),t,n,i,a,u,d,m,_,C))}function b_(t,n,i,a,u,d,m,_,C,O,B){ka(Ec(_t(),t,n,i,a,u,d,m,_,C,O,B))}function I_(t,n,i,a,u,d,m,_,C,O,B,te,ae){ka(Kl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae))}function w_(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe){ka(zl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe))}function Xf(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be){ka(Zl(_t(),t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be))}function Xg(t){ka(al(_t(),t))}function id(t,n,i,a,u){return za(t,_c(_t(),n,i,a),u,!1),id}function gl(t,n,i,a,u,d,m){return za(t,ul(_t(),n,i,a,u,d),m,!1),gl}function ph(t,n,i,a,u,d,m,_,C){return za(t,vc(_t(),n,i,a,u,d,m,_),C,!1),ph}function ep(t,n,i,a,u,d,m,_,C,O,B){return za(t,Ga(_t(),n,i,a,u,d,m,_,C,O),B,!1),ep}function gh(t,n,i,a,u,d,m,_,C,O,B,te,ae){return za(t,Ec(_t(),n,i,a,u,d,m,_,C,O,B,te),ae,!1),gh}function tp(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe){return za(t,Kl(_t(),n,i,a,u,d,m,_,C,O,B,te,ae,_e),Oe,!1),tp}function mh(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be){return za(t,zl(_t(),n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je),Be,!1),mh}function yh(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft,mt){return za(t,Zl(_t(),n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft),mt,!1),yh}function _h(t,n,i){return za(t,al(_t(),n),i,!1),_h}function np(t,n,i){const a=_t();return Os(a,Cr(),n)&&Eo(Qn(),Yr(),a,t,n,a[11],i,!0),np}function vh(t,n,i){const a=_t();if(Os(a,Cr(),n)){const d=Qn(),m=Yr();Eo(d,m,a,t,n,Iy(ts(d.data),m,a),i,!0)}return vh}const Vu=void 0;var D_=["en",[["a","p"],["AM","PM"],Vu],[["AM","PM"],Vu,Vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vu,"{1} 'at' {0}",Vu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Oc={};function T_(t,n,i){"string"!=typeof n&&(i=n,n=t[c.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Oc[n]=t,i&&(Oc[n][c.ExtraData]=i)}function em(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=r(n);if(i)return i;const a=n.split("-")[0];if(i=r(a),i)return i;if("en"===a)return D_;throw new Error(`Missing locale data for the locale "${t}".`)}function s(t){return em(t)[c.CurrencyCode]||null}function e(t){return em(t)[c.PluralCase]}function r(t){return t in Oc||(Oc[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),Oc[t]}function o(){Oc={}}var c=(()=>((c=c||{})[c.LocaleId=0]="LocaleId",c[c.DayPeriodsFormat=1]="DayPeriodsFormat",c[c.DayPeriodsStandalone=2]="DayPeriodsStandalone",c[c.DaysFormat=3]="DaysFormat",c[c.DaysStandalone=4]="DaysStandalone",c[c.MonthsFormat=5]="MonthsFormat",c[c.MonthsStandalone=6]="MonthsStandalone",c[c.Eras=7]="Eras",c[c.FirstDayOfWeek=8]="FirstDayOfWeek",c[c.WeekendRange=9]="WeekendRange",c[c.DateFormat=10]="DateFormat",c[c.TimeFormat=11]="TimeFormat",c[c.DateTimeFormat=12]="DateTimeFormat",c[c.NumberSymbols=13]="NumberSymbols",c[c.NumberFormats=14]="NumberFormats",c[c.CurrencyCode=15]="CurrencyCode",c[c.CurrencySymbol=16]="CurrencySymbol",c[c.CurrencyName=17]="CurrencyName",c[c.Currencies=18]="Currencies",c[c.Directionality=19]="Directionality",c[c.PluralCase=20]="PluralCase",c[c.ExtraData=21]="ExtraData",c))();const E=["zero","one","two","few","many"],L="en-US",$="USD",se={marker:"element"},Ee={marker:"ICU"};var Ve=(()=>((Ve=Ve||{})[Ve.SHIFT=2]="SHIFT",Ve[Ve.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ve[Ve.COMMENT=2]="COMMENT",Ve))();let wt=L;function on(t){(function(t,n){null==t&&nn(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(wt=t.toLowerCase().replace(/_/g,"-"))}function Ur(t,n,i){const a=n.insertBeforeIndex,u=Array.isArray(a)?a[0]:a;return null===u?Fd(t,0,i):pe(i[u])}function _i(t,n,i,a,u){const d=n.insertBeforeIndex;if(Array.isArray(d)){let m=a,_=null;if(3&n.type||(_=m,m=u),null!==m&&0==(2&n.flags))for(let C=1;C<d.length;C++)Su(t,m,i[d[C]],_,!1)}}function ei(t,n){if(t.push(n),t.length>1)for(let i=t.length-2;i>=0;i--){const a=t[i];is(a)||Si(a,n)&&null===ji(a)&&eo(a,n.index)}}function is(t){return!(64&t.type)}function Si(t,n){return is(n)||t.index>n.index}function ji(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function eo(t,n){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=n:(sc(Ur,_i),t.insertBeforeIndex=n)}function Uu(t,n){const i=t.data[n];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function WC(t,n,i){const a=Gp(t,i,64,null,null);return ei(n,a),a}function S_(t,n){const i=n[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function f0(t){return t>>>17}function p0(t){return(131070&t)>>>1}let tm=0,nm=0;function m0(t,n,i,a){const u=i[11];let m,d=null;for(let _=0;_<n.length;_++){const C=n[_];if("string"==typeof C){const O=n[++_];null===i[O]&&(i[O]=Op(u,C))}else if("number"==typeof C)switch(1&C){case 0:const O=f0(C);let B,te;if(null===d&&(d=O,m=kd(u,a)),O===d?(B=a,te=m):(B=null,te=pe(i[O])),null!==te){const Je=p0(C);Su(u,te,i[Je],B,!1);const Ft=Uu(t,Je);if(null!==Ft&&"object"==typeof Ft){const mt=S_(Ft,i);null!==mt&&m0(t,Ft.create[mt],i,i[Ft.anchorIdx])}}break;case 1:const _e=n[++_],Oe=n[++_];tl(u,N(C>>>1,i),null,null,_e,Oe,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case Ee:const O=n[++_],B=n[++_];null===i[B]&&Un(i[B]=ev(u,O),i);break;case se:const te=n[++_],ae=n[++_];null===i[ae]&&Un(i[ae]=Np(u,te,null),i)}}}function y0(t,n,i,a,u){for(let d=0;d<i.length;d++){const m=i[d],_=i[++d];if(m&u){let C="";for(let O=d+1;O<=d+_;O++){const B=i[O];if("string"==typeof B)C+=B;else if("number"==typeof B)if(B<0)C+=Le(n[a-B]);else{const te=B>>>2;switch(3&B){case 1:const ae=i[++O],_e=i[++O],Oe=t.data[te];"string"==typeof Oe?tl(n[11],n[te],null,Oe,ae,C,_e):Eo(t,Oe,n,ae,C,n[11],_e,!1);break;case 0:const Je=n[te];null!==Je&&Zm(n[11],Je,C);break;case 2:qC(t,Uu(t,te),n,C);break;case 3:_0(t,Uu(t,te),a,n)}}}}else{const C=i[d+1];if(C>0&&3==(3&C)){const B=Uu(t,C>>>2);n[B.currentCaseLViewIndex]<0&&_0(t,B,a,n)}}d+=_}}function _0(t,n,i,a){let u=a[n.currentCaseLViewIndex];if(null!==u){let d=tm;u<0&&(u=a[n.currentCaseLViewIndex]=~u,d=-1),y0(t,a,n.update[u],i,d)}}function qC(t,n,i,a){const u=function(t,n){let i=t.cases.indexOf(n);if(-1===i)switch(t.type){case 1:{const a=function(t,n){const i=e(n)(parseInt(t,10)),a=E[i];return void 0!==a?a:"other"}(n,wt);i=t.cases.indexOf(a),-1===i&&"other"!==a&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(n,a);if(S_(n,i)!==u&&(v0(t,n,i),i[n.currentCaseLViewIndex]=null===u?null:~u,null!==u)){const m=i[n.anchorIdx];m&&m0(t,n.create[u],i,m)}}function v0(t,n,i){let a=S_(n,i);if(null!==a){const u=n.remove[a];for(let d=0;d<u.length;d++){const m=u[d];if(m>0){const _=N(m,i);null!==_&&kp(i[11],_)}else v0(t,Uu(t,~m),i)}}}function YC(){const t=[];let i,a,n=-1;function d(_,C){n=0;const O=S_(_,C);a=null!==O?_.remove[O]:ce}function m(){if(n<a.length){const _=a[n++];return _>0?i[_]:(t.push(n,a),d(i[1].data[~_],i),m())}return 0===t.length?null:(a=t.pop(),n=t.pop(),m())}return function(_,C){for(i=C;t.length;)t.pop();return d(_.value,C),m}}const A_=/\ufffd(\d+):?\d*\ufffd/gi,JC=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,XC=/\ufffd(\d+)\ufffd/,b0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,eD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,nD=/\uE500/g;function I0(t,n,i,a,u,d,m){const _=$a(t,a,1,null);let C=_<<Ve.SHIFT,O=zs();n===O&&(O=null),null===O&&(C|=Ve.APPEND_EAGERLY),m&&(C|=Ve.COMMENT,function(t){void 0===Lh&&(Lh=t())}(YC)),u.push(C,null===d?"":d);const B=Gp(t,_,m?32:1,null===d?"":d,null);ei(i,B);const te=B.index;return fs(B,!1),null!==O&&n!==O&&function(t,n){let i=t.insertBeforeIndex;null===i?(sc(Ur,_i),i=t.insertBeforeIndex=[null,n]):(function(t,n,i){t!=n&&nn(i,t,n,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(n))}(O,te),B}function sD(t,n,i,a,u,d,m){const _=m.match(A_),C=I0(t,n,i,d,a,_?null:m,!1);_&&rp(u,m,C.index,null,0,null)}function rp(t,n,i,a,u,d){const m=t.length,_=m+1;t.push(null,null);const C=m+2,O=n.split(A_);let B=0;for(let te=0;te<O.length;te++){const ae=O[te];if(1&te){const _e=u+parseInt(ae,10);t.push(-1-_e),B|=w0(_e)}else""!==ae&&t.push(ae)}return t.push(i<<2|(a?1:0)),a&&t.push(a,d),t[m]=B,t[_]=t.length-C,B}function aD(t){let n=0;for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a&&a<0&&n++}return n}function w0(t){return 1<<Math.min(t,31)}function C0(t){let n,d,i="",a=0,u=!1;for(;null!==(n=eD.exec(t));)u?n[0]===`\ufffd/*${d}\ufffd`&&(a=n.index,u=!1):(i+=t.substring(a,n.index+n[0].length),d=n[1],u=!0);return i+=t.substr(a),i}function D0(t,n,i,a,u,d){let m=0;const _={type:u.type,currentCaseLViewIndex:$a(t,n,1,null),anchorIdx:d,cases:[],create:[],remove:[],update:[]};(function(t,n,i){t.push(w0(n.mainBinding),2,-1-n.mainBinding,i<<2|2)})(i,u,d),function(t,n,i){const a=t.data[n];null===a?t.data[n]=i:a.value=i}(t,d,_);const C=u.values;for(let O=0;O<C.length;O++){const B=C[O],te=[];for(let ae=0;ae<B.length;ae++){const _e=B[ae];if("string"!=typeof _e){const Oe=te.push(_e)-1;B[ae]=`\x3c!--\ufffd${Oe}\ufffd--\x3e`}}m=dD(t,_,n,i,a,u.cases[O],B.join(""),te)|m}m&&function(t,n,i){t.push(n,1,i<<2|3)}(i,m,d)}function lD(t){const n=[],i=[];let a=1,u=0;const d=mE(t=t.replace(b0,function(m,_,C){return a="select"===C?0:1,u=parseInt(_.substr(1),10),""}));for(let m=0;m<d.length;){let _=d[m++].trim();1===a&&(_=_.replace(/\s*(?:=)?(\w+)\s*/,"$1")),_.length&&n.push(_);const C=mE(d[m++]);n.length>i.length&&i.push(C)}return{type:a,mainBinding:u,cases:n,values:i}}function mE(t){if(!t)return[];let n=0;const i=[],a=[],u=/[{}]/g;let d;for(u.lastIndex=0;d=u.exec(t);){const _=d.index;if("}"==d[0]){if(i.pop(),0==i.length){const C=t.substring(n,_);b0.test(C)?a.push(lD(C)):a.push(C),n=_+1}}else{if(0==i.length){const C=t.substring(n,_);a.push(C),n=_+1}i.push("{")}}const m=t.substring(n);return a.push(m),a}function dD(t,n,i,a,u,d,m,_){const C=[],O=[],B=[];n.cases.push(d),n.create.push(C),n.remove.push(O),n.update.push(B);const ae=vd(vr()).getInertBodyElement(m),_e=Gt(ae)||ae;return _e?T0(t,n,i,a,C,O,B,_e,u,_,0):0}function T0(t,n,i,a,u,d,m,_,C,O,B){let te=0,ae=_.firstChild;for(;ae;){const _e=$a(t,i,1,null);switch(ae.nodeType){case Node.ELEMENT_NODE:const Oe=ae,Je=Oe.tagName.toLowerCase();if(Sl.hasOwnProperty(Je)){yE(u,se,Je,C,_e),t.data[_e]=Je;const Fn=Oe.attributes;for(let sr=0;sr<Fn.length;sr++){const Mr=Fn.item(sr),Gs=Mr.name.toLowerCase();Mr.value.match(A_)?I.hasOwnProperty(Gs)&&rp(m,Mr.value,_e,Mr.name,0,hi[Gs]?Aa:tc[Gs]?xa:null):gD(u,_e,Mr)}te=T0(t,n,i,a,u,d,m,ae,_e,O,B+1)|te,S0(d,_e,B)}break;case Node.TEXT_NODE:const Be=ae.textContent||"",Ft=Be.match(A_);yE(u,null,Ft?"":Be,C,_e),S0(d,_e,B),Ft&&(te=rp(m,Be,_e,null,0,null)|te);break;case Node.COMMENT_NODE:const mt=XC.exec(ae.textContent||"");if(mt){const sr=O[parseInt(mt[1],10)];yE(u,Ee,"",C,_e),D0(t,i,a,C,sr,_e),hD(d,_e,B)}}ae=ae.nextSibling}return te}function S0(t,n,i){0===i&&t.push(n)}function hD(t,n,i){0===i&&(t.push(~n),t.push(n))}function yE(t,n,i,a,u){null!==n&&t.push(n),t.push(i,u,function(t,n,i){return 0|n<<17|i<<1}(0,a,u))}function gD(t,n,i){t.push(n<<1|1,i.name,i.value)}const mD=/\[(\ufffd.+?\ufffd?)\]/,yD=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,_D=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vD=/{([A-Z0-9_]+)}/g,ED=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,bD=/\/\*/,ID=/\d+\:(\d+)/;function x0(t,n={}){let i=t;if(mD.test(t)){const a={},u=[0];i=i.replace(yD,(d,m,_)=>{const C=m||_,O=a[C]||[];if(O.length||(C.split("|").forEach(Je=>{const Be=Je.match(ID),Ft=Be?parseInt(Be[1],10):0,mt=bD.test(Je);O.push([Ft,mt,Je])}),a[C]=O),!O.length)throw new Error(`i18n postprocess: unmatched placeholder - ${C}`);const B=u[u.length-1];let te=0;for(let Je=0;Je<O.length;Je++)if(O[Je][0]===B){te=Je;break}const[ae,_e,Oe]=O[te];return _e?u.pop():B!==ae&&u.push(ae),O.splice(te,1),Oe})}return Object.keys(n).length&&(i=i.replace(_D,(a,u,d,m,_,C)=>n.hasOwnProperty(d)?`${u}${n[d]}${C}`:a),i=i.replace(vD,(a,u)=>n.hasOwnProperty(u)?n[u]:a),i=i.replace(ED,(a,u)=>{if(n.hasOwnProperty(u)){const d=n[u];if(!d.length)throw new Error(`i18n postprocess: unmatched ICU - ${a} with key: ${u}`);return d.shift()}return a})),i}function _E(t,n,i=-1){const a=Qn(),u=_t(),d=20+t,m=pr(a.consts,n),_=zs();a.firstCreatePass&&function(t,n,i,a,u,d){const m=zs(),_=[],C=[],O=[[]],B=function(t){return t.replace(nD," ")}(u=function(t,n){if(function(t){return-1===t}(n))return C0(t);{const i=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,a=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return C0(t.substring(i,a))}}(u,d)).split(tD);for(let te=0;te<B.length;te++){let ae=B[te];if(0==(1&te)){const _e=mE(ae);for(let Oe=0;Oe<_e.length;Oe++){let Je=_e[Oe];if(0==(1&Oe)){const Be=Je;""!==Be&&sD(t,m,O[0],_,C,i,Be)}else{const Be=Je;if("object"!=typeof Be)throw new Error(`Unable to parse ICU expression in "${u}" message.`);D0(t,i,C,n,Be,I0(t,m,O[0],i,_,"",!0).index)}}}else{const _e=47===ae.charCodeAt(0),Je=(ae.charCodeAt(_e?1:0),20+Number.parseInt(ae.substring(_e?2:1)));if(_e)O.shift(),fs(zs(),!1);else{const Be=WC(t,O[0],Je);O.unshift([]),fs(Be,!0)}}}t.data[a]={create:_,update:C}}(a,null===_?0:_.index,u,d,m,i);const C=a.data[d],B=ys(a,_===u[6]?null:_,u);(function(t,n,i,a){const u=t[11];for(let d=0;d<n.length;d++){const m=n[d++],_=n[d],C=(m&Ve.COMMENT)===Ve.COMMENT,O=(m&Ve.APPEND_EAGERLY)===Ve.APPEND_EAGERLY,B=m>>>Ve.SHIFT;let te=t[B];null===te&&(te=t[B]=C?u.createComment(_):Op(u,_)),O&&null!==i&&Su(u,i,te,a,!1)}})(u,C.create,B,_&&8&_.type?u[_.index]:null),io(!0)}function vE(){io(!1)}function R0(t,n,i){_E(t,n,i),vE()}function M0(t,n){const i=Qn();!function(t,n,i){const u=Wr().index,d=[];if(t.firstCreatePass&&null===t.data[n]){for(let m=0;m<i.length;m+=2){const _=i[m],C=i[m+1];if(""!==C){if(JC.test(C))throw new Error(`ICU expressions are not supported in attributes. Message: "${C}".`);rp(d,C,u,_,aD(d),null)}}t.data[n]=d}}(i,t+20,pr(i.consts,n))}function EE(t){return function(t){t&&(tm|=1<<Math.min(nm,31)),nm++}(Os(_t(),Cr(),t)),EE}function O0(t){!function(t,n,i){if(nm>0){const a=t.data[i];y0(t,n,Array.isArray(a)?a:a.update,Di()-nm-1,tm)}tm=0,nm=0}(Qn(),_t(),t+20)}function N0(t,n={}){return x0(t,n)}function bE(t,n,i,a,u){if(t=re(t),Array.isArray(t))for(let d=0;d<t.length;d++)bE(t[d],n,i,a,u);else{const d=Qn(),m=_t();let _=yc(t)?t:re(t.provide),C=_f(t);const O=Wr(),B=1048575&O.providerIndexes,te=O.directiveStart,ae=O.providerIndexes>>20;if(yc(t)||!t.multi){const _e=new ao(C,u,dh),Oe=wE(_,n,u?B:B+ae,te);-1===Oe?(Lt(dn(O,m),d,_),IE(d,t,n.length),n.push(_),O.directiveStart++,O.directiveEnd++,u&&(O.providerIndexes+=1048576),i.push(_e),m.push(_e)):(i[Oe]=_e,m[Oe]=_e)}else{const _e=wE(_,n,B+ae,te),Oe=wE(_,n,B,B+ae),Je=_e>=0&&i[_e],Be=Oe>=0&&i[Oe];if(u&&!Be||!u&&!Je){Lt(dn(O,m),d,_);const Ft=function(t,n,i,a,u){const d=new ao(t,i,dh);return d.multi=[],d.index=n,d.componentProviders=0,P0(d,u,a&&!i),d}(u?DD:CD,i.length,u,a,C);!u&&Be&&(i[Oe].providerFactory=Ft),IE(d,t,n.length,0),n.push(_),O.directiveStart++,O.directiveEnd++,u&&(O.providerIndexes+=1048576),i.push(Ft),m.push(Ft)}else IE(d,t,_e>-1?_e:Oe,P0(i[u?Oe:_e],C,!u&&a));!u&&a&&Be&&i[Oe].componentProviders++}}}function IE(t,n,i,a){const u=yc(n);if(u||function(t){return!!t.useClass}(n)){const m=(n.useClass||n).prototype.ngOnDestroy;if(m){const _=t.destroyHooks||(t.destroyHooks=[]);if(!u&&n.multi){const C=_.indexOf(i);-1===C?_.push(i,[a,m]):_[C+1].push(a,m)}else _.push(i,m)}}}function P0(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function wE(t,n,i,a){for(let u=i;u<a;u++)if(n[u]===t)return u;return-1}function CD(t,n,i,a){return CE(this.multi,[])}function DD(t,n,i,a){const u=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,_=Iu(i,i[1],this.providerFactory.index,a);d=_.slice(0,m),CE(u,d);for(let C=m;C<_.length;C++)d.push(_[C])}else d=[],CE(u,d);return d}function CE(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function k0(t,n=[]){return i=>{i.providersResolver=(a,u)=>function(t,n,i){const a=Qn();if(a.firstCreatePass){const u=ui(t);bE(i,a.data,a.blueprint,u,!0),bE(n,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,n)}}class DE{}class ip{}function F0(t){const n=Error(`No component factory found for ${W(t)}. Did you add it to @NgModule.entryComponents?`);return n[L0]=t,n}const L0="ngComponent";class SD{resolveComponentFactory(n){throw F0(n)}}let sp=(()=>{class t{}return t.NULL=new SD,t})();class AD{constructor(n,i,a){this._parent=i,this._ngModule=a,this._factories=new Map;for(let u=0;u<n.length;u++){const d=n[u];this._factories.set(d.componentType,d)}}resolveComponentFactory(n){let i=this._factories.get(n);if(!i&&this._parent&&(i=this._parent.resolveComponentFactory(n)),!i)throw F0(n);return new TE(i,this._ngModule)}}class TE extends ip{constructor(n,i){super(),this.factory=n,this.ngModule=i,this.selector=n.selector,this.componentType=n.componentType,this.ngContentSelectors=n.ngContentSelectors,this.inputs=n.inputs,this.outputs=n.outputs}create(n,i,a,u){return this.factory.create(n,i,a,u||this.ngModule)}}function x_(...t){}function V0(){return Eh(Wr(),_t())}function Eh(t,n){return new ju(R(t,n))}const U0=V0,xD=U0;let ju=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=xD,t})();function j0(t){return t instanceof ju?t.nativeElement:t}class R_{}let B0=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>RD(),t})();const H0=$0,RD=H0;function $0(){const t=_t(),i=St(Wr().index,t);return function(t){return t[11]}(Bi(i)?i:t)}let SE=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class W0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const AE=new W0("12.2.16");class xE{constructor(){}supports(n){return rh(n)}create(n){return new G0(n)}}const OD=(t,n)=>n;class G0{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||OD}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,u=0,d=null;for(;i||a;){const m=!a||i&&i.currentIndex<z0(a,u,d)?i:a,_=z0(m,u,d),C=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(i=i._next,null==m.previousIndex)u++;else{d||(d=[]);const O=_-u,B=C-u;if(O!=B){for(let ae=0;ae<O;ae++){const _e=ae<d.length?d[ae]:d[ae]=0,Oe=_e+ae;B<=Oe&&Oe<O&&(d[ae]=_e+1)}d[m.previousIndex]=B-O}}_!==C&&n(m,_,C)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!rh(n))throw new Error(`Error trying to diff '${W(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,d,m,i=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)d=n[_],m=this._trackByFn(_,d),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,d,m,_)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,_),a=!0),i=i._next}else u=0,function(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[ol()]();let a;for(;!(a=i.next()).done;)n(a.value)}}(n,_=>{m=this._trackByFn(u,_),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,_,m,u)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,m,u),a=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,u){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,u)):n=this._addAfter(new ND(i,a),d,u),n}_verifyReinsertion(n,i,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?n=this._reinsertAfter(d,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,d=n._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new K0),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,a=n._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new K0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ND{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PD{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const i=n._prevDup,a=n._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class K0{constructor(){this.map=new Map}put(n){const i=n.trackById;let a=this.map.get(i);a||(a=new PD,this.map.set(i,a)),a.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z0(t,n,i){const a=t.previousIndex;if(null===a)return a;let u=0;return i&&a<i.length&&(u=i[a]),a+n+u}class RE{constructor(){}supports(n){return n instanceof Map||Af(n)}create(){return new kD}}class kD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||Af(n)))throw new Error(`Error trying to diff '${W(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(u,a);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const a=n._prev;return i._next=n,i._prev=a,n._prev=i,a&&(a._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const d=u._prev,m=u._next;return d&&(d._next=m),m&&(m._prev=d),u._next=null,u._prev=null,u}const a=new FD(n);return this._records.set(n,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(a=>i(n[a],a))}}class FD{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ME(){return new M_([new xE])}let M_=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(null!=a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||ME()),deps:[[t,new si,new ra]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:ME}),t})();function OE(){return new O_([new RE])}let O_=(()=>{class t{constructor(i){this.factories=i}static create(i,a){if(a){const u=a.factories.slice();i=i.concat(u)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||OE()),deps:[[t,new si,new ra]]}}find(i){const a=this.factories.find(u=>u.supports(i));if(a)return a;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:OE}),t})();function N_(t,n,i,a,u=!1){for(;null!==i;){const d=n[i.index];if(null!==d&&a.push(pe(d)),Wn(d))for(let _=10;_<d.length;_++){const C=d[_],O=C[1].firstChild;null!==O&&N_(C[1],C,O,a)}const m=i.type;if(8&m)N_(t,n,i.child,a);else if(32&m){const _=Us(i,n);let C;for(;C=_();)a.push(C)}else if(16&m){const _=Wh(n,i);if(Array.isArray(_))a.push(..._);else{const C=Vo(n[16]);N_(C[1],C,_,a,!0)}}i=u?i.projectionNext:i.next}return a}class im{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return N_(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Wn(n)){const i=n[8],a=i?i.indexOf(this):-1;a>-1&&(Uh(n,a),Jr(i,a))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(n){Wd(this._lView[1],this._lView,null,n)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ff(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,i){Ts(!0);try{ff(t,n,i)}finally{Ts(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,Ud(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class VD extends im{constructor(n){super(n),this._view=n}detectChanges(){nl(this._view)}checkNoChanges(){!function(t){Ts(!0);try{nl(t)}finally{Ts(!1)}}(this._view)}get context(){return null}}const Z0=q0,UD=Z0;let NE=(()=>{class t{}return t.__NG_ELEMENT_ID__=UD,t})();function q0(t){return function(t,n,i){if(Ji(t)&&!i){const a=St(t.index,n);return new im(a,a)}return 47&t.type?new im(n[16],n):null}(Wr(),_t(),16==(16&t))}const BD=[new RE],Q0=new M_([new xE]),Y0=new O_(BD),J0=X0,$D=J0;let bh=(()=>{class t{}return t.__NG_ELEMENT_ID__=$D,t})();const WD=bh,GD=class extends WD{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}createEmbeddedView(n){const i=this._declarationTContainer.tViews,a=$d(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(i)),fu(i,a,n),new im(a)}};function X0(){return sm(Wr(),_t())}function sm(t,n){return 4&t.type?new GD(n,t,Eh(t,n)):null}class sd{}class PE{}const eI=tI,KD=eI;let om=(()=>{class t{}return t.__NG_ELEMENT_ID__=KD,t})();function tI(){return iI(Wr(),_t())}const zD=om,nI=class extends zD{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Eh(this._hostTNode,this._hostLView)}get injector(){return new _a(this._hostTNode,this._hostLView)}get parentInjector(){const n=ii(this._hostTNode,this._hostLView);if(v(n)){const i=b(n,this._hostLView),a=l(n);return new _a(i[1].data[a+8],i)}return new _a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=rI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,a){const u=n.createEmbeddedView(i||{});return this.insert(u,a),u}createComponent(n,i,a,u,d){const m=a||this.parentInjector;if(!d&&null==n.ngModule&&m){const C=m.get(sd,null);C&&(d=C)}const _=n.create(m,u,void 0,d);return this.insert(_.hostView,i),_}insert(n,i){const a=n._lView,u=a[1];if(Wn(a[3])){const B=this.indexOf(n);if(-1!==B)this.detach(B);else{const te=a[3],ae=new nI(te,te[6],te[3]);ae.detach(ae.indexOf(n))}}const d=this._adjustIndex(i),m=this._lContainer;!function(t,n,i,a){const u=10+a,d=i.length;a>0&&(i[u-1][4]=n),a<d-10?(n[4]=i[u],nu(i,10+a,n)):(i.push(n),n[4]=null),n[3]=i;const m=n[17];null!==m&&i!==m&&function(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(m,n);const _=n[19];null!==_&&_.insertView(t),n[2]|=128}(u,a,m,d);const _=Vd(d,m),C=a[11],O=kd(C,m[7]);return null!==O&&function(t,n,i,a,u,d){a[0]=u,a[6]=n,Ud(t,a,i,1,u,d)}(u,m[6],C,a,O,_),n.attachToViewContainerRef(),nu(kE(m),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=rI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),a=Uh(this._lContainer,i);a&&(Jr(kE(this._lContainer),i),Qm(a[1],a))}detach(n){const i=this._adjustIndex(n,-1),a=Uh(this._lContainer,i);return a&&null!=Jr(kE(this._lContainer),i)?new im(a):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function rI(t){return t[8]}function kE(t){return t[8]||(t[8]=[])}function iI(t,n){let i;const a=n[t.index];if(Wn(a))i=a;else{let u;if(8&t.type)u=pe(a);else{const d=n[11];u=d.createComment("");const m=R(t,n);Su(d,kd(d,m),u,function(t,n){return P(t)?t.nextSibling(n):n.nextSibling}(d,m),!1)}n[t.index]=i=lf(a,n,u,t),df(n,i)}return new nI(i,t,n)}function sI(t,n,i,a){let u=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${n}'. Current value: '${i}'.`;return a&&(u+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,n){const i=new Error(t);return oI(i,n),i}(u,t)}function oI(t,n){t[Vm]=n,t[Rl]=n.logError.bind(n)}function aI(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function P_(t,n,i){const a=t.state,u=1792&a;return u===n?(t.state=-1793&a|i,t.initIndex=-1,!0):u===i}function k_(t,n,i){return(1792&t.state)===n&&t.initIndex<=i&&(t.initIndex=i+1,!0)}function am(t,n){return t.nodes[n]}function oi(t,n){return t.nodes[n]}function od(t,n){return t.nodes[n]}function op(t,n){return t.nodes[n]}function um(t,n){return t.nodes[n]}class YD{}const mr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},vu=()=>{},FE=new Map;function Io(t){let n=FE.get(t);return n||(n=W(t)+"_"+FE.size,FE.set(t,n)),n}function JD(t,n,i,a){if(Na.isWrapped(a)){a=Na.unwrap(a);const u=t.def.nodes[n].bindingIndex+i,d=Na.unwrap(t.oldValues[u]);t.oldValues[u]=new Na(d)}return a}const uI="$$undefined",cI="$$empty";function XD(t){return{id:uI,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let eT=0;function Eu(t,n,i,a){return!(!(2&t.state)&&Object.is(t.oldValues[n.bindingIndex+i],a))}function ss(t,n,i,a){return!!Eu(t,n,i,a)&&(t.oldValues[n.bindingIndex+i]=a,!0)}function Bu(t,n,i,a){const u=t.oldValues[n.bindingIndex+i];if(1&t.state||!$l(u,a)){const d=n.bindings[i].name;throw sI(mr.createDebugContext(t,n.nodeIndex),`${d}: ${u}`,`${d}: ${a}`,0!=(1&t.state))}}function lI(t){let n=t;for(;n;)2&n.def.flags&&(n.state|=8),n=n.viewContainerParent||n.parent}function nT(t,n){let i=t;for(;i&&i!==n;)i.state|=64,i=i.viewContainerParent||i.parent}function dI(t,n,i,a){try{return lI(33554432&t.def.nodes[n].flags?oi(t,n).componentView:t),mr.handleEvent(t,n,i,a)}catch(u){t.root.errorHandler.handleError(u)}}function LE(t){return t.parent?oi(t.parent,t.parentNodeDef.nodeIndex):null}function ap(t){return t.parent?t.parentNodeDef.parent:null}function cm(t,n){switch(201347067&n.flags){case 1:return oi(t,n.nodeIndex).renderElement;case 2:return am(t,n.nodeIndex).renderText}}function rT(t,n){return t?`${t}:${n}`:n}function Ih(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function iT(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function hI(t){return 1<<t%32}function VE(t){const n={};let i=0;const a={};return t&&t.forEach(([u,d])=>{"number"==typeof u?(n[u]=d,i|=hI(u)):a[u]=d}),{matchedQueries:n,references:a,matchedQueryIds:i}}function lm(t,n){return t.map(i=>{let a,u;return Array.isArray(i)?[u,a]=i:(u=0,a=i),a&&("function"==typeof a||"object"==typeof a)&&n&&Object.defineProperty(a,as,{value:n,configurable:!0}),{flags:u,token:a,tokenKey:Io(a)}})}function UE(t,n,i){let a=i.renderParent;return a?0==(1&a.flags)||0==(33554432&a.flags)||a.element.componentRendererType&&(a.element.componentRendererType.encapsulation===lt.ShadowDom||1===a.element.componentRendererType.encapsulation)?oi(t,i.renderParent.nodeIndex).renderElement:void 0:n}const fI=new WeakMap;function up(t){let n=fI.get(t);return n||(n=t(()=>vu),n.factory=t,fI.set(t,n)),n}function F_(t,n,i,a,u){3===n&&(i=t.renderer.parentNode(cm(t,t.def.lastRenderRootNode))),pI(t,n,0,t.def.nodes.length-1,i,a,u)}function pI(t,n,i,a,u,d,m){for(let _=i;_<=a;_++){const C=t.def.nodes[_];11&C.flags&&mI(t,C,n,u,d,m),_+=C.childCount}}function gI(t,n,i,a,u,d){let m=t;for(;m&&!Ih(m);)m=m.parent;const _=m.parent,C=ap(m),B=C.nodeIndex+C.childCount;for(let te=C.nodeIndex+1;te<=B;te++){const ae=_.def.nodes[te];ae.ngContentIndex===n&&mI(_,ae,i,a,u,d),te+=ae.childCount}if(!_.parent){const te=t.root.projectableNodes[n];if(te)for(let ae=0;ae<te.length;ae++)L_(t,te[ae],i,a,u,d)}}function mI(t,n,i,a,u,d){if(8&n.flags)gI(t,n.ngContent.index,i,a,u,d);else{const m=cm(t,n);if(3===i&&33554432&n.flags&&48&n.bindingFlags?(16&n.bindingFlags&&L_(t,m,i,a,u,d),32&n.bindingFlags&&L_(oi(t,n.nodeIndex).componentView,m,i,a,u,d)):L_(t,m,i,a,u,d),16777216&n.flags){const _=oi(t,n.nodeIndex).viewContainer._embeddedViews;for(let C=0;C<_.length;C++)F_(_[C],i,a,u,d)}1&n.flags&&!n.element.name&&pI(t,i,n.nodeIndex+1,n.nodeIndex+n.childCount,a,u,d)}}function L_(t,n,i,a,u,d){const m=t.renderer;switch(i){case 1:m.appendChild(a,n);break;case 2:m.insertBefore(a,n,u);break;case 3:m.removeChild(a,n);break;case 0:d.push(n)}}const oT=/^:([^:]+):(.+)$/;function jE(t){if(":"===t[0]){const n=t.match(oT);return[n[1],n[2]]}return["",t]}function BE(t){let n=0;for(let i=0;i<t.length;i++)n|=t[i].flags;return n}function aT(t,n){let i="";for(let a=0;a<2*t;a+=2)i=i+n[a]+fr(n[a+1]);return i+n[2*t]}function uT(t,n,i,a,u,d,m,_,C,O,B,te,ae,_e,Oe,Je,Be,Ft,mt,Fn){switch(t){case 1:return n+fr(i)+a;case 2:return n+fr(i)+a+fr(u)+d;case 3:return n+fr(i)+a+fr(u)+d+fr(m)+_;case 4:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O;case 5:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O+fr(B)+te;case 6:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O+fr(B)+te+fr(ae)+_e;case 7:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O+fr(B)+te+fr(ae)+_e+fr(Oe)+Je;case 8:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O+fr(B)+te+fr(ae)+_e+fr(Oe)+Je+fr(Be)+Ft;case 9:return n+fr(i)+a+fr(u)+d+fr(m)+_+fr(C)+O+fr(B)+te+fr(ae)+_e+fr(Oe)+Je+fr(Be)+Ft+fr(mt)+Fn;default:throw new Error("Does not support more than 9 expressions")}}function fr(t){return null!=t?t.toString():""}const cT={},dm={},lT=Io(fi),dT=Io(pu),hT=Io(sd);function fT(t,n,i,a){return i=re(i),{index:-1,deps:lm(a,W(n)),flags:t,token:n,value:i}}function pT(t){const n={},i=[];let a=null;for(let u=0;u<t.length;u++){const d=t[u];d.token===gu&&(a=d.value),1073741824&d.flags&&i.push(d.token),d.index=u,n[Io(d.token)]=d}return{factory:null,providersByKey:n,providers:t,modules:i,scope:a}}function Ho(t,n,i=fi.THROW_IF_NOT_FOUND){const a=Zi(t);try{if(8&n.flags)return n.token;if(2&n.flags&&(i=null),1&n.flags)return t._parent.get(n.token,i);const u=n.tokenKey;switch(u){case lT:case dT:case hT:return t}const d=t._def.providersByKey[u];let m;if(d){let _=t._providers[d.index];return void 0===_&&(_=t._providers[d.index]=HE(t,d)),_===dm?void 0:_}if((m=an(n.token))&&function(t,n){const i=re(n.providedIn);return null!=i&&("any"===i||i===t._def.scope||function(t,n){return t._def.modules.indexOf(n)>-1}(t,i))}(t,m)){const _=t._providers.length;return t._def.providers[_]=t._def.providersByKey[n.tokenKey]={flags:5120,value:m.factory,deps:[],index:_,token:n.token},t._providers[_]=dm,t._providers[_]=HE(t,t._def.providersByKey[n.tokenKey])}return 4&n.flags?i:t._parent.get(n.token,i)}finally{Zi(a)}}function HE(t,n){let i;switch(201347067&n.flags){case 512:i=function(t,n,i){const a=i.length;switch(a){case 0:return new n;case 1:return new n(Ho(t,i[0]));case 2:return new n(Ho(t,i[0]),Ho(t,i[1]));case 3:return new n(Ho(t,i[0]),Ho(t,i[1]),Ho(t,i[2]));default:const u=[];for(let d=0;d<a;d++)u[d]=Ho(t,i[d]);return new n(...u)}}(t,n.value,n.deps);break;case 1024:i=function(t,n,i){const a=i.length;switch(a){case 0:return n();case 1:return n(Ho(t,i[0]));case 2:return n(Ho(t,i[0]),Ho(t,i[1]));case 3:return n(Ho(t,i[0]),Ho(t,i[1]),Ho(t,i[2]));default:const u=[];for(let d=0;d<a;d++)u[d]=Ho(t,i[d]);return n(...u)}}(t,n.value,n.deps);break;case 2048:i=Ho(t,n.deps[0]);break;case 256:i=n.value}return i!==dm&&null!==i&&"object"==typeof i&&!(131072&n.flags)&&"function"==typeof i.ngOnDestroy&&(n.flags|=131072),void 0===i?dm:i}function $E(t,n){const i=t.viewContainer._embeddedViews;if((null==n||n>=i.length)&&(n=i.length-1),n<0)return null;const a=i[n];return a.viewContainerParent=null,Jr(i,n),mr.dirtyParentQueries(a),WE(a),a}function yI(t,n,i){const a=n?cm(n,n.def.lastRenderRootNode):t.renderElement,u=i.renderer.parentNode(a),d=i.renderer.nextSibling(a);F_(i,2,u,d,void 0)}function WE(t){F_(t,3,null,null,void 0)}const TT={};function ST(t,n,i,a,u,d){return new AT(t,n,i,a,u,d)}function _I(t){return t.viewDefFactory}class AT extends ip{constructor(n,i,a,u,d,m){super(),this.selector=n,this.componentType=i,this._inputs=u,this._outputs=d,this.ngContentSelectors=m,this.viewDefFactory=a}get inputs(){const n=[],i=this._inputs;for(let a in i)n.push({propName:a,templateName:i[a]});return n}get outputs(){const n=[];for(let i in this._outputs)n.push({propName:i,templateName:this._outputs[i]});return n}create(n,i,a,u){if(!u)throw new Error("ngModule should be provided");const d=up(this.viewDefFactory),m=d.nodes[0].element.componentProvider.nodeIndex,_=mr.createRootView(n,i||[],a,d,u,TT),C=od(_,m).instance;return a&&_.renderer.setAttribute(oi(_,0).renderElement,"ng-version",AE.full),new xT(_,new hm(_),C)}}class xT extends DE{constructor(n,i,a){super(),this._view=n,this._viewRef=i,this._component=a,this._elDef=this._view.def.nodes[0],this.hostView=i,this.changeDetectorRef=i,this.instance=a}get location(){return new ju(oi(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new fm(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(n){this._viewRef.onDestroy(n)}}function RT(t,n,i){return new MT(t,n,i)}class MT{constructor(n,i,a){this._view=n,this._elDef=i,this._data=a,this._embeddedViews=[]}get element(){return new ju(this._data.renderElement)}get injector(){return new fm(this._view,this._elDef)}get parentInjector(){let n=this._view,i=this._elDef.parent;for(;!i&&n;)i=ap(n),n=n.parent;return n?new fm(n,i):new fm(this._view,null)}clear(){for(let i=this._embeddedViews.length-1;i>=0;i--){const a=$E(this._data,i);mr.destroyView(a)}}get(n){const i=this._embeddedViews[n];if(i){const a=new hm(i);return a.attachToViewContainerRef(this),a}return null}get length(){return this._embeddedViews.length}createEmbeddedView(n,i,a){const u=n.createEmbeddedView(i||{});return this.insert(u,a),u}createComponent(n,i,a,u,d){const m=a||this.parentInjector;!d&&!(n instanceof TE)&&(d=m.get(sd));const _=n.create(m,u,void 0,d);return this.insert(_.hostView,i),_}insert(n,i){if(n.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const a=n;return function(t,n,i,a){let u=n.viewContainer._embeddedViews;null==i&&(i=u.length),a.viewContainerParent=t,nu(u,i,a),function(t,n){const i=LE(n);if(!i||i===t||16&n.state)return;n.state|=16;let a=i.template._projectedViews;a||(a=i.template._projectedViews=[]),a.push(n),function(t,n){if(4&n.flags)return;t.nodeFlags|=4,n.flags|=4;let i=n.parent;for(;i;)i.childFlags|=4,i=i.parent}(n.parent.def,n.parentNodeDef)}(n,a),mr.dirtyParentQueries(a),yI(n,i>0?u[i-1]:null,a)}(this._view,this._data,i,a._view),a.attachToViewContainerRef(this),n}move(n,i){if(n.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const a=this._embeddedViews.indexOf(n._view);return function(t,n,i){const a=t.viewContainer._embeddedViews,u=a[n];Jr(a,n),null==i&&(i=a.length),nu(a,i,u),mr.dirtyParentQueries(u),WE(u),yI(t,i>0?a[i-1]:null,u)}(this._data,a,i),n}indexOf(n){return this._embeddedViews.indexOf(n._view)}remove(n){const i=$E(this._data,n);i&&mr.destroyView(i)}detach(n){const i=$E(this._data,n);return i?new hm(i):null}}function OT(t){return new hm(t)}class hm{constructor(n){this._view=n,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const n=[];return F_(t,0,void 0,void 0,n),n}(this._view)}get context(){return this._view.context}set context(n){this._view.context=n}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){lI(this._view)}detach(){this._view.state&=-5}detectChanges(){const n=this._view.root.rendererFactory;n.begin&&n.begin();try{mr.checkAndUpdateView(this._view)}finally{n.end&&n.end()}}checkNoChanges(){mr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(n){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(n)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),mr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,WE(this._view),mr.dirtyParentQueries(this._view)}attachToAppRef(n){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}attachToViewContainerRef(n){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=n}}function NT(t,n){return new PT(t,n)}class PT extends bh{constructor(n,i){super(),this._parentView=n,this._def=i}createEmbeddedView(n){return new hm(mr.createEmbeddedView(this._parentView,this._def,this._def.element.template,n))}get elementRef(){return new ju(oi(this._parentView,this._def.nodeIndex).renderElement)}}function vI(t,n){return new fm(t,n)}class fm{constructor(n,i){this.view=n,this.elDef=i}get(n,i=fi.THROW_IF_NOT_FOUND){return mr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:n,tokenKey:Io(n)},i)}}function kT(t,n){const i=t.def.nodes[n];if(1&i.flags){const a=oi(t,i.nodeIndex);return i.element.template?a.template:a.renderElement}if(2&i.flags)return am(t,i.nodeIndex).renderText;if(20240&i.flags)return od(t,i.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${n}`)}function EI(t,n,i,a){return new FT(t,n,i,a)}class FT{constructor(n,i,a,u){this._moduleType=n,this._parent=i,this._bootstrapComponents=a,this._def=u,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const n=t._def,i=t._providers=No(n.providers.length);for(let a=0;a<n.providers.length;a++){const u=n.providers[a];4096&u.flags||void 0===i[a]&&(i[a]=HE(t,u))}}(this)}get(n,i=fi.THROW_IF_NOT_FOUND,a=Wt.Default){let u=0;return a&Wt.SkipSelf?u|=1:a&Wt.Self&&(u|=4),Ho(this,{token:n,tokenKey:Io(n),flags:u},i)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(sp)}destroy(){if(this._destroyed)throw new Error(`The ng module ${W(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,n){const i=t._def,a=new Set;for(let u=0;u<i.providers.length;u++)if(131072&i.providers[u].flags){const m=t._providers[u];if(m&&m!==dm){const _=m.ngOnDestroy;"function"==typeof _&&!a.has(m)&&(_.apply(m),a.add(m))}}}(this),this._destroyListeners.forEach(n=>n())}onDestroy(n){this._destroyListeners.push(n)}}const LT=Io(B0),VT=Io(ju),UT=Io(om),jT=Io(bh),bI=Io(NE),BT=Io(fi),HT=Io(pu);function $T(t,n,i,a,u,d,m,_){const C=[];if(m)for(let B in m){const[te,ae]=m[B];C[te]={flags:8,name:B,nonMinifiedName:ae,ns:null,securityContext:null,suffix:null}}const O=[];if(_)for(let B in _)O.push({type:1,propName:B,target:null,eventName:_[B]});return V_(t,n|=16384,i,a,u,u,d,C,O)}function WT(t,n,i){return V_(-1,t|=16,null,0,n,n,i)}function GT(t,n,i,a,u){return V_(-1,t,n,0,i,a,u)}function V_(t,n,i,a,u,d,m,_,C){const{matchedQueries:O,references:B,matchedQueryIds:te}=VE(i);C||(C=[]),_||(_=[]),d=re(d);const ae=lm(m,W(u));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:O,matchedQueryIds:te,references:B,ngContentIndex:-1,childCount:a,bindings:_,bindingFlags:BE(_),outputs:C,element:null,provider:{token:u,value:d,deps:ae},text:null,query:null,ngContent:null}}function KT(t,n){return II(t,n)}function zT(t,n){let i=t;for(;i.parent&&!Ih(i);)i=i.parent;return GE(i.parent,ap(i),!0,n.provider.value,n.provider.deps)}function ZT(t,n){const a=GE(t,n.parent,(32768&n.flags)>0,n.provider.value,n.provider.deps);if(n.outputs.length)for(let u=0;u<n.outputs.length;u++){const d=n.outputs[u],m=a[d.propName];if(!ku(m))throw new Error(`@Output ${d.propName} not initialized in '${a.constructor.name}'.`);{const _=m.subscribe(qT(t,n.parent.nodeIndex,d.eventName));t.disposables[n.outputIndex+u]=_.unsubscribe.bind(_)}}return a}function qT(t,n,i){return a=>dI(t,n,i,a)}function II(t,n){const i=(8192&n.flags)>0,a=n.provider;switch(201347067&n.flags){case 512:return GE(t,n.parent,i,a.value,a.deps);case 1024:return function(t,n,i,a,u){const d=u.length;switch(d){case 0:return a();case 1:return a($o(t,n,i,u[0]));case 2:return a($o(t,n,i,u[0]),$o(t,n,i,u[1]));case 3:return a($o(t,n,i,u[0]),$o(t,n,i,u[1]),$o(t,n,i,u[2]));default:const m=[];for(let _=0;_<d;_++)m.push($o(t,n,i,u[_]));return a(...m)}}(t,n.parent,i,a.value,a.deps);case 2048:return $o(t,n.parent,i,a.deps[0]);case 256:return a.value}}function GE(t,n,i,a,u){const d=u.length;switch(d){case 0:return new a;case 1:return new a($o(t,n,i,u[0]));case 2:return new a($o(t,n,i,u[0]),$o(t,n,i,u[1]));case 3:return new a($o(t,n,i,u[0]),$o(t,n,i,u[1]),$o(t,n,i,u[2]));default:const m=[];for(let _=0;_<d;_++)m.push($o(t,n,i,u[_]));return new a(...m)}}const wh={};function $o(t,n,i,a,u=fi.THROW_IF_NOT_FOUND){if(8&a.flags)return a.token;const d=t;2&a.flags&&(u=null);const m=a.tokenKey;m===bI&&(i=!(!n||!n.element.componentView)),n&&1&a.flags&&(i=!1,n=n.parent);let _=t;for(;_;){if(n)switch(m){case LT:return wI(_,n,i).renderer;case VT:return new ju(oi(_,n.nodeIndex).renderElement);case UT:return oi(_,n.nodeIndex).viewContainer;case jT:if(n.element.template)return oi(_,n.nodeIndex).template;break;case bI:return OT(wI(_,n,i));case BT:case HT:return vI(_,n);default:const O=(i?n.element.allProviders:n.element.publicProviders)[m];if(O){let B=od(_,O.nodeIndex);return B||(B={instance:II(_,O)},_.nodes[O.nodeIndex]=B),B.instance}}i=Ih(_),n=ap(_),_=_.parent,4&a.flags&&(_=null)}const C=d.root.injector.get(a.token,wh);return C!==wh||u===wh?C:d.root.ngModule.injector.get(a.token,u)}function wI(t,n,i){let a;if(i)a=oi(t,n.nodeIndex).componentView;else for(a=t;a.parent&&!Ih(a);)a=a.parent;return a}function Hu(t,n,i,a,u,d){if(32768&i.flags){const C=oi(t,i.parent.nodeIndex).componentView;2&C.def.flags&&(C.state|=8)}if(n.instance[i.bindings[a].name]=u,524288&i.flags){d=d||{};const C=Na.unwrap(t.oldValues[i.bindingIndex+a]);d[i.bindings[a].nonMinifiedName]=new Xi(C,u,0!=(2&t.state))}return t.oldValues[i.bindingIndex+a]=u,d}function KE(t,n){if(!(t.def.nodeFlags&n))return;const i=t.def.nodes;let a=0;for(let u=0;u<i.length;u++){const d=i[u];let m=d.parent;for(!m&&d.flags&n&&CI(t,u,d.flags&n,a++),0==(d.childFlags&n)&&(u+=d.childCount);m&&1&m.flags&&u===m.nodeIndex+m.childCount;)m.directChildFlags&n&&(a=XT(t,m,n,a)),m=m.parent}}function XT(t,n,i,a){for(let u=n.nodeIndex+1;u<=n.nodeIndex+n.childCount;u++){const d=t.def.nodes[u];d.flags&i&&CI(t,u,d.flags&i,a++),u+=d.childCount}return a}function CI(t,n,i,a){const u=od(t,n);if(!u)return;const d=u.instance;!d||(mr.setCurrentNode(t,n),1048576&i&&k_(t,512,a)&&d.ngAfterContentInit(),2097152&i&&d.ngAfterContentChecked(),4194304&i&&k_(t,768,a)&&d.ngAfterViewInit(),8388608&i&&d.ngAfterViewChecked(),131072&i&&d.ngOnDestroy())}class DI extends sp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=ln(n);return new zE(i,this.ngModule)}}function TI(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}const SI=new Gr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tp});class zE extends ip{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(Zh).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return TI(this.componentDef.inputs)}get outputs(){return TI(this.componentDef.outputs)}create(n,i,a,u){const d=(u=u||this.ngModule)?function(t,n){return{get:(i,a,u)=>{const d=t.get(i,wh,u);return d!==wh||a===wh?d:n.get(i,a,u)}}}(n,u.injector):n,m=d.get(R_,k),_=d.get(SE,null),C=m.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",B=a?uf(C,a,this.componentDef.encapsulation):Np(m.createRenderer(null,this.componentDef),O,function(t){const n=t.toLowerCase();return"svg"===n?mi:"math"===n?Cs:null}(O)),te=this.componentDef.onPush?576:528,ae=Sf(),_e=af(0,null,null,1,0,null,null,null,null,null),Oe=$d(null,_e,ae,te,null,null,m,C,_,d);let Je,Be;Ps(Oe);try{const Ft=Tf(B,this.componentDef,Oe,m,C);if(B)if(a)ho(C,B,["ng-version",AE.full]);else{const{attrs:mt,classes:Fn}=function(t){const n=[],i=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&n.push(d,t[++a]):8===u&&i.push(d);else{if(!Ma(u))break;u=d}a++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);mt&&ho(C,B,mt),Fn&&Fn.length>0&&Lp(C,B,Fn.join(" "))}if(Be=z(_e,20),void 0!==i){const mt=Be.projection=[];for(let Fn=0;Fn<this.ngContentSelectors.length;Fn++){const sr=i[Fn];mt.push(null!=sr?Array.from(sr):null)}}Je=bg(Ft,this.componentDef,Oe,ae,[Ig]),fu(_e,Oe,null)}finally{ps()}return new AI(this.componentType,Je,Eh(Be,Oe),Oe,Be)}}class AI extends DE{constructor(n,i,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.instance=i,this.hostView=this.changeDetectorRef=new VD(u),this.componentType=n}get injector(){return new _a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function xI(t,n,i,a){return fe(()=>{const u=t;null!==n&&(u.hasOwnProperty("decorators")&&void 0!==u.decorators?u.decorators.push(...n):u.decorators=n),null!==i&&(u.ctorParameters=i),null!==a&&(u.propDecorators=u.hasOwnProperty("propDecorators")&&void 0!==u.propDecorators?Object.assign(Object.assign({},u.propDecorators),a):a)})}const cp=new Map;function rS(t,n){const i=cp.get(t);RI(t,i&&i.moduleType,n.moduleType),cp.set(t,n)}function RI(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${W(n)} vs ${W(n.name)}`)}function MI(t){const n=new Set;!function i(a){const u=dr(a,!0),d=u.id;if(null!==d){RI(d,cp.get(d),a),cp.set(d,a)}const m=cu(u.imports);for(const _ of m)n.has(_)||(n.add(_),i(_))}(t)}function OI(t){return cp.get(t)||we[t]}class NI extends sd{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new DI(this);const a=dr(n),u=n[qe]||null;u&&on(u),this._bootstrapComponents=cu(a.bootstrap),this._r3Injector=il(n,i,[{provide:sd,useValue:this},{provide:sp,useValue:this.componentFactoryResolver}],W(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=fi.THROW_IF_NOT_FOUND,a=Wt.Default){return n===fi||n===sd||n===pu?this:this._r3Injector.get(n,i,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class U_ extends PE{constructor(n){super(),this.moduleType=n,null!==dr(n)&&MI(n)}create(n){return new NI(this.moduleType,n)}}function PI(t,n,i){const a=ri()+t,u=_t();return u[a]===ir?Pa(u,a,i?n.call(i):n()):Wl(u,a)}function kI(t,n,i,a){return ZE(_t(),ri(),t,n,i,a)}function FI(t,n,i,a,u){return qE(_t(),ri(),t,n,i,a,u)}function LI(t,n,i,a,u,d){return QE(_t(),ri(),t,n,i,a,u,d)}function VI(t,n,i,a,u,d,m){return YE(_t(),ri(),t,n,i,a,u,d,m)}function UI(t,n,i,a,u,d,m,_){const C=ri()+t,O=_t(),B=bo(O,C,i,a,u,d);return Os(O,C+4,m)||B?Pa(O,C+5,_?n.call(_,i,a,u,d,m):n(i,a,u,d,m)):Wl(O,C+5)}function jI(t,n,i,a,u,d,m,_,C){const O=ri()+t,B=_t(),te=bo(B,O,i,a,u,d);return Pu(B,O+4,m,_)||te?Pa(B,O+6,C?n.call(C,i,a,u,d,m,_):n(i,a,u,d,m,_)):Wl(B,O+6)}function BI(t,n,i,a,u,d,m,_,C,O){const B=ri()+t,te=_t();let ae=bo(te,B,i,a,u,d);return Gl(te,B+4,m,_,C)||ae?Pa(te,B+7,O?n.call(O,i,a,u,d,m,_,C):n(i,a,u,d,m,_,C)):Wl(te,B+7)}function HI(t,n,i,a,u,d,m,_,C,O,B){const te=ri()+t,ae=_t(),_e=bo(ae,te,i,a,u,d);return bo(ae,te+4,m,_,C,O)||_e?Pa(ae,te+8,B?n.call(B,i,a,u,d,m,_,C,O):n(i,a,u,d,m,_,C,O)):Wl(ae,te+8)}function $I(t,n,i,a){return JE(_t(),ri(),t,n,i,a)}function pm(t,n){const i=t[n];return i===ir?void 0:i}function ZE(t,n,i,a,u,d){const m=n+i;return Os(t,m,u)?Pa(t,m+1,d?a.call(d,u):a(u)):pm(t,m+1)}function qE(t,n,i,a,u,d,m){const _=n+i;return Pu(t,_,u,d)?Pa(t,_+2,m?a.call(m,u,d):a(u,d)):pm(t,_+2)}function QE(t,n,i,a,u,d,m,_){const C=n+i;return Gl(t,C,u,d,m)?Pa(t,C+3,_?a.call(_,u,d,m):a(u,d,m)):pm(t,C+3)}function YE(t,n,i,a,u,d,m,_,C){const O=n+i;return bo(t,O,u,d,m,_)?Pa(t,O+4,C?a.call(C,u,d,m,_):a(u,d,m,_)):pm(t,O+4)}function JE(t,n,i,a,u,d){let m=n+i,_=!1;for(let C=0;C<u.length;C++)Os(t,m++,u[C])&&(_=!0);return _?Pa(t,m,a.apply(d,u)):pm(t,m)}function WI(t,n){const i=Qn();let a;const u=t+20;i.firstCreatePass?(a=function(t,n){if(n)for(let i=n.length-1;i>=0;i--){const a=n[i];if(t===a.name)return a}throw new $e("302",`The pipe '${t}' could not be found!`)}(n,i.pipeRegistry),i.data[u]=a,a.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(u,a.onDestroy)):a=i.data[u];const d=a.factory||(a.factory=Fi(a.type)),m=cr(dh);try{const _=V(!1),C=d();return V(_),Mg(i,_t(),u,C),C}finally{cr(m)}}function GI(t,n,i){const a=t+20,u=_t(),d=Ne(u,a);return mm(u,gm(u,a)?ZE(u,ri(),n,d.transform,i,d):d.transform(i))}function KI(t,n,i,a){const u=t+20,d=_t(),m=Ne(d,u);return mm(d,gm(d,u)?qE(d,ri(),n,m.transform,i,a,m):m.transform(i,a))}function zI(t,n,i,a,u){const d=t+20,m=_t(),_=Ne(m,d);return mm(m,gm(m,d)?QE(m,ri(),n,_.transform,i,a,u,_):_.transform(i,a,u))}function ZI(t,n,i,a,u,d){const m=t+20,_=_t(),C=Ne(_,m);return mm(_,gm(_,m)?YE(_,ri(),n,C.transform,i,a,u,d,C):C.transform(i,a,u,d))}function qI(t,n,i){const a=t+20,u=_t(),d=Ne(u,a);return mm(u,gm(u,a)?JE(u,ri(),n,d.transform,i,d):d.transform.apply(d,i))}function gm(t,n){return t[1].data[n].pure}function mm(t,n){return Na.isWrapped(n)&&(n=Na.unwrap(n),t[Di()]=ir),n}function XE(t){return n=>{setTimeout(t,void 0,n)}}const Nc=class extends h.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,a){var u,d,m;let _=n,C=i||(()=>null),O=a;if(n&&"object"==typeof n){const te=n;_=null===(u=te.next)||void 0===u?void 0:u.bind(te),C=null===(d=te.error)||void 0===d?void 0:d.bind(te),O=null===(m=te.complete)||void 0===m?void 0:m.bind(te)}this.__isAsync&&(C=XE(C),_&&(_=XE(_)),O&&(O=XE(O)));const B=super.subscribe({next:_,error:C,complete:O});return n instanceof A.w&&n.add(B),B}};function oS(){return this._results[ol()]()}class ym{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=ol(),a=ym.prototype;a[i]||(a[i]=oS)}get changes(){return this._changes||(this._changes=new Nc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const a=this;a.dirty=!1;const u=Ls(n);(this._changesDetected=!function(t,n,i){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=n[a];if(i&&(u=i(u),d=i(d)),d!==u)return!1}return!0}(a._results,u,i))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class eb{constructor(n){this.queryList=n,this.matches=null}clone(){return new eb(this.queryList)}setDirty(){this.queryList.setDirty()}}class tb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const a=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let d=0;d<a;d++){const m=i.getByIndex(d);u.push(this.queries[m.indexInDeclarationView].clone())}return new tb(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==iw(n,i).matches&&this.queries[i].setDirty()}}class QI{constructor(n,i,a=null){this.predicate=n,this.flags=i,this.read=a}}class nb{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){const u=null!==i?i.length:0,d=this.getByIndex(a).embeddedTView(n,u);d&&(d.indexInDeclarationView=a,null!==i?i.push(d):i=[d])}return null!==i?new nb(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class rb{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new rb(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(n,i,cS(i,d)),this.matchTNodeWithReadOption(n,i,Ku(i,n,d,!1,!1))}else a===bh?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ku(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ju||u===om||u===bh&&4&i.type)this.addMatch(i.index,-2);else{const d=Ku(i,n,u,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,a)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function cS(t,n){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1];return null}function dS(t,n,i,a){return-1===i?function(t,n){return 11&t.type?Eh(t,n):4&t.type?sm(t,n):null}(n,t):-2===i?function(t,n,i){return i===ju?Eh(n,t):i===bh?sm(n,t):i===om?iI(n,t):void 0}(t,n,a):Iu(t,t[1],i,n)}function YI(t,n,i,a){const u=n[19].queries[a];if(null===u.matches){const d=t.data,m=i.matches,_=[];for(let C=0;C<m.length;C+=2){const O=m[C];_.push(O<0?null:dS(n,d[O],m[C+1],i.metadata.read))}u.matches=_}return u.matches}function ib(t,n,i,a){const u=t.queries.getByIndex(i),d=u.matches;if(null!==d){const m=YI(t,n,u,i);for(let _=0;_<d.length;_+=2){const C=d[_];if(C>0)a.push(m[_/2]);else{const O=d[_+1],B=n[-C];for(let te=10;te<B.length;te++){const ae=B[te];ae[17]===ae[3]&&ib(ae[1],ae,O,a)}if(null!==B[9]){const te=B[9];for(let ae=0;ae<te.length;ae++){const _e=te[ae];ib(_e[1],_e,O,a)}}}}}return a}function JI(t){const n=_t(),i=Qn(),a=pa();qs(a+1);const u=iw(i,a);if(t.dirty&&fn(n)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?ib(i,n,a,[]):YI(i,n,u,a);t.reset(d,j0),t.notifyOnChanges()}return!0}return!1}function XI(t,n,i){const a=Qn();a.firstCreatePass&&(rw(a,new QI(t,n,i),-1),2==(2&n)&&(a.staticViewQueries=!0)),nw(a,_t(),n)}function ew(t,n,i,a){const u=Qn();if(u.firstCreatePass){const d=Wr();rw(u,new QI(n,i,a),d.index),function(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(u,t),2==(2&i)&&(u.staticContentQueries=!0)}nw(u,_t(),i)}function tw(){return t=_t(),n=pa(),t[19].queries[n].queryList;var t,n}function nw(t,n,i){const a=new ym(4==(4&i));Wd(t,n,a,a.destroy),null===n[19]&&(n[19]=new tb),n[19].queries.push(new eb(a))}function rw(t,n,i){null===t.queries&&(t.queries=new nb),t.queries.track(new rb(n,i))}function iw(t,n){return t.queries.getByIndex(n)}function sw(t,n){return sm(t,n)}const ua=(()=>({\u0275\u0275attribute:ih,\u0275\u0275attributeInterpolate1:xf,\u0275\u0275attributeInterpolate2:Dg,\u0275\u0275attributeInterpolate3:Rf,\u0275\u0275attributeInterpolate4:Tg,\u0275\u0275attributeInterpolate5:Sg,\u0275\u0275attributeInterpolate6:Ag,\u0275\u0275attributeInterpolate7:xg,\u0275\u0275attributeInterpolate8:Mf,\u0275\u0275attributeInterpolateV:sh,\u0275\u0275defineComponent:kn,\u0275\u0275defineDirective:Tn,\u0275\u0275defineInjectable:ht,\u0275\u0275defineInjector:Kt,\u0275\u0275defineNgModule:ve,\u0275\u0275definePipe:bn,\u0275\u0275directiveInject:dh,\u0275\u0275getInheritedFactory:wu,\u0275\u0275inject:wr,\u0275\u0275injectAttribute:Mo,\u0275\u0275invalidFactory:Pf,\u0275\u0275invalidFactoryDep:Ca,\u0275\u0275templateRefExtractor:sw,\u0275\u0275NgOnChangesFeature:Tr,\u0275\u0275ProvidersFeature:k0,\u0275\u0275CopyDefinitionFeature:By,\u0275\u0275InheritDefinitionFeature:th,\u0275\u0275nextContext:Xl,\u0275\u0275namespaceHTML:So,\u0275\u0275namespaceMathML:qo,\u0275\u0275namespaceSVG:ks,\u0275\u0275enableBindings:Go,\u0275\u0275disableBindings:Ks,\u0275\u0275elementStart:Ff,\u0275\u0275elementEnd:Lf,\u0275\u0275element:Vf,\u0275\u0275elementContainerStart:Ql,\u0275\u0275elementContainerEnd:Yl,\u0275\u0275elementContainer:Pg,\u0275\u0275pureFunction0:PI,\u0275\u0275pureFunction1:kI,\u0275\u0275pureFunction2:FI,\u0275\u0275pureFunction3:LI,\u0275\u0275pureFunction4:VI,\u0275\u0275pureFunction5:UI,\u0275\u0275pureFunction6:jI,\u0275\u0275pureFunction7:BI,\u0275\u0275pureFunction8:HI,\u0275\u0275pureFunctionV:$I,\u0275\u0275getCurrentView:Jl,\u0275\u0275restoreView:Ko,\u0275\u0275listener:Ka,\u0275\u0275projection:s_,\u0275\u0275syntheticHostProperty:vh,\u0275\u0275syntheticHostListener:dl,\u0275\u0275pipeBind1:GI,\u0275\u0275pipeBind2:KI,\u0275\u0275pipeBind3:zI,\u0275\u0275pipeBind4:ZI,\u0275\u0275pipeBindV:qI,\u0275\u0275projectionDef:i_,\u0275\u0275hostProperty:np,\u0275\u0275property:hh,\u0275\u0275propertyInterpolate:Lg,\u0275\u0275propertyInterpolate1:jf,\u0275\u0275propertyInterpolate2:Bf,\u0275\u0275propertyInterpolate3:Vg,\u0275\u0275propertyInterpolate4:Ug,\u0275\u0275propertyInterpolate5:Hf,\u0275\u0275propertyInterpolate6:jg,\u0275\u0275propertyInterpolate7:Bg,\u0275\u0275propertyInterpolate8:$f,\u0275\u0275propertyInterpolateV:Hg,\u0275\u0275pipe:WI,\u0275\u0275queryRefresh:JI,\u0275\u0275viewQuery:XI,\u0275\u0275loadQuery:tw,\u0275\u0275contentQuery:ew,\u0275\u0275reference:oh,\u0275\u0275classMap:hl,\u0275\u0275classMapInterpolate1:nd,\u0275\u0275classMapInterpolate2:rd,\u0275\u0275classMapInterpolate3:Xs,\u0275\u0275classMapInterpolate4:y_,\u0275\u0275classMapInterpolate5:Yf,\u0275\u0275classMapInterpolate6:pl,\u0275\u0275classMapInterpolate7:Rc,\u0275\u0275classMapInterpolate8:Jf,\u0275\u0275classMapInterpolateV:Mc,\u0275\u0275styleMap:ka,\u0275\u0275styleMapInterpolate1:__,\u0275\u0275styleMapInterpolate2:v_,\u0275\u0275styleMapInterpolate3:E_,\u0275\u0275styleMapInterpolate4:Lu,\u0275\u0275styleMapInterpolate5:b_,\u0275\u0275styleMapInterpolate6:I_,\u0275\u0275styleMapInterpolate7:w_,\u0275\u0275styleMapInterpolate8:Xf,\u0275\u0275styleMapInterpolateV:Xg,\u0275\u0275styleProp:Kg,\u0275\u0275stylePropInterpolate1:id,\u0275\u0275stylePropInterpolate2:gl,\u0275\u0275stylePropInterpolate3:ph,\u0275\u0275stylePropInterpolate4:ep,\u0275\u0275stylePropInterpolate5:gh,\u0275\u0275stylePropInterpolate6:tp,\u0275\u0275stylePropInterpolate7:mh,\u0275\u0275stylePropInterpolate8:yh,\u0275\u0275stylePropInterpolateV:_h,\u0275\u0275classProp:zg,\u0275\u0275advance:vo,\u0275\u0275template:Rg,\u0275\u0275text:m_,\u0275\u0275textInterpolate:Kf,\u0275\u0275textInterpolate1:fl,\u0275\u0275textInterpolate2:Jg,\u0275\u0275textInterpolate3:zf,\u0275\u0275textInterpolate4:Zf,\u0275\u0275textInterpolate5:Fu,\u0275\u0275textInterpolate6:Bo,\u0275\u0275textInterpolate7:Hs,\u0275\u0275textInterpolate8:qf,\u0275\u0275textInterpolateV:Qf,\u0275\u0275i18n:R0,\u0275\u0275i18nAttributes:M0,\u0275\u0275i18nExp:EE,\u0275\u0275i18nStart:_E,\u0275\u0275i18nEnd:vE,\u0275\u0275i18nApply:O0,\u0275\u0275i18nPostprocess:N0,\u0275\u0275resolveWindow:Sp,\u0275\u0275resolveDocument:Gm,\u0275\u0275resolveBody:Ap,\u0275\u0275setComponentScope:rr,\u0275\u0275setNgModuleScope:ot,\u0275\u0275sanitizeHtml:Nr,\u0275\u0275sanitizeStyle:tr,\u0275\u0275sanitizeResourceUrl:sa,\u0275\u0275sanitizeScript:nc,\u0275\u0275sanitizeUrl:$n,\u0275\u0275sanitizeUrlOrResourceUrl:zc,\u0275\u0275trustConstantHtml:oa,\u0275\u0275trustConstantResourceUrl:Cd,forwardRef:G,resolveForwardRef:re}))();let lp=null;function yS(){lp=null}const _m=[];let sb=!1;function ow(){if(!sb){sb=!0;try{for(let t=_m.length-1;t>=0;t--){const{moduleType:n,ngModule:i}=_m[t];i.declarations&&i.declarations.every(aw)&&(_m.splice(t,1),ES(n,i))}}finally{sb=!1}}}function aw(t){return Array.isArray(t)?t.every(aw):!!re(t)}function uw(t,n={}){cw(t,n),function(t,n){_m.push({moduleType:t,ngModule:n})}(t,n)}function cw(t,n,i=!1){const a=Ls(n.declarations||ce);let u=null;Object.defineProperty(t,le,{configurable:!0,get:()=>(null===u&&(u=qr().compileNgModule(ua,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Ls(n.bootstrap||ce).map(re),declarations:a.map(re),imports:Ls(n.imports||ce).map(re).map(fw),exports:Ls(n.exports||ce).map(re).map(fw),schemas:n.schemas?Ls(n.schemas):null,id:n.id||null}),u.schemas||(u.schemas=[])),u)});let d=null;Object.defineProperty(t,vt,{get:()=>{if(null===d){const _=qr();d=_.compileFactory(ua,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:$c(t),target:_.FactoryTarget.NgModule,typeArgumentCount:0})}return d},configurable:!1});let m=null;Object.defineProperty(t,st,{get:()=>{if(null===m){const _={name:t.name,type:t,providers:n.providers||ce,imports:[(n.imports||ce).map(re),(n.exports||ce).map(re)]};m=qr().compileInjector(ua,`ng:///${t.name}/\u0275inj.js`,_)}return m},configurable:!1})}let j_=new WeakMap,ab=new WeakMap;function vS(){j_=new WeakMap,ab=new WeakMap,_m.length=0}function ES(t,n){const i=Ls(n.declarations||ce),a=vm(t);i.forEach(u=>{u.hasOwnProperty(de)?ub(ln(u),a):!u.hasOwnProperty(Se)&&!u.hasOwnProperty(Ie)&&(u.ngSelectorScope=t)})}function ub(t,n){t.directiveDefs=()=>Array.from(n.compilation.directives).map(i=>i.hasOwnProperty(de)?ln(i):Sn(i)).filter(i=>!!i),t.pipeDefs=()=>Array.from(n.compilation.pipes).map(i=>ur(i)),t.schemas=n.schemas,t.tView=null}function vm(t){if(!cb(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const n=dr(t);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const i={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return cu(n.imports).forEach(a=>{const u=a;if(!cb(u))throw new Error(`Importing ${u.name} which does not have a \u0275mod property`);const d=vm(u);d.exported.directives.forEach(m=>i.compilation.directives.add(m)),d.exported.pipes.forEach(m=>i.compilation.pipes.add(m))}),cu(n.declarations).forEach(a=>{ur(a)?i.compilation.pipes.add(a):i.compilation.directives.add(a)}),cu(n.exports).forEach(a=>{const u=a;if(cb(u)){const d=vm(u);d.exported.directives.forEach(m=>{i.compilation.directives.add(m),i.exported.directives.add(m)}),d.exported.pipes.forEach(m=>{i.compilation.pipes.add(m),i.exported.pipes.add(m)})}else ur(u)?i.exported.pipes.add(u):i.exported.directives.add(u)}),n.transitiveCompileScopes=i,i}function fw(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function cb(t){return!!dr(t)}let lb=0;function pw(t,n){let i=null;(function(t,n){qi(n)&&(Ba.set(t,n),Da.add(t))})(t,n),mw(t,n),Object.defineProperty(t,de,{get:()=>{if(null===i){const a=qr();if(qi(n)){const O=[`Component '${t.name}' is not resolved:`];throw n.templateUrl&&O.push(` - templateUrl: ${n.templateUrl}`),n.styleUrls&&n.styleUrls.length&&O.push(` - styleUrls: ${JSON.stringify(n.styleUrls)}`),O.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(O.join("\n"))}const u=lp;let d=n.preserveWhitespaces;void 0===d&&(d=null!==u&&void 0!==u.preserveWhitespaces&&u.preserveWhitespaces);let m=n.encapsulation;void 0===m&&(m=null!==u&&void 0!==u.defaultEncapsulation?u.defaultEncapsulation:lt.Emulated);const _=n.templateUrl||`ng:///${t.name}/template.html`,C=Object.assign(Object.assign({},yw(t,n)),{typeSourceSpan:a.createParseSourceSpan("Component",t.name,_),template:n.template||"",preserveWhitespaces:d,styles:n.styles||ce,animations:n.animations,directives:[],changeDetection:n.changeDetection,pipes:new Map,encapsulation:m,interpolation:n.interpolation,viewProviders:n.viewProviders||null});lb++;try{C.usesInheritance&&_w(t),i=a.compileComponent(ua,_,C)}finally{lb--}if(0===lb&&ow(),function(t){return void 0!==t.ngSelectorScope}(t)){const O=vm(t.ngSelectorScope);ub(i,O)}}return i},configurable:!1})}function db(t,n){let i=null;mw(t,n||{}),Object.defineProperty(t,Se,{get:()=>{if(null===i){const a=gw(t,n||{});i=qr().compileDirective(ua,a.sourceMapUrl,a.metadata)}return i},configurable:!1})}function gw(t,n){const i=t&&t.name,a=`ng:///${i}/\u0275dir.js`,u=qr(),d=yw(t,n);return d.typeSourceSpan=u.createParseSourceSpan("Directive",i,a),d.usesInheritance&&_w(t),{metadata:d,sourceMapUrl:a}}function mw(t,n){let i=null;Object.defineProperty(t,vt,{get:()=>{if(null===i){const a=gw(t,n),u=qr();i=u.compileFactory(ua,`ng:///${t.name}/\u0275fac.js`,{name:a.metadata.name,type:a.metadata.type,typeArgumentCount:0,deps:$c(t),target:u.FactoryTarget.Directive})}return i},configurable:!1})}function wS(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function yw(t,n){const i=Hc(),a=i.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==n.selector?n.selector:null,host:n.host||Bt,propMetadata:a,inputs:n.inputs||ce,outputs:n.outputs||ce,queries:vw(t,a,Ew),lifecycle:{usesOnChanges:i.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!wS(t),exportAs:TS(n.exportAs),providers:n.providers||null,viewQueries:vw(t,a,bw)}}function _w(t){const n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;)!Sn(i)&&!ln(i)&&AS(i)&&db(i,null),i=Object.getPrototypeOf(i)}function CS(t){return"string"==typeof t?ww(t):re(t)}function DS(t,n){return{propertyName:t,predicate:CS(n.selector),descendants:n.descendants,first:n.first,read:n.read?n.read:null,static:!!n.static,emitDistinctChangesOnly:!!n.emitDistinctChangesOnly}}function vw(t,n,i){const a=[];for(const u in n)if(n.hasOwnProperty(u)){const d=n[u];d.forEach(m=>{if(i(m)){if(!m.selector)throw new Error(`Can't construct a query for the property "${u}" of "${ze(t)}" since the query selector wasn't defined.`);if(d.some(Iw))throw new Error("Cannot combine @Input decorators with query decorators");a.push(DS(u,m))}})}return a}function TS(t){return void 0===t?null:ww(t)}function Ew(t){const n=t.ngMetadataName;return"ContentChild"===n||"ContentChildren"===n}function bw(t){const n=t.ngMetadataName;return"ViewChild"===n||"ViewChildren"===n}function Iw(t){return"Input"===t.ngMetadataName}function ww(t){return t.split(",").map(n=>n.trim())}const SS=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function AS(t){const n=Hc();if(SS.some(a=>n.hasLifecycleHook(t,a)))return!0;const i=n.propMetadata(t);for(const a in i){const u=i[a];for(let d=0;d<u.length;d++){const m=u[d],_=m.ngMetadataName;if(Iw(m)||Ew(m)||bw(m)||"Output"===_||"HostBinding"===_||"HostListener"===_)return!0}}return!1}function Cw(t,n){let i=null,a=null;Object.defineProperty(t,vt,{get:()=>{if(null===a){const u=Dw(t,n),d=qr();a=d.compileFactory(ua,`ng:///${u.name}/\u0275fac.js`,{name:u.name,type:u.type,typeArgumentCount:0,deps:$c(t),target:d.FactoryTarget.Pipe})}return a},configurable:!1}),Object.defineProperty(t,Ie,{get:()=>{if(null===i){const u=Dw(t,n);i=qr().compilePipe(ua,`ng:///${u.name}/\u0275pipe.js`,u)}return i},configurable:!1})}function Dw(t,n){return{type:t,name:t.name,pipeName:n.name,pure:void 0===n.pure||n.pure}}const Tw=ea("Directive",(t={})=>t,void 0,void 0,(t,n)=>FS(t,n)),xS=ea("Component",(t={})=>Object.assign({changeDetection:Ze.Default},t),Tw,void 0,(t,n)=>kS(t,n)),RS=ea("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,n)=>LS(t,n)),MS=Er("Input",t=>({bindingPropertyName:t})),OS=Er("Output",t=>({bindingPropertyName:t})),NS=Er("HostBinding",t=>({hostPropertyName:t})),PS=Er("HostListener",(t,n)=>({eventName:t,args:n})),Sw=pw,Aw=db,xw=Cw,kS=Sw,FS=Aw,LS=xw,VS=ea("NgModule",t=>t,void 0,void 0,(t,n)=>US(t,n)),Rw=uw,US=Rw,hb=new Gr("Application Initializer");let dp=(()=>{class t{constructor(i){this.appInits=i,this.resolve=x_,this.reject=x_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const i=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const d=this.appInits[u]();if(kg(d))i.push(d);else if(ku(d)){const m=new Promise((_,C)=>{d.subscribe({complete:_,error:C})});i.push(m)}}Promise.all(i).then(()=>{a()}).catch(u=>{this.reject(u)}),0===i.length&&a(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(wr(hb,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Mw=new Gr("AppId");function Ow(){return`${fb()}${fb()}${fb()}`}const Nw={provide:Mw,useFactory:Ow,deps:[]};function fb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pw=new Gr("Platform Initializer"),kw=new Gr("Platform ID"),Fw=new Gr("appBootstrapListener"),jS=new Gr("Application Packages Root URL");let Lw=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const B_=new Gr("LocaleId"),Vw=new Gr("DefaultCurrencyCode"),BS=new Gr("Translations"),HS=new Gr("TranslationsFormat");var Pc=(()=>((Pc=Pc||{})[Pc.Error=0]="Error",Pc[Pc.Warning=1]="Warning",Pc[Pc.Ignore=2]="Ignore",Pc))();const Uw=!0,Em=Uw;class jw{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const H_=function(t){return new U_(t)},$S=H_,Bw=function(t){return Promise.resolve(H_(t))},WS=Bw,pb=function(t){const n=H_(t),a=cu(dr(t).declarations).reduce((u,d)=>{const m=ln(d);return m&&u.push(new zE(m)),u},[]);return new jw(n,a)},GS=pb,Hw=function(t){return Promise.resolve(pb(t))},KS=Hw;let bm=(()=>{class t{constructor(){this.compileModuleSync=$S,this.compileModuleAsync=WS,this.compileModuleAndAllComponentsSync=GS,this.compileModuleAndAllComponentsAsync=KS}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const $w=new Gr("compilerOptions");class Ww{}const zS=(()=>Promise.resolve(0))();function gb(t){"undefined"==typeof Zone?zS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qa{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&i,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let t=sn.requestAnimationFrame,n=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yb(t),t.isCheckStableRunning=!0,mb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,u,d,m,_)=>{try{return Gw(t),i.invokeTask(u,d,m,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),Kw(t)}},onInvoke:(i,a,u,d,m,_,C)=>{try{return Gw(t),i.invoke(u,d,m,_,C)}finally{t.shouldCoalesceRunChangeDetection&&n(),Kw(t)}},onHasTask:(i,a,u,d)=>{i.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,yb(t),mb(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,a,u,d)=>(i.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,u){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+u,n,qS,x_,x_);try{return d.runTask(m,i,a)}finally{d.cancelTask(m)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}}const qS={};function mb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Gw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kw(t){t._nesting--,mb(t)}class zw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(n,i,a){return n.apply(i,a)}runGuarded(n,i,a){return n.apply(i,a)}runOutsideAngular(n){return n()}runTask(n,i,a,u){return n.apply(i,a)}}let Zw=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qa.assertNotInAngularZone(),gb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gb(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),i(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:u})}whenStable(i,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,a,u){return[]}}return t.\u0275fac=function(i){return new(i||t)(wr(qa))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),_b=(()=>{class t{constructor(){this._applications=new Map,vb.addToWindow(this)}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return vb.findTestabilityInTree(this,i,a)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class JS{addToWindow(n){}findTestabilityInTree(n,i,a){return null}}function XS(t){vb=t}let vb=new JS,qw=!0,Qw=!1;function Eb(){return Qw=!0,qw}function eA(){if(Qw)throw new Error("Cannot enable prod mode after platform setup.");qw=!1}let $u,tA=Yw;function Yw(t,n,i){const a=new U_(i);return Promise.resolve(a)}let iA=Jw;function Jw(t){return t.isBoundToModule}const bb=new Gr("AllowMultipleToken");class sA{constructor(n,i){this.name=n,this.token=i}}function Xw(t){if($u&&!$u.destroyed&&!$u.injector.get(bb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$u=t.get(wb);const n=t.get(Pw,null);return n&&n.forEach(i=>i()),$u}function eC(t,n,i=[]){const a=`Platform: ${n}`,u=new Gr(a);return(d=[])=>{let m=Ib();if(!m||m.injector.get(bb,!1))if(t)t(i.concat(d).concat({provide:u,useValue:!0}));else{const _=i.concat(d).concat({provide:u,useValue:!0},{provide:gu,useValue:"platform"});Xw(fi.create({providers:_,name:a}))}return tC(u)}}function tC(t){const n=Ib();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}function oA(){$u&&!$u.destroyed&&$u.destroy()}function Ib(){return $u&&!$u.destroyed?$u:null}let wb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const _=function(t,n){let i;return i="noop"===t?new zw:("zone.js"===t?void 0:t)||new qa({enableLongStackTrace:Eb(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:qa,useValue:_}];return _.run(()=>{const O=fi.create({providers:C,parent:this.injector,name:i.moduleType.name}),B=i.create(O),te=B.injector.get(_o,null);if(!te)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const ae=_.onError.subscribe({next:_e=>{te.handleError(_e)}});B.onDestroy(()=>{Cb(this._modules,B),ae.unsubscribe()})}),function(t,n,i){try{const a=i();return kg(a)?a.catch(u=>{throw n.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(te,_,()=>{const ae=B.injector.get(dp);return ae.runInitializers(),ae.donePromise.then(()=>(Em&&on(B.injector.get(B_,L)||L),this._moduleDoBootstrap(B),B))})})}bootstrapModule(i,a=[]){const u=nC({},a);return tA(this.injector,u,i).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(i){const a=i.injector.get(Im);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${W(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(wr(fi))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function nC(t,n){return Array.isArray(n)?n.reduce(nC,t):Object.assign(Object.assign({},t),n)}let Im=(()=>{class t{constructor(i,a,u,d,m){this._zone=i,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new j.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),C=new j.y(O=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{qa.assertNotInAngularZone(),gb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{qa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{B.unsubscribe(),te.unsubscribe()}});this.isStable=(0,X.T)(_,C.pipe((0,ne.B)()))}bootstrap(i,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=i instanceof ip?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(u.componentType);const d=iA(u)?void 0:this._injector.get(sd),_=u.create(fi.NULL,[],a||u.selector,d),C=_.location.nativeElement,O=_.injector.get(Zw,null),B=O&&_.injector.get(_b);return O&&B&&B.registerApplication(C,O),_.onDestroy(()=>{this.detachView(_.hostView),Cb(this.components,_),B&&B.unregisterApplication(C)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;Cb(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Fw,[]).concat(this._bootstrapListeners).forEach(u=>u(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(wr(qa),wr(fi),wr(_o),wr(sp),wr(dp))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Cb(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}class lA{}function dA(t){const n=OI(t);if(!n)throw sC(t);return n}function iC(t){const n=OI(t);if(!n)throw sC(t);return new U_(n)}const hA=iC;function sC(t){return new Error(`No module with ID ${t} loaded`)}class aC{}const pA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gA=(()=>{class t{constructor(i,a){this._compiler=i,this._config=a||pA}load(i){return!Em&&this._compiler instanceof bm?this.loadFactory(i):this.loadAndCompile(i)}loadAndCompile(i){let[a,u]=i.split("#");return void 0===u&&(u="default"),D(8255)(a).then(d=>d[u]).then(d=>uC(d,a,u)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(i){let[a,u]=i.split("#"),d="NgFactory";return void 0===u&&(u="default",d=""),D(8255)(this._config.factoryPathPrefix+a+this._config.factoryPathSuffix).then(m=>m[u+d]).then(m=>uC(m,a,u))}}return t.\u0275fac=function(i){return new(i||t)(wr(bm),wr(aC,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function uC(t,n,i){if(!t)throw new Error(`Cannot find '${i}' in '${n}'`);return t}class cC extends NE{}class mA extends cC{}class lC{constructor(n,i){this.name=n,this.callback=i}}class wm{constructor(n,i,a){this.listeners=[],this.parent=null,this._debugContext=a,this.nativeNode=n,i&&i instanceof $s&&i.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class $s extends wm{constructor(n,i,a){super(n,i,a),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=n}addChild(n){n&&(this.childNodes.push(n),n.parent=this)}removeChild(n){const i=this.childNodes.indexOf(n);-1!==i&&(n.parent=null,this.childNodes.splice(i,1))}insertChildrenAfter(n,i){const a=this.childNodes.indexOf(n);-1!==a&&(this.childNodes.splice(a+1,0,...i),i.forEach(u=>{u.parent&&u.parent.removeChild(u),n.parent=this}))}insertBefore(n,i){const a=this.childNodes.indexOf(n);-1===a?this.addChild(i):(i.parent&&i.parent.removeChild(i),i.parent=this,this.childNodes.splice(a,0,i))}query(n){return this.queryAll(n)[0]||null}queryAll(n){const i=[];return dC(this,n,i),i}queryAllNodes(n){const i=[];return hC(this,n,i),i}get children(){return this.childNodes.filter(n=>n instanceof $s)}triggerEventHandler(n,i){this.listeners.forEach(a=>{a.name==n&&a.callback(i)})}}function yA(t){return t.map(n=>n.nativeElement)}function dC(t,n,i){t.childNodes.forEach(a=>{a instanceof $s&&(n(a)&&i.push(a),dC(a,n,i))})}function hC(t,n,i){t instanceof $s&&t.childNodes.forEach(a=>{n(a)&&i.push(a),a instanceof $s&&hC(a,n,i)})}class Db{constructor(n){this.nativeNode=n}get parent(){const n=this.nativeNode.parentNode;return n?new Cm(n):null}get injector(){return Oy(this.nativeNode)}get componentInstance(){const n=this.nativeNode;return n&&(yg(n)||My(n))}get context(){return yg(this.nativeNode)||bf(this.nativeNode)}get listeners(){return Py(this.nativeNode).filter(n=>"dom"===n.type)}get references(){return function(t){const n=us(t);return null===n?{}:(void 0===n.localRefs&&(n.localRefs=function(t,n){const i=t[1].data[n];if(i&&i.localNames){const a={};let u=i.index+1;for(let d=0;d<i.localNames.length;d+=2)a[i.localNames[d]]=t[u],u++;return a}return null}(n.lView,n.nodeIndex)),n.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(t){const n=us(t);if(null===n)return[];const a=n.lView[1],u=a.data[n.nodeIndex],d=[],_=u.directiveEnd;for(let C=1048575&u.providerIndexes;C<_;C++){let O=a.data[C];Nu(O)&&(O=O.type),d.push(O)}return d}(this.nativeNode)}}class Cm extends Db{constructor(n){super(n)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const n=us(this.nativeNode);return null!==n?n.lView[1].data[n.nodeIndex].value:this.nativeNode.nodeName}get properties(){const n=us(this.nativeNode);if(null===n)return{};const i=n.lView,a=i[1].data,u=a[n.nodeIndex],d={};return function(t,n){if(t){let i=Object.getPrototypeOf(t);const a=Node.prototype;for(;null!==i&&i!==a;){const u=Object.getOwnPropertyDescriptors(i);for(let d in u)if(!d.startsWith("__")&&!d.startsWith("on")){const m=t[d];vA(m)&&(n[d]=m)}i=Object.getPrototypeOf(i)}}}(this.nativeElement,d),function(t,n,i,a){let u=n.propertyBindings;if(null!==u)for(let d=0;d<u.length;d++){const m=u[d],C=a[m].split("\ufffd"),O=C[0];if(C.length>1){let B=C[1];for(let te=1;te<C.length-1;te++)B+=Le(i[m+te-1])+C[te+1];t[O]=B}else t[O]=i[m]}}(d,u,i,a),d}get attributes(){const n={},i=this.nativeElement;if(!i)return n;const a=us(i);if(null===a)return{};const d=a.lView[1].data[a.nodeIndex].attrs,m=[];if(d){let C=0;for(;C<d.length;){const O=d[C];if("string"!=typeof O)break;n[O]=d[C+1],m.push(O.toLowerCase()),C+=2}}const _=i.attributes;for(let C=0;C<_.length;C++){const O=_[C],B=O.name.toLowerCase();-1===m.indexOf(B)&&(n[B]=O.value)}return n}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const n={},a=this.nativeElement.className;return(a&&"string"!=typeof a?a.baseVal.split(" "):a.split(" ")).forEach(d=>n[d]=!0),n}get childNodes(){const n=this.nativeNode.childNodes,i=[];for(let a=0;a<n.length;a++)i.push(W_(n[a]));return i}get children(){const n=this.nativeElement;if(!n)return[];const i=n.children,a=[];for(let u=0;u<i.length;u++)a.push(W_(i[u]));return a}query(n){return this.queryAll(n)[0]||null}queryAll(n){const i=[];return fC(this,n,i,!0),i}queryAllNodes(n){const i=[];return fC(this,n,i,!1),i}triggerEventHandler(n,i){const a=this.nativeNode,u=[];this.listeners.forEach(d=>{if(d.name===n){const m=d.callback;m.call(a,i),u.push(m)}}),"function"==typeof a.eventListeners&&a.eventListeners(n).forEach(d=>{if(-1!==d.toString().indexOf("__ngUnwrap__")){const m=d("__ngUnwrap__");return-1===u.indexOf(m)&&m.call(a,i)}})}}function vA(t){return"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===t}function fC(t,n,i,a){const u=us(t.nativeNode);null!==u?Ch(u.lView[1].data[u.nodeIndex],u.lView,n,i,a,t.nativeNode):Sb(t.nativeNode,n,i,a)}function Ch(t,n,i,a,u,d){const m=function(t,n){const i=null===t?-1:t.index;return-1!==i?pe(n[i]):null}(t,n);if(11&t.type){if(Tb(m,i,a,u,d),Ji(t)){const C=St(t.index,n);C&&C[1].firstChild&&Ch(C[1].firstChild,C,i,a,u,d)}else t.child&&Ch(t.child,n,i,a,u,d),m&&Sb(m,i,a,u);const _=n[t.index];Wn(_)&&pC(_,i,a,u,d)}else if(4&t.type){const _=n[t.index];Tb(_[7],i,a,u,d),pC(_,i,a,u,d)}else if(16&t.type){const _=n[16],O=_[6].projection[t.projection];if(Array.isArray(O))for(let B of O)Tb(B,i,a,u,d);else if(O){const B=_[3];Ch(B[1].data[O.index],B,i,a,u,d)}}else t.child&&Ch(t.child,n,i,a,u,d);if(d!==m){const _=4&t.flags?t.projectionNext:t.next;_&&Ch(_,n,i,a,u,d)}}function pC(t,n,i,a,u){for(let d=10;d<t.length;d++){const m=t[d],_=m[1].firstChild;_&&Ch(_,m,n,i,a,u)}}function Tb(t,n,i,a,u){if(u!==t){const d=Ws(t);if(!d)return;(a&&d instanceof Cm&&n(d)&&-1===i.indexOf(d)||!a&&n(d)&&-1===i.indexOf(d))&&i.push(d)}}function Sb(t,n,i,a){const u=t.childNodes,d=u.length;for(let m=0;m<d;m++){const _=u[m],C=Ws(_);C&&((a&&C instanceof Cm&&n(C)&&-1===i.indexOf(C)||!a&&n(C)&&-1===i.indexOf(C))&&i.push(C),Sb(_,n,i,a))}}const $_=new Map,Ab="__ng_debug__";function W_(t){return t instanceof Node?(t.hasOwnProperty(Ab)||(t[Ab]=t.nodeType==Node.ELEMENT_NODE?new Cm(t):new Db(t)),t[Ab]):null}const Ws=W_;function IA(t){return function(t){return $_.get(t)||null}(t)}const CA=function(t){return null};function G_(t){$_.set(t.nativeNode,t)}const TA=Db,SA=Cm,AA=eC(null,"core",[{provide:kw,useValue:"unknown"},{provide:wb,deps:[fi]},{provide:_b,deps:[]},{provide:Lw,deps:[]}]);function gC(){return Q0}function mC(){return Y0}function yC(t){return t=t||Em&&"undefined"!=typeof $localize&&$localize.locale||L,Em&&on(t),t}const _C=[{provide:Im,useClass:Im,deps:[qa,fi,_o,sp,dp]},{provide:SI,deps:[qa],useFactory:vC},{provide:dp,useClass:dp,deps:[[new ra,hb]]},{provide:bm,useClass:bm,deps:[]},Nw,{provide:M_,useFactory:gC,deps:[]},{provide:O_,useFactory:mC,deps:[]},{provide:B_,useFactory:yC,deps:[[new Qu(B_),new ra,new si]]},{provide:Vw,useValue:$}];function vC(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}let RA=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(wr(Im))},t.\u0275mod=ve({type:t}),t.\u0275inj=Kt({providers:_C}),t})();function MA(t,n,i,a,u,d){t|=1;const{matchedQueries:m,references:_,matchedQueryIds:C}=VE(n);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:C,references:_,ngContentIndex:i,childCount:a,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:d?up(d):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:u||vu},provider:null,text:null,query:null,ngContent:null}}function OA(t,n,i,a,u,d,m=[],_,C,O,B,te){O||(O=vu);const{matchedQueries:ae,references:_e,matchedQueryIds:Oe}=VE(i);let Je=null,Be=null;d&&([Je,Be]=jE(d)),_=_||[];const Ft=[];for(let sr=0;sr<_.length;sr++){const[Mr,Gs,bu]=_[sr],[Rm,pp]=jE(Gs);let gp,mp;switch(15&Mr){case 4:mp=bu;break;case 1:case 8:gp=bu}Ft[sr]={flags:Mr,ns:Rm,name:pp,nonMinifiedName:pp,securityContext:gp,suffix:mp}}C=C||[];const mt=[];for(let sr=0;sr<C.length;sr++){const[Mr,Gs]=C[sr];mt[sr]={type:0,target:Mr,eventName:Gs,propName:null}}const Fn=(m=m||[]).map(([sr,Mr])=>{const[Gs,bu]=jE(sr);return[Gs,bu,Mr]});return te=function(t){return t&&t.id===uI&&(t.id=null!=t.encapsulation&&t.encapsulation!==lt.None||t.styles.length||Object.keys(t.data).length?"c"+eT++:cI),t&&t.id===cI&&(t=null),t||null}(te),B&&(n|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:n|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:ae,matchedQueryIds:Oe,references:_e,ngContentIndex:a,childCount:u,bindings:Ft,bindingFlags:BE(Ft),outputs:mt,element:{ns:Je,name:Be,attrs:Fn,template:null,componentProvider:null,componentView:B||null,componentRendererType:te,publicProviders:null,allProviders:null,handleEvent:O||vu},provider:null,text:null,query:null,ngContent:null}}function NA(t,n,i){const a=i.element,u=t.root.selectorOrNode,d=t.renderer;let m;if(t.parent||!u){m=a.name?d.createElement(a.name,a.ns):d.createComment("");const _=UE(t,n,i);_&&d.appendChild(_,m)}else m=d.selectRootElement(u,!!a.componentRendererType&&a.componentRendererType.encapsulation===lt.ShadowDom);if(a.attrs)for(let _=0;_<a.attrs.length;_++){const[C,O,B]=a.attrs[_];d.setAttribute(m,O,B,C)}return m}function PA(t,n,i,a){for(let u=0;u<i.outputs.length;u++){const d=i.outputs[u],m=kA(t,i.nodeIndex,rT(d.target,d.eventName));let _=d.target,C=t;"component"===d.target&&(_=null,C=n);const O=C.renderer.listen(_||a,d.eventName,m);t.disposables[i.outputIndex+u]=O}}function kA(t,n,i){return a=>dI(t,n,i,a)}function Wu(t,n,i,a){if(!ss(t,n,i,a))return!1;const u=n.bindings[i],d=oi(t,n.nodeIndex),m=d.renderElement,_=u.name;switch(15&u.flags){case 1:!function(t,n,i,a,u,d){const m=n.securityContext;let _=m?t.root.sanitizer.sanitize(m,d):d;_=null!=_?_.toString():null;const C=t.renderer;null!=d?C.setAttribute(i,u,_,a):C.removeAttribute(i,u,a)}(t,u,m,u.ns,_,a);break;case 2:!function(t,n,i,a){const u=t.renderer;a?u.addClass(n,i):u.removeClass(n,i)}(t,m,_,a);break;case 4:!function(t,n,i,a,u){let d=t.root.sanitizer.sanitize(en.STYLE,u);if(null!=d){d=d.toString();const _=n.suffix;null!=_&&(d+=_)}else d=null;const m=t.renderer;null!=d?m.setStyle(i,a,d):m.removeStyle(i,a)}(t,u,m,_,a);break;case 8:!function(t,n,i,a,u){const d=n.securityContext;let m=d?t.root.sanitizer.sanitize(d,u):u;t.renderer.setProperty(i,a,m)}(33554432&n.flags&&32&u.flags?d.componentView:t,u,m,_,a)}return!0}function HA(t,n,i){let a=[];for(let u in i)a.push({propName:u,bindingType:i[u]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:n,filterId:hI(n),bindings:a},ngContent:null}}function $A(t){return new ym(t)}function WA(t){const n=t.def.nodeMatchedQueries;for(;t.parent&&iT(t);){let i=t.parentNodeDef;t=t.parent;const a=i.nodeIndex+i.childCount;for(let u=0;u<=a;u++){const d=t.def.nodes[u];67108864&d.flags&&536870912&d.flags&&(d.query.filterId&n)===d.query.filterId&&um(t,u).setDirty(),(1&d.flags&&u+d.childCount<i.nodeIndex||!(67108864&d.childFlags)||!(536870912&d.childFlags))&&(u+=d.childCount)}}if(134217728&t.def.nodeFlags)for(let i=0;i<t.def.nodes.length;i++){const a=t.def.nodes[i];134217728&a.flags&&536870912&a.flags&&um(t,i).setDirty(),i+=a.childCount}}function GA(t,n){const i=um(t,n.nodeIndex);if(!i.dirty)return;let a,u;if(67108864&n.flags){const _=n.parent.parent;u=Dm(t,_.nodeIndex,_.nodeIndex+_.childCount,n.query,[]),a=od(t,n.parent.nodeIndex).instance}else 134217728&n.flags&&(u=Dm(t,0,t.def.nodes.length-1,n.query,[]),a=t.component);i.reset(u,j0);const d=n.query.bindings;let m=!1;for(let _=0;_<d.length;_++){const C=d[_];let O;switch(C.bindingType){case 0:O=i.first;break;case 1:O=i,m=!0}a[C.propName]=O}m&&i.notifyOnChanges()}function Dm(t,n,i,a,u){for(let d=n;d<=i;d++){const m=t.def.nodes[d],_=m.matchedQueries[a.id];if(null!=_&&u.push(EC(t,m,_)),1&m.flags&&m.element.template&&(m.element.template.nodeMatchedQueries&a.filterId)===a.filterId){const C=oi(t,d);if((m.childMatchedQueries&a.filterId)===a.filterId&&(Dm(t,d+1,d+m.childCount,a,u),d+=m.childCount),16777216&m.flags){const B=C.viewContainer._embeddedViews;for(let te=0;te<B.length;te++){const ae=B[te],_e=LE(ae);_e&&_e===C&&Dm(ae,0,ae.def.nodes.length-1,a,u)}}const O=C.template._projectedViews;if(O)for(let B=0;B<O.length;B++){const te=O[B];Dm(te,0,te.def.nodes.length-1,a,u)}}(m.childMatchedQueries&a.filterId)!==a.filterId&&(d+=m.childCount)}return u}function EC(t,n,i){if(null!=i)switch(i){case 1:return oi(t,n.nodeIndex).renderElement;case 0:return new ju(oi(t,n.nodeIndex).renderElement);case 2:return oi(t,n.nodeIndex).template;case 3:return oi(t,n.nodeIndex).viewContainer;case 4:return od(t,n.nodeIndex).instance}}function KA(t,n){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:n}}}function zA(t,n,i){const a=UE(t,n,i);a&&gI(t,i.ngContent.index,1,a,null,void 0)}function ZA(t,n){return xb(128,t,No(n+1))}function qA(t,n){return xb(32,t,No(n))}function QA(t,n){const i=Object.keys(n),a=i.length,u=[];for(let d=0;d<a;d++){u.push(i[d])}return xb(64,t,u)}function xb(t,n,i){const a=[];for(let u=0;u<i.length;u++){const d=i[u];a.push({flags:8,name:d,ns:null,nonMinifiedName:d,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:n,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:a,bindingFlags:BE(a),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ex(t,n,i){const a=[];for(let u=1;u<i.length;u++)a[u-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:i[u]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:n,childCount:0,bindings:a,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:i[0]},query:null,ngContent:null}}function tx(t,n,i){let a;const u=t.renderer;a=u.createText(i.text.prefix);const d=UE(t,n,i);return d&&u.appendChild(d,a),{renderText:a}}function Gu(t,n){return(null!=t?t.toString():"")+n.suffix}function ix(t,n,i,a){let u=0,d=0,m=0,_=0,C=0,O=null,B=null,te=!1,ae=!1,_e=null;for(let Je=0;Je<n.length;Je++){const Be=n[Je];if(Be.nodeIndex=Je,Be.parent=O,Be.bindingIndex=u,Be.outputIndex=d,Be.renderParent=B,m|=Be.flags,C|=Be.matchedQueryIds,Be.element){const Ft=Be.element;Ft.publicProviders=O?O.element.publicProviders:Object.create(null),Ft.allProviders=Ft.publicProviders,te=!1,ae=!1,Be.element.template&&(C|=Be.element.template.nodeMatchedQueries)}if(sx(O,Be,n.length),u+=Be.bindings.length,d+=Be.outputs.length,!B&&3&Be.flags&&(_e=Be),20224&Be.flags){te||(te=!0,O.element.publicProviders=Object.create(O.element.publicProviders),O.element.allProviders=O.element.publicProviders);const mt=0!=(32768&Be.flags);0==(8192&Be.flags)||mt?O.element.publicProviders[Io(Be.provider.token)]=Be:(ae||(ae=!0,O.element.allProviders=Object.create(O.element.publicProviders)),O.element.allProviders[Io(Be.provider.token)]=Be),mt&&(O.element.componentProvider=Be)}if(O?(O.childFlags|=Be.flags,O.directChildFlags|=Be.flags,O.childMatchedQueries|=Be.matchedQueryIds,Be.element&&Be.element.template&&(O.childMatchedQueries|=Be.element.template.nodeMatchedQueries)):_|=Be.flags,Be.childCount>0)O=Be,bC(Be)||(B=Be);else for(;O&&Je===O.nodeIndex+O.childCount;){const Ft=O.parent;Ft&&(Ft.childFlags|=O.childFlags,Ft.childMatchedQueries|=O.childMatchedQueries),O=Ft,B=O&&bC(O)?O.renderParent:O}}return{factory:null,nodeFlags:m,rootNodeFlags:_,nodeMatchedQueries:C,flags:t,nodes:n,updateDirectives:i||vu,updateRenderer:a||vu,handleEvent:(Je,Be,Ft,mt)=>n[Be].element.handleEvent(Je,Ft,mt),bindingCount:u,outputCount:d,lastRenderRootNode:_e}}function bC(t){return 0!=(1&t.flags)&&null===t.element.name}function sx(t,n,i){const a=n.element&&n.element.template;if(a){if(!a.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(a.lastRenderRootNode&&16777216&a.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${n.nodeIndex}!`)}if(20224&n.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${n.nodeIndex}!`);if(n.query){if(67108864&n.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${n.nodeIndex}!`);if(134217728&n.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${n.nodeIndex}!`)}if(n.childCount){const u=t?t.nodeIndex+t.childCount:i-1;if(n.nodeIndex<=u&&n.nodeIndex+n.childCount>u)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${n.nodeIndex}!`)}}function IC(t,n,i,a){const u=Rb(t.root,t.renderer,t,n,i);return Mb(u,t.component,a),Ob(u),u}function wC(t,n,i){const a=Rb(t,t.renderer,null,null,n);return Mb(a,i,i),Ob(a),a}function CC(t,n,i,a){const u=n.element.componentRendererType;let d;return d=u?t.root.rendererFactory.createRenderer(a,u):t.root.renderer,Rb(t.root,d,t,n.element.componentProvider,i)}function Rb(t,n,i,a,u){const d=new Array(u.nodes.length),m=u.outputCount?new Array(u.outputCount):null;return{def:u,parent:i,viewContainerParent:null,parentNodeDef:a,context:null,component:null,nodes:d,state:13,root:t,renderer:n,oldValues:new Array(u.bindingCount),disposables:m,initIndex:-1}}function Mb(t,n,i){t.component=n,t.context=i}function Ob(t){let n;Ih(t)&&(n=oi(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const i=t.def,a=t.nodes;for(let u=0;u<i.nodes.length;u++){const d=i.nodes[u];let m;switch(mr.setCurrentNode(t,u),201347067&d.flags){case 1:const _=NA(t,n,d);let C;if(33554432&d.flags){const O=up(d.element.componentView);C=mr.createComponentView(t,d,O,_)}PA(t,C,d,_),m={renderElement:_,componentView:C,viewContainer:null,template:d.element.template?NT(t,d):void 0},16777216&d.flags&&(m.viewContainer=RT(t,d,m));break;case 2:m=tx(t,n,d);break;case 512:case 1024:case 2048:case 256:m=a[u],!m&&!(4096&d.flags)&&(m={instance:KT(t,d)});break;case 16:m={instance:zT(t,d)};break;case 16384:m=a[u],m||(m={instance:ZT(t,d)}),32768&d.flags&&Mb(oi(t,d.parent.nodeIndex).componentView,m.instance,m.instance);break;case 32:case 64:case 128:m={value:void 0};break;case 67108864:case 134217728:m=$A(-2147483648==(-2147483648&d.flags));break;case 8:zA(t,n,d),m=void 0}a[u]=m}Tm(t,ai.CreateViewNodes),Pb(t,201326592,268435456,0)}function K_(t){TC(t),mr.updateDirectives(t,1),Z_(t,ai.CheckNoChanges),mr.updateRenderer(t,1),Tm(t,ai.CheckNoChanges),t.state&=-97}function z_(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,P_(t,0,256),TC(t),mr.updateDirectives(t,0),Z_(t,ai.CheckAndUpdate),Pb(t,67108864,536870912,0);let n=P_(t,256,512);KE(t,2097152|(n?1048576:0)),mr.updateRenderer(t,0),Tm(t,ai.CheckAndUpdate),Pb(t,134217728,536870912,0),n=P_(t,512,768),KE(t,8388608|(n?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,P_(t,768,1024)}function DC(t,n,i,a,u,d,m,_,C,O,B,te,ae){return 0===i?function(t,n,i,a,u,d,m,_,C,O,B,te){switch(201347067&n.flags){case 1:return function(t,n,i,a,u,d,m,_,C,O,B,te){const ae=n.bindings.length;let _e=!1;return ae>0&&Wu(t,n,0,i)&&(_e=!0),ae>1&&Wu(t,n,1,a)&&(_e=!0),ae>2&&Wu(t,n,2,u)&&(_e=!0),ae>3&&Wu(t,n,3,d)&&(_e=!0),ae>4&&Wu(t,n,4,m)&&(_e=!0),ae>5&&Wu(t,n,5,_)&&(_e=!0),ae>6&&Wu(t,n,6,C)&&(_e=!0),ae>7&&Wu(t,n,7,O)&&(_e=!0),ae>8&&Wu(t,n,8,B)&&(_e=!0),ae>9&&Wu(t,n,9,te)&&(_e=!0),_e}(t,n,i,a,u,d,m,_,C,O,B,te);case 2:return function(t,n,i,a,u,d,m,_,C,O,B,te){let ae=!1;const _e=n.bindings,Oe=_e.length;if(Oe>0&&ss(t,n,0,i)&&(ae=!0),Oe>1&&ss(t,n,1,a)&&(ae=!0),Oe>2&&ss(t,n,2,u)&&(ae=!0),Oe>3&&ss(t,n,3,d)&&(ae=!0),Oe>4&&ss(t,n,4,m)&&(ae=!0),Oe>5&&ss(t,n,5,_)&&(ae=!0),Oe>6&&ss(t,n,6,C)&&(ae=!0),Oe>7&&ss(t,n,7,O)&&(ae=!0),Oe>8&&ss(t,n,8,B)&&(ae=!0),Oe>9&&ss(t,n,9,te)&&(ae=!0),ae){let Je=n.text.prefix;Oe>0&&(Je+=Gu(i,_e[0])),Oe>1&&(Je+=Gu(a,_e[1])),Oe>2&&(Je+=Gu(u,_e[2])),Oe>3&&(Je+=Gu(d,_e[3])),Oe>4&&(Je+=Gu(m,_e[4])),Oe>5&&(Je+=Gu(_,_e[5])),Oe>6&&(Je+=Gu(C,_e[6])),Oe>7&&(Je+=Gu(O,_e[7])),Oe>8&&(Je+=Gu(B,_e[8])),Oe>9&&(Je+=Gu(te,_e[9]));const Be=am(t,n.nodeIndex).renderText;t.renderer.setValue(Be,Je)}return ae}(t,n,i,a,u,d,m,_,C,O,B,te);case 16384:return function(t,n,i,a,u,d,m,_,C,O,B,te){const ae=od(t,n.nodeIndex),_e=ae.instance;let Je,Oe=!1;const Be=n.bindings.length;return Be>0&&Eu(t,n,0,i)&&(Oe=!0,Je=Hu(t,ae,n,0,i,Je)),Be>1&&Eu(t,n,1,a)&&(Oe=!0,Je=Hu(t,ae,n,1,a,Je)),Be>2&&Eu(t,n,2,u)&&(Oe=!0,Je=Hu(t,ae,n,2,u,Je)),Be>3&&Eu(t,n,3,d)&&(Oe=!0,Je=Hu(t,ae,n,3,d,Je)),Be>4&&Eu(t,n,4,m)&&(Oe=!0,Je=Hu(t,ae,n,4,m,Je)),Be>5&&Eu(t,n,5,_)&&(Oe=!0,Je=Hu(t,ae,n,5,_,Je)),Be>6&&Eu(t,n,6,C)&&(Oe=!0,Je=Hu(t,ae,n,6,C,Je)),Be>7&&Eu(t,n,7,O)&&(Oe=!0,Je=Hu(t,ae,n,7,O,Je)),Be>8&&Eu(t,n,8,B)&&(Oe=!0,Je=Hu(t,ae,n,8,B,Je)),Be>9&&Eu(t,n,9,te)&&(Oe=!0,Je=Hu(t,ae,n,9,te,Je)),Je&&_e.ngOnChanges(Je),65536&n.flags&&k_(t,256,n.nodeIndex)&&_e.ngOnInit(),262144&n.flags&&_e.ngDoCheck(),Oe}(t,n,i,a,u,d,m,_,C,O,B,te);case 32:case 64:case 128:return function(t,n,i,a,u,d,m,_,C,O,B,te){const ae=n.bindings;let _e=!1;const Oe=ae.length;if(Oe>0&&ss(t,n,0,i)&&(_e=!0),Oe>1&&ss(t,n,1,a)&&(_e=!0),Oe>2&&ss(t,n,2,u)&&(_e=!0),Oe>3&&ss(t,n,3,d)&&(_e=!0),Oe>4&&ss(t,n,4,m)&&(_e=!0),Oe>5&&ss(t,n,5,_)&&(_e=!0),Oe>6&&ss(t,n,6,C)&&(_e=!0),Oe>7&&ss(t,n,7,O)&&(_e=!0),Oe>8&&ss(t,n,8,B)&&(_e=!0),Oe>9&&ss(t,n,9,te)&&(_e=!0),_e){const Je=op(t,n.nodeIndex);let Be;switch(201347067&n.flags){case 32:Be=[],Oe>0&&Be.push(i),Oe>1&&Be.push(a),Oe>2&&Be.push(u),Oe>3&&Be.push(d),Oe>4&&Be.push(m),Oe>5&&Be.push(_),Oe>6&&Be.push(C),Oe>7&&Be.push(O),Oe>8&&Be.push(B),Oe>9&&Be.push(te);break;case 64:Be={},Oe>0&&(Be[ae[0].name]=i),Oe>1&&(Be[ae[1].name]=a),Oe>2&&(Be[ae[2].name]=u),Oe>3&&(Be[ae[3].name]=d),Oe>4&&(Be[ae[4].name]=m),Oe>5&&(Be[ae[5].name]=_),Oe>6&&(Be[ae[6].name]=C),Oe>7&&(Be[ae[7].name]=O),Oe>8&&(Be[ae[8].name]=B),Oe>9&&(Be[ae[9].name]=te);break;case 128:const Ft=i;switch(Oe){case 1:Be=Ft.transform(i);break;case 2:Be=Ft.transform(a);break;case 3:Be=Ft.transform(a,u);break;case 4:Be=Ft.transform(a,u,d);break;case 5:Be=Ft.transform(a,u,d,m);break;case 6:Be=Ft.transform(a,u,d,m,_);break;case 7:Be=Ft.transform(a,u,d,m,_,C);break;case 8:Be=Ft.transform(a,u,d,m,_,C,O);break;case 9:Be=Ft.transform(a,u,d,m,_,C,O,B);break;case 10:Be=Ft.transform(a,u,d,m,_,C,O,B,te)}}Je.value=Be}return _e}(t,n,i,a,u,d,m,_,C,O,B,te);default:throw"unreachable"}}(t,n,a,u,d,m,_,C,O,B,te,ae):function(t,n,i){switch(201347067&n.flags){case 1:return function(t,n,i){let a=!1;for(let u=0;u<i.length;u++)Wu(t,n,u,i[u])&&(a=!0);return a}(t,n,i);case 2:return function(t,n,i){const a=n.bindings;let u=!1;for(let d=0;d<i.length;d++)ss(t,n,d,i[d])&&(u=!0);if(u){let d="";for(let _=0;_<i.length;_++)d+=Gu(i[_],a[_]);d=n.text.prefix+d;const m=am(t,n.nodeIndex).renderText;t.renderer.setValue(m,d)}return u}(t,n,i);case 16384:return function(t,n,i){const a=od(t,n.nodeIndex),u=a.instance;let m,d=!1;for(let _=0;_<i.length;_++)Eu(t,n,_,i[_])&&(d=!0,m=Hu(t,a,n,_,i[_],m));return m&&u.ngOnChanges(m),65536&n.flags&&k_(t,256,n.nodeIndex)&&u.ngOnInit(),262144&n.flags&&u.ngDoCheck(),d}(t,n,i);case 32:case 64:case 128:return function(t,n,i){const a=n.bindings;let u=!1;for(let d=0;d<i.length;d++)ss(t,n,d,i[d])&&(u=!0);if(u){const d=op(t,n.nodeIndex);let m;switch(201347067&n.flags){case 32:m=i;break;case 64:m={};for(let O=0;O<i.length;O++)m[a[O].name]=i[O];break;case 128:const _=i[0],C=i.slice(1);m=_.transform(...C)}d.value=m}return u}(t,n,i);default:throw"unreachable"}}(t,n,a)}function TC(t){const n=t.def;if(4&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const a=n.nodes[i];if(4&a.flags){const u=oi(t,i).template._projectedViews;if(u)for(let d=0;d<u.length;d++){const m=u[d];m.state|=32,nT(m,t)}}else 0==(4&a.childFlags)&&(i+=a.childCount)}}function SC(t,n,i,a,u,d,m,_,C,O,B,te,ae){return 0===i?function(t,n,i,a,u,d,m,_,C,O,B,te){const ae=n.bindings.length;ae>0&&Bu(t,n,0,i),ae>1&&Bu(t,n,1,a),ae>2&&Bu(t,n,2,u),ae>3&&Bu(t,n,3,d),ae>4&&Bu(t,n,4,m),ae>5&&Bu(t,n,5,_),ae>6&&Bu(t,n,6,C),ae>7&&Bu(t,n,7,O),ae>8&&Bu(t,n,8,B),ae>9&&Bu(t,n,9,te)}(t,n,a,u,d,m,_,C,O,B,te,ae):function(t,n,i){for(let a=0;a<i.length;a++)Bu(t,n,a,i[a])}(t,n,a),!1}function lx(t,n){if(um(t,n.nodeIndex).dirty)throw sI(mr.createDebugContext(t,n.nodeIndex),`Query ${n.query.id} not dirty`,`Query ${n.query.id} dirty`,0!=(1&t.state))}function Nb(t){if(!(128&t.state)){if(Z_(t,ai.Destroy),Tm(t,ai.Destroy),KE(t,131072),t.disposables)for(let n=0;n<t.disposables.length;n++)t.disposables[n]();(function(t){if(!(16&t.state))return;const n=LE(t);if(n){const i=n.template._projectedViews;i&&(Jr(i,i.indexOf(t)),mr.dirtyParentQueries(t))}})(t),t.renderer.destroyNode&&function(t){const n=t.def.nodes.length;for(let i=0;i<n;i++){const a=t.def.nodes[i];1&a.flags?t.renderer.destroyNode(oi(t,i).renderElement):2&a.flags?t.renderer.destroyNode(am(t,i).renderText):(67108864&a.flags||134217728&a.flags)&&um(t,i).destroy()}}(t),Ih(t)&&t.renderer.destroy(),t.state|=128}}var ai=(()=>((ai=ai||{})[ai.CreateViewNodes=0]="CreateViewNodes",ai[ai.CheckNoChanges=1]="CheckNoChanges",ai[ai.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",ai[ai.CheckAndUpdate=3]="CheckAndUpdate",ai[ai.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",ai[ai.Destroy=5]="Destroy",ai))();function Tm(t,n){const i=t.def;if(33554432&i.nodeFlags)for(let a=0;a<i.nodes.length;a++){const u=i.nodes[a];33554432&u.flags?AC(oi(t,a).componentView,n):0==(33554432&u.childFlags)&&(a+=u.childCount)}}function Z_(t,n){const i=t.def;if(16777216&i.nodeFlags)for(let a=0;a<i.nodes.length;a++){const u=i.nodes[a];if(16777216&u.flags){const d=oi(t,a).viewContainer._embeddedViews;for(let m=0;m<d.length;m++)AC(d[m],n)}else 0==(16777216&u.childFlags)&&(a+=u.childCount)}}function AC(t,n){const i=t.state;switch(n){case ai.CheckNoChanges:0==(128&i)&&(12==(12&i)?K_(t):64&i&&q_(t,ai.CheckNoChangesProjectedViews));break;case ai.CheckNoChangesProjectedViews:0==(128&i)&&(32&i?K_(t):64&i&&q_(t,n));break;case ai.CheckAndUpdate:0==(128&i)&&(12==(12&i)?z_(t):64&i&&q_(t,ai.CheckAndUpdateProjectedViews));break;case ai.CheckAndUpdateProjectedViews:0==(128&i)&&(32&i?z_(t):64&i&&q_(t,n));break;case ai.Destroy:Nb(t);break;case ai.CreateViewNodes:Ob(t)}}function q_(t,n){Z_(t,n),Tm(t,n)}function Pb(t,n,i,a){if(!(t.def.nodeFlags&n&&t.def.nodeFlags&i))return;const u=t.def.nodes.length;for(let d=0;d<u;d++){const m=t.def.nodes[d];if(m.flags&n&&m.flags&i)switch(mr.setCurrentNode(t,m.nodeIndex),a){case 0:GA(t,m);break;case 1:lx(t,m)}(!(m.childFlags&n)||!(m.childFlags&i))&&(d+=m.childCount)}}let xC=!1;function Sm(){if(xC)return;xC=!0;const t=Eb()?{setCurrentNode:fp,createRootView:gx,createEmbeddedView:mx,createComponentView:yx,createNgModuleRef:_x,overrideProvider:vx,overrideComponentView:Ex,clearOverrides:bx,checkAndUpdateView:wx,checkNoChangesView:Cx,destroyView:Dx,createDebugContext:(t,n)=>new Lb(t,n),handleEvent:Tx,updateDirectives:Sx,updateRenderer:Ax}:{setCurrentNode:()=>{},createRootView:px,createEmbeddedView:IC,createComponentView:CC,createNgModuleRef:EI,overrideProvider:vu,overrideComponentView:vu,clearOverrides:vu,checkAndUpdateView:z_,checkNoChangesView:K_,destroyView:Nb,createDebugContext:(t,n)=>new Lb(t,n),handleEvent:(t,n,i,a)=>t.def.handleEvent(t,n,i,a),updateDirectives:(t,n)=>t.def.updateDirectives(0===n?MC:OC,t),updateRenderer:(t,n)=>t.def.updateRenderer(0===n?MC:OC,t)};mr.setCurrentNode=t.setCurrentNode,mr.createRootView=t.createRootView,mr.createEmbeddedView=t.createEmbeddedView,mr.createComponentView=t.createComponentView,mr.createNgModuleRef=t.createNgModuleRef,mr.overrideProvider=t.overrideProvider,mr.overrideComponentView=t.overrideComponentView,mr.clearOverrides=t.clearOverrides,mr.checkAndUpdateView=t.checkAndUpdateView,mr.checkNoChangesView=t.checkNoChangesView,mr.destroyView=t.destroyView,mr.resolveDep=$o,mr.createDebugContext=t.createDebugContext,mr.handleEvent=t.handleEvent,mr.updateDirectives=t.updateDirectives,mr.updateRenderer=t.updateRenderer,mr.dirtyParentQueries=WA}function px(t,n,i,a,u,d){const m=u.injector.get(R_);return wC(RC(t,u,m,n,i),a,d)}function gx(t,n,i,a,u,d){const m=u.injector.get(R_),_=RC(t,u,new Mx(m),n,i),C=Fb(a);return Dh(cs.create,wC,null,[_,C,d])}function RC(t,n,i,a,u){const d=n.injector.get(SE),m=n.injector.get(_o),_=i.createRenderer(null,null);return{ngModule:n,injector:t,projectableNodes:a,selectorOrNode:u,sanitizer:d,rendererFactory:i,renderer:_,errorHandler:m}}function mx(t,n,i,a){const u=Fb(i);return Dh(cs.create,IC,null,[t,n,u,a])}function yx(t,n,i,a){return i=kb.get(n.element.componentProvider.provider.token)||Fb(i),Dh(cs.create,CC,null,[t,n,i,a])}function _x(t,n,i,a){const u=function(t){const{hasOverrides:n,hasDeprecatedOverrides:i}=function(d){let m=!1,_=!1;return 0===ad.size||(d.providers.forEach(C=>{const O=ad.get(C.token);3840&C.flags&&O&&(m=!0,_=_||O.deprecatedBehavior)}),d.modules.forEach(C=>{Am.forEach((O,B)=>{re(an(B).providedIn)===C&&(m=!0,_=_||O.deprecatedBehavior)})})),{hasOverrides:m,hasDeprecatedOverrides:_}}(t);return n?(function(d){for(let m=0;m<d.providers.length;m++){const _=d.providers[m];i&&(_.flags|=4096);const C=ad.get(_.token);C&&(_.flags=-3841&_.flags|C.flags,_.deps=lm(C.deps),_.value=C.value)}if(Am.size>0){let m=new Set(d.modules);Am.forEach((_,C)=>{if(m.has(re(an(C).providedIn))){let O={token:C,flags:_.flags|(i?4096:0),deps:lm(_.deps),value:_.value,index:d.providers.length};d.providers.push(O),d.providersByKey[Io(C)]=O}})}}(t=t.factory(()=>vu)),t):t}(a);return EI(t,n,i,u)}const ad=new Map,Am=new Map,kb=new Map;function vx(t){let n;ad.set(t.token,t),"function"==typeof t.token&&(n=an(t.token))&&"function"==typeof n.providedIn&&Am.set(t.token,t)}function Ex(t,n){const i=up(_I(n)),a=up(i.nodes[0].element.componentView);kb.set(t,a)}function bx(){ad.clear(),Am.clear(),kb.clear()}function Fb(t){if(0===ad.size)return t;const n=function(u){const d=[];let m=null;for(let _=0;_<u.nodes.length;_++){const C=u.nodes[_];1&C.flags&&(m=C),m&&3840&C.flags&&ad.has(C.provider.token)&&(d.push(m.nodeIndex),m=null)}return d}(t);if(0===n.length)return t;t=t.factory(()=>vu);for(let u=0;u<n.length;u++)a(t,n[u]);return t;function a(u,d){for(let m=d+1;m<u.nodes.length;m++){const _=u.nodes[m];if(1&_.flags)return;if(3840&_.flags){const C=_.provider,O=ad.get(C.token);O&&(_.flags=-3841&_.flags|O.flags,C.deps=lm(O.deps),C.value=O.value)}}}}function MC(t,n,i,a,u,d,m,_,C,O,B,te,ae){const _e=t.def.nodes[n];return DC(t,_e,i,a,u,d,m,_,C,O,B,te,ae),224&_e.flags?op(t,n).value:void 0}function OC(t,n,i,a,u,d,m,_,C,O,B,te,ae){const _e=t.def.nodes[n];return SC(t,_e,i,a,u,d,m,_,C,O,B,te,ae),224&_e.flags?op(t,n).value:void 0}function wx(t){return Dh(cs.detectChanges,z_,null,[t])}function Cx(t){return Dh(cs.checkNoChanges,K_,null,[t])}function Dx(t){return Dh(cs.destroy,Nb,null,[t])}var cs=(()=>((cs=cs||{})[cs.create=0]="create",cs[cs.detectChanges=1]="detectChanges",cs[cs.checkNoChanges=2]="checkNoChanges",cs[cs.destroy=3]="destroy",cs[cs.handleEvent=4]="handleEvent",cs))();let xm,hp,Q_;function fp(t,n){hp=t,Q_=n}function Tx(t,n,i,a){return fp(t,n),Dh(cs.handleEvent,t.def.handleEvent,null,[t,n,i,a])}function Sx(t,n){if(128&t.state)throw aI(cs[xm]);return fp(t,kC(t,0)),t.def.updateDirectives(function(a,u,d,...m){const _=a.def.nodes[u];return 0===n?NC(a,_,d,m):PC(a,_,d,m),16384&_.flags&&fp(a,kC(a,u)),224&_.flags?op(a,_.nodeIndex).value:void 0},t)}function Ax(t,n){if(128&t.state)throw aI(cs[xm]);return fp(t,FC(t,0)),t.def.updateRenderer(function(a,u,d,...m){const _=a.def.nodes[u];return 0===n?NC(a,_,d,m):PC(a,_,d,m),3&_.flags&&fp(a,FC(a,u)),224&_.flags?op(a,_.nodeIndex).value:void 0},t)}function NC(t,n,i,a){if(DC(t,n,i,...a)){const d=1===i?a[0]:a;if(16384&n.flags){const m={};for(let O=0;O<n.bindings.length;O++){const B=n.bindings[O],te=d[O];8&B.flags&&(m[$m(B.nonMinifiedName)]=Wm(te))}const _=n.parent,C=oi(t,_.nodeIndex).renderElement;if(_.element.name)for(let O in m){const B=m[O];null!=B?t.renderer.setAttribute(C,O,B):t.renderer.removeAttribute(C,O)}else t.renderer.setValue(C,Md(`bindings=${JSON.stringify(m,null,2)}`))}}}function PC(t,n,i,a){SC(t,n,i,...a)}function kC(t,n){for(let i=n;i<t.def.nodes.length;i++){const a=t.def.nodes[i];if(16384&a.flags&&a.bindings&&a.bindings.length)return i}return null}function FC(t,n){for(let i=n;i<t.def.nodes.length;i++){const a=t.def.nodes[i];if(3&a.flags&&a.bindings&&a.bindings.length)return i}return null}class Lb{constructor(n,i){this.view=n,this.nodeIndex=i,null==i&&(this.nodeIndex=i=0),this.nodeDef=n.def.nodes[i];let a=this.nodeDef,u=n;for(;a&&0==(1&a.flags);)a=a.parent;if(!a)for(;!a&&u;)a=ap(u),u=u.parent;this.elDef=a,this.elView=u}get elOrCompView(){return oi(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return vI(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const n=[];if(this.elDef)for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const a=this.elView.def.nodes[i];20224&a.flags&&n.push(a.provider.token),i+=a.childCount}return n}get references(){const n={};if(this.elDef){LC(this.elView,this.elDef,n);for(let i=this.elDef.nodeIndex+1;i<=this.elDef.nodeIndex+this.elDef.childCount;i++){const a=this.elView.def.nodes[i];20224&a.flags&&LC(this.elView,a,n),i+=a.childCount}}return n}get componentRenderElement(){const n=function(t){for(;t&&!Ih(t);)t=t.parent;return t.parent?oi(t.parent,ap(t).nodeIndex):null}(this.elOrCompView);return n?n.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?cm(this.view,this.nodeDef):cm(this.elView,this.elDef)}logError(n,...i){let a,u;2&this.nodeDef.flags?(a=this.view.def,u=this.nodeDef.nodeIndex):(a=this.elView.def,u=this.elDef.nodeIndex);const d=function(t,n){let i=-1;for(let a=0;a<=n;a++)3&t.nodes[a].flags&&i++;return i}(a,u);let m=-1;a.factory(()=>(m++,m===d?n.error.bind(n,...i):vu)),m<d&&(n.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),n.error(...i))}}function LC(t,n,i){for(let a in n.references)i[a]=EC(t,n,n.references[a])}function Dh(t,n,i,a){const u=xm,d=hp,m=Q_;try{xm=t;const _=n.apply(i,a);return hp=d,Q_=m,xm=u,_}catch(_){throw function(t){return!!ms(t)}(_)||!hp?_:function(t,n){return t instanceof Error||(t=new Error(t.toString())),oI(t,n),t}(_,Vb())}}function Vb(){return hp?new Lb(hp,Q_):null}class Mx{constructor(n){this.delegate=n}createRenderer(n,i){return new Ox(this.delegate.createRenderer(n,i))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ox{constructor(n){this.delegate=n,this.debugContextFactory=Vb,this.data=this.delegate.data}createDebugContext(n){return this.debugContextFactory(n)}destroyNode(n){const i=Ws(n);i&&($_.delete(i.nativeNode),i instanceof wm&&(i.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(n)}destroy(){this.delegate.destroy()}createElement(n,i){const a=this.delegate.createElement(n,i),u=this.createDebugContext(a);if(u){const d=new $s(a,null,u);d.name=n,G_(d)}return a}createComment(n){const i=this.delegate.createComment(Md(n)),a=this.createDebugContext(i);return a&&G_(new wm(i,null,a)),i}createText(n){const i=this.delegate.createText(n),a=this.createDebugContext(i);return a&&G_(new wm(i,null,a)),i}appendChild(n,i){const a=Ws(n),u=Ws(i);a&&u&&a instanceof $s&&a.addChild(u),this.delegate.appendChild(n,i)}insertBefore(n,i,a,u){const d=Ws(n),m=Ws(i),_=Ws(a);d&&m&&d instanceof $s&&d.insertBefore(_,m),this.delegate.insertBefore(n,i,a,u)}removeChild(n,i){const a=Ws(n),u=Ws(i);a&&u&&a instanceof $s&&a.removeChild(u),this.delegate.removeChild(n,i)}selectRootElement(n,i){const a=this.delegate.selectRootElement(n,i),u=Vb();return u&&G_(new $s(a,null,u)),a}setAttribute(n,i,a,u){const d=Ws(n);d&&d instanceof $s&&(d.attributes[u?u+":"+i:i]=a),this.delegate.setAttribute(n,i,a,u)}removeAttribute(n,i,a){const u=Ws(n);u&&u instanceof $s&&(u.attributes[a?a+":"+i:i]=null),this.delegate.removeAttribute(n,i,a)}addClass(n,i){const a=Ws(n);a&&a instanceof $s&&(a.classes[i]=!0),this.delegate.addClass(n,i)}removeClass(n,i){const a=Ws(n);a&&a instanceof $s&&(a.classes[i]=!1),this.delegate.removeClass(n,i)}setStyle(n,i,a,u){const d=Ws(n);d&&d instanceof $s&&(d.styles[i]=a),this.delegate.setStyle(n,i,a,u)}removeStyle(n,i,a){const u=Ws(n);u&&u instanceof $s&&(u.styles[i]=null),this.delegate.removeStyle(n,i,a)}setProperty(n,i,a){const u=Ws(n);u&&u instanceof $s&&(u.properties[i]=a),this.delegate.setProperty(n,i,a)}listen(n,i,a){if("string"!=typeof n){const u=Ws(n);u&&u.listeners.push(new lC(i,a))}return this.delegate.listen(n,i,a)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setValue(n,i){return this.delegate.setValue(n,i)}}function Nx(t){return Sm(),mr.overrideProvider(t)}function Px(t,n){return Sm(),mr.overrideComponentView(t,n)}function kx(){return Sm(),mr.clearOverrides()}function Fx(t,n,i){return new Vx(t,n,i)}class Vx extends PE{constructor(n,i,a){super(),this.moduleType=n,this._bootstrapComponents=i,this._ngModuleDefFactory=a}create(n){Sm();const i=function(t){const n=Array.from(t.providers),i=Array.from(t.modules),a={};for(const u in t.providersByKey)a[u]=t.providersByKey[u];return{factory:t.factory,scope:t.scope,providers:n,modules:i,providersByKey:a}}(up(this._ngModuleDefFactory));return mr.createNgModuleRef(this.moduleType,n||fi.NULL,this._bootstrapComponents,i)}}function Ux(t){return qr().compileDirectiveDeclaration(ua,`ng:///${t.type.name}/\u0275fac.js`,t)}function jx(t){var n,i;xI(t.type,t.decorators,null!==(n=t.ctorParameters)&&void 0!==n?n:null,null!==(i=t.propDecorators)&&void 0!==i?i:null)}function Bx(t){return qr().compileComponentDeclaration(ua,`ng:///${t.type.name}/\u0275cmp.js`,t)}function Hx(t){return qr(function(t){switch(t){case Rr.Directive:return"directive";case Rr.Component:return"component";case Rr.Injectable:return"injectable";case Rr.Pipe:return"pipe";case Rr.NgModule:;}}(t.target)).compileFactoryDeclaration(ua,`ng:///${t.type.name}/\u0275fac.js`,t)}function Wx(t){return qr().compileInjectableDeclaration(ua,`ng:///${t.type.name}/\u0275prov.js`,t)}function Gx(t){return qr().compileInjectorDeclaration(ua,`ng:///${t.type.name}/\u0275inj.js`,t)}function Kx(t){return qr().compileNgModuleDeclaration(ua,`ng:///${t.type.name}/\u0275mod.js`,t)}function zx(t){return qr().compilePipeDeclaration(ua,`ng:///${t.type.name}/\u0275pipe.js`,t)}},3950:(it,ue,D)=>{"use strict";D.d(ue,{nm:()=>vi});var h=D(2274);D(7716),D(2329);var Xe=D(8239),_n=D(8026),tn=D(3910),et=D(3854),kt=D(5422);const ke=new Map,ut={activated:!1,tokenObservers:[]},dt={initialized:!1,enabled:!1};function It(De){return ke.get(De)||ut}function at(De,xe){ke.set(De,xe)}function jt(){return dt}class nn{constructor(xe,je,ct,Tt,qt){if(this.operation=xe,this.retryPolicy=je,this.getWaitDuration=ct,this.lowerBound=Tt,this.upperBound=qt,this.pending=null,this.nextErrorWaitInterval=Tt,Tt>qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var je=this;return(0,Xe.Z)(function*(){je.stop();try{je.pending=new et.BH,yield(De=je.getNextRun(xe),new Promise(xe=>{setTimeout(xe,De)})),je.pending.resolve(),yield je.pending.promise,je.pending=new et.BH,yield je.operation(),je.pending.resolve(),yield je.pending.promise,je.process(!0).catch(()=>{})}catch(ct){je.retryPolicy(ct)?je.process(!1).catch(()=>{}):je.stop()}var De})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),je}}}const Ut=new et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pn(De){if(!It(De).activated)throw Ut.create("use-before-activation",{appName:De.name})}function Vt(De,xe){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,Xe.Z)(function*({url:De,body:xe},je){var ct,Tt;const qt={"Content-Type":"application/json"},nr=je.getImmediate({optional:!0});if(nr){const ki=yield nr.getHeartbeatsHeader();ki&&(qt["X-Firebase-Client"]=ki)}const Hr={method:"POST",body:JSON.stringify(xe),headers:qt};let Hn,Dr;try{Hn=yield fetch(De,Hr)}catch(ki){throw Ut.create("fetch-network-error",{originalErrorMessage:null===(ct=ki)||void 0===ct?void 0:ct.message})}if(200!==Hn.status)throw Ut.create("fetch-status-error",{httpStatus:Hn.status});try{Dr=yield Hn.json()}catch(ki){throw Ut.create("fetch-parse-error",{originalErrorMessage:null===(Tt=ki)||void 0===Tt?void 0:Tt.message})}const Hi=Dr.ttl.match(/^([\d.]+)(s)$/);if(!Hi||!Hi[2]||isNaN(Number(Hi[1])))throw Ut.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Dr.ttl}`});const gi=1e3*Number(Hi[1]),$i=Date.now();return{token:Dr.token,expireTimeMillis:$i+gi,issuedAtTimeMillis:$i}})).apply(this,arguments)}function Yt(De,xe){const{projectId:je,appId:ct,apiKey:Tt}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${je}/apps/${ct}:exchangeDebugToken?key=${Tt}`,body:{debug_token:xe}}}const Bn="firebase-app-check-store";let hn=null;function Kn(){return hn||(hn=new Promise((De,xe)=>{var je;try{const ct=indexedDB.open("firebase-app-check-database",1);ct.onsuccess=Tt=>{De(Tt.target.result)},ct.onerror=Tt=>{var qt;xe(Ut.create("storage-open",{originalErrorMessage:null===(qt=Tt.target.error)||void 0===qt?void 0:qt.message}))},ct.onupgradeneeded=Tt=>{const qt=Tt.target.result;switch(Tt.oldVersion){case 0:qt.createObjectStore(Bn,{keyPath:"compositeKey"})}}}catch(ct){xe(Ut.create("storage-open",{originalErrorMessage:null===(je=ct)||void 0===je?void 0:je.message}))}}),hn)}function tt(){return(tt=(0,Xe.Z)(function*(De,xe){const ct=(yield Kn()).transaction(Bn,"readwrite"),qt=ct.objectStore(Bn).put({compositeKey:De,value:xe});return new Promise((nr,Hr)=>{qt.onsuccess=Hn=>{nr()},ct.onerror=Hn=>{var Dr;Hr(Ut.create("storage-set",{originalErrorMessage:null===(Dr=Hn.target.error)||void 0===Dr?void 0:Dr.message}))}})})).apply(this,arguments)}const cn=new kt.Yd("@firebase/app-check");function sn(De,xe){return(0,et.hl)()?function(De,xe){return function(De,xe){return tt.apply(this,arguments)}(function(De){return`${De.options.appId}-${De.name}`}(De),xe)}(De,xe).catch(je=>{cn.warn(`Failed to write token to IndexedDB. Error: ${je}`)}):Promise.resolve()}function Bt(){return jt().enabled}function ce(){return de.apply(this,arguments)}function de(){return(de=(0,Xe.Z)(function*(){const De=jt();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ie={error:"UNKNOWN_ERROR"};function le(De){return et.US.encodeString(JSON.stringify(De),!1)}function qe(De){return vt.apply(this,arguments)}function vt(){return(vt=(0,Xe.Z)(function*(De,xe=!1){const je=De.app;pn(je);const ct=It(je);let qt,Tt=ct.token;if(!Tt){const Hn=yield ct.cachedTokenPromise;Hn&&Ue(Hn)&&(Tt=Hn)}if(!xe&&Tt&&Ue(Tt))return{token:Tt.token};let Hr,nr=!1;if(Bt()){ct.exchangeTokenPromise||(ct.exchangeTokenPromise=Vt(Yt(je,yield ce()),De.heartbeatServiceProvider).then(Dr=>(ct.exchangeTokenPromise=void 0,Dr)),nr=!0);const Hn=yield ct.exchangeTokenPromise;return yield sn(je,Hn),at(je,Object.assign(Object.assign({},ct),{token:Hn})),{token:Hn.token}}try{ct.exchangeTokenPromise||(ct.exchangeTokenPromise=ct.provider.getToken().then(Hn=>(ct.exchangeTokenPromise=void 0,Hn)),nr=!0),Tt=yield ct.exchangeTokenPromise}catch(Hn){"appCheck/throttled"===Hn.code?cn.warn(Hn.message):cn.error(Hn),qt=Hn}return Tt?(Hr={token:Tt.token},at(je,Object.assign(Object.assign({},ct),{token:Tt})),yield sn(je,Tt)):Hr=we(qt),nr&&On(je,Hr),Hr})).apply(this,arguments)}function En(De,xe){const je=It(De),ct=je.tokenObservers.filter(Tt=>Tt.next!==xe);0===ct.length&&je.tokenRefresher&&je.tokenRefresher.isRunning()&&je.tokenRefresher.stop(),at(De,Object.assign(Object.assign({},je),{tokenObservers:ct}))}function kn(De){const{app:xe}=De,je=It(xe);let ct=je.tokenRefresher;ct||(ct=function(De){const{app:xe}=De;return new nn((0,Xe.Z)(function*(){let ct;if(ct=It(xe).token?yield qe(De,!0):yield qe(De),ct.error)throw ct.error}),()=>!0,()=>{const je=It(xe);if(je.token){let ct=je.token.issuedAtTimeMillis+.5*(je.token.expireTimeMillis-je.token.issuedAtTimeMillis)+3e5;return ct=Math.min(ct,je.token.expireTimeMillis-3e5),Math.max(0,ct-Date.now())}return 0},3e4,96e4)}(De),at(xe,Object.assign(Object.assign({},je),{tokenRefresher:ct}))),!ct.isRunning()&&je.isTokenAutoRefreshEnabled&&ct.start()}function On(De,xe){const je=It(De).tokenObservers;for(const ct of je)try{"EXTERNAL"===ct.type&&null!=xe.error?ct.error(xe.error):ct.next(xe)}catch(Tt){}}function Ue(De){return De.expireTimeMillis-Date.now()>0}function we(De){return{token:le(Ie),error:De}}class ve{constructor(xe,je){this.app=xe,this.heartbeatServiceProvider=je}_delete(){const{tokenObservers:xe}=It(this.app);for(const je of xe)En(this.app,je.next);return Promise.resolve()}}const mn="app-check-internal";(0,_n._registerComponent)(new tn.wA("app-check",De=>function(De,xe){return new ve(De,xe)}(De.getProvider("app").getImmediate(),De.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,xe,je)=>{De.getProvider(mn).initialize()})),(0,_n._registerComponent)(new tn.wA(mn,De=>function(De){return{getToken:xe=>qe(De,xe),addTokenListener:xe=>function(De,xe,je,ct){const{app:Tt}=De,qt=It(Tt),nr={next:je,error:ct,type:xe};if(at(Tt,Object.assign(Object.assign({},qt),{tokenObservers:[...qt.tokenObservers,nr]})),qt.token&&Ue(qt.token)){const Hr=qt.token;Promise.resolve().then(()=>{je({token:Hr.token}),kn(De)}).catch(()=>{})}qt.cachedTokenPromise.then(()=>kn(De))}(De,"INTERNAL",xe),removeTokenListener:xe=>En(De.app,xe)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_n.registerVersion)("@firebase/app-check","0.5.10");class vi{constructor(){return(0,h.vb)("app-check")}}"undefined"!=typeof window&&window},1325:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{AngularFireAuth:()=>dt,AngularFireAuthModule:()=>It,LANGUAGE_CODE:()=>et,PERSISTENCE:()=>ke,SETTINGS:()=>_n,TENANT_ID:()=>tn,USE_DEVICE_LANGUAGE:()=>kt,USE_EMULATOR:()=>Xe,\u0275authFactory:()=>ut});var h=D(7716),A=D(9765),j=D(5917),X=D(8891),ne=D(4402),K=D(6682),ee=D(9746),W=D(3190),Y=D(8002),U=D(7349),G=D(8049),re=D(9499),Ae=D(2639),Fe=D(5435),$e=D(2274),rt=D(8939),ye=D(8583),Le=D(3950),ze=D(7841);const Xe=new h.InjectionToken("angularfire2.auth.use-emulator"),_n=new h.InjectionToken("angularfire2.auth.settings"),tn=new h.InjectionToken("angularfire2.auth.tenant-id"),et=new h.InjectionToken("angularfire2.auth.langugage-code"),kt=new h.InjectionToken("angularfire2.auth.use-device-language"),ke=new h.InjectionToken("angularfire.auth.persistence"),ut=(at,jt,gt,Xt,Gn,vn,Ln,un)=>(0,rt.\u0275cacheInstance)(`${at.name}.auth`,"AngularFireAuth",at.name,()=>{const nn=jt.runOutsideAngular(()=>at.auth());if(gt&&nn.useEmulator(...gt),Xt&&(nn.tenantId=Xt),nn.languageCode=Gn,vn&&nn.useDeviceLanguage(),Ln)for(const[ar,Dt]of Object.entries(Ln))nn.settings[ar]=Dt;return un&&nn.setPersistence(un),nn},[gt,Xt,Gn,vn,Ln,un]);let dt=(()=>{class at{constructor(gt,Xt,Gn,vn,Ln,un,nn,ar,Dt,Ut,ht,pn){const Kt=new A.xQ,an=(0,j.of)(void 0).pipe((0,ee.QV)(Ln.outsideAngular),(0,W.w)(()=>vn.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,4828)))),(0,Y.U)(()=>(0,rt.\u0275firebaseAppFactory)(gt,vn,Xt)),(0,Y.U)(Vt=>ut(Vt,vn,un,ar,Dt,Ut,nn,ht)),(0,U.d)({bufferSize:1,refCount:!1}));if((0,ye.isPlatformServer)(Gn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{an.pipe((0,G.P)()).subscribe();const Ct=an.pipe((0,W.w)(Yt=>Yt.getRedirectResult().then(st=>st,()=>null)),$e.iC,(0,U.d)({bufferSize:1,refCount:!1})),jn=an.pipe((0,W.w)(Yt=>new X.y(st=>({unsubscribe:vn.runOutsideAngular(()=>Yt.onAuthStateChanged(Cn=>st.next(Cn),Cn=>st.error(Cn),()=>st.complete()))})))),Jn=an.pipe((0,W.w)(Yt=>new X.y(st=>({unsubscribe:vn.runOutsideAngular(()=>Yt.onIdTokenChanged(Cn=>st.next(Cn),Cn=>st.error(Cn),()=>st.complete()))}))));this.authState=Ct.pipe((0,re.c)(jn),(0,Ae.R)(Ln.outsideAngular),(0,ee.QV)(Ln.insideAngular)),this.user=Ct.pipe((0,re.c)(Jn),(0,Ae.R)(Ln.outsideAngular),(0,ee.QV)(Ln.insideAngular)),this.idToken=this.user.pipe((0,W.w)(Yt=>Yt?(0,ne.D)(Yt.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe((0,W.w)(Yt=>Yt?(0,ne.D)(Yt.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,K.T)(Ct,Kt,this.authState.pipe((0,Fe.h)(Yt=>!Yt))).pipe((0,Y.U)(Yt=>(null==Yt?void 0:Yt.user)?Yt:null),(0,Ae.R)(Ln.outsideAngular),(0,ee.QV)(Ln.insideAngular))}return(0,rt.\u0275lazySDKProxy)(this,an,vn,{spy:{apply:(Vt,Ct,jn)=>{(Vt.startsWith("signIn")||Vt.startsWith("createUser"))&&jn.then(Jn=>Kt.next(Jn))}}})}}return at.\u0275fac=function(gt){return new(gt||at)(h.\u0275\u0275inject(rt.FIREBASE_OPTIONS),h.\u0275\u0275inject(rt.FIREBASE_APP_NAME,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject($e.HU),h.\u0275\u0275inject(Xe,8),h.\u0275\u0275inject(_n,8),h.\u0275\u0275inject(tn,8),h.\u0275\u0275inject(et,8),h.\u0275\u0275inject(kt,8),h.\u0275\u0275inject(ke,8),h.\u0275\u0275inject(Le.nm,8))},at.\u0275prov=h.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac,providedIn:"any"}),at})(),It=(()=>{class at{constructor(){ze.Z.registerVersion("angularfire",$e.q4.full,"auth-compat")}}return at.\u0275fac=function(gt){return new(gt||at)},at.\u0275mod=h.\u0275\u0275defineNgModule({type:at}),at.\u0275inj=h.\u0275\u0275defineInjector({providers:[dt]}),at})()},4384:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{AngularFirestore:()=>T_,AngularFirestoreCollection:()=>yh,AngularFirestoreCollectionGroup:()=>np,AngularFirestoreDocument:()=>_h,AngularFirestoreModule:()=>em,ENABLE_PERSISTENCE:()=>vh,PERSISTENCE_SETTINGS:()=>Vu,SETTINGS:()=>C_,USE_EMULATOR:()=>D_,associateQuery:()=>Oc,combineChange:()=>tp,combineChanges:()=>ep,docChanges:()=>gl,fromCollectionRef:()=>id,fromDocRef:()=>Xg,fromRef:()=>Xf,sortedChanges:()=>ph,validateEventsArray:()=>mh});var et,h=D(7716),A=D(3637),j=D(8891),X=D(4402),ne=D(5917),K=D(2274),ee=D(9761),W=D(9328),Y=D(8002),U=D(2145),G=D(7519),re=D(5435),Ae=D(8939),Fe=D(8583),rt=(D(4828),D(3394)),ye=D(8239),Le=D(8026),ze=D(3910),pt=D(5422),Xe=D(3854),_n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tn={},kt=kt||{},ke=_n||self;function ut(){}function dt(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function It(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Xt(s,e,r){return s.call.apply(s.bind,arguments)}function Gn(s,e,r){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),s.apply(e,c)}}return function(){return s.apply(e,arguments)}}function vn(s,e,r){return(vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xt:Gn).apply(null,arguments)}function Ln(s,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function un(s,e){function r(){}r.prototype=e.prototype,s.Z=e.prototype,s.prototype=new r,s.prototype.constructor=s,s.Vb=function(o,c,p){for(var E=Array(arguments.length-2),T=2;T<arguments.length;T++)E[T-2]=arguments[T];return e.prototype[c].apply(o,E)}}function nn(){this.s=this.s,this.o=this.o}var Dt={};nn.prototype.s=!1,nn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,jt)&&s[jt]||(s[jt]=++gt)}(this);delete Dt[s]}},nn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ut=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let r=0;r<s.length;r++)if(r in s&&s[r]===e)return r;return-1},ht=Array.prototype.forEach?function(s,e,r){Array.prototype.forEach.call(s,e,r)}:function(s,e,r){const o=s.length,c="string"==typeof s?s.split(""):s;for(let p=0;p<o;p++)p in c&&e.call(r,c[p],p,s)};function Kt(s){return Array.prototype.concat.apply([],arguments)}function an(s){const e=s.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=s[o];return r}return[]}function Vt(s){return/^[\s\xa0]*$/.test(s)}var Yt,Ct=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function jn(s,e){return-1!=s.indexOf(e)}function Jn(s,e){return s<e?-1:s>e?1:0}e:{var st=ke.navigator;if(st){var Cn=st.userAgent;if(Cn){Yt=Cn;break e}}Yt=""}function Bn(s,e,r){for(const o in s)e.call(r,s[o],o,s)}function Wt(s){const e={};for(const r in s)e[r]=s[r];return e}var hn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kn(s,e){let r,o;for(let c=1;c<arguments.length;c++){for(r in o=arguments[c],o)s[r]=o[r];for(let p=0;p<hn.length;p++)r=hn[p],Object.prototype.hasOwnProperty.call(o,r)&&(s[r]=o[r])}}function cr(s){return cr[" "](s),s}cr[" "]=ut;var cn,s,Te=jn(Yt,"Opera"),fe=jn(Yt,"Trident")||jn(Yt,"MSIE"),Ze=jn(Yt,"Edge"),tt=Ze||fe,Nt=jn(Yt,"Gecko")&&!(jn(Yt.toLowerCase(),"webkit")&&!jn(Yt,"Edge"))&&!(jn(Yt,"Trident")||jn(Yt,"MSIE"))&&!jn(Yt,"Edge"),lt=jn(Yt.toLowerCase(),"webkit")&&!jn(Yt,"Edge");function Mt(){var s=ke.document;return s?s.documentMode:void 0}e:{var zn="",Dn=(s=Yt,Nt?/rv:([^\);]+)(\)|;)/.exec(s):Ze?/Edge\/([\d\.]+)/.exec(s):fe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):lt?/WebKit\/(\S+)/.exec(s):Te?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(Dn&&(zn=Dn?Dn[1]:""),fe){var sn=Mt();if(null!=sn&&sn>parseFloat(zn)){cn=String(sn);break e}}cn=zn}var lr={};function Jt(){return e=lr,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=Ct(String(cn)).split("."),r=Ct("9").split("."),o=Math.max(e.length,r.length);for(let E=0;0==s&&E<o;E++){var c=e[E]||"",p=r[E]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;s=Jn(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||Jn(0==c[2].length,0==p[2].length)||Jn(c[2],p[2]),c=c[3],p=p[3]}while(0==s)}return 0<=s}();var e}var de=ke.document&&fe&&(Mt()||parseInt(cn,10))||void 0,Se=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{ke.addEventListener("test",ut,e),ke.removeEventListener("test",ut,e)}catch(r){}return s}();function Ie(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}function le(s,e){if(Ie.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(Nt){e:{try{cr(e.nodeName);var c=!0;break e}catch(p){}c=!1}c||(e=null)}}else"mouseover"==r?e=s.fromElement:"mouseout"==r&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:qe[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&le.Z.h.call(this)}}Ie.prototype.h=function(){this.defaultPrevented=!0},un(le,Ie);var qe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function En(s,e,r,o,c){this.listener=s,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=c,this.key=++Zt,this.ca=this.fa=!1}function kn(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function rr(s){this.src=s,this.g={},this.h=0}function On(s,e){var r=e.type;if(r in s.g){var p,o=s.g[r],c=Ut(o,e);(p=0<=c)&&Array.prototype.splice.call(o,c,1),p&&(kn(e),0==s.g[r].length&&(delete s.g[r],s.h--))}}function Ue(s,e,r,o){for(var c=0;c<s.length;++c){var p=s[c];if(!p.ca&&p.listener==e&&p.capture==!!r&&p.ia==o)return c}return-1}rr.prototype.add=function(s,e,r,o,c){var p=s.toString();(s=this.g[p])||(s=this.g[p]=[],this.h++);var E=Ue(s,e,o,c);return-1<E?(e=s[E],r||(e.fa=!1)):((e=new En(e,this.src,p,!!o,c)).fa=r,s.push(e)),e};var we="closure_lm_"+(1e6*Math.random()|0),ve={};function ot(s,e,r,o,c){if(o&&o.once)return bn(s,e,r,o,c);if(Array.isArray(e)){for(var p=0;p<e.length;p++)ot(s,e[p],r,o,c);return null}return r=Pt(r),s&&s[vt]?s.N(e,r,It(o)?!!o.capture:!!o,c):xt(s,e,r,!1,o,c)}function xt(s,e,r,o,c,p){if(!e)throw Error("Invalid event type");var E=It(c)?!!c.capture:!!c,T=An(s);if(T||(s[we]=T=new rr(s)),(r=T.add(e,r,o,E,p)).proxy)return r;if(o=function(){var e=dr;return function s(r){return e.call(s.src,s.listener,r)}}(),r.proxy=o,o.src=s,o.listener=r,s.addEventListener)Se||(c=E),void 0===c&&(c=!1),s.addEventListener(e.toString(),o,c);else if(s.attachEvent)s.attachEvent(ur(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return r}function bn(s,e,r,o,c){if(Array.isArray(e)){for(var p=0;p<e.length;p++)bn(s,e[p],r,o,c);return null}return r=Pt(r),s&&s[vt]?s.O(e,r,It(o)?!!o.capture:!!o,c):xt(s,e,r,!0,o,c)}function ln(s,e,r,o,c){if(Array.isArray(e))for(var p=0;p<e.length;p++)ln(s,e[p],r,o,c);else o=It(o)?!!o.capture:!!o,r=Pt(r),s&&s[vt]?(s=s.i,(e=String(e).toString())in s.g&&-1<(r=Ue(p=s.g[e],r,o,c))&&(kn(p[r]),Array.prototype.splice.call(p,r,1),0==p.length&&(delete s.g[e],s.h--))):s&&(s=An(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Ue(e,r,o,c)),(r=-1<s?e[s]:null)&&Sn(r))}function Sn(s){if("number"!=typeof s&&s&&!s.ca){var e=s.src;if(e&&e[vt])On(e.i,s);else{var r=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(r,o,s.capture):e.detachEvent?e.detachEvent(ur(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=An(e))?(On(r,s),0==r.h&&(r.src=null,e[we]=null)):kn(s)}}}function ur(s){return s in ve?ve[s]:ve[s]="on"+s}function dr(s,e){if(s.ca)s=!0;else{e=new le(e,this);var r=s.listener,o=s.ia||s.src;s.fa&&Sn(s),s=r.call(o,e)}return s}function An(s){return(s=s[we])instanceof rr?s:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(s){return"function"==typeof s?s:(s[or]||(s[or]=function(e){return s.handleEvent(e)}),s[or])}function Ht(){nn.call(this),this.i=new rr(this),this.P=this,this.I=null}function wn(s,e){var r,o=s.I;if(o)for(r=[];o;o=o.I)r.push(o);if(s=s.P,o=e.type||e,"string"==typeof e)e=new Ie(e,s);else if(e instanceof Ie)e.target=e.target||s;else{var c=e;Kn(e=new Ie(o,s),c)}if(c=!0,r)for(var p=r.length-1;0<=p;p--){var E=e.g=r[p];c=br(E,o,!0,e)&&c}if(c=br(E=e.g=s,o,!0,e)&&c,c=br(E,o,!1,e)&&c,r)for(p=0;p<r.length;p++)c=br(E=e.g=r[p],o,!1,e)&&c}function br(s,e,r,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,p=0;p<e.length;++p){var E=e[p];if(E&&!E.ca&&E.capture==r){var T=E.listener,L=E.ia||E.src;E.fa&&On(s.i,E),c=!1!==T.call(L,o)&&c}}return c&&!o.defaultPrevented}un(Ht,nn),Ht.prototype[vt]=!0,Ht.prototype.removeEventListener=function(s,e,r,o){ln(this,s,e,r,o)},Ht.prototype.M=function(){if(Ht.Z.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var r=s.g[e],o=0;o<r.length;o++)kn(r[o]);delete s.g[e],s.h--}}this.I=null},Ht.prototype.N=function(s,e,r,o){return this.i.add(String(s),e,!1,r,o)},Ht.prototype.O=function(s,e,r,o){return this.i.add(String(s),e,!0,r,o)};var Ir=ke.JSON.stringify;function Zn(){var s=Me;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var be,qn=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new jr,s=>s.reset());class jr{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ti(s){ke.setTimeout(()=>{throw s},0)}function gn(s,e){be||function(){var s=ke.Promise.resolve(void 0);be=function(){s.then(Ye)}}(),ie||(be(),ie=!0),Me.add(s,e)}var ie=!1,Me=new class{constructor(){this.h=this.g=null}add(e,r){const o=qn.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function Ye(){for(var s;s=Zn();){try{s.h.call(s.g)}catch(r){ti(r)}var e=qn;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}ie=!1}function rn(s,e){Ht.call(this),this.h=s||1,this.g=e||ke,this.j=vn(this.kb,this),this.l=Date.now()}function mn(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Vn(s,e,r){if("function"==typeof s)r&&(s=vn(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=vn(s.handleEvent,s)}return 2147483647<Number(e)?-1:ke.setTimeout(s,e||0)}function In(s){s.g=Vn(()=>{s.g=null,s.i&&(s.i=!1,In(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}un(rn,Ht),(et=rn.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wn(this,"tick"),this.da&&(mn(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){rn.Z.M.call(this),mn(this),delete this.g};class Yi extends nn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:In(this)}M(){super.M(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(s){nn.call(this),this.h=s,this.g={}}un(vi,nn);var pi=[];function Ei(s,e,r,o){Array.isArray(r)||(r&&(pi[0]=r.toString()),r=pi);for(var c=0;c<r.length;c++){var p=ot(e,r[c],o||s.handleEvent,!1,s.h||s);if(!p)break;s.g[p.key]=p}}function bi(s){Bn(s.g,function(e,r){this.g.hasOwnProperty(r)&&Sn(e)},s),s.g={}}function xr(){this.g=!0}function Pi(s,e,r,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var o=r[s];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var E=1;E<c.length;E++)c[E]=""}}}return Ir(r)}catch(T){return e}}(s,r)+(o?" "+o:"")})}vi.prototype.M=function(){vi.Z.M.call(this),bi(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xr.prototype.Aa=function(){this.g=!1},xr.prototype.info=function(){};var wi={},Ji=null;function Ci(){return Ji=Ji||new Ht}function ui(s){Ie.call(this,wi.Ma,s)}function Or(s){const e=Ci();wn(e,new ui(e,s))}function vs(s,e){Ie.call(this,wi.STAT_EVENT,s),this.stat=e}function De(s){const e=Ci();wn(e,new vs(e,s))}function xe(s,e){Ie.call(this,wi.Na,s),this.size=e}function je(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){s()},e)}wi.Ma="serverreachability",un(ui,Ie),wi.STAT_EVENT="statevent",un(vs,Ie),wi.Na="timingevent",un(xe,Ie);var ct={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qt(){}function Hr(){}qt.prototype.h=null;var gi,Hn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dr(){Ie.call(this,"d")}function Hi(){Ie.call(this,"c")}function $i(){}function ki(s,e,r,o){this.l=s,this.j=e,this.m=r,this.X=o||1,this.V=new vi(this),this.P=Wo,this.W=new rn(s=tt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ls}function ls(){this.i=null,this.g="",this.h=!1}un(Dr,Ie),un(Hi,Ie),un($i,qt),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},gi=new $i;var Wo=45e3,Ai={},ci={};function Wi(s,e,r){s.K=1,s.v=pe(vr(e)),s.s=r,s.U=!0,Es(s,null)}function Es(s,e){s.F=Date.now(),Tr(s),s.A=vr(s.v);var r=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),xn(r.h,"t",o),s.C=0,r=s.l.H,s.h=new ls,s.g=ao(s.l,r?e:null,!s.s),0<s.O&&(s.L=new Yi(vn(s.Ia,s,s.g),s.O)),Ei(s.V,s.g,"readystatechange",s.gb),e=s.H?Wt(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,e)):(s.u="GET",s.g.ea(s.A,s.u,null,e)),Or(1),function(s,e,r,o,c,p){s.info(function(){if(s.g)if(p)for(var E="",T=p.split("&"),L=0;L<T.length;L++){var $=T[L].split("=");if(1<$.length){var se=$[0];$=$[1];var Ee=se.split("_");E=2<=Ee.length&&"type"==Ee[1]?E+(se+"=")+$+"&":E+(se+"=redacted&")}}else E=null;else E=p;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+r+"\n"+E})}(s.j,s.u,s.A,s.m,s.X,s.s)}function bs(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Fi(s,e,r){let c,o=!0;for(;!s.I&&s.C<r.length;){if(c=Xi(s,r),c==ci){4==e&&(s.o=4,De(14),o=!1),Pi(s.j,s.m,null,"[Incomplete Response]");break}if(c==Ai){s.o=4,De(15),Pi(s.j,s.m,r,"[Invalid Chunk]"),o=!1;break}Pi(s.j,s.m,c,null),Is(s,c)}bs(s)&&c!=ci&&c!=Ai&&(s.h.g="",s.C=0),4!=e||0!=r.length||s.h.h||(s.o=1,De(16),o=!1),s.i=s.i&&o,o?0<r.length&&!s.aa&&(s.aa=!0,(e=s.l).g==s&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Qo(e),e.L=!0,De(11))):(Pi(s.j,s.m,r,"[Invalid Chunked Response]"),hr(s),li(s))}function Xi(s,e){var r=s.C,o=e.indexOf("\n",r);return-1==o?ci:(r=Number(e.substring(r,o)),isNaN(r)?Ai:(o+=1)+r>e.length?ci:(e=e.substr(o,r),s.C=o+r,e))}function Tr(s){s.Y=Date.now()+s.P,Qr(s,s.P)}function Qr(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=je(vn(s.eb,s),e)}function os(s){s.B&&(ke.clearTimeout(s.B),s.B=null)}function li(s){0==s.l.G||s.I||Oi(s.l,s)}function hr(s){os(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,mn(s.W),bi(s.V),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Is(s,e){try{var r=s.l;if(0!=r.G&&(r.g==s||_t(r.i,s)))if(r.I=s.N,!s.J&&_t(r.i,s)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch($){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(r.u)r.ta=c[1],0<r.ta-r.U&&37500>c[2]&&r.N&&0==r.A&&!r.v&&(r.v=je(vn(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;xo(r),Ss(r)}oo(r),De(18)}if(1>=Ks(r.i)&&r.ka){try{r.ka()}catch($){}r.ka=void 0}}else gs(r,11)}else if((s.J||r.g==s)&&xo(r),!Vt(e))for(c=r.Ca.g.parse(e),e=0;e<c.length;e++){let $=c[e];if(r.U=$[0],$=$[1],2==r.G)if("c"==$[0]){r.J=$[1],r.la=$[2];const se=$[3];null!=se&&(r.ma=se,r.h.info("VER="+r.ma));const Ee=$[4];null!=Ee&&(r.za=Ee,r.h.info("SVER="+r.za));const Ve=$[5];null!=Ve&&"number"==typeof Ve&&0<Ve&&(r.K=o=1.5*Ve,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const ft=s.g;if(ft){const wt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var p=o.i;!p.g&&(jn(wt,"spdy")||jn(wt,"quic")||jn(wt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(Qn(p,p.h),p.h=null))}if(o.D){const on=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;on&&(o.sa=on,J(o.F,o.D,on))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-s.F,r.h.info("Handshake RTT: "+r.O+"ms"));var E=s;if((o=r).oa=xs(o,o.H?o.la:null,o.W),E.J){Ko(o.i,E);var T=E,L=o.K;L&&T.setTimeout(L),T.B&&(os(T),Tr(T)),o.g=E}else Ao(o);0<r.l.length&&rs(r)}else"stop"!=$[0]&&"close"!=$[0]||gs(r,7);else 3==r.G&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?gs(r,7):ps(r):"noop"!=$[0]&&r.j&&r.j.wa($),r.A=0)}Or(4)}catch($){}}function ds(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(dt(s)||"string"==typeof s)ht(s,e,void 0);else{if(s.T&&"function"==typeof s.T)var r=s.T();else if(s.R&&"function"==typeof s.R)r=void 0;else if(dt(s)||"string"==typeof s){r=[];for(var o=s.length,c=0;c<o;c++)r.push(c)}else for(c in r=[],o=0,s)r[o++]=c;c=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(dt(s)){for(var e=[],r=s.length,o=0;o<r;o++)e.push(s[o]);return e}for(o in e=[],r=0,s)e[r++]=s[o];return e}(s)).length;for(var p=0;p<c;p++)e.call(void 0,o[p],r&&r[p],s)}}function Gi(s,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Gi)for(r=s.T(),o=0;o<r.length;o++)this.set(r[o],s.get(r[o]));else for(o in s)this.set(o,s[o])}function $r(s){if(s.i!=s.g.length){for(var e=0,r=0;e<s.g.length;){var o=s.g[e];mi(s.h,o)&&(s.g[r++]=o),e++}s.g.length=r}if(s.i!=s.g.length){var c={};for(r=e=0;e<s.g.length;)mi(c,o=s.g[e])||(s.g[r++]=o,c[o]=1),e++;s.g.length=r}}function mi(s,e){return Object.prototype.hasOwnProperty.call(s,e)}(et=ki.prototype).setTimeout=function(s){this.P=s},et.gb=function(s){s=s.target;const e=this.L;e&&3==ns(s)?e.l():this.Ia(s)},et.Ia=function(s){try{if(s==this.g)e:{const se=ns(this.g);var e=this.g.Da();const Ee=this.g.ba();if(!(3>se)&&(3!=se||tt||this.g&&(this.h.h||this.g.ga()||Ps(this.g)))){this.I||4!=se||7==e||Or(8==e||0>=Ee?3:2),os(this);var r=this.g.ba();this.N=r;t:if(bs(this)){var o=Ps(this.g);s="";var c=o.length,p=4==ns(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hr(this),li(this);var E="";break t}this.h.i=new ke.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:p&&e==c-1});o.splice(0,c),this.h.g+=s,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==r,function(s,e,r,o,c,p,E){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+r+"\n"+p+" "+E})}(this.j,this.u,this.A,this.m,this.X,se,r),this.i){if(this.$&&!this.J){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vt(T)){var $=T;break t}}$=null}if(!(r=$)){this.i=!1,this.o=3,De(12),hr(this),li(this);break e}Pi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Is(this,r)}this.U?(Fi(this,se,E),tt&&this.i&&3==se&&(Ei(this.V,this.W,"tick",this.fb),this.W.start())):(Pi(this.j,this.m,E,null),Is(this,E)),4==se&&hr(this),this.i&&!this.I&&(4==se?Oi(this.l,this):(this.i=!1,Tr(this)))}else 400==r&&0<E.indexOf("Unknown SID")?(this.o=3,De(12)):(this.o=0,De(13)),hr(this),li(this)}}}catch(se){}},et.fb=function(){if(this.g){var s=ns(this.g),e=this.g.ga();this.C<e.length&&(os(this),Fi(this,s,e),this.i&&4!=s&&Tr(this))}},et.cancel=function(){this.I=!0,hr(this)},et.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Or(3),De(17)),hr(this),this.o=2,li(this)):Qr(this,this.Y-s)},(et=Gi.prototype).R=function(){$r(this);for(var s=[],e=0;e<this.g.length;e++)s.push(this.h[this.g[e]]);return s},et.T=function(){return $r(this),this.g.concat()},et.get=function(s,e){return mi(this.h,s)?this.h[s]:e},et.set=function(s,e){mi(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=e},et.forEach=function(s,e){for(var r=this.T(),o=0;o<r.length;o++){var c=r[o],p=this.get(c);s.call(e,p,c,this)}};var Cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xi(s,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof xi){this.g=void 0!==e?e:s.g,Ds(this,s.j),this.s=s.s,P(this,s.i),Q(this,s.m),this.l=s.l,e=s.h;var r=new ni;r.i=e.i,e.g&&(r.g=new Gi(e.g),r.h=e.h),k(this,r),this.o=s.o}else s&&(r=String(s).match(Cs))?(this.g=!!e,Ds(this,r[1]||"",!0),this.s=N(r[2]||""),P(this,r[3]||"",!0),Q(this,r[4]),this.l=N(r[5]||"",!0),k(this,r[6]||"",!0),this.o=N(r[7]||"")):(this.g=!!e,this.h=new ni(null,this.g))}function vr(s){return new xi(s)}function Ds(s,e,r){s.j=r?N(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function P(s,e,r){s.i=r?N(e,!0):e}function Q(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function k(s,e,r){e instanceof ni?(s.h=e,function(s,e){e&&!s.j&&(pr(s),s.i=null,s.g.forEach(function(r,o){var c=o.toLowerCase();o!=c&&(Sr(this,o),xn(this,c,r))},s)),s.j=e}(s.h,s.g)):(r||(e=R(e,fn)),s.h=new ni(e,s.g))}function J(s,e,r){s.h.set(e,r)}function pe(s){return J(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function N(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function R(s,e,r){return"string"==typeof s?(s=encodeURI(s).replace(e,S),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function S(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}xi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(R(e,z,!0),":");var r=this.i;return(r||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(R(e,z,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&s.push("/"),s.push(R(r,"/"==r.charAt(0)?St:Ne,!0))),(r=this.h.toString())&&s.push("?",r),(r=this.o)&&s.push("#",R(r,yr)),s.join("")};var z=/[#\/\?@]/g,Ne=/[#\?:]/g,St=/[#\?]/g,fn=/[#\?@]/g,yr=/#/g;function ni(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function pr(s){s.g||(s.g=new Gi,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var o=s[r].indexOf("="),c=null;if(0<=o){var p=s[r].substring(0,o);c=s[r].substring(o+1)}else p=s[r];e(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(e,r){s.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Sr(s,e){pr(s),e=hs(s,e),mi(s.g.h,e)&&(s.i=null,s.h-=s.g.get(e).length,mi((s=s.g).h,e)&&(delete s.h[e],s.i--,s.g.length>2*s.i&&$r(s)))}function Ri(s,e){return pr(s),e=hs(s,e),mi(s.g.h,e)}function xn(s,e,r){Sr(s,e),0<r.length&&(s.i=null,s.g.set(hs(s,e),an(r)),s.h+=r.length)}function hs(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function la(s){this.l=s||da,s=ke.PerformanceNavigationTiming?0<(s=ke.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(ke.g&&ke.g.Ea&&ke.g.Ea()&&ke.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=ni.prototype).add=function(s,e){pr(this),this.i=null,s=hs(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(e),this.h+=1,this},et.forEach=function(s,e){pr(this),this.g.forEach(function(r,o){ht(r,function(c){s.call(e,c,o,this)},this)},this)},et.T=function(){pr(this);for(var s=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var c=s[o],p=0;p<c.length;p++)r.push(e[o]);return r},et.R=function(s){pr(this);var e=[];if("string"==typeof s)Ri(this,s)&&(e=Kt(e,this.g.get(hs(this,s))));else{s=this.g.R();for(var r=0;r<s.length;r++)e=Kt(e,s[r])}return e},et.set=function(s,e){return pr(this),this.i=null,Ri(this,s=hs(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},et.get=function(s,e){return s&&0<(s=this.R(s)).length?String(s[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],c=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var E=c;""!==o[p]&&(E+="="+encodeURIComponent(String(o[p]))),s.push(E)}}return this.i=s.join("&")};var da=10;function Go(s){return!!s.h||!!s.g&&s.g.size>=s.j}function Ks(s){return s.h?1:s.g?s.g.size:0}function _t(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function Qn(s,e){s.g?s.g.add(e):s.h=e}function Ko(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Wr(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const r of s.g.values())e=e.concat(r.D);return e}return an(s.i)}function wo(){}function zs(){this.g=new wo}function fs(s,e,r){const o=r||"";try{ds(s,function(c,p){let E=c;It(c)&&(E=Ir(c)),e.push(o+p+"="+encodeURIComponent(E))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function Ns(s,e,r,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch(p){}}function Co(s){this.l=s.$b||null,this.j=s.ib||!1}function Zs(s,e){Ht.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}la.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},wo.prototype.stringify=function(s){return ke.JSON.stringify(s,void 0)},wo.prototype.parse=function(s){return ke.JSON.parse(s,void 0)},un(Co,qt),Co.prototype.g=function(){return new Zs(this.l,this.j)},Co.prototype.i=function(s){return function(){return s}}({}),un(Zs,Ht);var ro=0;function Ts(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ri(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Di(s)}function Di(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(et=Zs.prototype).open=function(s,e){if(this.readyState!=ro)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,Di(this)},et.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||ke).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=ro},et.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ke.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ts(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?ri(this):Di(this),3==this.readyState&&Ts(this)}},et.Ua=function(s){this.g&&(this.response=this.responseText=s,ri(this))},et.Ta=function(s){this.g&&(this.response=s,ri(this))},et.ha=function(){this.g&&ri(this)},et.setRequestHeader=function(s,e){this.v.append(s,e)},et.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var r=e.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=e.next();return s.join("\r\n")},Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var ha=ke.JSON.parse;function Cr(s){Ht.call(this),this.headers=new Gi,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mi,this.K=this.L=!1}un(Cr,Ht);var Mi="",fa=/^https?$/i,io=["POST","PUT"];function Do(s){return"content-type"==s.toLowerCase()}function Zo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,ts(s),qs(s)}function ts(s){s.D||(s.D=!0,wn(s,"complete"),wn(s,"error"))}function pa(s){if(s.h&&void 0!==kt&&(!s.C[1]||4!=ns(s)||2!=s.ba()))if(s.v&&4==ns(s))Vn(s.Fa,0,s);else if(wn(s,"readystatechange"),4==ns(s)){s.h=!1;try{const T=s.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===T){var c=String(s.H).match(Cs)[1]||null;if(!c&&ke.self&&ke.self.location){var p=ke.self.location.protocol;c=p.substr(0,p.length-1)}o=!fa.test(c?c.toLowerCase():"")}r=o}if(r)wn(s,"complete"),wn(s,"success");else{s.m=6;try{var E=2<ns(s)?s.g.statusText:""}catch(L){E=""}s.j=E+" ["+s.ba()+"]",ts(s)}}finally{qs(s)}}}function qs(s,e){if(s.g){To(s);const r=s.g,o=s.C[0]?ut:null;s.g=null,s.C=null,e||wn(s,"ready");try{r.onreadystatechange=o}catch(c){}}}function To(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(ke.clearTimeout(s.A),s.A=null)}function ns(s){return s.g?s.g.readyState:0}function Ps(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Mi:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ma(s,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function(s){let e="";return Bn(s,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):J(s,e,r))}function Kr(s,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||e}function ya(s){this.za=0,this.l=[],this.h=new xr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Kr("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Kr("baseRetryDelayMs",5e3,s),this.$a=Kr("retryDelaySeedMs",1e4,s),this.Ya=Kr("forwardChannelMaxRetries",2,s),this.ra=Kr("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new la(s&&s.concurrentRequestLimit),this.Ca=new zs,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ps(s){if(so(s),3==s.G){var e=s.V++,r=vr(s.F);J(r,"SID",s.J),J(r,"RID",e),J(r,"TYPE","terminate"),qo(s,r),(e=new ki(s,s.h,e,void 0)).K=2,e.v=pe(vr(r)),r=!1,ke.navigator&&ke.navigator.sendBeacon&&(r=ke.navigator.sendBeacon(e.v.toString(),"")),!r&&ke.Image&&((new Image).src=e.v,r=!0),r||(e.g=ao(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Tr(e)}La(s)}function Ss(s){s.g&&(Qo(s),s.g.cancel(),s.g=null)}function so(s){Ss(s),s.u&&(ke.clearTimeout(s.u),s.u=null),xo(s),s.i.cancel(),s.m&&("number"==typeof s.m&&ke.clearTimeout(s.m),s.m=null)}function zr(s,e){s.l.push(new class{constructor(s,e){this.h=s,this.g=e}}(s.Za++,e)),3==s.G&&rs(s)}function rs(s){Go(s.i)||s.m||(s.m=!0,gn(s.Ha,s),s.C=0)}function ks(s,e){var r;r=e?e.m:s.V++;const o=vr(s.F);J(o,"SID",s.J),J(o,"RID",r),J(o,"AID",s.U),qo(s,o),s.o&&s.s&&ma(o,s.o,s.s),r=new ki(s,s.h,r,s.C+1),null===s.o&&(r.H=s.s),e&&(s.l=e.D.concat(s.l)),e=So(s,r,1e3),r.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Qn(s.i,r),Wi(r,o,e)}function qo(s,e){s.j&&ds({},function(r,o){J(e,o,r)})}function So(s,e,r){r=Math.min(s.l.length,r);var o=s.j?vn(s.j.Oa,s.j,s):null;e:{var c=s.l;let p=-1;for(;;){const E=["count="+r];-1==p?0<r?(p=c[0].h,E.push("ofs="+p)):p=0:E.push("ofs="+p);let T=!0;for(let L=0;L<r;L++){let $=c[L].h;const se=c[L].g;if($-=p,0>$)p=Math.max(0,c[L].h-100),T=!1;else try{fs(se,E,"req"+$+"_")}catch(Ee){o&&o(se)}}if(T){o=E.join("&");break e}}}return s=s.l.splice(0,r),e.D=s,o}function Ao(s){s.g||s.u||(s.Y=1,gn(s.Ga,s),s.A=0)}function oo(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=je(vn(s.Ga,s),Zr(s,s.A)),s.A++,0))}function Qo(s){null!=s.B&&(ke.clearTimeout(s.B),s.B=null)}function As(s){s.g=new ki(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var e=vr(s.oa);J(e,"RID","rpc"),J(e,"SID",s.J),J(e,"CI",s.N?"0":"1"),J(e,"AID",s.U),qo(s,e),J(e,"TYPE","xmlhttp"),s.o&&s.s&&ma(e,s.o,s.s),s.K&&s.g.setTimeout(s.K);var r=s.g;s=s.la,r.K=1,r.v=pe(vr(e)),r.s=null,r.U=!0,Es(r,s)}function xo(s){null!=s.v&&(ke.clearTimeout(s.v),s.v=null)}function Oi(s,e){var r=null;if(s.g==e){xo(s),Qo(s),s.g=null;var o=2}else{if(!_t(s.i,e))return;r=e.D,Ko(s.i,e),o=1}if(s.I=e.N,0!=s.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var c=s.C;wn(o=Ci(),new xe(o,r,e,c)),rs(s)}else Ao(s);else if(3==(c=e.o)||0==c&&0<s.I||!(1==o&&function(s,e){return!(Ks(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=e.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=je(vn(s.Ha,s,e),Zr(s,s.C)),s.C++,0)))}(s,e)||2==o&&oo(s)))switch(r&&0<r.length&&(e=s.i,e.i=e.i.concat(r)),c){case 1:gs(s,5);break;case 4:gs(s,10);break;case 3:gs(s,6);break;default:gs(s,2)}}function Zr(s,e){let r=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(r*=2),r*e}function gs(s,e){if(s.h.info("Error code "+e),2==e){var r=null;s.j&&(r=null);var o=vn(s.jb,s);r||(r=new xi("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||Ds(r,"https"),pe(r)),function(s,e){const r=new xr;if(ke.Image){const o=new Image;o.onload=Ln(Ns,r,o,"TestLoadImage: loaded",!0,e),o.onerror=Ln(Ns,r,o,"TestLoadImage: error",!1,e),o.onabort=Ln(Ns,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ln(Ns,r,o,"TestLoadImage: timeout",!1,e),ke.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(r.toString(),o)}else De(2);s.G=0,s.j&&s.j.va(e),La(s),so(s)}function La(s){s.G=0,s.I=-1,s.j&&((0!=Wr(s.i).length||0!=s.l.length)&&(s.i.i.length=0,an(s.l),s.l.length=0),s.j.ua())}function xs(s,e,r){let o=function(s){return s instanceof xi?vr(s):new xi(s,void 0)}(r);if(""!=o.i)e&&P(o,e+"."+o.i),Q(o,o.m);else{const c=ke.location;o=function(s,e,r,o){var c=new xi(null,void 0);return s&&Ds(c,s),e&&P(c,e),r&&Q(c,r),o&&(c.l=o),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,r)}return s.aa&&Bn(s.aa,function(c,p){J(o,p,c)}),r=s.sa,(e=s.D)&&r&&J(o,e,r),J(o,"VER",s.ma),qo(s,o),o}function ao(s,e,r){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cr(r&&s.Ba&&!s.qa?new Co({ib:!0}):s.qa)).L=s.H,e}function uo(){}function Yo(){if(fe&&!(10<=Number(de)))throw Error("Environmental error: no available transport.")}function Pr(s,e){Ht.call(this),this.g=new ya(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.P=s,(s=e&&e.httpHeadersOverwriteParam)&&!Vt(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vt(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new lo(this)}function co(s){Dr.call(this);var e=s.__sm__;if(e){e:{for(const r in e){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ro(){Hi.call(this),this.status=1}function lo(s){this.g=s}(et=Cr.prototype).ea=function(s,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gi.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:gi),this.g.onreadystatechange=vn(this.Fa,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(p){return void Zo(this,p)}s=r||"";const c=new Gi(this.headers);o&&ds(o,function(p,E){c.set(E,p)}),o=function(s){e:{var e=Do;const r=s.length,o="string"==typeof s?s.split(""):s;for(let c=0;c<r;c++)if(c in o&&e.call(void 0,o[c],c,s)){e=c;break e}e=-1}return 0>e?null:"string"==typeof s?s.charAt(e):s[e]}(c.T()),r=ke.FormData&&s instanceof ke.FormData,!(0<=Ut(io,e))||o||r||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(p,E){this.g.setRequestHeader(E,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{To(this),0<this.B&&((this.K=function(s){return fe&&Jt()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.pa,this)):this.A=Vn(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(p){Zo(this,p)}},et.pa=function(){void 0!==kt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wn(this,"timeout"),this.abort(8))},et.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,wn(this,"complete"),wn(this,"abort"),qs(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qs(this,!0)),Cr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?pa(this):this.cb())},et.cb=function(){pa(this)},et.ba=function(){try{return 2<ns(this)?this.g.status:-1}catch(s){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},et.Qa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),ha(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=ya.prototype).ma=8,et.G=1,et.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(e){}},et.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new ki(this,this.h,s,void 0);let p=this.s;if(this.P&&(p?(p=Wt(p),Kn(p,this.P)):p=this.P),null===this.o&&(c.H=p),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=So(this,c,e),J(r=vr(this.F),"RID",s),J(r,"CVER",22),this.D&&J(r,"X-HTTP-Session-Id",this.D),qo(this,r),this.o&&p&&ma(r,this.o,p),Qn(this.i,c),this.Ra&&J(r,"TYPE","init"),this.ja?(J(r,"$req",e),J(r,"SID","null"),c.$=!0,Wi(c,r,null)):Wi(c,r,e),this.G=2}}else 3==this.G&&(s?ks(this,s):0==this.l.length||Go(this.i)||ks(this))},et.Ga=function(){if(this.u=null,As(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=je(vn(this.bb,this),s)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,De(10),Ss(this),As(this))},et.ab=function(){null!=this.v&&(this.v=null,Ss(this),oo(this),De(19))},et.jb=function(s){s?(this.h.info("Successfully pinged google.com"),De(2)):(this.h.info("Failed to ping google.com"),De(1))},(et=uo.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},Yo.prototype.g=function(s,e){return new Pr(s,e)},un(Pr,Ht),Pr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,r=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),gn(vn(s.hb,s,e))),De(0),s.W=e,s.aa=r||{},s.N=s.X,s.F=xs(s,null,s.W),rs(s)},Pr.prototype.close=function(){ps(this.g)},Pr.prototype.u=function(s){if("string"==typeof s){var e={};e.__data__=s,zr(this.g,e)}else this.v?((e={}).__data__=Ir(s),zr(this.g,e)):zr(this.g,s)},Pr.prototype.M=function(){this.g.j=null,delete this.j,ps(this.g),delete this.g,Pr.Z.M.call(this)},un(co,Dr),un(Ro,Hi),un(lo,uo),lo.prototype.xa=function(){wn(this.g,"a")},lo.prototype.wa=function(s){wn(this.g,new co(s))},lo.prototype.va=function(s){wn(this.g,new Ro(s))},lo.prototype.ua=function(){wn(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Tt.COMPLETE="complete",Hr.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.N,Cr.prototype.listenOnce=Cr.prototype.O,Cr.prototype.getLastError=Cr.prototype.La,Cr.prototype.getLastErrorCode=Cr.prototype.Da,Cr.prototype.getStatus=Cr.prototype.ba,Cr.prototype.getResponseJson=Cr.prototype.Qa,Cr.prototype.getResponseText=Cr.prototype.ga,Cr.prototype.send=Cr.prototype.ea;var Qa=tn.createWebChannelTransport=function(){return new Yo},Li=tn.getStatEventTarget=function(){return Ci()},ho=tn.ErrorCode=ct,Va=tn.EventType=Tt,Jo=tn.Event=wi,fo=tn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ya=tn.FetchXmlHttpFactory=Co,v=tn.WebChannel=Hr,l=tn.XhrIo=Cr;const f="@firebase/firestore";class b{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");let x="9.8.4";const V=new pt.Yd("@firebase/firestore");function oe(){return V.logLevel}function me(s,...e){if(V.logLevel<=pt.in.DEBUG){const r=e.map(dn);V.debug(`Firestore (${x}): ${s}`,...r)}}function Ot(s,...e){if(V.logLevel<=pt.in.ERROR){const r=e.map(dn);V.error(`Firestore (${x}): ${s}`,...r)}}function Xn(s,...e){if(V.logLevel<=pt.in.WARN){const r=e.map(dn);V.warn(`Firestore (${x}): ${s}`,...r)}}function dn(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function At(s="Unexpected state"){const e=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+s;throw Ot(e),new Error(e)}function $t(s,e){s||At()}function Lt(s,e){return s}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Xe.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Qs{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class po{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(b.UNAUTHENTICATED))}shutdown(){}}class ml{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class yl{constructor(e){this.t=e,this.currentUser=b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let c=this.i;const p=$=>this.i!==c?(c=this.i,r($)):Promise.resolve();let E=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new kr,e.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const $=E;e.enqueueRetryable((0,ye.Z)(function*(){yield $.promise,yield p(o.currentUser)}))},L=$=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit($=>L($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?L($):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new kr)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?($t("string"==typeof o.accessToken),new Qs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $t(null===e||"string"==typeof e),new b(e)}}class Ku{constructor(e,r,o){this.type="FirstParty",this.user=b.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Iu{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new Ku(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(b.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ja{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,r){const o=p=>{null!=p.error&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.p;return this.p=p.token,me("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const c=p=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>c(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?c(p):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?($t("string"==typeof r.token),this.p=r.token,new Ja(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _a(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}class wu{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=_a(40);for(let p=0;p<c.length;++p)o.length<20&&c[p]<r&&(o+=e.charAt(c[p]%e.length))}return o}}function Yn(s,e){return s<e?-1:s>e?1:0}function Mo(s,e,r){return s.length===e.length&&s.every((o,c)=>r(o,e[c]))}function Xo(s){return s+"\0"}class Fr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new yt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new yt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new yt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Fr(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new Fr(0,0))}static max(){return new Rn(new Fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,r,o){void 0===r?r=0:r>e.length&&At(),void 0===o?o=e.length-r:o>e.length-r&&At(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let c=0;c<o;c++){const p=e.get(c),E=r.get(c);if(p<E)return-1;if(p>E)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class gr extends ea{construct(e,r,o){return new gr(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new yt(We.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(c=>c.length>0))}return new gr(r)}static emptyPath(){return new gr([])}}const ta=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends ea{construct(e,r,o){return new Er(e,r,o)}static isValidIdentifier(e){return ta.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(e){const r=[];let o="",c=0;const p=()=>{if(0===o.length)throw new yt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let E=!1;for(;c<e.length;){const T=e[c];if("\\"===T){if(c+1===e.length)throw new yt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[c+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new yt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,c+=2}else"`"===T?(E=!E,c++):"."!==T||E?(o+=T,c++):(p(),c++)}if(p(),E)throw new yt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(r)}static emptyPath(){return new Er([])}}class zt{constructor(e){this.path=e}static fromPath(e){return new zt(gr.fromString(e))}static fromName(e){return new zt(gr.fromString(e).popFirst(5))}static empty(){return new zt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return gr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new gr(e.slice()))}}class Zu{constructor(e,r,o,c){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=c}}function kc(s){return s.fields.find(e=>2===e.kind)}function va(s){return s.fields.filter(e=>2!==e.kind)}Zu.UNKNOWN_ID=-1;class Gr{constructor(e,r){this.fieldPath=e,this.kind=r}}class Xa{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Xa(0,Ys.min())}}function eu(s,e){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,c=Rn.fromTimestamp(1e9===o?new Fr(r+1,0):new Fr(r,o));return new Ys(c,zt.empty(),e)}function Ua(s){return new Ys(s.readTime,s.key,-1)}class Ys{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Ys(Rn.min(),zt.empty(),-1)}static max(){return new Ys(Rn.max(),zt.empty(),-1)}}function Fc(s,e){let r=s.readTime.compareTo(e.readTime);return 0!==r?r:(r=zt.comparator(s.documentKey,e.documentKey),0!==r?r:Yn(s.largestBatchId,e.largestBatchId))}const Th="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ja(s){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,ye.Z)(function*(s){if(s.code!==We.FAILED_PRECONDITION||s.message!==Th)throw s;me("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ge((o,c)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,c)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,c)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ge?r:Ge.resolve(r)}catch(r){return Ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ge.reject(r)}static resolve(e){return new Ge((r,o)=>{r(e)})}static reject(e){return new Ge((r,o)=>{o(e)})}static waitFor(e){return new Ge((r,o)=>{let c=0,p=0,E=!1;e.forEach(T=>{++c,T.next(()=>{++p,E&&p===c&&r()},L=>o(L))}),E=!0,p===c&&r()})}static or(e){let r=Ge.resolve(!1);for(const o of e)r=r.next(c=>c?Ge.resolve(c):o());return r}static forEach(e,r){const o=[];return e.forEach((c,p)=>{o.push(r.call(this,c,p))}),this.waitFor(o)}static mapArray(e,r){return new Ge((o,c)=>{const p=e.length,E=new Array(p);let T=0;for(let L=0;L<p;L++){const $=L;r(e[$]).next(se=>{E[$]=se,++T,T===p&&o(E)},se=>c(se))}})}static doWhile(e,r){return new Ge((o,c)=>{const p=()=>{!0===e()?r().next(()=>{p()},c):o()};p()})}}class Ea{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.T=new kr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{r.error?this.T.reject(new qr(e,r.error)):this.T.resolve()},this.transaction.onerror=o=>{const c=Ls(o.target.error);this.T.reject(new qr(e,c))}}static open(e,r,o,c){try{return new Ea(r,e.transaction(c,o))}catch(p){throw new qr(r,p)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new tu(r)}}class Rr{constructor(e,r,o){this.name=e,this.version=r,this.P=o,12.2===Rr.v((0,Xe.z$)())&&Ot("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return me("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Xe.hl)())return!1;if(Rr.S())return!0;const e=(0,Xe.z$)(),r=Rr.v(e),o=0<r&&r<10,c=Rr.D(e),p=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,r){return e.store(r)}static v(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var r=this;return(0,ye.Z)(function*(){return r.db||(me("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,c)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=E=>{o(E.target.result)},p.onblocked=()=>{c(new qr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=E=>{const T=E.target.error;c("VersionError"===T.name?new yt(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new yt(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new qr(e,T))},p.onupgradeneeded=E=>{me("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',E.oldVersion),r.P.O(E.target.result,p.transaction,E.oldVersion,r.version).next(()=>{me("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.M&&(r.db.onversionchange=o=>r.M(o)),r.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,c){var p=this;return(0,ye.Z)(function*(){const E="readonly"===r;let T=0;for(;;){++T;try{p.db=yield p.k(e);const L=Ea.open(p.db,e,E?"readonly":"readwrite",o),$=c(L).next(se=>(L.R(),se)).catch(se=>(L.abort(se),Ge.reject(se))).toPromise();return $.catch(()=>{}),yield L.A,$}catch(L){const $=L,se="FirebaseError"!==$.name&&T<3;if(me("SimpleDb","Transaction failed with error:",$.message,"Retrying:",se),p.close(),!se)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Uc{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ba(this.$.delete())}}class qr extends yt{constructor(e,r){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Fs(s){return"IndexedDbTransactionError"===s.name}class tu{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(me("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(me("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ba(o)}add(e){return me("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(r=>(void 0===r&&(r=null),me("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return me("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return me("SimpleDb","COUNT",this.store.name),ba(this.store.count())}K(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),p=[];return this.G(c,(E,T)=>{p.push(T)}).next(()=>p)}{const c=this.store.getAll(o.range);return new Ge((p,E)=>{c.onerror=T=>{E(T.target.error)},c.onsuccess=T=>{p(T.target.result)}})}}j(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new Ge((c,p)=>{o.onerror=E=>{p(E.target.error)},o.onsuccess=E=>{c(E.target.result)}})}W(e,r){me("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const c=this.cursor(o);return this.G(c,(p,E,T)=>T.delete())}J(e,r){let o;r?o=e:(o={},r=e);const c=this.cursor(o);return this.G(c,r)}Y(e){const r=this.cursor({});return new Ge((o,c)=>{r.onerror=p=>{const E=Ls(p.target.error);c(E)},r.onsuccess=p=>{const E=p.target.result;E?e(E.primaryKey,E.value).next(T=>{T?E.continue():o()}):o()}})}G(e,r){const o=[];return new Ge((c,p)=>{e.onerror=E=>{p(E.target.error)},e.onsuccess=E=>{const T=E.target.result;if(!T)return void c();const L=new Uc(T),$=r(T.primaryKey,T.value,L);if($ instanceof Ge){const se=$.catch(Ee=>(L.done(),Ge.reject(Ee)));o.push(se)}L.isDone?c():null===L.U?T.continue():T.continue(L.U)}}).next(()=>Ge.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ba(s){return new Ge((e,r)=>{s.onsuccess=o=>{e(o.target.result)},s.onerror=o=>{const c=Ls(o.target.error);r(c)}})}let ud=!1;function Ls(s){const e=Rr.v((0,Xe.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const o=new yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ud||(ud=!0,setTimeout(()=>{throw o},0)),o}}return s}class Oo{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var r=this;me("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){r.task=null;try{me("IndexBackiller",`Documents written: ${yield r.X.tt()}`)}catch(o){Fs(o)?me("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ja(o)}yield r.Z(1)}))}}class nu{constructor(e,r){this.localStore=e,this.persistence=r}tt(e=50){var r=this;return(0,ye.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.et(o,e))})()}et(e,r){const o=new Set;let c=r,p=!0;return Ge.doWhile(()=>!0===p&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!o.has(E))return me("IndexBackiller",`Processing collection: ${E}`),this.nt(e,E,c).next(T=>{c-=T,o.add(E)});p=!1})).next(()=>r-c)}nt(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(c=>this.localStore.localDocuments.getNextDocuments(e,r,c,o).next(p=>{const E=p.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.st(c,p)).next(T=>(me("IndexBackiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(e,r,T))).next(()=>E.size)}))}st(e,r){let o=e;return r.changes.forEach((c,p)=>{const E=Ua(p);Fc(E,o)>0&&(o=E)}),new Ys(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}class Jr{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.it(o),this.rt=o=>r.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function No(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function Ia(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function _l(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}Jr.ot=-1;class Lr{constructor(e,r){this.comparator=e,this.root=r||yi.EMPTY}insert(e,r){return new Lr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yi.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return r+o.left.size;c<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,r,o,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&c&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yi{constructor(e,r,o,c,p){this.key=e,this.value=r,this.color=null!=o?o:yi.RED,this.left=null!=c?c:yi.EMPTY,this.right=null!=p?p:yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,c,p){return new yi(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const p=o(e,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===p?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,c=this;if(r(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(e,c.key)){if(c.right.isEmpty())return yi.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}yi.EMPTY=null,yi.RED=!0,yi.BLACK=!1,yi.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(s,e,r,o,c){return this}insert(s,e,r){return new yi(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;r(c.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Vs(this.data.getIterator())}getIteratorFrom(e){return new Vs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class Vs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function go(s){return s.hasNext()?s.getNext():void 0}class Ki{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new Ki([])}unionWith(e){let r=new Vr(Er.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Ki(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Ui(r)}static fromUint8Array(e){const r=function(o){let c="";for(let p=0;p<o.length;++p)c+=String.fromCharCode(o[p]);return c}(e);return new Ui(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function F(s){if($t(!!s),"string"==typeof s){let e=0;const r=M.exec(s);if($t(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:q(s.seconds),nanos:q(s.nanos)}}function q(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function he(s){return"string"==typeof s?Ui.fromBase64String(s):Ui.fromUint8Array(s)}function Pe(s){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ke(s){const e=s.mapValue.fields.__previous_value__;return Pe(e)?Ke(e):e}function Et(s){const e=F(s.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}class Qt{constructor(e,r,o,c,p,E,T,L){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=c,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=T,this.useFetchStreams=L}}class yn{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new yn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yn&&e.projectId===this.projectId&&e.database===this.database}}function Nn(s){return null==s}function er(s){return 0===s&&1/s==-1/0}function Mn(s){return"number"==typeof s&&Number.isInteger(s)&&!er(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const di={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zi={nullValue:"NULL_VALUE"};function mo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pe(s)?4:Bc(s)?9007199254740991:10:At()}function as(s,e){if(s===e)return!0;const r=mo(s);if(r!==mo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Et(s).isEqual(Et(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const p=F(o.timestampValue),E=F(c.timestampValue);return p.seconds===E.seconds&&p.nanos===E.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return c=e,he(s.bytesValue).isEqual(he(c.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return q(o.geoPointValue.latitude)===q(c.geoPointValue.latitude)&&q(o.geoPointValue.longitude)===q(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return q(o.integerValue)===q(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const p=q(o.doubleValue),E=q(c.doubleValue);return p===E?er(p)===er(E):isNaN(p)&&isNaN(E)}return!1}(s,e);case 9:return Mo(s.arrayValue.values||[],e.arrayValue.values||[],as);case 10:return function(o,c){const p=o.mapValue.fields||{},E=c.mapValue.fields||{};if(No(p)!==No(E))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(void 0===E[T]||!as(p[T],E[T])))return!1;return!0}(s,e);default:return At()}var c}function na(s,e){return void 0!==(s.values||[]).find(r=>as(r,e))}function Js(s,e){if(s===e)return 0;const r=mo(s),o=mo(e);if(r!==o)return Yn(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Yn(s.booleanValue,e.booleanValue);case 2:return function(c,p){const E=q(c.integerValue||c.doubleValue),T=q(p.integerValue||p.doubleValue);return E<T?-1:E>T?1:E===T?0:isNaN(E)?isNaN(T)?0:-1:1}(s,e);case 3:return wa(s.timestampValue,e.timestampValue);case 4:return wa(Et(s),Et(e));case 5:return Yn(s.stringValue,e.stringValue);case 6:return function(c,p){const E=he(c),T=he(p);return E.compareTo(T)}(s.bytesValue,e.bytesValue);case 7:return function(c,p){const E=c.split("/"),T=p.split("/");for(let L=0;L<E.length&&L<T.length;L++){const $=Yn(E[L],T[L]);if(0!==$)return $}return Yn(E.length,T.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,p){const E=Yn(q(c.latitude),q(p.latitude));return 0!==E?E:Yn(q(c.longitude),q(p.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(c,p){const E=c.values||[],T=p.values||[];for(let L=0;L<E.length&&L<T.length;++L){const $=Js(E[L],T[L]);if($)return $}return Yn(E.length,T.length)}(s.arrayValue,e.arrayValue);case 10:return function(c,p){if(c===di.mapValue&&p===di.mapValue)return 0;if(c===di.mapValue)return 1;if(p===di.mapValue)return-1;const E=c.fields||{},T=Object.keys(E),L=p.fields||{},$=Object.keys(L);T.sort(),$.sort();for(let se=0;se<T.length&&se<$.length;++se){const Ee=Yn(T[se],$[se]);if(0!==Ee)return Ee;const Ve=Js(E[T[se]],L[$[se]]);if(0!==Ve)return Ve}return Yn(T.length,$.length)}(s.mapValue,e.mapValue);default:throw At()}}function wa(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return Yn(s,e);const r=F(s),o=F(e),c=Yn(r.seconds,o.seconds);return 0!==c?c:Yn(r.nanos,o.nanos)}function Zi(s){return Po(s)}function Po(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const c=F(o);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?he(s.bytesValue).toBase64():"referenceValue"in s?zt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(o){let c="[",p=!0;for(const E of o.values||[])p?p=!1:c+=",",c+=Po(E);return c+"]"}(s.arrayValue):"mapValue"in s?function(o){const c=Object.keys(o.fields||{}).sort();let p="{",E=!0;for(const T of c)E?E=!1:p+=",",p+=`${T}:${Po(o.fields[T])}`;return p+"}"}(s.mapValue):At();var e}function wr(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ca(s){return!!s&&"integerValue"in s}function jc(s){return!!s&&"arrayValue"in s}function ko(s){return!!s&&"nullValue"in s}function Cu(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function El(s){return!!s&&"mapValue"in s}function ru(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ia(s.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ru(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ru(s.arrayValue.values[r]);return e}return Object.assign({},s)}function Bc(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function bl(s){return"nullValue"in s?zi:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?wr(yn.empty(),zt.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:At()}function Qu(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?wr(yn.empty(),zt.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?di:At()}function ra(s,e){const r=Js(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function iu(s,e){const r=Js(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!El(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(r)}setAll(e){let r=Er.emptyPath(),o={},c=[];e.forEach((E,T)=>{if(!r.isImmediateParentOf(T)){const L=this.getFieldsMap(r);this.applyChanges(L,o,c),o={},c=[],r=T.popLast()}E?o[T.lastSegment()]=ru(E):c.push(T.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,c)}delete(e){const r=this.field(e.popLast());El(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=r.mapValue.fields[e.get(o)];El(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=c),r=c}return r.mapValue.fields}applyChanges(e,r,o){Ia(r,(c,p)=>e[c]=p);for(const c of o)delete e[c]}clone(){return new si(ru(this.value))}}function cd(s){const e=[];return Ia(s.fields,(r,o)=>{const c=new Er([r]);if(El(o)){const p=cd(o.mapValue).fields;if(0===p.length)e.push(c);else for(const E of p)e.push(c.child(E))}else e.push(c)}),new Ki(e)}class Xr{constructor(e,r,o,c,p,E){this.key=e,this.documentType=r,this.version=o,this.readTime=c,this.data=p,this.documentState=E}static newInvalidDocument(e){return new Xr(e,0,Rn.min(),Rn.min(),si.empty(),0)}static newFoundDocument(e,r,o){return new Xr(e,1,r,Rn.min(),o,0)}static newNoDocument(e,r){return new Xr(e,2,r,Rn.min(),si.empty(),0)}static newUnknownDocument(e,r){return new Xr(e,3,r,Rn.min(),si.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(e,r=null,o=[],c=[],p=null,E=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=c,this.limit=p,this.startAt=E,this.endAt=T,this.ut=null}}function $c(s,e=null,r=[],o=[],c=null,p=null,E=null){return new Hc(s,e,r,o,c,p,E)}function su(s){const e=Lt(s);if(null===e.ut){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+Zi(c.value);var c}).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Nn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Zi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Zi(o)).join(",")),e.ut=r}return e.ut}function Yu(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!Mm(s.orderBy[c],e.orderBy[c]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((r=s.filters[c]).op!==(o=e.filters[c]).op||!r.field.isEqual(o.field)||!as(r.value,o.value))return!1;var r,o;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Cl(s.startAt,e.startAt)&&Cl(s.endAt,e.endAt)}function Ba(s){return zt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Da(s,e){return s.filters.filter(r=>r instanceof qi&&r.field.isEqual(e))}function Sh(s,e,r){let o=zi,c=!0;for(const p of Da(s,e)){let E=zi,T=!0;switch(p.op){case"<":case"<=":E=bl(p.value);break;case"==":case"in":case">=":E=p.value;break;case">":E=p.value,T=!1;break;case"!=":case"not-in":E=zi}ra({value:o,inclusive:c},{value:E,inclusive:T})<0&&(o=E,c=T)}if(null!==r)for(let p=0;p<s.orderBy.length;++p)if(s.orderBy[p].field.isEqual(e)){const E=r.position[p];ra({value:o,inclusive:c},{value:E,inclusive:r.inclusive})<0&&(o=E,c=r.inclusive);break}return{value:o,inclusive:c}}function dd(s,e,r){let o=di,c=!0;for(const p of Da(s,e)){let E=di,T=!0;switch(p.op){case">=":case">":E=Qu(p.value),T=!1;break;case"==":case"in":case"<=":E=p.value;break;case"<":E=p.value,T=!1;break;case"!=":case"not-in":E=di}iu({value:o,inclusive:c},{value:E,inclusive:T})>0&&(o=E,c=T)}if(null!==r)for(let p=0;p<s.orderBy.length;++p)if(s.orderBy[p].field.isEqual(e)){const E=r.position[p];iu({value:o,inclusive:c},{value:E,inclusive:r.inclusive})>0&&(o=E,c=r.inclusive);break}return{value:o,inclusive:c}}class qi extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.ct(e,r,o):new Il(e,r,o):"array-contains"===r?new xh(e,o):"in"===r?new Wc(e,o):"not-in"===r?new wl(e,o):"array-contains-any"===r?new Ju(e,o):new qi(e,r,o)}static ct(e,r,o){return"in"===r?new yp(e,o):new hd(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.at(Js(r,this.value)):null!==r&&mo(this.value)===mo(r)&&this.at(Js(r,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return At()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Il extends qi{constructor(e,r,o){super(e,r,o),this.key=zt.fromName(o.referenceValue)}matches(e){const r=zt.comparator(e.key,this.key);return this.at(r)}}class yp extends qi{constructor(e,r){super(e,"in",r),this.keys=Ah(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class hd extends qi{constructor(e,r){super(e,"not-in",r),this.keys=Ah(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ah(s,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>zt.fromName(o.referenceValue))}class xh extends qi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jc(r)&&na(r.arrayValue,this.value)}}class Wc extends qi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&na(this.value.arrayValue,r)}}class wl extends qi{constructor(e,r){super(e,"not-in",r)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!na(this.value.arrayValue,r)}}class Ju extends qi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>na(this.value.arrayValue,o))}}class Ha{constructor(e,r){this.position=e,this.inclusive=r}}class ou{constructor(e,r="asc"){this.field=e,this.dir=r}}function Mm(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function Gc(s,e,r){let o=0;for(let c=0;c<s.position.length;c++){const p=e[c],E=s.position[c];if(o=p.field.isKeyField()?zt.comparator(zt.fromName(E.referenceValue),r.key):Js(E,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Cl(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!as(s.position[r],e.position[r]))return!1;return!0}class Fo{constructor(e,r=null,o=[],c=[],p=null,E="F",T=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=c,this.limit=p,this.limitType=E,this.startAt=T,this.endAt=L,this.lt=null,this.ft=null}}function fd(s,e,r,o,c,p,E,T){return new Fo(s,e,r,o,c,p,E,T)}function Du(s){return new Fo(s)}function pd(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function Xu(s){for(const e of s.filters)if(e.ht())return e.field;return null}function gd(s){return null!==s.collectionGroup}function ec(s){const e=Lt(s);if(null===e.lt){e.lt=[];const r=Xu(e),o=pd(e);if(null!==r&&null===o)r.isKeyField()||e.lt.push(new ou(r)),e.lt.push(new ou(Er.keyField(),"asc"));else{let c=!1;for(const p of e.explicitOrderBy)e.lt.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ou(Er.keyField(),p))}}}return e.lt}function Lo(s){const e=Lt(s);if(!e.ft)if("F"===e.limitType)e.ft=$c(e.path,e.collectionGroup,ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const p of ec(e))r.push(new ou(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Ha(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Ha(e.startAt.position,e.startAt.inclusive):null;e.ft=$c(e.path,e.collectionGroup,r,e.filters,e.limit,o,c)}return e.ft}function Ta(s,e,r){return new Fo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function Sa(s,e){return Yu(Lo(s),Lo(e))&&s.limitType===e.limitType}function md(s){return`${su(Lo(s))}|lt:${s.limitType}`}function yd(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${Zi(o.value)}`;var o}).join(", ")}]`),Nn(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(r=>Zi(r)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(r=>Zi(r)).join(",")),`Target(${e})`}(Lo(s))}; limitType=${s.limitType})`}function _d(s,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):zt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,e)&&function(r,o){for(const c of r.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(s,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,e)&&(o=e,!((r=s).startAt&&!function(c,p,E){const T=Gc(c,p,E);return c.inclusive?T<=0:T<0}(r.startAt,ec(r),o)||r.endAt&&!function(c,p,E){const T=Gc(c,p,E);return c.inclusive?T>=0:T>0}(r.endAt,ec(r),o)));var r,o}function Dl(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Rh(s){return(e,r)=>{let o=!1;for(const c of ec(s)){const p=_p(c,e,r);if(0!==p)return p;o=o||c.field.isKeyField()}return 0}}function _p(s,e,r){const o=s.field.isKeyField()?zt.comparator(e.key,r.key):function(c,p,E){const T=p.data.field(c),L=E.data.field(c);return null!==T&&null!==L?Js(T,L):At()}(s.field,e,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return At()}}function vd(s,e){if(s.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:er(e)?"-0":e}}function Mh(s){return{integerValue:""+s}}function Oh(s,e){return Mn(e)?Mh(e):vd(s,e)}class Kc{constructor(){this._=void 0}}function vp(s,e,r){return s instanceof Aa?function(o,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,e):s instanceof xa?ia(s,e):s instanceof yo?Ed(s,e):function(o,c){const p=Nh(o,c),E=bd(p)+bd(o._t);return Ca(p)&&Ca(o._t)?Mh(E):vd(o.wt,E)}(s,e)}function Om(s,e,r){return s instanceof xa?ia(s,e):s instanceof yo?Ed(s,e):r}function Nh(s,e){return s instanceof uu?Ca(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class Aa extends Kc{}class xa extends Kc{constructor(e){super(),this.elements=e}}function ia(s,e){const r=Id(e);for(const o of s.elements)r.some(c=>as(c,o))||r.push(o);return{arrayValue:{values:r}}}class yo extends Kc{constructor(e){super(),this.elements=e}}function Ed(s,e){let r=Id(e);for(const o of s.elements)r=r.filter(c=>!as(c,o));return{arrayValue:{values:r}}}class uu extends Kc{constructor(e,r){super(),this.wt=e,this._t=r}}function bd(s){return q(s.integerValue||s.doubleValue)}function Id(s){return jc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Tl{constructor(e,r){this.field=e,this.transform=r}}class Sl{constructor(e,r){this.version=e,this.transformResults=r}}class hi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class wd{}function bp(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Rt(s.key,hi.none()):new H(s.key,s.data,hi.none());{const r=s.data,o=si.empty();let c=new Vr(Er.comparator);for(let p of e.fields)if(!c.has(p)){let E=r.field(p);null===E&&p.length>1&&(p=p.popLast(),E=r.field(p)),null===E?o.delete(p):o.set(p,E),c=c.add(p)}return new Z(s.key,o,new Ki(c.toArray()),hi.none())}}function I(s,e,r){s instanceof H?function(o,c,p){const E=o.value.clone(),T=nt(o.fieldTransforms,c,p.transformResults);E.setAll(T),c.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(s,e,r):s instanceof Z?function(o,c,p){if(!tc(o.precondition,c))return void c.convertToUnknownDocument(p.version);const E=nt(o.fieldTransforms,c,p.transformResults),T=c.data;T.setAll(Re(o)),T.setAll(E),c.convertToFoundDocument(p.version,T).setHasCommittedMutations()}(s,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function g(s,e,r,o){return s instanceof H?function(c,p,E,T){if(!tc(c.precondition,p))return E;const L=c.value.clone(),$=Gt(c.fieldTransforms,T,p);return L.setAll($),p.convertToFoundDocument(p.version,L).setHasLocalMutations(),null}(s,e,r,o):s instanceof Z?function(c,p,E,T){if(!tc(c.precondition,p))return E;const L=Gt(c.fieldTransforms,T,p),$=p.data;return $.setAll(Re(c)),$.setAll(L),p.convertToFoundDocument(p.version,$).setHasLocalMutations(),null===E?null:E.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(se=>se.field))}(s,e,r,o):(E=r,tc(s.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):E);var p,E}function y(s,e){let r=null;for(const o of s.fieldTransforms){const c=e.data.field(o.field),p=Nh(o.transform,c||null);null!=p&&(null===r&&(r=si.empty()),r.set(o.field,p))}return r||null}function w(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===o||r&&o&&Mo(r,o,(c,p)=>function(s,e){return s.field.isEqual(e.field)&&(o=e.transform,(r=s.transform)instanceof xa&&o instanceof xa||r instanceof yo&&o instanceof yo?Mo(r.elements,o.elements,as):r instanceof uu&&o instanceof uu?as(r._t,o._t):r instanceof Aa&&o instanceof Aa);var r,o}(c,p))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var r,o}class H extends wd{constructor(e,r,o,c=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Z extends wd{constructor(e,r,o,c,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=c,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Re(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);e.set(r,o)}}),e}function nt(s,e,r){const o=new Map;$t(s.length===r.length);for(let c=0;c<r.length;c++){const p=s[c],E=p.transform,T=e.data.field(p.field);o.set(p.field,Om(E,T,r[c]))}return o}function Gt(s,e,r){const o=new Map;for(const c of s){const p=c.transform,E=r.data.field(c.field);o.set(c.field,vp(p,E,e))}return o}class Rt extends wd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class en extends wd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nr{constructor(e){this.count=e}}var tr,$n;function sa(s){switch(s){default:return At();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function nc(s){if(void 0===s)return Ot("GRPC error has no .code"),We.UNKNOWN;switch(s){case tr.OK:return We.OK;case tr.CANCELLED:return We.CANCELLED;case tr.UNKNOWN:return We.UNKNOWN;case tr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case tr.INTERNAL:return We.INTERNAL;case tr.UNAVAILABLE:return We.UNAVAILABLE;case tr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case tr.NOT_FOUND:return We.NOT_FOUND;case tr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case tr.ABORTED:return We.ABORTED;case tr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case tr.DATA_LOSS:return We.DATA_LOSS;default:return At()}}($n=tr||(tr={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";class oa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[c,p]of o)if(this.equalsFn(c,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],e))return void(c[p]=[e,r]);c.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[r]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(r,o)=>{for(const[c,p]of o)e(c,p)})}isEmpty(){return _l(this.inner)}size(){return this.innerSize}}const Cd=new Lr(zt.comparator);function Rs(){return Cd}const zc=new Lr(zt.comparator);function Zc(...s){let e=zc;for(const r of s)e=e.insert(r.key,r);return e}function Ph(s){let e=zc;return s.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Ms(){return Tu()}function us(){return Tu()}function Tu(){return new oa(s=>s.toString(),(s,e)=>s.isEqual(e))}const Al=new Lr(zt.comparator),kh=new Vr(zt.comparator);function Un(...s){let e=kh;for(const r of s)e=e.add(r);return e}const Dd=new Vr(Yn);function xl(){return Dd}class Td{constructor(e,r,o,c,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,r)),new Td(Rn.min(),o,xl(),Rs(),Un())}}class Sd{constructor(e,r,o,c,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r){return new Sd(Ui.EMPTY_BYTE_STRING,r,Un(),Un(),Un())}}class Ad{constructor(e,r,o,c){this.gt=e,this.removedTargetIds=r,this.key=o,this.yt=c}}class Nm{constructor(e,r){this.targetId=e,this.It=r}}class Ip{constructor(e,r,o=Ui.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=c}}class Pm{constructor(){this.Tt=0,this.Et=Lm(),this.At=Ui.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Un(),r=Un(),o=Un();return this.Et.forEach((c,p)=>{switch(p){case 0:e=e.add(c);break;case 2:r=r.add(c);break;case 1:o=o.add(c);break;default:At()}}),new Sd(this.At,this.Rt,e,r,o)}Dt(){this.bt=!1,this.Et=Lm()}Ct(e,r){this.bt=!0,this.Et=this.Et.insert(e,r)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class km{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Rs(),this.Bt=Fm(),this.Lt=new Vr(Yn)}Ut(e){for(const r of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt);for(const r of e.removedTargetIds)this.Kt(r,e.key,e.yt)}Gt(e){this.forEachTarget(e,r=>{const o=this.Qt(r);switch(e.state){case 0:this.jt(r)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(r);break;case 3:this.jt(r)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(r)&&(this.Wt(r),o.Vt(e.resumeToken));break;default:At()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ft.forEach((o,c)=>{this.jt(c)&&r(c)})}zt(e){const r=e.targetId,o=e.It.count,c=this.Ht(r);if(c){const p=c.target;if(Ba(p))if(0===o){const E=new zt(p.path);this.Kt(r,E,Xr.newNoDocument(E,Rn.min()))}else $t(1===o);else this.Jt(r)!==o&&(this.Wt(r),this.Lt=this.Lt.add(r))}}Yt(e){const r=new Map;this.Ft.forEach((p,E)=>{const T=this.Ht(E);if(T){if(p.current&&Ba(T.target)){const L=new zt(T.target.path);null!==this.$t.get(L)||this.Xt(E,L)||this.Kt(E,L,Xr.newNoDocument(L,e))}p.vt&&(r.set(E,p.St()),p.Dt())}});let o=Un();this.Bt.forEach((p,E)=>{let T=!0;E.forEachWhile(L=>{const $=this.Ht(L);return!$||2===$.purpose||(T=!1,!1)}),T&&(o=o.add(p))}),this.$t.forEach((p,E)=>E.setReadTime(e));const c=new Td(e,r,this.Lt,this.$t,o);return this.$t=Rs(),this.Bt=Fm(),this.Lt=new Vr(Yn),c}qt(e,r){if(!this.jt(e))return;const o=this.Xt(e,r.key)?2:0;this.Qt(e).Ct(r.key,o),this.$t=this.$t.insert(r.key,r),this.Bt=this.Bt.insert(r.key,this.Zt(r.key).add(e))}Kt(e,r,o){if(!this.jt(e))return;const c=this.Qt(e);this.Xt(e,r)?c.Ct(r,1):c.xt(r),this.Bt=this.Bt.insert(r,this.Zt(r).delete(e)),o&&(this.$t=this.$t.insert(r,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const r=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let r=this.Ft.get(e);return r||(r=new Pm,this.Ft.set(e,r)),r}Zt(e){let r=this.Bt.get(e);return r||(r=new Vr(Yn),this.Bt=this.Bt.insert(e,r)),r}jt(e){const r=null!==this.Ht(e);return r||me("WatchChangeAggregator","Detected inactive target",e),r}Ht(e){const r=this.Ft.get(e);return r&&r.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Pm),this.Mt.getRemoteKeysForTarget(e).forEach(r=>{this.Kt(e,r,null)})}Xt(e,r){return this.Mt.getRemoteKeysForTarget(e).has(r)}}function Fm(){return new Lr(zt.comparator)}function Lm(){return new Lr(zt.comparator)}const Y_={asc:"ASCENDING",desc:"DESCENDING"},Vm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class wp{constructor(e,r){this.databaseId=e,this.dt=r}}function Rl(s,e){return s.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Um(s,e){return s.dt?e.toBase64():e.toUint8Array()}function Wb(s,e){return Rl(s,e.toTimestamp())}function ms(s){return $t(!!s),Rn.fromTimestamp(function(e){const r=F(e);return new Fr(r.seconds,r.nanos)}(s))}function Ml(s,e){return(r=s,new gr(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function jm(s){const e=gr.fromString(s);return $t(Lh(e)),e}function xd(s,e){return Ml(s.databaseId,e.path)}function _o(s,e){const r=jm(e);if(r.get(1)!==s.databaseId.projectId)throw new yt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new yt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new zt(Bm(r))}function Fh(s,e){return Ml(s.databaseId,e)}function Cp(s){const e=jm(s);return 4===e.length?gr.emptyPath():Bm(e)}function Rd(s){return new gr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Bm(s){return $t(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Hm(s,e,r){return{name:xd(s,e),fields:r.value.mapValue.fields}}function Md(s,e,r){const o=_o(s,e.name),c=ms(e.updateTime),p=new si({mapValue:{fields:e.fields}}),E=Xr.newFoundDocument(o,c,p);return r&&E.setHasCommittedMutations(),r?E.setHasCommittedMutations():E}function Od(s,e){let r;if(e instanceof H)r={update:Hm(s,e.key,e.value)};else if(e instanceof Rt)r={delete:xd(s,e.key)};else if(e instanceof Z)r={update:Hm(s,e.key,e.data),updateMask:lu(e.fieldMask)};else{if(!(e instanceof en))return At();r={verify:xd(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(c,p){const E=p.transform;if(E instanceof Aa)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof xa)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof yo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof uu)return{fieldPath:p.field.canonicalString(),increment:E._t};throw At()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Wb(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:At()),r;var c}function Dp(s,e){const r=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?hi.updateTime(ms(c.updateTime)):void 0!==c.exists?hi.exists(c.exists):hi.none():hi.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(p,E){let T=null;"setToServerValue"in E?($t("REQUEST_TIME"===E.setToServerValue),T=new Aa):"appendMissingElements"in E?T=new xa(E.appendMissingElements.values||[]):"removeAllFromArray"in E?T=new yo(E.removeAllFromArray.values||[]):"increment"in E?T=new uu(p,E.increment):At();const L=Er.fromServerFormat(E.fieldPath);return new Tl(L,T)}(s,c)):[];var c;if(e.update){const c=_o(s,e.update.name),p=new si({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new Ki((e.updateMask.fieldPaths||[]).map($=>Er.fromServerFormat($)));return new Z(c,p,E,r,o)}return new H(c,p,r,o)}if(e.delete){const c=_o(s,e.delete);return new Rt(c,r)}if(e.verify){const c=_o(s,e.verify);return new en(c,r)}return At()}function J_(s,e){return{documents:[Fh(s,e.path)]}}function Tp(s,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Fh(s,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Fh(s,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(L){if(0===L.length)return;const $=L.map(se=>function(Ee){if("=="===Ee.op){if(Cu(Ee.value))return{unaryFilter:{field:Nd(Ee.field),op:"IS_NAN"}};if(ko(Ee.value))return{unaryFilter:{field:Nd(Ee.field),op:"IS_NULL"}}}else if("!="===Ee.op){if(Cu(Ee.value))return{unaryFilter:{field:Nd(Ee.field),op:"IS_NOT_NAN"}};if(ko(Ee.value))return{unaryFilter:{field:Nd(Ee.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nd(Ee.field),op:cu(Ee.op),value:Ee.value}}}(se));return 1===$.length?$[0]:{compositeFilter:{op:"AND",filters:$}}}(e.filters);c&&(r.structuredQuery.where=c);const p=function(L){if(0!==L.length)return L.map($=>{return{field:Nd((se=$).field),direction:Ol(se.dir)};var se})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const E=($=e.limit,s.dt||Nn($)?$:{value:$});var $,T,L;return null!==E&&(r.structuredQuery.limit=E),e.startAt&&(r.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(r.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),r}function Sp(s){let e=Cp(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let c=null;if(o>0){$t(1===o);const se=r.from[0];se.allDescendants?c=se.collectionId:e=e.child(se.collectionId)}let p=[];r.where&&(p=Ap(r.where));let E=[];r.orderBy&&(E=r.orderBy.map(se=>{return new ou(Pd((Ee=se).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let T=null;r.limit&&(T=function(se){let Ee;return Ee="object"==typeof se?se.value:se,Nn(Ee)?null:Ee}(r.limit));let L=null;var se;r.startAt&&(L=new Ha((se=r.startAt).values||[],!!se.before));let $=null;return r.endAt&&($=function(se){return new Ha(se.values||[],!se.before)}(r.endAt)),fd(e,c,E,p,T,"F",L,$)}function Ap(s){return s?void 0!==s.unaryFilter?[Gb(s)]:void 0!==s.fieldFilter?[Km(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>Ap(e)).reduce((e,r)=>e.concat(r)):At():[]}function Ol(s){return Y_[s]}function cu(s){return Vm[s]}function Nd(s){return{fieldPath:s.canonicalString()}}function Pd(s){return Er.fromServerFormat(s.fieldPath)}function Km(s){return qi.create(Pd(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(s.fieldFilter.op),s.fieldFilter.value)}function Gb(s){switch(s.unaryFilter.op){case"IS_NAN":const e=Pd(s.unaryFilter.field);return qi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Pd(s.unaryFilter.field);return qi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pd(s.unaryFilter.field);return qi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pd(s.unaryFilter.field);return qi.create(c,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function lu(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Lh(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Us(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=xp(e)),e=X_(s.get(r),e);return xp(e)}function X_(s,e){let r=e;const o=s.length;for(let c=0;c<o;c++){const p=s.charAt(c);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function xp(s){return s+"\x01\x01"}function Vo(s){const e=s.length;if($t(e>=2),2===e)return $t("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),gr.emptyPath();const r=e-2,o=[];let c="";for(let p=0;p<e;){const E=s.indexOf("\x01",p);switch((E<0||E>r)&&At(),s.charAt(E+1)){case"\x01":const T=s.substring(p,E);let L;0===c.length?L=T:(c+=T,L=c,c=""),o.push(L);break;case"\x10":c+=s.substring(p,E),c+="\0";break;case"\x11":c+=s.substring(p,E+1);break;default:At()}p=E+2}return new gr(o)}const Rp=["userId","batchId"];function Nl(s,e){return[s,Us(e)]}function Vh(s,e,r){return[s,Us(e),r]}const Mp={},zm=["prefixPath","collectionGroup","readTime","documentId"],Kb=["prefixPath","collectionGroup","documentId"],Pl=["collectionGroup","readTime","prefixPath","documentId"],Op=["canonicalId","targetId"],Zm=["targetId","path"],ev=["path","targetId"],Np=["collectionId","parent"],tv=["indexId","uid"],nv=["uid","sequenceNumber"],rv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iv=["indexId","uid","orderedDocumentKey"],sv=["userId","collectionPath","documentId"],ov=["userId","collectionPath","largestBatchId"],qm=["userId","collectionGroup","largestBatchId"],Uh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qm=[...Uh,"documentOverlays"],jh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ym=jh,av=[...Ym,"indexConfiguration","indexState","indexEntries"];class Bh extends Lc{constructor(e,r){super(),this.ee=e,this.currentSequenceNumber=r}}function ys(s,e){const r=Lt(s);return Rr.N(r.ee,e)}class Su{constructor(e,r,o,c){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(e.key)&&I(p,e,o[c])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=g(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=g(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=us();return this.mutations.forEach(c=>{const p=e.get(c.key),E=p.overlayedDocument;let T=this.applyToLocalView(E,p.mutatedFields);T=r.has(c.key)?null:T;const L=bp(E,T);null!==L&&o.set(c.key,L),E.isValidDocument()||E.convertToNoDocument(Rn.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Un())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(r,o)=>w(r,o))&&Mo(this.baseMutations,e.baseMutations,(r,o)=>w(r,o))}}class Hh{constructor(e,r,o,c){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=c}static from(e,r,o){$t(e.mutations.length===o.length);let c=Al;const p=e.mutations;for(let E=0;E<p.length;E++)c=c.insert(p[E].key,o[E].version);return new Hh(e,r,o,c)}}class $h{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rc{constructor(e,r,o,c,p=Rn.min(),E=Rn.min(),T=Ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=T}withSequenceNumber(e){return new rc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new rc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kd{constructor(e){this.ne=e}}function Pp(s,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Fd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:xd(c=s.ne,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Rl(c,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:ic(e.version)};else{if(!e.isUnknownDocument())return At();o.unknownDocument={path:r.path.toArray(),version:ic(e.version)}}var c,p;return o}function Fd(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function ic(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Au(s){const e=new Fr(s.seconds,s.nanoseconds);return Rn.fromTimestamp(e)}function sc(s,e){const r=(e.baseMutations||[]).map(p=>Dp(s.ne,p));for(let p=0;p<e.mutations.length-1;++p){const E=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(E.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Dp(s.ne,p)),c=Fr.fromMillis(e.localWriteTimeMs);return new Su(e.batchId,c,r,o)}function oc(s){const e=Au(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?Au(s.lastLimboFreeSnapshotVersion):Rn.min();let o;var c;return void 0!==s.query.documents?($t(1===(c=s.query).documents.length),o=Lo(Du(Cp(c.documents[0])))):o=Lo(Sp(s.query)),new rc(o,s.targetId,0,s.lastListenSequenceNumber,e,r,Ui.fromBase64String(s.resumeToken))}function Ld(s,e){const r=ic(e.snapshotVersion),o=ic(e.lastLimboFreeSnapshotVersion);let c;c=Ba(e.target)?J_(s.ne,e.target):Tp(s.ne,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:su(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Wh(s){const e=Sp({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Ta(e,e.limit,"L"):e}function Vd(s,e){return new $h(e.largestBatchId,Dp(s.ne,e.overlayMutation))}function kp(s,e){const r=e.path.lastSegment();return[s,Us(e.path.popLast()),r]}function Gh(s,e,r,o){return{indexId:s,uid:e.uid||"",sequenceNumber:r,readTime:ic(o.readTime),documentKey:Us(o.documentKey.path),largestBatchId:o.largestBatchId}}class Ud{getBundleMetadata(e,r){return Jm(e).get(r).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Au(c.createTime),version:c.version};var c})}saveBundleMetadata(e,r){return Jm(e).put({bundleId:(o=r).id,createTime:ic(ms(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return Fp(e).get(r).next(o=>{if(o)return{name:(c=o).name,query:Wh(c.bundledQuery),readTime:Au(c.readTime)};var c})}saveNamedQuery(e,r){return Fp(e).put({name:(o=r).name,readTime:ic(ms(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Jm(s){return ys(s,"bundles")}function Fp(s){return ys(s,"namedQueries")}class Kh{constructor(e,r){this.wt=e,this.userId=r}static se(e,r){return new Kh(e,r.uid||"")}getOverlay(e,r){return jd(e).get(kp(this.userId,r)).next(o=>o?Vd(this.wt,o):null)}getOverlays(e,r){const o=Ms();return Ge.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){const c=[];return o.forEach((p,E)=>{const T=new $h(r,E);c.push(this.ie(e,T))}),Ge.waitFor(c)}removeOverlaysForBatchId(e,r,o){const c=new Set;r.forEach(E=>c.add(Us(E.getCollectionPath())));const p=[];return c.forEach(E=>{const T=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);p.push(jd(e).W("collectionPathOverlayIndex",T))}),Ge.waitFor(p)}getOverlaysForCollection(e,r,o){const c=Ms(),p=Us(r),E=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return jd(e).K("collectionPathOverlayIndex",E).next(T=>{for(const L of T){const $=Vd(this.wt,L);c.set($.getKey(),$)}return c})}getOverlaysForCollectionGroup(e,r,o,c){const p=Ms();let E;const T=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return jd(e).J({index:"collectionGroupOverlayIndex",range:T},(L,$,se)=>{const Ee=Vd(this.wt,$);p.size()<c||Ee.largestBatchId===E?(p.set(Ee.getKey(),Ee),E=Ee.largestBatchId):se.done()}).next(()=>p)}ie(e,r){return jd(e).put(function(o,c,p){const[E,T,L]=kp(c,p.mutation.key);return{userId:c,collectionPath:T,documentId:L,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:Od(o.ne,p.mutation)}}(this.wt,this.userId,r))}}function jd(s){return ys(s,"documentOverlays")}class ac{constructor(){}re(e,r){this.oe(e,r),r.ue()}oe(e,r){if("nullValue"in e)this.ce(r,5);else if("booleanValue"in e)this.ce(r,10),r.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(r,15),r.ae(q(e.integerValue));else if("doubleValue"in e){const o=q(e.doubleValue);isNaN(o)?this.ce(r,13):(this.ce(r,15),er(o)?r.ae(0):r.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(r,20),"string"==typeof o?r.he(o):(r.he(`${o.seconds||""}`),r.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,r),this.fe(r);else if("bytesValue"in e)this.ce(r,30),r.de(he(e.bytesValue)),this.fe(r);else if("referenceValue"in e)this._e(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(r,45),r.ae(o.latitude||0),r.ae(o.longitude||0)}else"mapValue"in e?Bc(e)?this.ce(r,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,r),this.fe(r)):"arrayValue"in e?(this.me(e.arrayValue,r),this.fe(r)):At()}le(e,r){this.ce(r,25),this.ge(e,r)}ge(e,r){r.he(e)}we(e,r){const o=e.fields||{};this.ce(r,55);for(const c of Object.keys(o))this.le(c,r),this.oe(o[c],r)}me(e,r){const o=e.values||[];this.ce(r,50);for(const c of o)this.oe(c,r)}_e(e,r){this.ce(r,37),zt.fromName(e).path.forEach(o=>{this.ce(r,60),this.ge(o,r)})}ce(e,r){e.ae(r)}fe(e){e.ae(2)}}function Lp(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function Vp(s){const e=64-function(r){let o=0;for(let c=0;c<8;++c){const p=Lp(255&r[c]);if(o+=p,8!==p)break}return o}(s);return Math.ceil(e/8)}ac.ye=new ac;class zb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ie(o.value),o=r.next();this.Te()}Ee(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ae(o.value),o=r.next();this.Re()}be(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const c=r.codePointAt(0);this.Ie(240|c>>>18),this.Ie(128|63&c>>>12),this.Ie(128|63&c>>>6),this.Ie(128|63&c)}}this.Te()}Pe(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=r.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}ve(e){const r=this.Ve(e),o=Vp(r);this.Se(1+o),this.buffer[this.position++]=255&o;for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=255&r[c]}De(e){const r=this.Ve(e),o=Vp(r);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let c=r.length-o;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const r=function(c){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,c,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let c=1;c<r.length;++c)r[c]^=o?255:0;return r}Ie(e){const r=255&e;0===r?(this.xe(0),this.xe(255)):255===r?(this.xe(255),this.xe(0)):this.xe(r)}Ae(e){const r=255&e;0===r?(this.ke(0),this.ke(255)):255===r?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class Xm{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class cv{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class kl{constructor(){this.Me=new zb,this.Fe=new Xm(this.Me),this.$e=new cv(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class qc{constructor(e,r,o,c){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=c}Le(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new qc(this.indexId,this.documentKey,this.arrayValue,o)}}function Qc(s,e){let r=s.indexId-e.indexId;return 0!==r?r:(r=Ma(s.arrayValue,e.arrayValue),0!==r?r:(r=Ma(s.directionalValue,e.directionalValue),0!==r?r:zt.comparator(s.documentKey,e.documentKey)))}function Ma(s,e){for(let r=0;r<s.length&&r<e.length;++r){const o=s[r]-e[r];if(0!==o)return o}return s.length-e.length}class lv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const r of e.filters){const o=r;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const r=kc(e);if(void 0!==r&&!this.Qe(r))return!1;const o=va(e);let c=0,p=0;for(;c<o.length&&this.Qe(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.Ke){const E=o[c];if(!this.je(this.Ke,E)||!this.We(this.Ue[p++],E))return!1;++c}for(;c<o.length;++c){const E=o[c];if(p>=this.Ue.length||!this.We(this.Ue[p++],E))return!1}return!0}Qe(e){for(const r of this.qe)if(this.je(r,e))return!0;return!1}je(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class ey{constructor(){this.ze=new Up}addToCollectionParentIndex(e,r){return this.ze.add(r),Ge.resolve()}getCollectionParents(e,r){return Ge.resolve(this.ze.getEntries(r))}addFieldIndex(e,r){return Ge.resolve()}deleteFieldIndex(e,r){return Ge.resolve()}getDocumentsMatchingTarget(e,r){return Ge.resolve(null)}getIndexType(e,r){return Ge.resolve(0)}getFieldIndexes(e,r){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,r){return Ge.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,r){return Ge.resolve(Ys.min())}updateCollectionGroup(e,r,o){return Ge.resolve()}updateIndexEntries(e,r){return Ge.resolve()}}class Up{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r]||new Vr(gr.comparator),p=!c.has(o);return this.index[r]=c.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),c=this.index[r];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Vr(gr.comparator)).toArray()}}const zh=new Uint8Array(0);class dv{constructor(e,r){this.user=e,this.databaseId=r,this.He=new Up,this.Je=new oa(o=>su(o),(o,c)=>Yu(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.He.has(r)){const o=r.lastSegment(),c=r.popLast();e.addOnCommittedListener(()=>{this.He.add(r)});const p={collectionId:o,parent:Us(c)};return ty(e).put(p)}return Ge.resolve()}getCollectionParents(e,r){const o=[],c=IDBKeyRange.bound([r,""],[Xo(r),""],!1,!0);return ty(e).K(c).next(p=>{for(const E of p){if(E.collectionId!==r)break;o.push(Vo(E.parent))}return o})}addFieldIndex(e,r){const o=Zh(e),c={indexId:(E=r).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(T=>[T.fieldPath.canonicalString(),T.kind])};var E;delete c.indexId;const p=o.add(c);if(r.indexState){const E=Bd(e);return p.next(T=>{E.put(Gh(T,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=Zh(e),c=Bd(e),p=Fl(e);return o.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const o=Fl(e);let c=!0;const p=new Map;return Ge.forEach(this.Ye(r),E=>this.Xe(e,E).next(T=>{c&&(c=!!T),p.set(E,T)})).next(()=>{if(c){let E=Un();const T=[];return Ge.forEach(p,(L,$)=>{var se;me("IndexedDbIndexManager",`Using index ${se=L,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(ei=>`${ei.fieldPath}:${ei.kind}`).join(",")}`} to execute ${su(r)}`);const Ee=function(ei,is){const Si=kc(is);if(void 0===Si)return null;for(const ji of Da(ei,Si.fieldPath))switch(ji.op){case"array-contains-any":return ji.value.arrayValue.values||[];case"array-contains":return[ji.value]}return null}($,L),Ve=function(ei,is){const Si=new Map;for(const ji of va(is))for(const eo of Da(ei,ji.fieldPath))switch(eo.op){case"==":case"in":Si.set(ji.fieldPath.canonicalString(),eo.value);break;case"not-in":case"!=":return Si.set(ji.fieldPath.canonicalString(),eo.value),Array.from(Si.values())}return null}($,L),ft=function(ei,is){const Si=[];let ji=!0;for(const eo of va(is)){const Uu=0===eo.kind?Sh(ei,eo.fieldPath,ei.startAt):dd(ei,eo.fieldPath,ei.startAt);Si.push(Uu.value),ji&&(ji=Uu.inclusive)}return new Ha(Si,ji)}($,L),wt=function(ei,is){const Si=[];let ji=!0;for(const eo of va(is)){const Uu=0===eo.kind?dd(ei,eo.fieldPath,ei.endAt):Sh(ei,eo.fieldPath,ei.endAt);Si.push(Uu.value),ji&&(ji=Uu.inclusive)}return new Ha(Si,ji)}($,L),on=this.Ze(L,$,ft),Pn=this.Ze(L,$,wt),Ur=this.tn(L,$,Ve),_i=this.en(L.indexId,Ee,on,ft.inclusive,Pn,wt.inclusive,Ur);return Ge.forEach(_i,ei=>o.j(ei,r.limit).next(is=>{is.forEach(Si=>{const ji=zt.fromSegments(Si.documentKey);E.has(ji)||(E=E.add(ji),T.push(ji))})}))}).next(()=>T)}return Ge.resolve(null)})}Ye(e){let r=this.Je.get(e);return r||(r=[e],this.Je.set(e,r),r)}en(e,r,o,c,p,E,T){const L=(null!=r?r.length:1)*Math.max(o.length,p.length),$=L/(null!=r?r.length:1),se=[];for(let Ee=0;Ee<L;++Ee){const Ve=r?this.nn(r[Ee/$]):zh,ft=this.sn(e,Ve,o[Ee%$],c),wt=this.rn(e,Ve,p[Ee%$],E),on=T.map(Pn=>this.sn(e,Ve,Pn,!0));se.push(...this.createRange(ft,wt,on))}return se}sn(e,r,o,c){const p=new qc(e,zt.empty(),r,o);return c?p:p.Le()}rn(e,r,o,c){const p=new qc(e,zt.empty(),r,o);return c?p.Le():p}Xe(e,r){const o=new lv(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,c).next(p=>{let E=null;for(const T of p)o.Ge(T)&&(!E||T.fields.length>E.fields.length)&&(E=T);return E})}getIndexType(e,r){let o=2;return Ge.forEach(this.Ye(r),c=>this.Xe(e,c).next(p=>{p?0!==o&&p.fields.length<function(E){let T=new Vr(Er.comparator),L=!1;for(const $ of E.filters){const se=$;se.field.isKeyField()||("array-contains"===se.op||"array-contains-any"===se.op?L=!0:T=T.add(se.field))}for(const $ of E.orderBy)$.field.isKeyField()||(T=T.add($.field));return T.size+(L?1:0)}(c)&&(o=1):o=0})).next(()=>o)}on(e,r){const o=new kl;for(const c of va(e)){const p=r.data.field(c.fieldPath);if(null==p)return null;const E=o.Be(c.kind);ac.ye.re(p,E)}return o.Oe()}nn(e){const r=new kl;return ac.ye.re(e,r.Be(0)),r.Oe()}un(e,r){const o=new kl;return ac.ye.re(wr(this.databaseId,r),o.Be(function(c){const p=va(c);return 0===p.length?0:p[p.length-1].kind}(e))),o.Oe()}tn(e,r,o){if(null===o)return[];let c=[];c.push(new kl);let p=0;for(const E of va(e)){const T=o[p++];for(const L of c)if(this.cn(r,E.fieldPath)&&jc(T))c=this.an(c,E,T);else{const $=L.Be(E.kind);ac.ye.re(T,$)}}return this.hn(c)}Ze(e,r,o){return this.tn(e,r,o.position)}hn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Oe();return r}an(e,r,o){const c=[...e],p=[];for(const E of o.arrayValue.values||[])for(const T of c){const L=new kl;L.seed(T.Oe()),ac.ye.re(E,L.Be(r.kind)),p.push(L)}return p}cn(e,r){return!!e.filters.find(o=>o instanceof qi&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Zh(e),c=Bd(e);return(r?o.K("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.K()).next(p=>{const E=[];return Ge.forEach(p,T=>c.get([T.indexId,this.uid]).next(L=>{E.push(function($,se){const Ee=se?new Xa(se.sequenceNumber,new Ys(Au(se.readTime),new zt(Vo(se.documentKey)),se.largestBatchId)):Xa.empty(),Ve=$.fields.map(([ft,wt])=>new Gr(Er.fromServerFormat(ft),wt));return new Zu($.indexId,$.collectionGroup,Ve,Ee)}(T,L))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,c)=>{const p=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==p?p:Yn(o.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const c=Zh(e),p=Bd(e);return this.ln(e).next(E=>c.K("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(T=>Ge.forEach(T,L=>p.put(Gh(L.indexId,this.user,E,o)))))}updateIndexEntries(e,r){const o=new Map;return Ge.forEach(r,(c,p)=>{const E=o.get(c.collectionGroup);return(E?Ge.resolve(E):this.getFieldIndexes(e,c.collectionGroup)).next(T=>(o.set(c.collectionGroup,T),Ge.forEach(T,L=>this.fn(e,c,L).next($=>{const se=this.dn(p,L);return $.isEqual(se)?Ge.resolve():this._n(e,p,L,$,se)}))))})}wn(e,r,o,c){return Fl(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.un(o,r.key),documentKey:r.key.path.toArray()})}mn(e,r,o,c){return Fl(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.un(o,r.key),r.key.path.toArray()])}fn(e,r,o){const c=Fl(e);let p=new Vr(Qc);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,r)])},(E,T)=>{p=p.add(new qc(o.indexId,r,T.arrayValue,T.directionalValue))}).next(()=>p)}dn(e,r){let o=new Vr(Qc);const c=this.on(r,e);if(null==c)return o;const p=kc(r);if(null!=p){const E=e.data.field(p.fieldPath);if(jc(E))for(const T of E.arrayValue.values||[])o=o.add(new qc(r.indexId,e.key,this.nn(T),c))}else o=o.add(new qc(r.indexId,e.key,zh,c));return o}_n(e,r,o,c,p){me("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const E=[];return function(T,L,$,se,Ee){const Ve=T.getIterator(),ft=L.getIterator();let wt=go(Ve),on=go(ft);for(;wt||on;){let Pn=!1,Ur=!1;if(wt&&on){const _i=$(wt,on);_i<0?Ur=!0:_i>0&&(Pn=!0)}else null!=wt?Ur=!0:Pn=!0;Pn?(se(on),on=go(ft)):Ur?(Ee(wt),wt=go(Ve)):(wt=go(Ve),on=go(ft))}}(c,p,Qc,T=>{E.push(this.wn(e,r,o,T))},T=>{E.push(this.mn(e,r,o,T))}),Ge.waitFor(E)}ln(e){let r=1;return Bd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,p)=>{p.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((E,T)=>Qc(E,T)).filter((E,T,L)=>!T||0!==Qc(E,L[T-1]));const c=[];c.push(e);for(const E of o){const T=Qc(E,e),L=Qc(E,r);if(0===T)c[0]=e.Le();else if(T>0&&L<0)c.push(E),c.push(E.Le());else if(L>0)break}c.push(r);const p=[];for(let E=0;E<c.length;E+=2)p.push(IDBKeyRange.bound([c[E].indexId,this.uid,c[E].arrayValue,c[E].directionalValue,zh,[]],[c[E+1].indexId,this.uid,c[E+1].arrayValue,c[E+1].directionalValue,zh,[]]));return p}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(ny)}getMinOffset(e,r){return Ge.mapArray(this.Ye(r),o=>this.Xe(e,o).next(c=>c||At())).next(ny)}}function ty(s){return ys(s,"collectionParents")}function Fl(s){return ys(s,"indexEntries")}function Zh(s){return ys(s,"indexConfiguration")}function Bd(s){return ys(s,"indexState")}function ny(s){$t(0!==s.length);let e=s[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<s.length;o++){const c=s[o].indexState.offset;Fc(c,e)<0&&(e=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new Ys(e.readTime,e.documentKey,r)}const ir={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jp(s,e,r){const o=s.store("mutations"),c=s.store("documentMutations"),p=[],E=IDBKeyRange.only(r.batchId);let T=0;const L=o.J({range:E},(se,Ee,Ve)=>(T++,Ve.delete()));p.push(L.next(()=>{$t(1===T)}));const $=[];for(const se of r.mutations){const Ee=Vh(e,se.key.path,r.batchId);p.push(c.delete(Ee)),$.push(se.key)}return Ge.waitFor(p).next(()=>$)}function Yc(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw At();e=s.noDocument}return JSON.stringify(e).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class Uo{constructor(e,r,o,c){this.userId=e,this.wt=r,this.indexManager=o,this.referenceDelegate=c,this.gn={}}static se(e,r,o,c){$t(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Uo(p,r,o,c)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).J({index:"userMutationsIndex",range:o},(c,p,E)=>{r=!1,E.done()}).next(()=>r)}addMutationBatch(e,r,o,c){const p=cc(e),E=uc(e);return E.add({}).next(T=>{$t("number"==typeof T);const L=new Su(T,r,o,c),$=function(Ve,ft,wt){const on=wt.baseMutations.map(Ur=>Od(Ve.ne,Ur)),Pn=wt.mutations.map(Ur=>Od(Ve.ne,Ur));return{userId:ft,batchId:wt.batchId,localWriteTimeMs:wt.localWriteTime.toMillis(),baseMutations:on,mutations:Pn}}(this.wt,this.userId,L),se=[];let Ee=new Vr((Ve,ft)=>Yn(Ve.canonicalString(),ft.canonicalString()));for(const Ve of c){const ft=Vh(this.userId,Ve.key.path,T);Ee=Ee.add(Ve.key.path.popLast()),se.push(E.put($)),se.push(p.put(ft,Mp))}return Ee.forEach(Ve=>{se.push(this.indexManager.addToCollectionParentIndex(e,Ve))}),e.addOnCommittedListener(()=>{this.gn[T]=L.keys()}),Ge.waitFor(se).next(()=>L)})}lookupMutationBatch(e,r){return uc(e).get(r).next(o=>o?($t(o.userId===this.userId),sc(this.wt,o)):null)}yn(e,r){return this.gn[r]?Ge.resolve(this.gn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const c=o.keys();return this.gn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,c=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return uc(e).J({index:"userMutationsIndex",range:c},(E,T,L)=>{T.userId===this.userId&&($t(T.batchId>=o),p=sc(this.wt,T)),L.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return uc(e).J({index:"userMutationsIndex",range:r,reverse:!0},(c,p,E)=>{o=p.batchId,E.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).K("userMutationsIndex",r).next(o=>o.map(c=>sc(this.wt,c)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Nl(this.userId,r.path),c=IDBKeyRange.lowerBound(o),p=[];return cc(e).J({range:c},(E,T,L)=>{const[$,se,Ee]=E,Ve=Vo(se);if($===this.userId&&r.path.isEqual(Ve))return uc(e).get(Ee).next(ft=>{if(!ft)throw At();$t(ft.userId===this.userId),p.push(sc(this.wt,ft))});L.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Vr(Yn);const c=[];return r.forEach(p=>{const E=Nl(this.userId,p.path),T=IDBKeyRange.lowerBound(E),L=cc(e).J({range:T},($,se,Ee)=>{const[Ve,ft,wt]=$,on=Vo(ft);Ve===this.userId&&p.path.isEqual(on)?o=o.add(wt):Ee.done()});c.push(L)}),Ge.waitFor(c).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1,p=Nl(this.userId,o),E=IDBKeyRange.lowerBound(p);let T=new Vr(Yn);return cc(e).J({range:E},(L,$,se)=>{const[Ee,Ve,ft]=L,wt=Vo(Ve);Ee===this.userId&&o.isPrefixOf(wt)?wt.length===c&&(T=T.add(ft)):se.done()}).next(()=>this.pn(e,T))}pn(e,r){const o=[],c=[];return r.forEach(p=>{c.push(uc(e).get(p).next(E=>{if(null===E)throw At();$t(E.userId===this.userId),o.push(sc(this.wt,E))}))}),Ge.waitFor(c).next(()=>o)}removeMutationBatch(e,r){return jp(e.ee,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.In(r.batchId)}),Ge.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ge.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return cc(e).J({range:o},(p,E,T)=>{if(p[0]===this.userId){const L=Vo(p[1]);c.push(L)}else T.done()}).next(()=>{$t(0===c.length)})})}containsKey(e,r){return Bp(e,this.userId,r)}Tn(e){return du(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bp(s,e,r){const o=Nl(e,r.path),c=o[1],p=IDBKeyRange.lowerBound(o);let E=!1;return cc(s).J({range:p,H:!0},(T,L,$)=>{const[se,Ee,Ve]=T;se===e&&Ee===c&&(E=!0),$.done()}).next(()=>E)}function uc(s){return ys(s,"mutations")}function cc(s){return ys(s,"documentMutations")}function du(s){return ys(s,"mutationQueues")}class xu{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new xu(0)}static Rn(){return new xu(-1)}}class ry{constructor(e,r){this.referenceDelegate=e,this.wt=r}allocateTargetId(e){return this.bn(e).next(r=>{const o=new xu(r.highestTargetId);return r.highestTargetId=o.next(),this.Pn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(r=>Rn.fromTimestamp(new Fr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.bn(e).next(c=>(c.highestListenSequenceNumber=r,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.Pn(e,c)))}addTargetData(e,r){return this.vn(e,r).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(r,o),this.Pn(e,o))))}updateTargetData(e,r){return this.vn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>lc(e).delete(r.targetId)).next(()=>this.bn(e)).next(o=>($t(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,r,o){let c=0;const p=[];return lc(e).J((E,T)=>{const L=oc(T);L.sequenceNumber<=r&&null===o.get(L.targetId)&&(c++,p.push(this.removeTargetData(e,L)))}).next(()=>Ge.waitFor(p)).next(()=>c)}forEachTarget(e,r){return lc(e).J((o,c)=>{const p=oc(c);r(p)})}bn(e){return hv(e).get("targetGlobalKey").next(r=>($t(null!==r),r))}Pn(e,r){return hv(e).put("targetGlobalKey",r)}vn(e,r){return lc(e).put(Ld(this.wt,r))}Vn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=su(r),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return lc(e).J({range:c,index:"queryTargetsIndex"},(E,T,L)=>{const $=oc(T);Yu(r,$.target)&&(p=$,L.done())}).next(()=>p)}addMatchingKeys(e,r,o){const c=[],p=Ru(e);return r.forEach(E=>{const T=Us(E.path);c.push(p.put({targetId:o,path:T})),c.push(this.referenceDelegate.addReference(e,o,E))}),Ge.waitFor(c)}removeMatchingKeys(e,r,o){const c=Ru(e);return Ge.forEach(r,p=>{const E=Us(p.path);return Ge.waitFor([c.delete([o,E]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=Ru(e),c=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),c=Ru(e);let p=Un();return c.J({range:o,H:!0},(E,T,L)=>{const $=Vo(E[1]),se=new zt($);p=p.add(se)}).next(()=>p)}containsKey(e,r){const o=Us(r.path),c=IDBKeyRange.bound([o],[Xo(o)],!1,!0);let p=0;return Ru(e).J({index:"documentTargetsIndex",H:!0,range:c},([E,T],L,$)=>{0!==E&&(p++,$.done())}).next(()=>p>0)}te(e,r){return lc(e).get(r).next(o=>o?oc(o):null)}}function lc(s){return ys(s,"targets")}function hv(s){return ys(s,"targetGlobal")}function Ru(s){return ys(s,"targetDocuments")}function fv([s,e],[r,o]){const c=Yn(s,r);return 0===c?Yn(e,o):c}class Mu{constructor(e){this.Sn=e,this.buffer=new Vr(fv),this.Dn=0}Cn(){return++this.Dn}xn(e){const r=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();fv(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class qh{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var r=this;me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){r.Nn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){Fs(o)?me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ja(o)}yield r.kn(3e5)}))}}class Qh{constructor(e,r){this.On=e,this.params=r}calculateTargetCount(e,r){return this.On.Mn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Ge.resolve(Jr.ot);const o=new Mu(r);return this.On.forEachTarget(e,c=>o.xn(c.sequenceNumber)).next(()=>this.On.Fn(e,c=>o.xn(c))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.On.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.On.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(ir)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ir):this.$n(e,r))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,r){let o,c,p,E,T,L,$;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),c=this.params.maximumSequenceNumbersToCollect):c=Ee,E=Date.now(),this.nthSequenceNumber(e,c))).next(Ee=>(o=Ee,T=Date.now(),this.removeTargets(e,o,r))).next(Ee=>(p=Ee,L=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ee=>($=Date.now(),oe()<=pt.in.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-se}ms\n\tDetermined least recently used ${c} in `+(T-E)+`ms\n\tRemoved ${p} targets in `+(L-T)+`ms\n\tRemoved ${Ee} documents in `+($-L)+`ms\nTotal Duration: ${$-se}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Ee})))}}class Hp{constructor(e,r){this.db=e,this.garbageCollector=new Qh(this,r)}Mn(e){const r=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(c=>o+c))}Bn(e){let r=0;return this.Fn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Fn(e,r){return this.Ln(e,(o,c)=>r(c))}addReference(e,r,o){return $p(e,o)}removeReference(e,r,o){return $p(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return $p(e,r)}Un(e,r){return function(o,c){let p=!1;return du(o).Y(E=>Bp(o,E,c).next(T=>(T&&(p=!0),Ge.resolve(!T)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Ln(e,(E,T)=>{if(T<=r){const L=this.Un(e,E).next($=>{if(!$)return p++,o.getEntry(e,E).next(()=>(o.removeEntry(E,Rn.min()),Ru(e).delete([0,Us(E.path)])))});c.push(L)}}).next(()=>Ge.waitFor(c)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return $p(e,r)}Ln(e,r){const o=Ru(e);let c,p=Jr.ot;return o.J({index:"documentTargetsIndex"},([E,T],{path:L,sequenceNumber:$})=>{0===E?(p!==Jr.ot&&r(new zt(Vo(c)),p),p=$,c=L):p=Jr.ot}).next(()=>{p!==Jr.ot&&r(new zt(Vo(c)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $p(s,e){return Ru(s).put((o=s.currentSequenceNumber,{targetId:0,path:Us(e.path),sequenceNumber:o}));var o}class iy{constructor(){this.changes=new oa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Ge.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sy{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return dc(e).put(o)}removeEntry(e,r,o){return dc(e).delete(function(c,p){const E=c.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Fd(p),E[E.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.qn(e,o)))}getEntry(e,r){let o=Xr.newInvalidDocument(r);return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ll(r))},(c,p)=>{o=this.Kn(r,p)}).next(()=>o)}Gn(e,r){let o={size:0,document:Xr.newInvalidDocument(r)};return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ll(r))},(c,p)=>{o={document:this.Kn(r,p),size:Yc(p)}}).next(()=>o)}getEntries(e,r){let o=Rs();return this.Qn(e,r,(c,p)=>{const E=this.Kn(c,p);o=o.insert(c,E)}).next(()=>o)}jn(e,r){let o=Rs(),c=new Lr(zt.comparator);return this.Qn(e,r,(p,E)=>{const T=this.Kn(p,E);o=o.insert(p,T),c=c.insert(p,Yc(E))}).next(()=>({documents:o,Wn:c}))}Qn(e,r,o){if(r.isEmpty())return Ge.resolve();let c=new Vr(Yh);r.forEach(L=>c=c.add(L));const p=IDBKeyRange.bound(Ll(c.first()),Ll(c.last())),E=c.getIterator();let T=E.getNext();return dc(e).J({index:"documentKeyIndex",range:p},(L,$,se)=>{const Ee=zt.fromSegments([...$.prefixPath,$.collectionGroup,$.documentId]);for(;T&&Yh(T,Ee)<0;)o(T,null),T=E.getNext();T&&T.isEqual(Ee)&&(o(T,$),T=E.hasNext()?E.getNext():null),T?se.q(Ll(T)):se.done()}).next(()=>{for(;T;)o(T,null),T=E.hasNext()?E.getNext():null})}getAllFromCollection(e,r,o){const c=[r.popLast().toArray(),r.lastSegment(),Fd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dc(e).K(IDBKeyRange.bound(c,p,!0)).next(E=>{let T=Rs();for(const L of E){const $=this.Kn(zt.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);T=T.insert($.key,$)}return T})}getAllFromCollectionGroup(e,r,o,c){let p=Rs();const E=oy(r,o),T=oy(r,Ys.max());return dc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,T,!0)},(L,$,se)=>{const Ee=this.Kn(zt.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);p=p.insert(Ee.key,Ee),p.size===c&&se.done()}).next(()=>p)}newChangeBuffer(e){return new gv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return mv(e).get("remoteDocumentGlobalKey").next(r=>($t(!!r),r))}qn(e,r){return mv(e).put("remoteDocumentGlobalKey",r)}Kn(e,r){if(r){const o=function(s,e){let r;if(e.document)r=Md(s.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=zt.fromSegments(e.noDocument.path),c=Au(e.noDocument.readTime);r=Xr.newNoDocument(o,c),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return At();{const o=zt.fromSegments(e.unknownDocument.path),c=Au(e.unknownDocument.version);r=Xr.newUnknownDocument(o,c)}}return e.readTime&&r.setReadTime(function(o){const c=new Fr(o[0],o[1]);return Rn.fromTimestamp(c)}(e.readTime)),r}(this.wt,r);if(!o.isNoDocument()||!o.version.isEqual(Rn.min()))return o}return Xr.newInvalidDocument(e)}}function pv(s){return new sy(s)}class gv extends iy{constructor(e,r){super(),this.zn=e,this.trackRemovals=r,this.Hn=new oa(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const r=[];let o=0,c=new Vr((p,E)=>Yn(p.canonicalString(),E.canonicalString()));return this.changes.forEach((p,E)=>{const T=this.Hn.get(p);if(r.push(this.zn.removeEntry(e,p,T.readTime)),E.isValidDocument()){const L=Pp(this.zn.wt,E);c=c.add(p.path.popLast()),o+=Yc(L)-T.size,r.push(this.zn.addEntry(e,p,L))}else if(o-=T.size,this.trackRemovals){const L=Pp(this.zn.wt,E.convertToNoDocument(Rn.min()));r.push(this.zn.addEntry(e,p,L))}}),c.forEach(p=>{r.push(this.zn.indexManager.addToCollectionParentIndex(e,p))}),r.push(this.zn.updateMetadata(e,o)),Ge.waitFor(r)}getFromCache(e,r){return this.zn.Gn(e,r).next(o=>(this.Hn.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.zn.jn(e,r).next(({documents:o,Wn:c})=>(c.forEach((p,E)=>{this.Hn.set(p,{size:E,readTime:o.get(p).readTime})}),o))}}function mv(s){return ys(s,"remoteDocumentGlobal")}function dc(s){return ys(s,"remoteDocumentsV14")}function Ll(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oy(s,e){const r=e.documentKey.path.toArray();return[s,Fd(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Yh(s,e){const r=s.path.toArray(),o=e.path.toArray();let c=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(c=Yn(r[p],o[p]),c)return c;return c=Yn(r.length,o.length),c||(c=Yn(r[r.length-2],o[o.length-2]),c||Yn(r[r.length-1],o[o.length-1]))}class Zb{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class yv{constructor(e,r,o,c){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(c=>(o=c,this.getBaseDocument(e,r,o))).next(c=>(null!==o&&g(o.mutation,c,Ki.empty(),Fr.now()),c))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Un()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Un()){const c=Ms();return this.populateOverlays(e,c,r).next(()=>this.computeViews(e,r,c,o).next(p=>{let E=Zc();return p.forEach((T,L)=>{E=E.insert(T,L.overlayedDocument)}),E}))}getOverlayedDocuments(e,r){const o=Ms();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Un()))}populateOverlays(e,r,o){const c=[];return o.forEach(p=>{r.has(p)||c.push(p)}),this.documentOverlayCache.getOverlays(e,c).next(p=>{p.forEach((E,T)=>{r.set(E,T)})})}computeViews(e,r,o,c){let p=Rs();const E=Tu(),T=Tu();return r.forEach((L,$)=>{const se=o.get($.key);c.has($.key)&&(void 0===se||se.mutation instanceof Z)?p=p.insert($.key,$):void 0!==se&&(E.set($.key,se.mutation.getFieldMask()),g(se.mutation,$,se.mutation.getFieldMask(),Fr.now()))}),this.recalculateAndSaveOverlays(e,p).next(L=>(L.forEach(($,se)=>E.set($,se)),r.forEach(($,se)=>{var Ee;return T.set($,new Zb(se,null!==(Ee=E.get($))&&void 0!==Ee?Ee:null))}),T))}recalculateAndSaveOverlays(e,r){const o=Tu();let c=new Lr((E,T)=>E-T),p=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(E=>{for(const T of E)T.keys().forEach(L=>{const $=r.get(L);if(null===$)return;let se=o.get(L)||Ki.empty();se=T.applyToLocalView($,se),o.set(L,se);const Ee=(c.get(T.batchId)||Un()).add(L);c=c.insert(T.batchId,Ee)})}).next(()=>{const E=[],T=c.getReverseIterator();for(;T.hasNext();){const L=T.getNext(),$=L.key,se=L.value,Ee=us();se.forEach(Ve=>{if(!p.has(Ve)){const ft=bp(r.get(Ve),o.get(Ve));null!==ft&&Ee.set(Ve,ft),p=p.add(Ve)}}),E.push(this.documentOverlayCache.saveOverlays(e,$,Ee))}return Ge.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o){return zt.isDocumentKey((c=r).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):gd(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o):this.getDocumentsMatchingCollectionQuery(e,r,o);var c}getNextDocuments(e,r,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,c).next(p=>{const E=c-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,c-p.size):Ge.resolve(Ms());let T=-1,L=p;return E.next($=>Ge.forEach($,(se,Ee)=>(T<Ee.largestBatchId&&(T=Ee.largestBatchId),p.get(se)?Ge.resolve():this.getBaseDocument(e,se,Ee).next(Ve=>{L=L.insert(se,Ve)}))).next(()=>this.populateOverlays(e,$,p)).next(()=>this.computeViews(e,L,$,Un())).next(se=>({batchId:T,changes:Ph(se)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new zt(r)).next(o=>{let c=Zc();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,r,o){const c=r.collectionGroup;let p=Zc();return this.indexManager.getCollectionParents(e,c).next(E=>Ge.forEach(E,T=>{const L=($=r,se=T.child(c),new Fo(se,null,$.explicitOrderBy.slice(),$.filters.slice(),$.limit,$.limitType,$.startAt,$.endAt));var $,se;return this.getDocumentsMatchingCollectionQuery(e,L,o).next($=>{$.forEach((se,Ee)=>{p=p.insert(se,Ee)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,r.path,o).next(p=>(c=p,this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId))).next(p=>{p.forEach((T,L)=>{const $=L.getKey();null===c.get($)&&(c=c.insert($,Xr.newInvalidDocument($)))});let E=Zc();return c.forEach((T,L)=>{const $=p.get(T);void 0!==$&&g($.mutation,L,Ki.empty(),Fr.now()),_d(r,L)&&(E=E.insert(T,L))}),E})}getBaseDocument(e,r,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,r):Ge.resolve(Xr.newInvalidDocument(r))}}class qb{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,r){return Ge.resolve(this.Jn.get(r))}saveBundleMetadata(e,r){var o;return this.Jn.set(r.id,{id:(o=r).id,version:o.version,createTime:ms(o.createTime)}),Ge.resolve()}getNamedQuery(e,r){return Ge.resolve(this.Yn.get(r))}saveNamedQuery(e,r){return this.Yn.set(r.name,{name:(o=r).name,query:Wh(o.bundledQuery),readTime:ms(o.readTime)}),Ge.resolve();var o}}class Qb{constructor(){this.overlays=new Lr(zt.comparator),this.Xn=new Map}getOverlay(e,r){return Ge.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ms();return Ge.forEach(r,c=>this.getOverlay(e,c).next(p=>{null!==p&&o.set(c,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((c,p)=>{this.ie(e,r,p)}),Ge.resolve()}removeOverlaysForBatchId(e,r,o){const c=this.Xn.get(o);return void 0!==c&&(c.forEach(p=>this.overlays=this.overlays.remove(p)),this.Xn.delete(o)),Ge.resolve()}getOverlaysForCollection(e,r,o){const c=Ms(),p=r.length+1,E=new zt(r.child("")),T=this.overlays.getIteratorFrom(E);for(;T.hasNext();){const L=T.getNext().value,$=L.getKey();if(!r.isPrefixOf($.path))break;$.path.length===p&&L.largestBatchId>o&&c.set(L.getKey(),L)}return Ge.resolve(c)}getOverlaysForCollectionGroup(e,r,o,c){let p=new Lr(($,se)=>$-se);const E=this.overlays.getIterator();for(;E.hasNext();){const $=E.getNext().value;if($.getKey().getCollectionGroup()===r&&$.largestBatchId>o){let se=p.get($.largestBatchId);null===se&&(se=Ms(),p=p.insert($.largestBatchId,se)),se.set($.getKey(),$)}}const T=Ms(),L=p.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach(($,se)=>T.set($,se)),!(T.size()>=c)););return Ge.resolve(T)}ie(e,r,o){const c=this.overlays.get(o.key);if(null!==c){const E=this.Xn.get(c.largestBatchId).delete(o.key);this.Xn.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new $h(r,o));let p=this.Xn.get(r);void 0===p&&(p=Un(),this.Xn.set(r,p)),this.Xn.set(r,p.add(o.key))}}class ay{constructor(){this.Zn=new Vr(js.ts),this.es=new Vr(js.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,r){const o=new js(e,r);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.rs(new js(e,r))}os(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new zt(new gr([])),o=new js(r,e),c=new js(r,e+1),p=[];return this.es.forEachInRange([o,c],E=>{this.rs(E),p.push(E.key)}),p}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const r=new zt(new gr([])),o=new js(r,e),c=new js(r,e+1);let p=Un();return this.es.forEachInRange([o,c],E=>{p=p.add(E.key)}),p}containsKey(e){const r=new js(e,0),o=this.Zn.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class js{constructor(e,r){this.key=e,this.ls=r}static ts(e,r){return zt.comparator(e.key,r.key)||Yn(e.ls,r.ls)}static ns(e,r){return Yn(e.ls,r.ls)||zt.comparator(e.key,r.key)}}class Yb{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.fs=1,this.ds=new Vr(js.ts)}checkEmpty(e){return Ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,c){const p=this.fs;this.fs++;const E=new Su(p,r,o,c);this.mutationQueue.push(E);for(const T of c)this.ds=this.ds.add(new js(T.key,p)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ge.resolve(E)}lookupMutationBatch(e,r){return Ge.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const c=this.ws(r+1),p=c<0?0:c;return Ge.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new js(r,0),c=new js(r,Number.POSITIVE_INFINITY),p=[];return this.ds.forEachInRange([o,c],E=>{const T=this._s(E.ls);p.push(T)}),Ge.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Vr(Yn);return r.forEach(c=>{const p=new js(c,0),E=new js(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([p,E],T=>{o=o.add(T.ls)})}),Ge.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,c=o.length+1;let p=o;zt.isDocumentKey(p)||(p=p.child(""));const E=new js(new zt(p),0);let T=new Vr(Yn);return this.ds.forEachWhile(L=>{const $=L.key.path;return!!o.isPrefixOf($)&&($.length===c&&(T=T.add(L.ls)),!0)},E),Ge.resolve(this.gs(T))}gs(e){const r=[];return e.forEach(o=>{const c=this._s(o);null!==c&&r.push(c)}),r}removeMutationBatch(e,r){$t(0===this.ys(r.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Ge.forEach(r.mutations,c=>{const p=new js(c.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,r){const o=new js(r,0),c=this.ds.firstAfterOrEqual(o);return Ge.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(e){return Ge.resolve()}ys(e,r){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const r=this.ws(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Jb{constructor(e){this.ps=e,this.docs=new Lr(zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,c=this.docs.get(o),p=c?c.size:0,E=this.ps(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Ge.resolve(o?o.document.mutableCopy():Xr.newInvalidDocument(r))}getEntries(e,r){let o=Rs();return r.forEach(c=>{const p=this.docs.get(c);o=o.insert(c,p?p.document.mutableCopy():Xr.newInvalidDocument(c))}),Ge.resolve(o)}getAllFromCollection(e,r,o){let c=Rs();const p=new zt(r.child("")),E=this.docs.getIteratorFrom(p);for(;E.hasNext();){const{key:T,value:{document:L}}=E.getNext();if(!r.isPrefixOf(T.path))break;T.path.length>r.length+1||Fc(Ua(L),o)<=0||(c=c.insert(L.key,L.mutableCopy()))}return Ge.resolve(c)}getAllFromCollectionGroup(e,r,o,c){At()}Is(e,r){return Ge.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Xb(this)}getSize(e){return Ge.resolve(this.size)}}class Xb extends iy{constructor(e){super(),this.zn=e}applyChanges(e){const r=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?r.push(this.zn.addEntry(e,c)):this.zn.removeEntry(o)}),Ge.waitFor(r)}getFromCache(e,r){return this.zn.getEntry(e,r)}getAllFromCache(e,r){return this.zn.getEntries(e,r)}}class e0{constructor(e){this.persistence=e,this.Ts=new oa(r=>su(r),Yu),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Es=0,this.As=new ay,this.targetCount=0,this.Rs=xu.An()}forEachTarget(e,r){return this.Ts.forEach((o,c)=>r(c)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Es&&(this.Es=r),Ge.resolve()}vn(e){this.Ts.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Rs=new xu(r),this.highestTargetId=r),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,r){return this.vn(r),this.targetCount+=1,Ge.resolve()}updateTargetData(e,r){return this.vn(r),Ge.resolve()}removeTargetData(e,r){return this.Ts.delete(r.target),this.As.us(r.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,r,o){let c=0;const p=[];return this.Ts.forEach((E,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Ts.delete(E),p.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)}),Ge.waitFor(p).next(()=>c)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,r){const o=this.Ts.get(r)||null;return Ge.resolve(o)}addMatchingKeys(e,r,o){return this.As.ss(r,o),Ge.resolve()}removeMatchingKeys(e,r,o){this.As.os(r,o);const c=this.persistence.referenceDelegate,p=[];return c&&r.forEach(E=>{p.push(c.markPotentiallyOrphaned(e,E))}),Ge.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.As.us(r),Ge.resolve()}getMatchingKeysForTargetId(e,r){const o=this.As.hs(r);return Ge.resolve(o)}containsKey(e,r){return Ge.resolve(this.As.containsKey(r))}}class _v{constructor(e,r){this.bs={},this.overlays={},this.Ps=new Jr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new e0(this),this.indexManager=new ey,this.remoteDocumentCache=new Jb(o=>this.referenceDelegate.Ss(o)),this.wt=new kd(r),this.Ds=new qb(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Qb,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.bs[e.toKey()];return o||(o=new Yb(r,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,r,o){me("MemoryPersistence","Starting transaction:",e);const c=new hc(this.Ps.next());return this.referenceDelegate.Cs(),o(c).next(p=>this.referenceDelegate.xs(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ns(e,r){return Ge.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,r)))}}class hc extends Lc{constructor(e){super(),this.currentSequenceNumber=e}}class Vl{constructor(e){this.persistence=e,this.ks=new ay,this.Os=null}static Ms(e){return new Vl(e)}get Fs(){if(this.Os)return this.Os;throw At()}addReference(e,r,o){return this.ks.addReference(o,r),this.Fs.delete(o.toString()),Ge.resolve()}removeReference(e,r,o){return this.ks.removeReference(o,r),this.Fs.add(o.toString()),Ge.resolve()}markPotentiallyOrphaned(e,r){return this.Fs.add(r.toString()),Ge.resolve()}removeTarget(e,r){this.ks.us(r.targetId).forEach(c=>this.Fs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(c=>{c.forEach(p=>this.Fs.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}Cs(){this.Os=new Set}xs(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.Fs,o=>{const c=zt.fromPath(o);return this.$s(e,c).next(p=>{p||r.removeEntry(c,Rn.min())})}).next(()=>(this.Os=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.Fs.delete(r.toString()):this.Fs.add(r.toString())})}Ss(e){return 0}$s(e,r){return Ge.or([()=>Ge.resolve(this.ks.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ns(e,r)])}}class vv{constructor(e){this.wt=e}O(e,r,o,c){const p=new Ea("createOrUpgrade",r);var T;o<1&&c>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rp,{unique:!0}),T.createObjectStore("documentMutations"),Wp(e),function(T){T.createObjectStore("remoteDocuments")}(e));let E=Ge.resolve();return o<3&&c>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),Wp(e)),E=E.next(()=>function(T){const L=T.store("targetGlobal"),$={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",$)}(p))),o<4&&c>=4&&(0!==o&&(E=E.next(()=>function(T,L){return L.store("mutations").K().next($=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rp,{unique:!0});const se=L.store("mutations"),Ee=$.map(Ve=>se.put(Ve));return Ge.waitFor(Ee)})}(e,p))),E=E.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(E=E.next(()=>this.Bs(p))),o<6&&c>=6&&(E=E.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(p)))),o<7&&c>=7&&(E=E.next(()=>this.Us(p))),o<8&&c>=8&&(E=E.next(()=>this.qs(e,p))),o<9&&c>=9&&(E=E.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(E=E.next(()=>this.Ks(p))),o<11&&c>=11&&(E=E.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(E=E.next(()=>{!function(T){const L=T.createObjectStore("documentOverlays",{keyPath:sv});L.createIndex("collectionPathOverlayIndex",ov,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",qm,{unique:!1})}(e)})),o<13&&c>=13&&(E=E.next(()=>function(T){const L=T.createObjectStore("remoteDocumentsV14",{keyPath:zm});L.createIndex("documentKeyIndex",Kb),L.createIndex("collectionGroupIndex",Pl)}(e)).next(()=>this.Gs(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(E=E.next(()=>this.Qs(e,p))),o<15&&c>=15&&(E=E.next(()=>function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:tv}).createIndex("sequenceNumberIndex",nv,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:rv}).createIndex("documentKeyIndex",iv,{unique:!1})}(e))),E}Ls(e){let r=0;return e.store("remoteDocuments").J((o,c)=>{r+=Yc(c)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.K().next(c=>Ge.forEach(c,p=>{const E=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",E).next(T=>Ge.forEach(T,L=>{$t(L.userId===p.userId);const $=sc(this.wt,L);return jp(e,p.userId,$).next(()=>{})}))}))}Us(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const p=[];return o.J((E,T)=>{const L=new gr(E),$=[0,Us(L)];p.push(r.get($).next(se=>se?Ge.resolve():r.put({targetId:0,path:Us(L),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Ge.waitFor(p))})}qs(e,r){e.createObjectStore("collectionParents",{keyPath:Np});const o=r.store("collectionParents"),c=new Up,p=E=>{if(c.add(E)){const T=E.lastSegment(),L=E.popLast();return o.put({collectionId:T,parent:Us(L)})}};return r.store("remoteDocuments").J({H:!0},(E,T)=>{const L=new gr(E);return p(L.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([E,T,L],$)=>{const se=Vo(T);return p(se.popLast())}))}Ks(e){const r=e.store("targets");return r.J((o,c)=>{const p=oc(c),E=Ld(this.wt,p);return r.put(E)})}Gs(e,r){const o=r.store("remoteDocuments"),c=[];return o.J((p,E)=>{const T=r.store("remoteDocumentsV14"),L=($=E,$.document?new zt(gr.fromString($.document.name).popFirst(5)):$.noDocument?zt.fromSegments($.noDocument.path):$.unknownDocument?zt.fromSegments($.unknownDocument.path):At()).path.toArray();var $;const se={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};c.push(T.put(se))}).next(()=>Ge.waitFor(c))}Qs(e,r){const o=r.store("mutations"),c=pv(this.wt),p=new _v(Vl.Ms,this.wt.ne);return o.K().next(E=>{const T=new Map;return E.forEach(L=>{var $;let se=null!==($=T.get(L.userId))&&void 0!==$?$:Un();sc(this.wt,L).keys().forEach(Ee=>se=se.add(Ee)),T.set(L.userId,se)}),Ge.forEach(T,(L,$)=>{const se=new b($),Ee=Kh.se(this.wt,se),Ve=p.getIndexManager(se),ft=Uo.se(se,this.wt,Ve,p.referenceDelegate);return new yv(c,ft,Ee,Ve).recalculateAndSaveOverlaysForDocumentKeys(new Bh(r,Jr.ot),L).next()})})}}function Wp(s){s.createObjectStore("targetDocuments",{keyPath:Zm}).createIndex("documentTargetsIndex",ev,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Op,{unique:!0}),s.createObjectStore("targetGlobal")}const Hd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jh{constructor(e,r,o,c,p,E,T,L,$,se,Ee=14){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.js=p,this.window=E,this.document=T,this.Ws=$,this.zs=se,this.Hs=Ee,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Ve=>Promise.resolve(),!Jh.V())throw new yt(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hp(this,c),this.ei=r+"main",this.wt=new kd(L),this.ni=new Rr(this.ei,this.Hs,new vv(this.wt)),this.Vs=new ry(this.referenceDelegate,this.wt),this.remoteDocumentCache=pv(this.wt),this.Ds=new Ud,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===se&&Ot("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yt(We.FAILED_PRECONDITION,Hd);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Jr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var r=this;return this.ti=function(){var o=(0,ye.Z)(function*(c){if(r.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var r=(0,ye.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,ye.Z)(function*(){r.started&&(yield r.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(r=>{r||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(r=>this.isPrimary&&!r?this.li(e).next(()=>!1):!!r&&this.fi(e).next(()=>!0))).catch(e=>{if(Fs(e))return me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Jc(e).get("owner").next(r=>Ge.resolve(this.di(r)))}_i(e){return Xh(e).delete(this.clientId)}wi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=ys(o,"clientMetadata");return c.K().next(p=>{const E=e.gi(p,18e5),T=p.filter(L=>-1===E.indexOf(L));return Ge.forEach(T,L=>c.delete(L.clientId)).next(()=>T)})}).catch(()=>[]);if(e.si)for(const o of r)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ge.resolve(!0):Jc(e).get("owner").next(r=>{if(null!==r&&this.mi(r.leaseTimestampMs,5e3)&&!this.pi(r.ownerId)){if(this.di(r)&&this.networkEnabled)return!0;if(!this.di(r)){if(!r.allowTabSynchronization)throw new yt(We.FAILED_PRECONDITION,Hd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xh(e).K().next(o=>void 0===this.gi(o,5e3).find(c=>{if(this.clientId!==c.clientId){const E=!this.inForeground&&c.inForeground,T=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||E&&T)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&me("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new Bh(r,Jr.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,r){return e.filter(o=>this.mi(o.updateTimeMs,r)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Xh(e).K().next(r=>this.gi(r,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,r){return Uo.se(e,this.wt,r,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dv(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Kh.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,r,o){me("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===r?"readonly":"readwrite",p=15===(E=this.Hs)?av:14===E?Ym:13===E?jh:12===E?Qm:11===E?Uh:void At();var E;let T;return this.ni.runTransaction(e,c,p,L=>(T=new Bh(L,this.Ps?this.Ps.next():Jr.ot),"readwrite-primary"===r?this.ai(T).next($=>!!$||this.hi(T)).next($=>{if(!$)throw Ot(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new yt(We.FAILED_PRECONDITION,Th);return o(T)}).next($=>this.fi(T).next(()=>$)):this.bi(T).next(()=>o(T)))).then(L=>(T.raiseOnCommittedEvent(),L))}bi(e){return Jc(e).get("owner").next(r=>{if(null!==r&&this.mi(r.leaseTimestampMs,5e3)&&!this.pi(r.ownerId)&&!this.di(r)&&!(this.zs||this.allowTabSynchronization&&r.allowTabSynchronization))throw new yt(We.FAILED_PRECONDITION,Hd)})}fi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jc(e).put("owner",r)}static V(){return Rr.V()}li(e){const r=Jc(e);return r.get("owner").next(o=>this.di(o)?(me("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Ge.resolve())}mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(Ot(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Xe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var r;try{const o=null!==(null===(r=this.si)||void 0===r?void 0:r.getItem(this.yi(e)));return me("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ot("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ot("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jc(s){return ys(s,"owner")}function Xh(s){return ys(s,"clientMetadata")}function hu(s,e){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+e+"/"+r+"/"}class ef{constructor(e,r,o,c){this.targetId=e,this.fromCache=r,this.Pi=o,this.vi=c}static Vi(e,r){let o=Un(),c=Un();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new ef(e,r.fromCache,o,c)}}class uy{constructor(){this.Si=!1}initialize(e,r){this.Di=e,this.indexManager=r,this.Si=!0}getDocumentsMatchingQuery(e,r,o,c){return this.Ci(e,r).next(p=>p||this.xi(e,r,c,o)).next(p=>p||this.Ni(e,r))}Ci(e,r){return Ge.resolve(null)}xi(e,r,o,c){return function(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}(r)||c.isEqual(Rn.min())?this.Ni(e,r):this.Di.getDocuments(e,o).next(p=>{const E=this.ki(r,p);return this.Oi(r,E,o,c)?this.Ni(e,r):(oe()<=pt.in.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),yd(r)),this.Mi(e,E,r,eu(c,-1)))})}ki(e,r){let o=new Vr(Rh(e));return r.forEach((c,p)=>{_d(e,p)&&(o=o.add(p))}),o}Oi(e,r,o,c){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Ni(e,r){return oe()<=pt.in.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",yd(r)),this.Di.getDocumentsMatchingQuery(e,r,Ys.min())}Mi(e,r,o,c){return this.Di.getDocumentsMatchingQuery(e,o,c).next(p=>(r.forEach(E=>{p=p.insert(E.key,E)}),p))}}class t0{constructor(e,r,o,c){this.persistence=e,this.Fi=r,this.wt=c,this.$i=new Lr(Yn),this.Bi=new oa(p=>su(p),Yu),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yv(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.$i))}}function tf(s,e,r,o){return new t0(s,e,r,o)}function cy(s,e){return nf.apply(this,arguments)}function nf(){return(nf=(0,ye.Z)(function*(s,e){const r=Lt(s);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let c;return r.mutationQueue.getAllMutationBatches(o).next(p=>(c=p,r.qi(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const E=[],T=[];let L=Un();for(const $ of c){E.push($.batchId);for(const se of $.mutations)L=L.add(se.key)}for(const $ of p){T.push($.batchId);for(const se of $.mutations)L=L.add(se.key)}return r.localDocuments.getDocuments(o,L).next($=>({Ki:$,removedBatchIds:E,addedBatchIds:T}))})})})).apply(this,arguments)}function Ev(s,e){const r=Lt(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),p=r.Ui.newChangeBuffer({trackRemovals:!0});return function(E,T,L,$){const se=L.batch,Ee=se.keys();let Ve=Ge.resolve();return Ee.forEach(ft=>{Ve=Ve.next(()=>$.getEntry(T,ft)).next(wt=>{const on=L.docVersions.get(ft);$t(null!==on),wt.version.compareTo(on)<0&&(se.applyToRemoteDocument(wt,L),wt.isValidDocument()&&(wt.setReadTime(L.commitVersion),$.addEntry(wt)))})}),Ve.next(()=>E.mutationQueue.removeMutationBatch(T,se))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(E){let T=Un();for(let L=0;L<E.mutationResults.length;++L)E.mutationResults[L].transformResults.length>0&&(T=T.add(E.batch.mutations[L].key));return T}(e))).next(()=>r.localDocuments.getDocuments(o,c))})}function ly(s){const e=Lt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Vs.getLastRemoteSnapshotVersion(r))}function $d(s,e){const r=Lt(s),o=e.snapshotVersion;let c=r.$i;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=r.Ui.newChangeBuffer({trackRemovals:!0});c=r.$i;const T=[];e.targetChanges.forEach((se,Ee)=>{const Ve=c.get(Ee);if(!Ve)return;T.push(r.Vs.removeMatchingKeys(p,se.removedDocuments,Ee).next(()=>r.Vs.addMatchingKeys(p,se.addedDocuments,Ee)));let ft=Ve.withSequenceNumber(p.currentSequenceNumber);var wt,on,Pn;e.targetMismatches.has(Ee)?ft=ft.withResumeToken(Ui.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):se.resumeToken.approximateByteSize()>0&&(ft=ft.withResumeToken(se.resumeToken,o)),c=c.insert(Ee,ft),on=ft,Pn=se,(0===(wt=Ve).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||Pn.addedDocuments.size+Pn.modifiedDocuments.size+Pn.removedDocuments.size>0)&&T.push(r.Vs.updateTargetData(p,ft))});let L=Rs(),$=Un();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(p,se))}),T.push(Xc(p,E,e.documentUpdates).next(se=>{L=se.Gi,$=se.Qi})),!o.isEqual(Rn.min())){const se=r.Vs.getLastRemoteSnapshotVersion(p).next(Ee=>r.Vs.setTargetsMetadata(p,p.currentSequenceNumber,o));T.push(se)}return Ge.waitFor(T).next(()=>E.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,L,$)).next(()=>L)}).then(p=>(r.$i=c,p))}function Xc(s,e,r){let o=Un(),c=Un();return r.forEach(p=>o=o.add(p)),e.getEntries(s,o).next(p=>{let E=Rs();return r.forEach((T,L)=>{const $=p.get(T);L.isFoundDocument()!==$.isFoundDocument()&&(c=c.add(T)),L.isNoDocument()&&L.version.isEqual(Rn.min())?(e.removeEntry(T,L.readTime),E=E.insert(T,L)):!$.isValidDocument()||L.version.compareTo($.version)>0||0===L.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(L),E=E.insert(T,L)):me("LocalStore","Ignoring outdated watch update for ",T,". Current version:",$.version," Watch version:",L.version)}),{Gi:E,Qi:c}})}function Gp(s,e){const r=Lt(s);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function $a(s,e){const r=Lt(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return r.Vs.getTargetData(o,e).next(p=>p?(c=p,Ge.resolve(c)):r.Vs.allocateTargetId(o).next(E=>(c=new rc(e,E,0,o.currentSequenceNumber),r.Vs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=r.$i.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.$i=r.$i.insert(o.targetId,o),r.Bi.set(e,o.targetId)),o})}function fu(s,e,r){return fc.apply(this,arguments)}function fc(){return(fc=(0,ye.Z)(function*(s,e,r){const o=Lt(s),c=o.$i.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,E=>o.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!Fs(E))throw E;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}o.$i=o.$i.remove(e),o.Bi.delete(c.target)})).apply(this,arguments)}function rf(s,e,r){const o=Lt(s);let c=Rn.min(),p=Un();return o.persistence.runTransaction("Execute query","readonly",E=>function(T,L,$){const se=Lt(T),Ee=se.Bi.get($);return void 0!==Ee?Ge.resolve(se.$i.get(Ee)):se.Vs.getTargetData(L,$)}(o,E,Lo(e)).next(T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(E,T.targetId).next(L=>{p=L})}).next(()=>o.Fi.getDocumentsMatchingQuery(E,e,r?c:Rn.min(),r?p:Un())).next(T=>(sf(o,Dl(e),T),{documents:T,ji:p})))}function Kp(s,e){const r=Lt(s),o=Lt(r.Vs),c=r.$i.get(e);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",p=>o.te(p,e).next(E=>E?E.target:null))}function zp(s,e){const r=Lt(s),o=r.Li.get(e)||Rn.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.Ui.getAllFromCollectionGroup(c,e,eu(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(sf(r,e,c),c))}function sf(s,e,r){let o=Rn.min();r.forEach((c,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),s.Li.set(e,o)}function of(){return(of=(0,ye.Z)(function*(s,e,r,o){const c=Lt(s);let p=Un(),E=Rs();for(const $ of r){const se=e.Wi($.metadata.name);$.document&&(p=p.add(se));const Ee=e.zi($);Ee.setReadTime(e.Hi($.metadata.readTime)),E=E.insert(se,Ee)}const T=c.Ui.newChangeBuffer({trackRemovals:!0}),L=yield $a(c,($=o,Lo(Du(gr.fromString(`__bundle__/docs/${$}`)))));var $;return c.persistence.runTransaction("Apply bundle documents","readwrite",$=>Xc($,T,E).next(se=>(T.apply($),se)).next(se=>c.Vs.removeMatchingKeysForTargetId($,L.targetId).next(()=>c.Vs.addMatchingKeys($,p,L.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments($,se.Gi,se.Qi)).next(()=>se.Gi)))})).apply(this,arguments)}function af(s,e){return qp.apply(this,arguments)}function qp(){return(qp=(0,ye.Z)(function*(s,e,r=Un()){const o=yield $a(s,Lo(Wh(e.bundledQuery))),c=Lt(s);return c.persistence.runTransaction("Save named query","readwrite",p=>{const E=ms(e.readTime);if(o.snapshotVersion.compareTo(E)>=0)return c.Ds.saveNamedQuery(p,e);const T=o.withResumeToken(Ui.EMPTY_BYTE_STRING,E);return c.$i=c.$i.insert(T.targetId,T),c.Vs.updateTargetData(p,T).next(()=>c.Vs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>c.Vs.addMatchingKeys(p,r,o.targetId)).next(()=>c.Ds.saveNamedQuery(p,e))})})).apply(this,arguments)}function Qp(s,e){return`firestore_clients_${s}_${e}`}function bv(s,e,r){let o=`firestore_mutations_${s}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function uf(s,e){return`firestore_targets_${s}_${e}`}class Wd{constructor(e,r,o,c){this.user=e,this.batchId=r,this.state=o,this.error=c}static Ji(e,r,o){const c=JSON.parse(o);let p,E="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return E&&c.error&&(E="string"==typeof c.error.message&&"string"==typeof c.error.code,E&&(p=new yt(c.error.code,c.error.message))),E?new Wd(e,r,c.state,p):(Ot("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gd{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Ji(e,r){const o=JSON.parse(r);let c,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(c=new yt(o.error.code,o.error.message))),p?new Gd(e,o.state,c):(Ot("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kd{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ji(e,r){const o=JSON.parse(r);let c="object"==typeof o&&o.activeTargetIds instanceof Array,p=xl();for(let E=0;c&&E<o.activeTargetIds.length;++E)c=Mn(o.activeTargetIds[E]),p=p.add(o.activeTargetIds[E]);return c?new Kd(e,p):(Ot("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Yp{constructor(e,r){this.clientId=e,this.onlineState=r}static Ji(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Yp(r.clientId,r.onlineState):(Ot("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jp{constructor(){this.activeTargetIds=xl()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eo{constructor(e,r,o,c,p){this.window=e,this.js=r,this.persistenceKey=o,this.tr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Lr(Yn),this.started=!1,this.ir=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.rr=Qp(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Jp),this.cr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const r=yield e.syncEngine.Ri();for(const c of r){if(c===e.tr)continue;const p=e.getItem(Qp(e.persistenceKey,c));if(p){const E=Kd.Ji(c,p);E&&(e.sr=e.sr.insert(E.clientId,E))}}e._r();const o=e.storage.getItem(e.lr);if(o){const c=e.wr(o);c&&e.mr(c)}for(const c of e.ir)e.nr(c);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let r=!1;return this.sr.forEach((o,c)=>{c.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,r,o){this.yr(e,r,o),this.pr(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(uf(this.persistenceKey,e));if(o){const c=Gd.Ji(e,o);c&&(r=c.state)}}return this.Ir.Xi(e),this._r(),r}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uf(this.persistenceKey,e))}updateQueryState(e,r,o){this.Tr(e,r,o)}handleUserChange(e,r,o){r.forEach(c=>{this.pr(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return me("SharedClientState","READ",e,r),r}setItem(e,r){me("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var r=this;const o=e;if(o.storageArea===this.storage){if(me("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Ot("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ye.Z)(function*(){if(r.started){if(null!==o.key)if(r.cr.test(o.key)){if(null==o.newValue){const c=r.Rr(o.key);return r.br(c,null)}{const c=r.Pr(o.key,o.newValue);if(c)return r.br(c.clientId,c)}}else if(r.ar.test(o.key)){if(null!==o.newValue){const c=r.vr(o.key,o.newValue);if(c)return r.Vr(c)}}else if(r.hr.test(o.key)){if(null!==o.newValue){const c=r.Sr(o.key,o.newValue);if(c)return r.Dr(c)}}else if(o.key===r.lr){if(null!==o.newValue){const c=r.wr(o.newValue);if(c)return r.mr(c)}}else if(o.key===r.ur){const c=function(p){let E=Jr.ot;if(null!=p)try{const T=JSON.parse(p);$t("number"==typeof T),E=T}catch(T){Ot("SharedClientState","Failed to read sequence number from WebStorage",T)}return E}(o.newValue);c!==Jr.ot&&r.sequenceNumberHandler(c)}else if(o.key===r.dr){const c=r.Cr(o.newValue);yield Promise.all(c.map(p=>r.syncEngine.Nr(p)))}}else r.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,r,o){const c=new Wd(this.currentUser,e,r,o),p=bv(this.persistenceKey,this.currentUser,e);this.setItem(p,c.Yi())}pr(e){const r=bv(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,r,o){const c=uf(this.persistenceKey,e),p=new Gd(e,r,o);this.setItem(c,p.Yi())}Ar(e){const r=JSON.stringify(Array.from(e));this.setItem(this.dr,r)}Rr(e){const r=this.cr.exec(e);return r?r[1]:null}Pr(e,r){const o=this.Rr(e);return Kd.Ji(o,r)}vr(e,r){const o=this.ar.exec(e),c=Number(o[1]);return Wd.Ji(new b(void 0!==o[2]?o[2]:null),c,r)}Sr(e,r){const o=this.hr.exec(e),c=Number(o[1]);return Gd.Ji(c,r)}wr(e){return Yp.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var r=this;return(0,ye.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.kr(e.batchId,e.state,e.error);me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,r){const o=r?this.sr.insert(e,r):this.sr.remove(e),c=this.gr(this.sr),p=this.gr(o),E=[],T=[];return p.forEach(L=>{c.has(L)||E.push(L)}),c.forEach(L=>{p.has(L)||T.push(L)}),this.syncEngine.Mr(E,T).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let r=xl();return e.forEach((o,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class dy{constructor(){this.Fr=new Jp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,r,o){this.$r[e]=r}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Jp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Iv{Br(e){}shutdown(){}}class wv{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const n0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hy{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class r0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,r,o,c,p){const E=this.oo(e,r);me("RestConnection","Sending: ",E,o);const T={};return this.uo(T,c,p),this.co(e,E,T,o).then(L=>(me("RestConnection","Received: ",L),L),L=>{throw Xn("RestConnection",`${e} failed with error: `,L,"url: ",E,"request:",o),L})}ao(e,r,o,c,p,E){return this.ro(e,r,o,c,p)}uo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,p)=>e[p]=c),o&&o.headers.forEach((c,p)=>e[p]=c)}oo(e,r){return`${this.so}/v1/${r}:${n0[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,r,o,c){return new Promise((p,E)=>{const T=new l;T.listenOnce(Va.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case ho.NO_ERROR:const $=T.getResponseJson();me("Connection","XHR received:",JSON.stringify($)),p($);break;case ho.TIMEOUT:me("Connection",'RPC "'+e+'" timed out'),E(new yt(We.DEADLINE_EXCEEDED,"Request time out"));break;case ho.HTTP_ERROR:const se=T.getStatus();if(me("Connection",'RPC "'+e+'" failed with status:',se,"response text:",T.getResponseText()),se>0){const Ee=T.getResponseJson().error;if(Ee&&Ee.status&&Ee.message){const Ve=function(ft){const wt=ft.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(wt)>=0?wt:We.UNKNOWN}(Ee.status);E(new yt(Ve,Ee.message))}else E(new yt(We.UNKNOWN,"Server responded with status "+T.getStatus()))}else E(new yt(We.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{me("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(c);T.send(r,"POST",L,o,15)})}ho(e,r,o){const c=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Qa(),E=Li(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Ya({})),this.uo(T.initMessageHeaders,r,o),(0,Xe.uI)()||(0,Xe.b$)()||(0,Xe.d)()||(0,Xe.w1)()||(0,Xe.Mn)()||(0,Xe.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const L=c.join("");me("Connection","Creating WebChannel: "+L,T);const $=p.createWebChannel(L,T);let se=!1,Ee=!1;const Ve=new hy({jr:wt=>{Ee?me("Connection","Not sending because WebChannel is closed:",wt):(se||(me("Connection","Opening WebChannel transport."),$.open(),se=!0),me("Connection","WebChannel sending:",wt),$.send(wt))},Wr:()=>$.close()}),ft=(wt,on,Pn)=>{wt.listen(on,Ur=>{try{Pn(Ur)}catch(_i){setTimeout(()=>{throw _i},0)}})};return ft($,v.EventType.OPEN,()=>{Ee||me("Connection","WebChannel transport opened.")}),ft($,v.EventType.CLOSE,()=>{Ee||(Ee=!0,me("Connection","WebChannel transport closed"),Ve.eo())}),ft($,v.EventType.ERROR,wt=>{Ee||(Ee=!0,Xn("Connection","WebChannel transport errored:",wt),Ve.eo(new yt(We.UNAVAILABLE,"The operation could not be completed")))}),ft($,v.EventType.MESSAGE,wt=>{var on;if(!Ee){const Pn=wt.data[0];$t(!!Pn);const Ur=Pn,_i=Ur.error||(null===(on=Ur[0])||void 0===on?void 0:on.error);if(_i){me("Connection","WebChannel received error:",_i);const ei=_i.status;let is=function(ji){const eo=tr[ji];if(void 0!==eo)return nc(eo)}(ei),Si=_i.message;void 0===is&&(is=We.INTERNAL,Si="Unknown error status: "+ei+" with message "+_i.message),Ee=!0,Ve.eo(new yt(is,Si)),$.close()}else me("Connection","WebChannel received:",Pn),Ve.no(Pn)}}),ft(E,Jo.STAT_EVENT,wt=>{wt.stat===fo.PROXY?me("Connection","Detected buffering proxy"):wt.stat===fo.NOPROXY&&me("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ve.Zr()},0),Ve}}function fy(){return"undefined"!=typeof window?window:null}function Ul(){return"undefined"!=typeof document?document:null}function jl(s){return new wp(s,!0)}class Xp{constructor(e,r,o=1e3,c=1.5,p=6e4){this.js=e,this.timerId=r,this.lo=o,this.fo=c,this._o=p,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const r=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),c=Math.max(0,r-o);c>0&&me("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.wo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,c,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class py{constructor(e,r,o,c,p,E,T,L){this.js=e,this.Ao=o,this.Ro=c,this.bo=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=T,this.listener=L,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Xp(e,r)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ye.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,r){var o=this;return(0,ye.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():r&&r.code===We.RESOURCE_EXHAUSTED?(Ot(r.toString()),Ot("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):r&&r.code===We.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(r)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),r=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Po===r&&this.Uo(o,c)},o=>{e(()=>{const c=new yt(We.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(c)})})}Uo(e,r){const o=this.Lo(this.Po);this.stream=this.Ko(e,r),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(c=>{o(()=>this.qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}xo(){var e=this;this.state=5,this.So.Io((0,ye.Z)(function*(){e.state=0,e.start()}))}qo(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return r=>{this.js.enqueueAndForget(()=>this.Po===e?r():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cv extends py{constructor(e,r,o,c,p,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,c,E),this.wt=p}Ko(e,r){return this.bo.ho("Listen",e,r)}onMessage(e){this.So.reset();const r=function(s,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:At(),c=e.targetChange.targetIds||[],p=function(L,$){return L.dt?($t(void 0===$||"string"==typeof $),Ui.fromBase64String($||"")):($t(void 0===$||$ instanceof Uint8Array),Ui.fromUint8Array($||new Uint8Array))}(s,e.targetChange.resumeToken),E=e.targetChange.cause,T=E&&function(L){const $=void 0===L.code?We.UNKNOWN:nc(L.code);return new yt($,L.message||"")}(E);r=new Ip(o,c,p,T||null)}else if("documentChange"in e){const o=e.documentChange,c=_o(s,o.document.name),p=ms(o.document.updateTime),E=new si({mapValue:{fields:o.document.fields}}),T=Xr.newFoundDocument(c,p,E);r=new Ad(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,c=_o(s,o.document),p=o.readTime?ms(o.readTime):Rn.min(),E=Xr.newNoDocument(c,p);r=new Ad([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const o=e.documentRemove,c=_o(s,o.document);r=new Ad([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return At();{const o=e.filter,p=new Nr(o.count||0);r=new Nm(o.targetId,p)}}var L;return r}(this.wt,e),o=function(c){if(!("targetChange"in c))return Rn.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?Rn.min():p.readTime?ms(p.readTime):Rn.min()}(e);return this.listener.Go(r,o)}Qo(e){const r={};r.database=Rd(this.wt),r.addTarget=function(c,p){let E;const T=p.target;return E=Ba(T)?{documents:J_(c,T)}:{query:Tp(c,T)},E.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?E.resumeToken=Um(c,p.resumeToken):p.snapshotVersion.compareTo(Rn.min())>0&&(E.readTime=Rl(c,p.snapshotVersion.toTimestamp())),E}(this.wt,e);const o=function(s,e){const r=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.Mo(r)}jo(e){const r={};r.database=Rd(this.wt),r.removeTarget=e,this.Mo(r)}}class gy extends py{constructor(e,r,o,c,p,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,c,E),this.wt=p,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,r){return this.bo.ho("Write",e,r)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const r=function(s,e){return s&&s.length>0?($t(void 0!==e),s.map(r=>function(o,c){let p=ms(o.updateTime?o.updateTime:c);return p.isEqual(Rn.min())&&(p=ms(c)),new Sl(p,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=ms(e.commitTime);return this.listener.Jo(o,r)}return $t(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Rd(this.wt),this.Mo(e)}Ho(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Od(this.wt,o))};this.Mo(r)}}class Dv extends class{}{constructor(e,r,o,c){super(),this.authCredentials=e,this.appCheckCredentials=r,this.bo=o,this.wt=c,this.Zo=!1}tu(){if(this.Zo)throw new yt(We.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.bo.ro(e,r,o,c,p)).catch(c=>{throw"FirebaseError"===c.name?(c.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(We.UNKNOWN,c.toString())})}ao(e,r,o,c){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,E])=>this.bo.ao(e,r,o,p,E,c)).catch(p=>{throw"FirebaseError"===p.name?(p.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new yt(We.UNKNOWN,p.toString())})}terminate(){this.Zo=!0}}class my{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ot(r),this.su=!1):me("OnlineStateTracker",r)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Tv{constructor(e,r,o,c,p){var E=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=p,this.du.Br(T=>{o.enqueueAndForget((0,ye.Z)(function*(){var L;pc(E)&&(me("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,ye.Z)(function*($){const se=Lt($);se.lu.add(4),yield el(se),se._u.set("Unknown"),se.lu.delete(4),yield zd(se)}),function($){return L.apply(this,arguments)})(E))}))}),this._u=new my(o,c)}}function zd(s){return cf.apply(this,arguments)}function cf(){return(cf=(0,ye.Z)(function*(s){if(pc(s))for(const e of s.fu)yield e(!0)})).apply(this,arguments)}function el(s){return eg.apply(this,arguments)}function eg(){return(eg=(0,ye.Z)(function*(s){for(const e of s.fu)yield e(!1)})).apply(this,arguments)}function aa(s,e){const r=Lt(s);r.hu.has(e.targetId)||(r.hu.set(e.targetId,e),lf(r)?_y(r):gu(r).Co()&&tg(r,e))}function tl(s,e){const r=Lt(s),o=gu(r);r.hu.delete(e),o.Co()&&yy(r,e),0===r.hu.size&&(o.Co()?o.ko():pc(r)&&r._u.set("Unknown"))}function tg(s,e){s.wu.Nt(e.targetId),gu(s).Qo(e)}function yy(s,e){s.wu.Nt(e),gu(s).jo(e)}function _y(s){s.wu=new km({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),te:e=>s.hu.get(e)||null}),gu(s).start(),s._u.iu()}function lf(s){return pc(s)&&!gu(s).Do()&&s.hu.size>0}function pc(s){return 0===Lt(s).lu.size}function vy(s){s.wu=void 0}function Sv(s){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,ye.Z)(function*(s){s.hu.forEach((e,r)=>{tg(s,e)})})).apply(this,arguments)}function Av(s,e){return ng.apply(this,arguments)}function ng(){return(ng=(0,ye.Z)(function*(s,e){vy(s),lf(s)?(s._u.uu(e),_y(s)):s._u.set("Unknown")})).apply(this,arguments)}function df(s,e,r){return qd.apply(this,arguments)}function qd(){return(qd=(0,ye.Z)(function*(s,e,r){if(s._u.set("Online"),e instanceof Ip&&2===e.state&&e.cause)try{yield(o=(0,ye.Z)(function*(c,p){const E=p.cause;for(const T of p.targetIds)c.hu.has(T)&&(yield c.remoteSyncer.rejectListen(T,E),c.hu.delete(T),c.wu.removeTarget(T))}),function(c,p){return o.apply(this,arguments)})(s,e)}catch(o){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield hf(s,o)}else if(e instanceof Ad?s.wu.Ut(e):e instanceof Nm?s.wu.zt(e):s.wu.Gt(e),!r.isEqual(Rn.min()))try{const o=yield ly(s.localStore);r.compareTo(o)>=0&&(yield function(c,p){const E=c.wu.Yt(p);return E.targetChanges.forEach((T,L)=>{if(T.resumeToken.approximateByteSize()>0){const $=c.hu.get(L);$&&c.hu.set(L,$.withResumeToken(T.resumeToken,p))}}),E.targetMismatches.forEach(T=>{const L=c.hu.get(T);if(!L)return;c.hu.set(T,L.withResumeToken(Ui.EMPTY_BYTE_STRING,L.snapshotVersion)),yy(c,T);const $=new rc(L.target,T,1,L.sequenceNumber);tg(c,$)}),c.remoteSyncer.applyRemoteEvent(E)}(s,r))}catch(o){me("RemoteStore","Failed to raise snapshot:",o),yield hf(s,o)}var o})).apply(this,arguments)}function hf(s,e,r){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,ye.Z)(function*(s,e,r){if(!Fs(e))throw e;s.lu.add(1),yield el(s),s._u.set("Offline"),r||(r=()=>ly(s.localStore)),s.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){me("RemoteStore","Retrying IndexedDB access"),yield r(),s.lu.delete(1),yield zd(s)}))})).apply(this,arguments)}function ff(s,e){return e().catch(r=>hf(s,r,e))}function nl(s){return rg.apply(this,arguments)}function rg(){return(rg=(0,ye.Z)(function*(s){const e=Lt(s),r=Oa(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;xv(e);)try{const c=yield Gp(e.localStore,o);if(null===c){0===e.au.length&&r.ko();break}o=c.batchId,ig(e,c)}catch(c){yield hf(e,c)}Rv(e)&&Ey(e)})).apply(this,arguments)}function xv(s){return pc(s)&&s.au.length<10}function ig(s,e){s.au.push(e);const r=Oa(s);r.Co()&&r.zo&&r.Ho(e.mutations)}function Rv(s){return pc(s)&&!Oa(s).Do()&&s.au.length>0}function Ey(s){Oa(s).start()}function by(s){return pf.apply(this,arguments)}function pf(){return(pf=(0,ye.Z)(function*(s){Oa(s).Xo()})).apply(this,arguments)}function Iy(s){return gf.apply(this,arguments)}function gf(){return(gf=(0,ye.Z)(function*(s){const e=Oa(s);for(const r of s.au)e.Ho(r.mutations)})).apply(this,arguments)}function wy(s,e,r){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,ye.Z)(function*(s,e,r){const o=s.au.shift(),c=Hh.from(o,e,r);yield ff(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield nl(s)})).apply(this,arguments)}function mf(s,e){return yf.apply(this,arguments)}function yf(){return(yf=(0,ye.Z)(function*(s,e){var r;e&&Oa(s).zo&&(yield(r=(0,ye.Z)(function*(o,c){if(sa(p=c.code)&&p!==We.ABORTED){const E=o.au.shift();Oa(o).No(),yield ff(o,()=>o.remoteSyncer.rejectFailedWrite(E.batchId,c)),yield nl(o)}var p}),function(o,c){return r.apply(this,arguments)})(s,e)),Rv(s)&&Ey(s)})).apply(this,arguments)}function sg(s,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,ye.Z)(function*(s,e){const r=Lt(s);r.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const o=pc(r);r.lu.add(3),yield el(r),o&&r._u.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.lu.delete(3),yield zd(r)})).apply(this,arguments)}function pu(s,e){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,ye.Z)(function*(s,e){const r=Lt(s);e?(r.lu.delete(2),yield zd(r)):e||(r.lu.add(2),yield el(r),r._u.set("Unknown"))})).apply(this,arguments)}function gu(s){return s.mu||(s.mu=function(e,r,o){const c=Lt(e);return c.tu(),new Cv(r,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(s.datastore,s.asyncQueue,{zr:Sv.bind(null,s),Jr:Av.bind(null,s),Go:df.bind(null,s)}),s.fu.push(function(){var e=(0,ye.Z)(function*(r){r?(s.mu.No(),lf(s)?_y(s):s._u.set("Unknown")):(yield s.mu.stop(),vy(s))});return function(r){return e.apply(this,arguments)}}())),s.mu}function Oa(s){return s.gu||(s.gu=function(e,r,o){const c=Lt(e);return c.tu(),new gy(r,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(s.datastore,s.asyncQueue,{zr:by.bind(null,s),Jr:mf.bind(null,s),Yo:Iy.bind(null,s),Jo:wy.bind(null,s)}),s.fu.push(function(){var e=(0,ye.Z)(function*(r){r?(s.gu.No(),yield nl(s)):(yield s.gu.stop(),s.au.length>0&&(me("RemoteStore",`Stopping write stream with ${s.au.length} pending writes`),s.au=[]))});return function(r){return e.apply(this,arguments)}}())),s.gu}class og{constructor(e,r,o,c,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=c,this.removalCallback=p,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,r,o,c,p){const E=Date.now()+o,T=new og(e,r,E,c,p);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(s,e){if(Ot("AsyncQueue",`${e}: ${s}`),Fs(s))return new yt(We.UNAVAILABLE,`${e}: ${s}`);throw s}class rl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||zt.comparator(r.key,o.key):(r,o)=>zt.comparator(r.key,o.key),this.keyedMap=Zc(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,p=o.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new rl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class ag{constructor(){this.yu=new Lr(zt.comparator)}track(e){const r=e.doc.key,o=this.yu.get(r);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(r,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(r):1===e.type&&2===o.type?this.yu=this.yu.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(r,{type:2,doc:e.doc}):At():this.yu=this.yu.insert(r,e)}pu(){const e=[];return this.yu.inorderTraversal((r,o)=>{e.push(o)}),e}}class il{constructor(e,r,o,c,p,E,T,L){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=T,this.excludesMetadataChanges=L}static fromInitialDocuments(e,r,o,c){const p=[];return r.forEach(E=>{p.push({type:0,doc:E})}),new il(e,r,rl.emptySet(r),p,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==o[c].type||!r[c].doc.isEqual(o[c].doc))return!1;return!0}}class Mv{constructor(){this.Iu=void 0,this.listeners=[]}}class ug{constructor(){this.queries=new oa(e=>md(e),Sa),this.onlineState="Unknown",this.Tu=new Set}}function cg(s,e){return lg.apply(this,arguments)}function lg(){return(lg=(0,ye.Z)(function*(s,e){const r=Lt(s),o=e.query;let c=!1,p=r.queries.get(o);if(p||(c=!0,p=new Mv),c)try{p.Iu=yield r.onListen(o)}catch(E){const T=gc(E,`Initialization of query '${yd(e.query)}' failed`);return void e.onError(T)}r.queries.set(o,p),p.listeners.push(e),e.Eu(r.onlineState),p.Iu&&e.Au(p.Iu)&&dg(r)})).apply(this,arguments)}function _f(s,e){return mc.apply(this,arguments)}function mc(){return(mc=(0,ye.Z)(function*(s,e){const r=Lt(s),o=e.query;let c=!1;const p=r.queries.get(o);if(p){const E=p.listeners.indexOf(e);E>=0&&(p.listeners.splice(E,1),c=0===p.listeners.length)}if(c)return r.queries.delete(o),r.onUnlisten(o)})).apply(this,arguments)}function Dy(s,e){const r=Lt(s);let o=!1;for(const c of e){const E=r.queries.get(c.query);if(E){for(const T of E.listeners)T.Au(c)&&(o=!0);E.Iu=c}}o&&dg(r)}function Ov(s,e,r){const o=Lt(s),c=o.queries.get(e);if(c)for(const p of c.listeners)p.onError(r);o.queries.delete(e)}function dg(s){s.Tu.forEach(e=>{e.next()})}class yc{constructor(e,r,o){this.query=e,this.Ru=r,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new il(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),r=!0):this.Vu(e,this.onlineState)&&(this.Su(e),r=!0),this.Pu=e,r}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let r=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),r=!0),r}Vu(e,r){return!e.fromCache||!(this.options.Du&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Nv{constructor(e,r){this.payload=e,this.byteLength=r}Cu(){return"metadata"in this.payload}}class Ty{constructor(e){this.wt=e}Wi(e){return _o(this.wt,e)}zi(e){return e.metadata.exists?Md(this.wt,e.document,!1):Xr.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ms(e)}}class Pv{constructor(e,r,o){this.xu=e,this.localStore=r,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sy(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r;const o=gr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ku(e){const r=new Map,o=new Ty(this.wt);for(const c of e)if(c.metadata.queries){const p=o.Wi(c.metadata.name);for(const E of c.metadata.queries){const T=(r.get(E)||Un()).add(p);r.set(E,T)}}return r}complete(){var e=this;return(0,ye.Z)(function*(){const r=yield function(s,e,r,o){return of.apply(this,arguments)}(e.localStore,new Ty(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const c of e.queries)yield af(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:r}})()}}function Sy(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class kv{constructor(e){this.key=e}}class hg{constructor(e){this.key=e}}class fg{constructor(e,r){this.query=e,this.Fu=r,this.$u=null,this.current=!1,this.Bu=Un(),this.mutatedKeys=Un(),this.Lu=Rh(e),this.Uu=new rl(this.Lu)}get qu(){return this.Fu}Ku(e,r){const o=r?r.Gu:new ag,c=r?r.Uu:this.Uu;let p=r?r.mutatedKeys:this.mutatedKeys,E=c,T=!1;const L="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,$="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((se,Ee)=>{const Ve=c.get(se),ft=_d(this.query,Ee)?Ee:null,wt=!!Ve&&this.mutatedKeys.has(Ve.key),on=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let Pn=!1;Ve&&ft?Ve.data.isEqual(ft.data)?wt!==on&&(o.track({type:3,doc:ft}),Pn=!0):this.Qu(Ve,ft)||(o.track({type:2,doc:ft}),Pn=!0,(L&&this.Lu(ft,L)>0||$&&this.Lu(ft,$)<0)&&(T=!0)):!Ve&&ft?(o.track({type:0,doc:ft}),Pn=!0):Ve&&!ft&&(o.track({type:1,doc:Ve}),Pn=!0,(L||$)&&(T=!0)),Pn&&(ft?(E=E.add(ft),p=on?p.add(se):p.delete(se)):(E=E.delete(se),p=p.delete(se)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const se="F"===this.query.limitType?E.last():E.first();E=E.delete(se.key),p=p.delete(se.key),o.track({type:1,doc:se})}return{Uu:E,Gu:o,Oi:T,mutatedKeys:p}}Qu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const c=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const p=e.Gu.pu();p.sort(($,se)=>function(Ee,Ve){const ft=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return ft(Ee)-ft(Ve)}($.type,se.type)||this.Lu($.doc,se.doc)),this.ju(o);const E=r?this.Wu():[],T=0===this.Bu.size&&this.current?1:0,L=T!==this.$u;return this.$u=T,0!==p.length||L?{snapshot:new il(this.query,e.Uu,c,p,e.mutatedKeys,0===T,L,!1),zu:E}:{zu:E}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ag,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(r=>this.Fu=this.Fu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Fu=this.Fu.delete(r)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Un(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const r=[];return e.forEach(o=>{this.Bu.has(o)||r.push(new hg(o))}),this.Bu.forEach(o=>{e.has(o)||r.push(new kv(o))}),r}Ju(e){this.Fu=e.ji,this.Bu=Un();const r=this.Ku(e.documents);return this.applyChanges(r,!0)}Yu(){return il.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class fi{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class pg{constructor(e){this.key=e,this.Xu=!1}}class s0{constructor(e,r,o,c,p,E){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.Zu={},this.tc=new oa(T=>md(T),Sa),this.ec=new Map,this.nc=new Set,this.sc=new Lr(zt.comparator),this.ic=new Map,this.rc=new ay,this.oc={},this.uc=new Map,this.cc=xu.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Ou(s,e){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,ye.Z)(function*(s,e){const r=wg(s);let o,c;const p=r.tc.get(e);if(p)o=p.targetId,r.sharedClientState.addLocalQueryTarget(o),c=p.view.Yu();else{const E=yield $a(r.localStore,Lo(e));r.isPrimaryClient&&aa(r.remoteStore,E);const T=r.sharedClientState.addLocalQueryTarget(E.targetId);o=E.targetId,c=yield Xd(r,e,o,"current"===T)}return c})).apply(this,arguments)}function Xd(s,e,r,o){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,ye.Z)(function*(s,e,r,o){s.hc=(se,Ee,Ve)=>{return(ft=(0,ye.Z)(function*(wt,on,Pn,Ur){let _i=on.view.Ku(Pn);_i.Oi&&(_i=yield rf(wt.localStore,on.query,!1).then(({documents:Si})=>on.view.Ku(Si,_i)));const ei=Ur&&Ur.targetChanges.get(on.targetId),is=on.view.applyChanges(_i,wt.isPrimaryClient,ei);return Ny(wt,on.targetId,is.zu),is.snapshot}),function(wt,on,Pn,Ur){return ft.apply(this,arguments)})(s,se,Ee,Ve);var ft};const c=yield rf(s.localStore,e,!0),p=new fg(e,c.ji),E=p.Ku(c.documents),T=Sd.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==s.onlineState),L=p.applyChanges(E,s.isPrimaryClient,T);Ny(s,r,L.zu);const $=new fi(e,r,p);return s.tc.set(e,$),s.ec.has(r)?s.ec.get(r).push(e):s.ec.set(r,[e]),L.snapshot})).apply(this,arguments)}function Fv(s,e){return gg.apply(this,arguments)}function gg(){return(gg=(0,ye.Z)(function*(s,e){const r=Lt(s),o=r.tc.get(e),c=r.ec.get(o.targetId);if(c.length>1)return r.ec.set(o.targetId,c.filter(p=>!Sa(p,e))),void r.tc.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fu(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),tl(r.remoteStore,o.targetId),Bl(r,o.targetId)}).catch(ja))):(Bl(r,o.targetId),yield fu(r.localStore,o.targetId,!0))})).apply(this,arguments)}function vf(){return(vf=(0,ye.Z)(function*(s,e,r){const o=Cg(s);try{const c=yield function(p,E){const T=Lt(p),L=Fr.now(),$=E.reduce((Ve,ft)=>Ve.add(ft.key),Un());let se,Ee;return T.persistence.runTransaction("Locally write mutations","readwrite",Ve=>{let ft=Rs(),wt=Un();return T.Ui.getEntries(Ve,$).next(on=>{ft=on,ft.forEach((Pn,Ur)=>{Ur.isValidDocument()||(wt=wt.add(Pn))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ve,ft)).next(on=>{se=on;const Pn=[];for(const Ur of E){const _i=y(Ur,se.get(Ur.key).overlayedDocument);null!=_i&&Pn.push(new Z(Ur.key,_i,cd(_i.value.mapValue),hi.exists(!0)))}return T.mutationQueue.addMutationBatch(Ve,L,Pn,E)}).next(on=>{Ee=on;const Pn=on.applyToLocalDocumentSet(se,wt);return T.documentOverlayCache.saveOverlays(Ve,on.batchId,Pn)})}).then(()=>({batchId:Ee.batchId,changes:Ph(se)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(p,E,T){let L=p.oc[p.currentUser.toKey()];L||(L=new Lr(Yn)),L=L.insert(E,T),p.oc[p.currentUser.toKey()]=L}(o,c.batchId,r),yield Nu(o,c.changes),yield nl(o.remoteStore)}catch(c){const p=gc(c,"Failed to persist write");r.reject(p)}})).apply(this,arguments)}function mg(s,e){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,ye.Z)(function*(s,e){const r=Lt(s);try{const o=yield $d(r.localStore,e);e.targetChanges.forEach((c,p)=>{const E=r.ic.get(p);E&&($t(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?E.Xu=!0:c.modifiedDocuments.size>0?$t(E.Xu):c.removedDocuments.size>0&&($t(E.Xu),E.Xu=!1))}),yield Nu(r,o,e)}catch(o){yield ja(o)}})).apply(this,arguments)}function Ry(s,e,r){const o=Lt(s);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const c=[];o.tc.forEach((p,E)=>{const T=E.view.Eu(e);T.snapshot&&c.push(T.snapshot)}),function(p,E){const T=Lt(p);T.onlineState=E;let L=!1;T.queries.forEach(($,se)=>{for(const Ee of se.listeners)Ee.Eu(E)&&(L=!0)}),L&&dg(T)}(o.eventManager,e),c.length&&o.Zu.Go(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Lv(s,e,r){return sl.apply(this,arguments)}function sl(){return(sl=(0,ye.Z)(function*(s,e,r){const o=Lt(s);o.sharedClientState.updateQueryState(e,"rejected",r);const c=o.ic.get(e),p=c&&c.key;if(p){let E=new Lr(zt.comparator);E=E.insert(p,Xr.newNoDocument(p,Rn.min()));const T=Un().add(p),L=new Td(Rn.min(),new Map,new Vr(Yn),E,T);yield mg(o,L),o.sc=o.sc.remove(p),o.ic.delete(e),Eg(o)}else yield fu(o.localStore,e,!1).then(()=>Bl(o,e,r)).catch(ja)})).apply(this,arguments)}function yg(s,e){return bf.apply(this,arguments)}function bf(){return(bf=(0,ye.Z)(function*(s,e){const r=Lt(s),o=e.batch.batchId;try{const c=yield Ev(r.localStore,e);vg(r,o,null),wf(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Nu(r,c)}catch(c){yield ja(c)}})).apply(this,arguments)}function My(s,e,r){return If.apply(this,arguments)}function If(){return(If=(0,ye.Z)(function*(s,e,r){const o=Lt(s);try{const c=yield function(p,E){const T=Lt(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let $;return T.mutationQueue.lookupMutationBatch(L,E).next(se=>($t(null!==se),$=se.keys(),T.mutationQueue.removeMutationBatch(L,se))).next(()=>T.mutationQueue.performConsistencyCheck(L)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(L,$,E)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,$)).next(()=>T.localDocuments.getDocuments(L,$))})}(o.localStore,e);vg(o,e,r),wf(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Nu(o,c)}catch(c){yield ja(c)}})).apply(this,arguments)}function _g(){return(_g=(0,ye.Z)(function*(s,e){const r=Lt(s);pc(r.remoteStore)||me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const E=Lt(p);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>E.mutationQueue.getHighestUnacknowledgedBatchId(T))}(r.localStore);if(-1===o)return void e.resolve();const c=r.uc.get(o)||[];c.push(e),r.uc.set(o,c)}catch(o){const c=gc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}})).apply(this,arguments)}function wf(s,e){(s.uc.get(e)||[]).forEach(r=>{r.resolve()}),s.uc.delete(e)}function vg(s,e,r){const o=Lt(s);let c=o.oc[o.currentUser.toKey()];if(c){const p=c.get(e);p&&(r?p.reject(r):p.resolve(),c=c.remove(e)),o.oc[o.currentUser.toKey()]=c}}function Bl(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.ec.get(e))s.tc.delete(o),r&&s.Zu.lc(o,r);s.ec.delete(e),s.isPrimaryClient&&s.rc.us(e).forEach(o=>{s.rc.containsKey(o)||Cf(s,o)})}function Cf(s,e){s.nc.delete(e.path.canonicalString());const r=s.sc.get(e);null!==r&&(tl(s.remoteStore,r),s.sc=s.sc.remove(e),s.ic.delete(r),Eg(s))}function Ny(s,e,r){for(const o of r)o instanceof kv?(s.rc.addReference(o.key,e),Py(s,o)):o instanceof hg?(me("SyncEngine","Document no longer in limbo: "+o.key),s.rc.removeReference(o.key,e),s.rc.containsKey(o.key)||Cf(s,o.key)):At()}function Py(s,e){const r=e.key,o=r.path.canonicalString();s.sc.get(r)||s.nc.has(o)||(me("SyncEngine","New document in limbo: "+r),s.nc.add(o),Eg(s))}function Eg(s){for(;s.nc.size>0&&s.sc.size<s.maxConcurrentLimboResolutions;){const e=s.nc.values().next().value;s.nc.delete(e);const r=new zt(gr.fromString(e)),o=s.cc.next();s.ic.set(o,new pg(r)),s.sc=s.sc.insert(r,o),aa(s.remoteStore,new rc(Lo(Du(r.path)),o,2,Jr.ot))}}function Nu(s,e,r){return ky.apply(this,arguments)}function ky(){return(ky=(0,ye.Z)(function*(s,e,r){const o=Lt(s),c=[],p=[],E=[];var T;o.tc.isEmpty()||(o.tc.forEach((T,L)=>{E.push(o.hc(L,e,r).then($=>{if($){o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,$.fromCache?"not-current":"current"),c.push($);const se=ef.Vi(L.targetId,$);p.push(se)}}))}),yield Promise.all(E),o.Zu.Go(c),yield(T=(0,ye.Z)(function*(L,$){const se=Lt(L);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>Ge.forEach($,Ve=>Ge.forEach(Ve.Pi,ft=>se.persistence.referenceDelegate.addReference(Ee,Ve.targetId,ft)).next(()=>Ge.forEach(Ve.vi,ft=>se.persistence.referenceDelegate.removeReference(Ee,Ve.targetId,ft)))))}catch(Ee){if(!Fs(Ee))throw Ee;me("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of $){const Ve=Ee.targetId;if(!Ee.fromCache){const ft=se.$i.get(Ve),on=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);se.$i=se.$i.insert(Ve,on)}}}),function(L,$){return T.apply(this,arguments)})(o.localStore,p))})).apply(this,arguments)}function o0(s,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,ye.Z)(function*(s,e){const r=Lt(s);if(!r.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const o=yield cy(r.localStore,e);r.currentUser=e,(c=r).uc.forEach(E=>{E.forEach(T=>{T.reject(new yt(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.uc.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Nu(r,o.Ki)}var c})).apply(this,arguments)}function Vv(s,e){const r=Lt(s),o=r.ic.get(e);if(o&&o.Xu)return Un().add(o.key);{let c=Un();const p=r.ec.get(e);if(!p)return c;for(const E of p){const T=r.tc.get(E);c=c.unionWith(T.view.qu)}return c}}function Fy(s,e){return Df.apply(this,arguments)}function Df(){return(Df=(0,ye.Z)(function*(s,e){const r=Lt(s),o=yield rf(r.localStore,e.query,!0),c=e.view.Ju(o);return r.isPrimaryClient&&Ny(r,e.targetId,c.zu),c})).apply(this,arguments)}function Uv(s,e){return jo.apply(this,arguments)}function jo(){return(jo=(0,ye.Z)(function*(s,e){const r=Lt(s);return zp(r.localStore,e).then(o=>Nu(r,o))})).apply(this,arguments)}function a0(s,e,r,o){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,ye.Z)(function*(s,e,r,o){const c=Lt(s),p=yield function(E,T){const L=Lt(E),$=Lt(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",se=>$.yn(se,T).next(Ee=>Ee?L.localDocuments.getDocuments(se,Ee):Ge.resolve(null)))}(c.localStore,e);var T;null!==p?("pending"===r?yield nl(c.remoteStore):"acknowledged"===r||"rejected"===r?(vg(c,e,o||null),wf(c,e),T=e,Lt(Lt(c.localStore).mutationQueue).In(T)):At(),yield Nu(c,p)):me("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Tf(){return(Tf=(0,ye.Z)(function*(s,e){const r=Lt(s);if(wg(r),Cg(r),!0===e&&!0!==r.ac){const o=r.sharedClientState.getAllActiveQueryTargets(),c=yield bg(r,o.toArray());r.ac=!0,yield pu(r.remoteStore,!0);for(const p of c)aa(r.remoteStore,p)}else if(!1===e&&!1!==r.ac){const o=[];let c=Promise.resolve();r.ec.forEach((p,E)=>{r.sharedClientState.isLocalQueryTarget(E)?o.push(E):c=c.then(()=>(Bl(r,E),fu(r.localStore,E,!0))),tl(r.remoteStore,E)}),yield c,yield bg(r,o),function(p){const E=Lt(p);E.ic.forEach((T,L)=>{tl(E.remoteStore,L)}),E.rc.cs(),E.ic=new Map,E.sc=new Lr(zt.comparator)}(r),r.ac=!1,yield pu(r.remoteStore,!1)}})).apply(this,arguments)}function bg(s,e,r){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,ye.Z)(function*(s,e,r){const o=Lt(s),c=[],p=[];for(const E of e){let T;const L=o.ec.get(E);if(L&&0!==L.length){T=yield $a(o.localStore,Lo(L[0]));for(const $ of L){const se=o.tc.get($),Ee=yield Fy(o,se);Ee.snapshot&&p.push(Ee.snapshot)}}else{const $=yield Kp(o.localStore,E);T=yield $a(o.localStore,$),yield Xd(o,Ig($),E,!1)}c.push(T)}return o.Zu.Go(p),c})).apply(this,arguments)}function Ig(s){return fd(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Bv(s){const e=Lt(s);return Lt(Lt(e.localStore).persistence).Ri()}function Vy(s,e,r,o){return th.apply(this,arguments)}function th(){return(th=(0,ye.Z)(function*(s,e,r,o){const c=Lt(s);if(c.ac)return void me("SyncEngine","Ignoring unexpected query state notification.");const p=c.ec.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const E=yield zp(c.localStore,Dl(p[0])),T=Td.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Nu(c,E,T);break}case"rejected":yield fu(c.localStore,e,!0),Bl(c,e,o);break;default:At()}})).apply(this,arguments)}function Hv(s,e,r){return nh.apply(this,arguments)}function nh(){return(nh=(0,ye.Z)(function*(s,e,r){const o=wg(s);if(o.ac){for(const c of e){if(o.ec.has(c)){me("SyncEngine","Adding an already active target "+c);continue}const p=yield Kp(o.localStore,c),E=yield $a(o.localStore,p);yield Xd(o,Ig(p),E.targetId,!1),aa(o.remoteStore,E)}for(const c of r)o.ec.has(c)&&(yield fu(o.localStore,c,!1).then(()=>{tl(o.remoteStore,c),Bl(o,c)}).catch(ja))}})).apply(this,arguments)}function wg(s){const e=Lt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=mg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.Zu.Go=Dy.bind(null,e.eventManager),e.Zu.lc=Ov.bind(null,e.eventManager),e}function Cg(s){const e=Lt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=My.bind(null,e),e}class Uy{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,ye.Z)(function*(){r.wt=jl(e.databaseInfo.databaseId),r.sharedClientState=r.dc(e),r.persistence=r._c(e),yield r.persistence.start(),r.localStore=r.wc(e),r.gcScheduler=r.mc(e,r.localStore),r.indexBackfillerScheduler=r.gc(e,r.localStore)})()}mc(e,r){return null}gc(e,r){return null}wc(e){return tf(this.persistence,new uy,e.initialUser,this.wt)}_c(e){return new _v(Vl.Ms,this.wt)}dc(e){return new dy}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jy extends Uy{constructor(e,r,o){super(),this.yc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,ye.Z)(function*(){yield r().call(o,e),yield o.yc.initialize(o,e),yield Cg(o.yc.syncEngine),yield nl(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return tf(this.persistence,new uy,e.initialUser,this.wt)}mc(e,r){return new qh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}gc(e,r){const o=new nu(r,this.persistence);return new Oo(e.asyncQueue,o)}_c(e){const r=hu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new Jh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,fy(),Ul(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new dy}}class By extends jy{constructor(e,r){super(e,r,!1),this.yc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,ye.Z)(function*(){yield r().call(o,e);const c=o.yc.syncEngine;o.sharedClientState instanceof Eo&&(o.sharedClientState.syncEngine={kr:a0.bind(null,c),Or:Vy.bind(null,c),Mr:Hv.bind(null,c),Ri:Bv.bind(null,c),Nr:Uv.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var p=(0,ye.Z)(function*(E){yield function(s,e){return Tf.apply(this,arguments)}(o.yc.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start():E||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(E&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():E||o.indexBackfillerScheduler.stop())});return function(E){return p.apply(this,arguments)}}())})()}dc(e){const r=fy();if(!Eo.V(r))throw new yt(We.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=hu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Eo(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Hl{initialize(e,r){var o=this;return(0,ye.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Ry(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=o0.bind(null,o.syncEngine),yield pu(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ug}createDatastore(e){const r=jl(e.databaseInfo.databaseId),o=new r0(e.databaseInfo);return new Dv(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,c=e.asyncQueue,p=T=>Ry(this.syncEngine,T,0),E=wv.V()?new wv:new Iv,new Tv(r,o,c,p,E);var r,o,c,p,E}createSyncEngine(e,r){return function(o,c,p,E,T,L,$){const se=new s0(o,c,p,E,T,L);return $&&(se.ac=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,ye.Z)(function*(r){const o=Lt(r);me("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield el(o),o.du.shutdown(),o._u.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function ol(s,e=10240){let r=0;return{read:()=>(0,ye.Z)(function*(){if(r<s.byteLength){const o={value:s.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $l{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Na{constructor(e,r){this.Ec=e,this.wt=r,this.metadata=new kr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,ye.Z)(function*(){const r=yield e.bc();if(null===r)return null;const o=e.Ac.decode(r),c=Number(o);isNaN(c)&&e.Pc(`length string (${o}) is not valid number`);const p=yield e.vc(c);return new Nv(JSON.parse(p),r.length+c)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,ye.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const r=e.Vc();r<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}vc(e){var r=this;return(0,ye.Z)(function*(){for(;r.buffer.length<e;)(yield r.Sc())&&r.Pc("Reached the end of bundle when more is expected.");const o=r.Ac.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,ye.Z)(function*(){const r=yield e.Ec.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class rh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ye.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new yt(We.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,ye.Z)(function*(p,E){const T=Lt(p),L=Rd(T.wt)+"/documents",$={documents:E.map(ft=>xd(T.wt,ft))},se=yield T.ao("BatchGetDocuments",L,$,E.length),Ee=new Map;se.forEach(ft=>{const wt=function(s,e){return"found"in e?function(r,o){$t(!!o.found);const c=_o(r,o.found.name),p=ms(o.found.updateTime),E=new si({mapValue:{fields:o.found.fields}});return Xr.newFoundDocument(c,p,E)}(s,e):"missing"in e?function(r,o){$t(!!o.missing),$t(!!o.readTime);const c=_o(r,o.missing),p=ms(o.readTime);return Xr.newNoDocument(c,p)}(s,e):At()}(T.wt,ft);Ee.set(wt.key.toString(),wt)});const Ve=[];return E.forEach(ft=>{const wt=Ee.get(ft.toString());$t(!!wt),Ve.push(wt)}),Ve}),function(p,E){return c.apply(this,arguments)})(r.datastore,e);var c;return o.forEach(c=>r.recordVersion(c)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,c)=>{const p=zt.fromPath(c);e.mutations.push(new en(p,e.precondition(p)))}),yield(o=(0,ye.Z)(function*(c,p){const E=Lt(c),T=Rd(E.wt)+"/documents",L={writes:p.map($=>Od(E.wt,$))};yield E.ro("Commit",T,L)}),function(c,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw At();r=Rn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new yt(We.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?hi.updateTime(r):hi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rn.min()))throw new yt(We.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(r)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Wv{constructor(e,r,o,c,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=c,this.deferred=p,this.Dc=o.maxAttempts,this.So=new Xp(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,ye.Z)(function*(){const r=new rh(e.datastore),o=e.xc(r);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(c)}).catch(p=>{e.Nc(p)}))}).catch(c=>{e.Nc(c)})}))}xc(e){try{const r=this.updateFunction(e);return!Nn(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!sa(r)}return!1}}class Gv{constructor(e,r,o,c){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=c,this.user=b.UNAUTHENTICATED,this.clientId=wu.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var E=(0,ye.Z)(function*(T){me("FirestoreClient","Received user=",T.uid),yield p.authCredentialListener(T),p.user=T});return function(T){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(o,E=>(me("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(We.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const c=gc(o,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function Af(s,e){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield e.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(function(){var c=(0,ye.Z)(function*(p){o.isEqual(p)||(yield cy(e.localStore,p),o=p)});return function(p){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e})).apply(this,arguments)}function Wl(s,e){return Os.apply(this,arguments)}function Os(){return(Os=(0,ye.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const r=yield Pu(s);me("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield e.initialize(r,o),s.setCredentialChangeListener(c=>sg(e.remoteStore,c)),s.setAppCheckTokenChangeListener((c,p)=>sg(e.remoteStore,p)),s.onlineComponents=e})).apply(this,arguments)}function Pu(s){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,ye.Z)(function*(s){return s.offlineComponents||(me("FirestoreClient","Using default OfflineComponentProvider"),yield Af(s,new Uy)),s.offlineComponents})).apply(this,arguments)}function bo(s){return ih.apply(this,arguments)}function ih(){return(ih=(0,ye.Z)(function*(s){return s.onlineComponents||(me("FirestoreClient","Using default OnlineComponentProvider"),yield Wl(s,new Hl)),s.onlineComponents})).apply(this,arguments)}function al(s){return Pu(s).then(e=>e.persistence)}function _c(s){return Pu(s).then(e=>e.localStore)}function ul(s){return bo(s).then(e=>e.remoteStore)}function vc(s){return bo(s).then(e=>e.syncEngine)}function Ga(s){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,ye.Z)(function*(s){const e=yield bo(s),r=e.eventManager;return r.onListen=Ou.bind(null,e.syncEngine),r.onUnlisten=Fv.bind(null,e.syncEngine),r})).apply(this,arguments)}function xf(s,e,r={}){const o=new kr;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(c,p,E,T,L){const $=new $l({next:Ee=>{p.enqueueAndForget(()=>_f(c,se));const Ve=Ee.docs.has(E);!Ve&&Ee.fromCache?L.reject(new yt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):Ve&&Ee.fromCache&&T&&"server"===T.source?L.reject(new yt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Ee)},error:Ee=>L.reject(Ee)}),se=new yc(Du(E.path),$,{includeMetadataChanges:!0,Du:!0});return cg(c,se)}(yield Ga(s),s.asyncQueue,e,r,o)})),o.promise}function Rf(s,e,r={}){const o=new kr;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(c,p,E,T,L){const $=new $l({next:Ee=>{p.enqueueAndForget(()=>_f(c,se)),Ee.fromCache&&"server"===T.source?L.reject(new yt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Ee)},error:Ee=>L.reject(Ee)}),se=new yc(E,$,{includeMetadataChanges:!0,Du:!0});return cg(c,se)}(yield Ga(s),s.asyncQueue,e,r,o)})),o.promise}const Mf=new Map;function sh(s,e,r){if(!r)throw new yt(We.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Hy(s,e,r,o){if(!0===e&&!0===o)throw new yt(We.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Rg(s){if(!zt.isDocumentKey(s))throw new yt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Mg(s){if(zt.isDocumentKey(s))throw new yt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oh(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(r=s).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof s?"a function":At()}function Ar(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new yt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=oh(s);throw new yt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}function $y(s,e){if(e<=0)throw new yt(We.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class Kv{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new yt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,e instanceof yn?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new yt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yn(c.options.projectId)}(e))}get app(){if(!this._app)throw new yt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new po;switch(r.type){case"gapi":const o=r.client;return $t(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Iu(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new yt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Mf.get(e);r&&(me("ComponentProvider","Removing Datastore"),Mf.delete(e),r.terminate())}(this),Promise.resolve()}}class Ti{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class Bs{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class mu extends Bs{constructor(e,r,o){super(e,r,Du(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new zt(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Gy(s,e,...r){if(s=(0,Xe.m9)(s),sh("collection","path",e),s instanceof ah){const o=gr.fromString(e,...r);return Mg(o),new mu(s,null,o)}{if(!(s instanceof Ti||s instanceof mu))throw new yt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(gr.fromString(e,...r));return Mg(o),new mu(s.firestore,null,o)}}function Of(s,e,...r){if(s=(0,Xe.m9)(s),1===arguments.length&&(e=wu.I()),sh("doc","path",e),s instanceof ah){const o=gr.fromString(e,...r);return Rg(o),new Ti(s,null,new zt(o))}{if(!(s instanceof Ti||s instanceof mu))throw new yt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(gr.fromString(e,...r));return Rg(o),new Ti(s.firestore,s instanceof mu?s.converter:null,new zt(o))}}function Og(s,e){return s=(0,Xe.m9)(s),e=(0,Xe.m9)(e),(s instanceof Ti||s instanceof mu)&&(e instanceof Ti||e instanceof mu)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function zv(s,e){return s=(0,Xe.m9)(s),e=(0,Xe.m9)(e),s instanceof Bs&&e instanceof Bs&&s.firestore===e.firestore&&Sa(s._query,e._query)&&s.converter===e.converter}class Zv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Xp(this,"async_queue_retry"),this.Kc=()=>{const r=Ul();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.So.Eo()};const e=Ul();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const r=Ul();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const r=new kr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(r){if(!Fs(r))throw r;me("AsyncQueue","Operation failed with retryable error: "+r)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const r=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(p){let E=p.message||"";return p.stack&&(E=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),E}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=r,r}enqueueAfterDelay(e,r,o){this.Gc(),this.qc.indexOf(e)>-1&&(r=0);const c=og.createAndSchedule(this,e,r,o,p=>this.Wc(p));return this.$c.push(c),c}Gc(){this.Bc&&At()}verifyOperationInProgress(){}zc(){var e=this;return(0,ye.Z)(function*(){let r;do{r=e.Oc,yield r}while(r!==e.Oc)})()}Hc(e){for(const r of this.$c)if(r.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.$c)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const r=this.$c.indexOf(e);this.$c.splice(r,1)}}function Ky(s){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(s)}class zy{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ni extends ah{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Zv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qy(this),this._firestoreClient.terminate()}}function Qi(s){return s._firestoreClient||qy(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function qy(s){var e;const r=s._freezeSettings(),o=(p=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Qt(s._databaseId,p,s._persistenceKey,(T=r).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var p,T;s._firestoreClient=new Gv(s._authCredentials,s._appCheckCredentials,s._queue,o)}function Qy(s,e,r){const o=new kr;return s.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield Af(s,r),yield Wl(s,e),o.resolve()}catch(c){const p=c;if(!("FirebaseError"===(E=p).name?E.code===We.FAILED_PRECONDITION||E.code===We.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&E instanceof DOMException)||22===E.code||20===E.code||11===E.code))throw p;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var E})).then(()=>o.promise)}function Xy(s){if(s._initialized||s._terminated)throw new yt(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new yt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _u(Ui.fromBase64String(e))}catch(r){throw new yt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new _u(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ic{constructor(e){this._methodName=e}}class uh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new yt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new yt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}const tE=/^__.*__$/;class nE{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Z(e,this.data,this.fieldMask,r,this.fieldTransforms):new H(e,this.data,r,this.fieldTransforms)}}class Ng{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Z(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function e_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class ch{constructor(e,r,o,c,p,E){this.settings=e,this.databaseId=r,this.wt=o,this.ignoreUndefinedProperties=c,void 0===p&&this.Xc(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new ch(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.ta({path:o,na:!1});return c.sa(e),c}ia(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),c=this.ta({path:o,na:!1});return c.Xc(),c}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Yl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(e_(this.Zc)&&tE.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class rE{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.wt=o||jl(e)}aa(e,r,o,c=!1){return new ch({Zc:e,methodName:r,ca:o,path:Er.emptyPath(),na:!1,ua:c},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function wc(s){const e=s._freezeSettings(),r=jl(s._databaseId);return new rE(s._databaseId,!!e.ignoreUndefinedProperties,r)}function lh(s,e,r,o,c,p={}){const E=s.aa(p.merge||p.mergeFields?2:0,e,r,c);Vf("Data must be an object, but it was:",E,o);const T=Ff(o,E);let L,$;if(p.merge)L=new Ki(E.fieldMask),$=E.fieldTransforms;else if(p.mergeFields){const se=[];for(const Ee of p.mergeFields){const Ve=n_(e,Ee,r);if(!E.contains(Ve))throw new yt(We.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);Pg(se,Ve)||se.push(Ve)}L=new Ki(se),$=E.fieldTransforms.filter(Ee=>L.covers(Ee.field))}else L=null,$=E.fieldTransforms;return new nE(new si(T),L,$)}class cl extends Ic{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cl}}function ql(s,e,r){return new ch({Zc:3,ca:e.settings.ca,methodName:s._methodName,na:r},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Cc extends Ic{_toFieldTransform(e){return new Tl(e.path,new Aa)}isEqual(e){return e instanceof Cc}}class t_ extends Ic{constructor(e,r){super(e),this.ha=r}_toFieldTransform(e){const r=ql(this,e,!0),o=this.ha.map(p=>ll(p,r)),c=new xa(o);return new Tl(e.path,c)}isEqual(e){return this===e}}class iE extends Ic{constructor(e,r){super(e),this.ha=r}_toFieldTransform(e){const r=ql(this,e,!0),o=this.ha.map(p=>ll(p,r)),c=new yo(o);return new Tl(e.path,c)}isEqual(e){return this===e}}class dh extends Ic{constructor(e,r){super(e),this.la=r}_toFieldTransform(e){const r=new uu(e.wt,Oh(e.wt,this.la));return new Tl(e.path,r)}isEqual(e){return this===e}}function Pf(s,e,r,o){const c=s.aa(1,e,r);Vf("Data must be an object, but it was:",c,o);const p=[],E=si.empty();Ia(o,(L,$)=>{const se=Ql(e,L,r);$=(0,Xe.m9)($);const Ee=c.ia(se);if($ instanceof cl)p.push(se);else{const Ve=ll($,Ee);null!=Ve&&(p.push(se),E.set(se,Ve))}});const T=new Ki(p);return new Ng(E,T,c.fieldTransforms)}function hh(s,e,r,o,c,p){const E=s.aa(1,e,r),T=[n_(e,o,r)],L=[c];if(p.length%2!=0)throw new yt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<p.length;Ve+=2)T.push(n_(e,p[Ve])),L.push(p[Ve+1]);const $=[],se=si.empty();for(let Ve=T.length-1;Ve>=0;--Ve)if(!Pg($,T[Ve])){const ft=T[Ve];let wt=L[Ve];wt=(0,Xe.m9)(wt);const on=E.ia(ft);if(wt instanceof cl)$.push(ft);else{const Pn=ll(wt,on);null!=Pn&&($.push(ft),se.set(ft,Pn))}}const Ee=new Ki($);return new Ng(se,Ee,E.fieldTransforms)}function kf(s,e,r,o=!1){return ll(r,s.aa(o?4:3,e))}function ll(s,e){if(Lf(s=(0,Xe.m9)(s)))return Vf("Unsupported field value:",e,s),Ff(s,e);if(s instanceof Ic)return function(r,o){if(!e_(o.Zc))throw o.oa(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(r,o){const c=[];let p=0;for(const E of r){let T=ll(E,o.ra(p));null==T&&(T={nullValue:"NULL_VALUE"}),c.push(T),p++}return{arrayValue:{values:c}}}(s,e)}return function(r,o){if(null===(r=(0,Xe.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Oh(o.wt,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Fr.fromDate(r);return{timestampValue:Rl(o.wt,c)}}if(r instanceof Fr){const c=new Fr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(o.wt,c)}}if(r instanceof uh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _u)return{bytesValue:Um(o.wt,r._byteString)};if(r instanceof Ti){const c=o.databaseId,p=r.firestore._databaseId;if(!p.isEqual(c))throw o.oa(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ml(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.oa(`Unsupported field value: ${oh(r)}`)}(s,e)}function Ff(s,e){const r={};return _l(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(s,(o,c)=>{const p=ll(c,e.ea(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function Lf(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Fr||s instanceof uh||s instanceof _u||s instanceof Ti||s instanceof Ic)}function Vf(s,e,r){if(!Lf(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=oh(r);throw e.oa("an object"===o?s+" a custom object":s+" "+o)}var o}function n_(s,e,r){if((e=(0,Xe.m9)(e))instanceof yu)return e._internalPath;if("string"==typeof e)return Ql(s,e);throw Yl("Field path arguments must be of type string or ",s,!1,void 0,r)}const sE=new RegExp("[~\\*/\\[\\]]");function Ql(s,e,r){if(e.search(sE)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new yu(...e.split("."))._internalPath}catch(o){throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function Yl(s,e,r,o,c){const p=o&&!o.isEmpty(),E=void 0!==c;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let L="";return(p||E)&&(L+=" (found",p&&(L+=` in field ${o}`),E&&(L+=` in document ${c}`),L+=")"),new yt(We.INVALID_ARGUMENT,T+s+L)}function Pg(s,e){return s.some(r=>r.isEqual(e))}class Jl{constructor(e,r,o,c,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(fh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class kg extends Jl{data(){return super.data()}}function fh(s,e){return"string"==typeof e?Ql(s,e):e instanceof yu?e._internalPath:e._delegate._internalPath}class ku{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ka extends Jl{constructor(e,r,o,c,p,E){super(e,r,o,c,E),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(fh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class dl extends Ka{data(e={}){return super.data(e)}}class Dc{constructor(e,r,o,c){this._firestore=e,this._userDataWriter=r,this._snapshot=c,this.metadata=new ku(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new dl(this._firestore,this._userDataWriter,o.key,o,new ku(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new yt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(E=>({type:"added",doc:new dl(o._firestore,o._userDataWriter,E.doc.key,E.doc,new ku(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(E=>c||3!==E.type).map(E=>{const T=new dl(o._firestore,o._userDataWriter,E.doc.key,E.doc,new ku(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,$=-1;return 0!==E.type&&(L=p.indexOf(E.doc.key),p=p.delete(E.doc.key)),1!==E.type&&(p=p.add(E.doc),$=p.indexOf(E.doc.key)),{type:r_(E.type),doc:T,oldIndex:L,newIndex:$}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function r_(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function Fg(s,e){return s instanceof Ka&&e instanceof Ka?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Dc&&e instanceof Dc&&s._firestore===e._firestore&&zv(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}function Uf(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new yt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xl{}function Tc(s,...e){for(const r of e)s=r._apply(s);return s}class i_ extends Xl{constructor(e,r,o){super(),this.fa=e,this.da=r,this._a=o,this.type="where"}_apply(e){const r=wc(e.firestore),o=function(c,p,E,T,L,$,se){let Ee;if(L.isKeyField()){if("array-contains"===$||"array-contains-any"===$)throw new yt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$}' queries on documentId().`);if("in"===$||"not-in"===$){$g(se,$);const ft=[];for(const wt of se)ft.push(a_(T,c,wt));Ee={arrayValue:{values:ft}}}else Ee=a_(T,c,se)}else"in"!==$&&"not-in"!==$&&"array-contains-any"!==$||$g(se,$),Ee=kf(E,"where",se,"in"===$||"not-in"===$);const Ve=qi.create(L,$,Ee);return function(ft,wt){if(wt.ht()){const Pn=Xu(ft);if(null!==Pn&&!Pn.isEqual(wt.field))throw new yt(We.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pn.toString()}' and '${wt.field.toString()}'`);const Ur=pd(ft);null!==Ur&&u_(0,wt.field,Ur)}const on=function(Pn,Ur){for(const _i of Pn.filters)if(Ur.indexOf(_i.op)>=0)return _i.op;return null}(ft,function(Pn){switch(Pn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(wt.op));if(null!==on)throw new yt(We.INVALID_ARGUMENT,on===wt.op?`Invalid query. You cannot use more than one '${wt.op.toString()}' filter.`:`Invalid query. You cannot use '${wt.op.toString()}' filters with '${on.toString()}' filters.`)}(c,Ve),Ve}(e._query,0,r,e.firestore._databaseId,this.fa,this.da,this._a);return new Bs(e.firestore,e.converter,function(c,p){const E=c.filters.concat([p]);return new Fo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),E,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}class Lg extends Xl{constructor(e,r){super(),this.fa=e,this.wa=r,this.type="orderBy"}_apply(e){const r=function(o,c,p){if(null!==o.startAt)throw new yt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new yt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new ou(c,p);return function(T,L){if(null===pd(T)){const $=Xu(T);null!==$&&u_(0,$,L.field)}}(o,E),E}(e._query,this.fa,this.wa);return new Bs(e.firestore,e.converter,function(o,c){const p=o.explicitOrderBy.concat([c]);return new Fo(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Bf extends Xl{constructor(e,r,o){super(),this.type=e,this.ma=r,this.ga=o}_apply(e){return new Bs(e.firestore,e.converter,Ta(e._query,this.ma,this.ga))}}class Hf extends Xl{constructor(e,r,o){super(),this.type=e,this.ya=r,this.pa=o}_apply(e){const r=o_(e,this.type,this.ya,this.pa);return new Bs(e.firestore,e.converter,(c=r,new Fo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class $f extends Xl{constructor(e,r,o){super(),this.type=e,this.ya=r,this.pa=o}_apply(e){const r=o_(e,this.type,this.ya,this.pa);return new Bs(e.firestore,e.converter,(c=r,new Fo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function o_(s,e,r,o){if(r[0]=(0,Xe.m9)(r[0]),r[0]instanceof Jl)return function(c,p,E,T,L){if(!T)throw new yt(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const $=[];for(const se of ec(c))if(se.field.isKeyField())$.push(wr(p,T.key));else{const Ee=T.data.field(se.field);if(Pe(Ee))throw new yt(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ve=se.field.canonicalString();throw new yt(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ve}' (used as the orderBy) does not exist.`)}$.push(Ee)}return new Ha($,L)}(s._query,s.firestore._databaseId,e,r[0]._document,o);{const c=wc(s.firestore);return function(p,E,T,L,$,se){const Ee=p.explicitOrderBy;if($.length>Ee.length)throw new yt(We.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ve=[];for(let ft=0;ft<$.length;ft++){const wt=$[ft];if(Ee[ft].field.isKeyField()){if("string"!=typeof wt)throw new yt(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof wt}`);if(!gd(p)&&-1!==wt.indexOf("/"))throw new yt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${wt}' contains a slash.`);const on=p.path.child(gr.fromString(wt));if(!zt.isDocumentKey(on))throw new yt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const Pn=new zt(on);Ve.push(wr(E,Pn))}else{const on=kf(T,L,wt);Ve.push(on)}}return new Ha(Ve,se)}(s._query,s.firestore._databaseId,c,e,r,o)}}function a_(s,e,r){if("string"==typeof(r=(0,Xe.m9)(r))){if(""===r)throw new yt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gd(e)&&-1!==r.indexOf("/"))throw new yt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(gr.fromString(r));if(!zt.isDocumentKey(o))throw new yt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return wr(s,new zt(o))}if(r instanceof Ti)return wr(s,r._key);throw new yt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(r)}.`)}function $g(s,e){if(!Array.isArray(s)||0===s.length)throw new yt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(s.length>10)throw new yt(We.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function u_(s,e,r){if(!r.isEqual(e))throw new yt(We.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}const _s={maxAttempts:5};class Wf{convertValue(e,r="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return q(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(he(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw At()}}convertObject(e,r){const o={};return Ia(e.fields,(c,p)=>{o[c]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new uh(q(e.latitude),q(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ke(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Et(e));default:return null}}convertTimestamp(e){const r=F(e);return new Fr(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=gr.fromString(e);$t(Lh(o));const c=new yn(o.get(1),o.get(3)),p=new zt(o.popFirst(5));return c.isEqual(r)||Ot(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Gf(s,e,r){let o;return o=s?r&&(r.merge||r.mergeFields)?s.toFirestore(e,r):s.toFirestore(e):e,o}class oE extends Wf{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,r)}}class Wg{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=wc(e)}set(e,r,o){this._verifyNotCommitted();const c=Sc(e,this._firestore),p=Gf(c.converter,r,o),E=lh(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,o);return this._mutations.push(E.toMutation(c._key,hi.none())),this}update(e,r,o,...c){this._verifyNotCommitted();const p=Sc(e,this._firestore);let E;return E="string"==typeof(r=(0,Xe.m9)(r))||r instanceof yu?hh(this._dataReader,"WriteBatch.update",p._key,r,o,c):Pf(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(E.toMutation(p._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Sc(e,this._firestore);return this._mutations=this._mutations.concat(new Rt(r._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sc(s,e){if((s=(0,Xe.m9)(s)).firestore!==e)throw new yt(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Ac extends Wf{constructor(e){super(),this.firestore=e}convertBytes(e){return new _u(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,r)}}function Gg(s,e,r){s=Ar(s,Ti);const o=Ar(s.firestore,Ni),c=Gf(s.converter,e,r);return hl(o,[lh(wc(o),"setDoc",s._key,c,null!==s.converter,r).toMutation(s._key,hi.none())])}function lE(s,e,r,...o){s=Ar(s,Ti);const c=Ar(s.firestore,Ni),p=wc(c);let E;return E="string"==typeof(e=(0,Xe.m9)(e))||e instanceof yu?hh(p,"updateDoc",s._key,e,r,o):Pf(p,"updateDoc",s._key,e),hl(c,[E.toMutation(s._key,hi.exists(!0))])}function ka(s,...e){var r,o,c;s=(0,Xe.m9)(s);let p={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||Ky(e[E])||(p=e[E],E++);const T={includeMetadataChanges:p.includeMetadataChanges};if(Ky(e[E])){const Ee=e[E];e[E]=null===(r=Ee.next)||void 0===r?void 0:r.bind(Ee),e[E+1]=null===(o=Ee.error)||void 0===o?void 0:o.bind(Ee),e[E+2]=null===(c=Ee.complete)||void 0===c?void 0:c.bind(Ee)}let L,$,se;if(s instanceof Ti)$=Ar(s.firestore,Ni),se=Du(s._key.path),L={next:Ee=>{e[E]&&e[E](Fa($,s,Ee))},error:e[E+1],complete:e[E+2]};else{const Ee=Ar(s,Bs);$=Ar(Ee.firestore,Ni),se=Ee._query;const Ve=new Ac($);L={next:ft=>{e[E]&&e[E](new Dc($,Ve,Ee,ft))},error:e[E+1],complete:e[E+2]},Uf(s._query)}return function(Ee,Ve,ft,wt){const on=new $l(wt),Pn=new yc(Ve,on,ft);return Ee.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return cg(yield Ga(Ee),Pn)})),()=>{on.Tc(),Ee.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return _f(yield Ga(Ee),Pn)}))}}(Qi($),se,T,L)}function hl(s,e){return function(r,o){const c=new kr;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(s,e,r){return vf.apply(this,arguments)}(yield vc(r),o,c)})),c.promise}(Qi(s),e)}function Fa(s,e,r){const o=r.docs.get(e._key),c=new Ac(s);return new Ka(s,c,e._key,o,new ku(r.hasPendingWrites,r.fromCache),e.converter)}class za extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=wc(e)}get(e){const r=Sc(e,this._firestore),o=new oE(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return At();const p=c[0];if(p.isFoundDocument())return new Jl(this._firestore,o,p.key,p,r.converter);if(p.isNoDocument())return new Jl(this._firestore,o,r._key,null,r.converter);throw At()})}set(e,r,o){const c=Sc(e,this._firestore),p=Gf(c.converter,r,o),E=lh(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,o);return this._transaction.set(c._key,E),this}update(e,r,o,...c){const p=Sc(e,this._firestore);let E;return E="string"==typeof(r=(0,Xe.m9)(r))||r instanceof yu?hh(this._dataReader,"Transaction.update",p._key,r,o,c):Pf(this._dataReader,"Transaction.update",p._key,r),this._transaction.update(p._key,E),this}delete(e){const r=Sc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Sc(e,this._firestore),o=new Ac(this._firestore);return super.get(e).then(c=>new Ka(this._firestore,o,r._key,c._document,new ku(!1,!1),r.converter))}}function Zg(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function qg(){if("undefined"==typeof Uint8Array)throw new yt("unimplemented","Uint8Arrays are not available in this environment.")}function Qg(){if("undefined"==typeof atob)throw new yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(s,e=!0){x=Le.SDK_VERSION,(0,Le._registerComponent)(new ze.wA("firestore",(r,{options:o})=>{const c=r.getProvider("app").getImmediate(),p=new Ni(c,new yl(r.getProvider("auth-internal")),new zu(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),p._setSettings(o),p},"PUBLIC")),(0,Le.registerVersion)(f,"3.4.11",s),(0,Le.registerVersion)(f,"3.4.11","esm2017")}();class xc{constructor(e){this._delegate=e}static fromBase64String(e){return Qg(),new xc(_u.fromBase64String(e))}static fromUint8Array(e){return qg(),new xc(_u.fromUint8Array(e))}toBase64(){return Qg(),this._delegate.toBase64()}toUint8Array(){return qg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Yg(s){return function(s,e){if("object"!=typeof s||null===s)return!1;const r=s;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(s)}class m_{enableIndexedDbPersistence(e,r){return function(s,e){Xy(s=Ar(s,Ni));const r=Qi(s),o=s._freezeSettings(),c=new Hl;return Qy(r,c,new jy(c,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function(s){Xy(s=Ar(s,Ni));const e=Qi(s),r=s._freezeSettings(),o=new Hl;return Qy(e,o,new By(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(s){if(s._initialized&&!s._terminated)throw new yt(We.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(r=(0,ye.Z)(function*(o){if(!Rr.V())return Promise.resolve();const c=o+"main";yield Rr.delete(c)}),function(o){return r.apply(this,arguments)})(hu(s._databaseId,s._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class Kf{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof yn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Xn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function(s,e,r,o={}){var c;const p=(s=Ar(s,ah))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Xn("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let E,T;if("string"==typeof o.mockUserToken)E=o.mockUserToken,T=b.MOCK_USER;else{E=(0,Xe.Sg)(o.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new yt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new b(L)}s._authCredentials=new ml(new Qs(E,T))}}(this._delegate,e,r,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield al(s),r=yield ul(s);return e.setNetworkEnabled(!0),function(o){const c=Lt(o);return c.lu.delete(0),zd(c)}(r)}))}(Qi(s=Ar(s,Ni)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield al(s),r=yield ul(s);return e.setNetworkEnabled(!1),(o=(0,ye.Z)(function*(c){const p=Lt(c);p.lu.add(0),yield el(p),p._u.set("Offline")}),function(c){return o.apply(this,arguments)})(r);var o}))}(Qi(s=Ar(s,Ni)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Hy("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(e){const r=new kr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(s,e){return _g.apply(this,arguments)}(yield vc(e),r)})),r.promise}(Qi(s=Ar(s,Ni)))}(this._delegate)}onSnapshotsInSync(e){return function(s,e){return function(s,e){const r=new $l(e);return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return o=yield Ga(s),c=r,Lt(o).Tu.add(c),void c.next();var o,c})),()=>{r.Tc(),s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return o=yield Ga(s),c=r,void Lt(o).Tu.delete(c);var o,c}))}}(Qi(s=Ar(s,Ni)),Ky(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pl(this,Gy(this._delegate,e))}catch(r){throw Hs(r,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,Of(this._delegate,e))}catch(r){throw Hs(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,function(s,e){if(s=Ar(s,ah),sh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yt(We.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(s,null,(r=e,new Fo(gr.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw Hs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(s,e,r){s=Ar(s,Ni);const o=Object.assign(Object.assign({},_s),r);return function(c){if(c.maxAttempts<1)throw new yt(We.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(s,e,r){const o=new kr;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const c=yield(p=s,bo(p).then(E=>E.datastore));var p;new Wv(s.asyncQueue,c,r,e,o).run()})),o.promise}(Qi(s),c=>e(new za(s,c)),o)}(this._delegate,r=>e(new zf(this,r)))}batch(){return Qi(this._delegate),new Zf(new Wg(this._delegate,e=>hl(this._delegate,e)))}loadBundle(e){return function(s,e){const r=Qi(s=Ar(s,Ni)),o=new zy;return function(s,e,r,o){const c=function(p,E){let T;return T="string"==typeof p?(new TextEncoder).encode(p):p,L=function(L,$){if(L instanceof Uint8Array)return ol(L,$);if(L instanceof ArrayBuffer)return ol(new Uint8Array(L),$);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new Na(L,E);var L}(r,jl(e));s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(s,e,r){const o=Lt(s);var c;(c=(0,ye.Z)(function*(p,E,T){try{const L=yield E.getMetadata();if(yield function(Ve,ft){const wt=Lt(Ve),on=ms(ft.createTime);return wt.persistence.runTransaction("hasNewerBundle","readonly",Pn=>wt.Ds.getBundleMetadata(Pn,ft.id)).then(Pn=>!!Pn&&Pn.createTime.compareTo(on)>=0)}(p.localStore,L))return yield E.close(),T._completeWith({taskState:"Success",documentsLoaded:(Ve=L).totalDocuments,bytesLoaded:Ve.totalBytes,totalDocuments:Ve.totalDocuments,totalBytes:Ve.totalBytes}),Promise.resolve(new Set);T._updateProgress(Sy(L));const $=new Pv(L,p.localStore,E.wt);let se=yield E.fc();for(;se;){const Ve=yield $.Nu(se);Ve&&T._updateProgress(Ve),se=yield E.fc()}const Ee=yield $.complete();return yield Nu(p,Ee.Mu,void 0),yield function(Ve,ft){const wt=Lt(Ve);return wt.persistence.runTransaction("Save bundle","readwrite",on=>wt.Ds.saveBundleMetadata(on,ft))}(p.localStore,L),T._completeWith(Ee.progress),Promise.resolve(Ee.Ou)}catch(L){return Xn("SyncEngine",`Loading bundle failed with ${L}`),T._failWith(L),Promise.resolve(new Set)}var Ve}),function(p,E,T){return c.apply(this,arguments)})(o,e,r).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield vc(s),c,o)}))}(r,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function(s,e){return function(s,e){return s.asyncQueue.enqueue((0,ye.Z)(function*(){return function(r,o){const c=Lt(r);return c.persistence.runTransaction("Get named query","readonly",p=>c.Ds.getNamedQuery(p,o))}(yield _c(s),e)}))}(Qi(s=Ar(s,Ni)),e).then(r=>r?new Bs(s,null,r.query):null)}(this._delegate,e).then(r=>r?new Xs(this,r):null)}}class fl extends Wf{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(new _u(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(r,this.firestore,null)}}class zf{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new fl(e)}get(e){const r=Rc(e);return this._delegate.get(r).then(o=>new nd(this._firestore,new Ka(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const c=Rc(e);return o?(Zg("Transaction.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const p=Rc(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...c),this}delete(e){const r=Rc(e);return this._delegate.delete(r),this}}class Zf{constructor(e){this._delegate=e}set(e,r,o){const c=Rc(e);return o?(Zg("WriteBatch.set",o),this._delegate.set(c,r,o)):this._delegate.set(c,r),this}update(e,r,o,...c){const p=Rc(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...c),this}delete(e){const r=Rc(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Fu{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new dl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rd(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=Fu.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let p=c.get(r);return p||(p=new Fu(e,new fl(e),r),c.set(r,p)),p}}Fu.INSTANCES=new WeakMap;class Bo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fl(e)}static forPath(e,r,o){if(e.length%2!=0)throw new yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(r,new Ti(r._delegate,o,new zt(e)))}static forKey(e,r,o){return new Bo(r,new Ti(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new pl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pl(this.firestore,Gy(this._delegate,e))}catch(r){throw Hs(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xe.m9)(e))instanceof Ti&&Og(this._delegate,e)}set(e,r){r=Zg("DocumentReference.set",r);try{return r?Gg(this._delegate,e,r):Gg(this._delegate,e)}catch(o){throw Hs(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?lE(this._delegate,e):lE(this._delegate,e,r,...o)}catch(c){throw Hs(c,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return hl(Ar(s.firestore,Ni),[new Rt(s._key,hi.none())])}(this._delegate)}onSnapshot(...e){const r=qf(e),o=Qf(e,c=>new nd(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return ka(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=Ar(s,Ti);const e=Ar(s.firestore,Ni),r=Qi(e),o=new Ac(e);return function(s,e){const r=new kr;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(o=(0,ye.Z)(function*(c,p,E){try{const T=yield function(L,$){const se=Lt(L);return se.persistence.runTransaction("read document","readonly",Ee=>se.localDocuments.getDocument(Ee,$))}(c,p);T.isFoundDocument()?E.resolve(T):T.isNoDocument()?E.resolve(null):E.reject(new yt(We.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const L=gc(T,`Failed to get document '${p} from cache`);E.reject(L)}}),function(c,p,E){return o.apply(this,arguments)})(yield _c(s),e,r);var o})),r.promise}(r,s._key).then(c=>new Ka(e,o,s._key,c,new ku(null!==c&&c.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=Ar(s,Ti);const e=Ar(s.firestore,Ni);return xf(Qi(e),s._key,{source:"server"}).then(r=>Fa(e,s,r))}(this._delegate):function(s){s=Ar(s,Ti);const e=Ar(s.firestore,Ni);return xf(Qi(e),s._key).then(r=>Fa(e,s,r))}(this._delegate),r.then(o=>new nd(this.firestore,new Ka(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}function Hs(s,e,r){return s.message=s.message.replace(e,r),s}function qf(s){for(const e of s)if("object"==typeof e&&!Yg(e))return e;return{}}function Qf(s,e){var r,o;let c;return c=Yg(s[0])?s[0]:Yg(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:p=>{c.next&&c.next(e(p))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class nd{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return Fg(this._delegate,e._delegate)}}class rd extends nd{data(e){const r=this._delegate.data(e);return function(s,e){s||At()}(void 0!==r),r}}class Xs{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new fl(e)}where(e,r,o){try{return new Xs(this.firestore,Tc(this._delegate,function(s,e,r){const o=e,c=fh("where",s);return new i_(c,o,r)}(e,r,o)))}catch(c){throw Hs(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Xs(this.firestore,Tc(this._delegate,function(s,e="asc"){const r=e,o=fh("orderBy",s);return new Lg(o,r)}(e,r)))}catch(o){throw Hs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xs(this.firestore,Tc(this._delegate,function(s){return $y("limit",s),new Bf("limit",s,"F")}(e)))}catch(r){throw Hs(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Xs(this.firestore,Tc(this._delegate,function(s){return $y("limitToLast",s),new Bf("limitToLast",s,"L")}(e)))}catch(r){throw Hs(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xs(this.firestore,Tc(this._delegate,function(...s){return new Hf("startAt",s,!0)}(...e)))}catch(r){throw Hs(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xs(this.firestore,Tc(this._delegate,function(...s){return new Hf("startAfter",s,!1)}(...e)))}catch(r){throw Hs(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xs(this.firestore,Tc(this._delegate,function(...s){return new $f("endBefore",s,!1)}(...e)))}catch(r){throw Hs(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xs(this.firestore,Tc(this._delegate,function(...s){return new $f("endAt",s,!0)}(...e)))}catch(r){throw Hs(r,"endAt()","Query.endAt()")}}isEqual(e){return zv(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function(s){s=Ar(s,Bs);const e=Ar(s.firestore,Ni),r=Qi(e),o=new Ac(e);return function(s,e){const r=new kr;return s.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(o=(0,ye.Z)(function*(c,p,E){try{const T=yield rf(c,p,!0),L=new fg(p,T.ji),$=L.Ku(T.documents),se=L.applyChanges($,!1);E.resolve(se.snapshot)}catch(T){const L=gc(T,`Failed to execute query '${p} against cache`);E.reject(L)}}),function(c,p,E){return o.apply(this,arguments)})(yield _c(s),e,r);var o})),r.promise}(r,s._query).then(c=>new Dc(e,o,s,c))}(this._delegate):"server"===(null==e?void 0:e.source)?function(s){s=Ar(s,Bs);const e=Ar(s.firestore,Ni),r=Qi(e),o=new Ac(e);return Rf(r,s._query,{source:"server"}).then(c=>new Dc(e,o,s,c))}(this._delegate):function(s){s=Ar(s,Bs);const e=Ar(s.firestore,Ni),r=Qi(e),o=new Ac(e);return Uf(s._query),Rf(r,s._query).then(c=>new Dc(e,o,s,c))}(this._delegate),r.then(o=>new Yf(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=qf(e),o=Qf(e,c=>new Yf(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return ka(this._delegate,r,o)}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}class y_{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new rd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yf{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new y_(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new rd(this._firestore,o))})}isEqual(e){return Fg(this._delegate,e._delegate)}}class pl extends Xs{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?Of(this._delegate):Of(this._delegate,e))}catch(r){throw Hs(r,"doc()","CollectionReference.doc()")}}add(e){return function(s,e){const r=Ar(s.firestore,Ni),o=Of(s),c=Gf(s.converter,e);return hl(r,[lh(wc(s.firestore),"addDoc",o._key,c,null!==s.converter,{}).toMutation(o._key,hi.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Bo(this.firestore,r))}isEqual(e){return Og(this._delegate,e._delegate)}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}function Rc(s){return Ar(s,Ti)}class Jf{constructor(...e){this._delegate=new yu(...e)}static documentId(){return new Jf(Er.keyField().canonicalString())}isEqual(e){return(e=(0,Xe.m9)(e))instanceof yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Mc{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Cc("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Mc(e)}static delete(){const e=new cl("deleteField");return e._methodName="FieldValue.delete",new Mc(e)}static arrayUnion(...e){const r=function(...s){return new t_("arrayUnion",s)}(...e);return r._methodName="FieldValue.arrayUnion",new Mc(r)}static arrayRemove(...e){const r=function(...s){return new iE("arrayRemove",s)}(...e);return r._methodName="FieldValue.arrayRemove",new Mc(r)}static increment(e){const r=function(s){return new dh("increment",s)}(e);return r._methodName="FieldValue.increment",new Mc(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const __={Firestore:Kf,GeoPoint:uh,Timestamp:Fr,Blob:xc,Transaction:zf,WriteBatch:Zf,DocumentReference:Bo,DocumentSnapshot:nd,Query:Xs,QueryDocumentSnapshot:rd,QuerySnapshot:Yf,CollectionReference:pl,FieldPath:Jf,FieldValue:Mc,setLogLevel:function(s){!function(s){V.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,e){s.INTERNAL.registerComponent(new ze.wA("firestore-compat",r=>((e,r)=>new Kf(e,r,new m_))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},__)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.20")}(rt.Z);var Lu=D(1325),b_=D(3950),I_=D(7841);function Xf(s,e){return function(s,e=A.z){return new j.y(r=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},r)}):o=s.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(s,e)}function Xg(s,e){return Xf(s,e).pipe((0,ee.O)(void 0),(0,W.G)(),(0,Y.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}function id(s,e){return Xf(s,e).pipe((0,Y.U)(r=>({payload:r,type:"query"})))}function gl(s,e){return id(s,e).pipe((0,ee.O)(void 0),(0,W.G)(),(0,Y.U)(([r,o])=>{const c=o.payload.docChanges(),p=c.map(E=>({type:E.type,payload:E}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((E,T)=>{const L=c.find(se=>se.doc.ref.isEqual(E.ref)),$=null==r?void 0:r.payload.docs.find(se=>se.ref.isEqual(E.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(E.metadata)||!L&&$&&JSON.stringify($.metadata)===JSON.stringify(E.metadata)||p.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:E}})}),p}))}function ph(s,e,r){return gl(s,r).pipe((0,U.R)((o,c)=>ep(o,c.map(p=>p.payload),e),[]),(0,G.x)(),(0,Y.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function ep(s,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(s=tp(s,o))}),s}function gh(s,e,r,...o){const c=s.slice();return c.splice(e,r,...o),c}function tp(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return gh(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=s.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return gh(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gh(s,e.oldIndex,1)}return s}function mh(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class yh{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=gl(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Y.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),r.pipe((0,ee.O)(void 0),(0,W.G)(),(0,re.h)(([o,c])=>c.length>0||!o),(0,Y.U)(([o,c])=>c),K.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,U.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=mh(e);return ph(this.query,r,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return id(this.query,this.afs.schedulers.outsideAngular).pipe((0,Y.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),K.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(K.iC)}add(e){return this.ref.add(e)}doc(e){return new _h(this.ref.doc(e),this.afs)}}class _h{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:c,query:p}=Oc(o,r);return new yh(c,p,this.afs)}snapshotChanges(){return Xg(this.ref,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Y.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,X.D)(this.ref.get(e)).pipe(K.iC)}}class np{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?gl(this.query,this.afs.schedulers.outsideAngular).pipe((0,Y.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,re.h)(r=>r.length>0),K.iC):gl(this.query,this.afs.schedulers.outsideAngular).pipe(K.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,U.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=mh(e);return ph(this.query,r,this.afs.schedulers.outsideAngular).pipe(K.iC)}valueChanges(e={}){return id(this.query,this.afs.schedulers.outsideAngular).pipe((0,Y.U)(o=>o.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),K.iC)}get(e){return(0,X.D)(this.query.get(e)).pipe(K.iC)}}const vh=new h.InjectionToken("angularfire2.enableFirestorePersistence"),Vu=new h.InjectionToken("angularfire2.firestore.persistenceSettings"),C_=new h.InjectionToken("angularfire2.firestore.settings"),D_=new h.InjectionToken("angularfire2.firestore.use-emulator");function Oc(s,e=(r=>r)){return{query:e(s),ref:s}}let T_=(()=>{class s{constructor(r,o,c,p,E,T,L,$,se,Ee,Ve,ft,wt,on,Pn,Ur,_i){this.schedulers=L;const ei=(0,Ae.\u0275firebaseAppFactory)(r,T,o),is=se;Ee&&(0,Lu.\u0275authFactory)(ei,T,Ve,wt,on,Pn,ft,Ur),[this.firestore,this.persistenceEnabled$]=(0,Ae.\u0275cacheInstance)(`${ei.name}.firestore`,"AngularFirestore",ei.name,()=>{const Si=T.runOutsideAngular(()=>ei.firestore());if(p&&Si.settings(p),is&&Si.useEmulator(...is),c&&!(0,Fe.isPlatformServer)(E)){const ji=()=>{try{return(0,X.D)(Si.enablePersistence($||void 0).then(()=>!0,()=>!1))}catch(eo){return"undefined"!=typeof console&&console.warn(eo),(0,ne.of)(!1)}};return[Si,T.runOutsideAngular(ji)]}return[Si,(0,ne.of)(!1)]},[p,is,c])}collection(r,o){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:p,query:E}=Oc(c,o),T=this.schedulers.ngZone.run(()=>p);return new yh(T,E,this)}collectionGroup(r,o){const c=o||(E=>E),p=this.firestore.collectionGroup(r);return new np(c(p),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>o);return new _h(c,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(r){return new(r||s)(h.\u0275\u0275inject(Ae.FIREBASE_OPTIONS),h.\u0275\u0275inject(Ae.FIREBASE_APP_NAME,8),h.\u0275\u0275inject(vh,8),h.\u0275\u0275inject(C_,8),h.\u0275\u0275inject(h.PLATFORM_ID),h.\u0275\u0275inject(h.NgZone),h.\u0275\u0275inject(K.HU),h.\u0275\u0275inject(Vu,8),h.\u0275\u0275inject(D_,8),h.\u0275\u0275inject(Lu.AngularFireAuth,8),h.\u0275\u0275inject(Lu.USE_EMULATOR,8),h.\u0275\u0275inject(Lu.SETTINGS,8),h.\u0275\u0275inject(Lu.TENANT_ID,8),h.\u0275\u0275inject(Lu.LANGUAGE_CODE,8),h.\u0275\u0275inject(Lu.USE_DEVICE_LANGUAGE,8),h.\u0275\u0275inject(Lu.PERSISTENCE,8),h.\u0275\u0275inject(b_.nm,8))},s.\u0275prov=h.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),em=(()=>{class s{constructor(){I_.Z.registerVersion("angularfire",K.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:s,providers:[{provide:vh,useValue:!0},{provide:Vu,useValue:r}]}}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=h.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=h.\u0275\u0275defineInjector({providers:[T_]}),s})()},8939:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{AngularFireModule:()=>Ae,FIREBASE_APP_NAME:()=>Y,FIREBASE_OPTIONS:()=>W,FirebaseApp:()=>ee,\u0275applyMixins:()=>K,\u0275cacheInstance:()=>Fe,\u0275firebaseAppFactory:()=>U,\u0275lazySDKProxy:()=>ne});var h=D(7716),A=D(7841),j=D(2274);it=D.hmd(it);const X=["ngOnDestroy"],ne=(Le,ze,pt,Xe={})=>new Proxy(Le,{get:(_n,tn)=>pt.runOutsideAngular(()=>{var et;if(Le[tn])return(null===(et=null==Xe?void 0:Xe.spy)||void 0===et?void 0:et.get)&&Xe.spy.get(tn,Le[tn]),Le[tn];if(X.indexOf(tn)>-1)return()=>{};const kt=ze.toPromise().then(ke=>{const ut=ke&&ke[tn];return"function"==typeof ut?ut.bind(ke):ut&&ut.then?ut.then(dt=>pt.run(()=>dt)):pt.run(()=>ut)});return new Proxy(()=>{},{get:(ke,ut)=>kt[ut],apply:(ke,ut,dt)=>kt.then(It=>{var at;const jt=It&&It(...dt);return(null===(at=null==Xe?void 0:Xe.spy)||void 0===at?void 0:at.apply)&&Xe.spy.apply(tn,dt,jt),jt})})})}),K=(Le,ze)=>{ze.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(Xe=>{Object.defineProperty(Le.prototype,Xe,Object.getOwnPropertyDescriptor(pt.prototype||pt,Xe))})})};class ee{constructor(ze){return ze}}const W=new h.InjectionToken("angularfire2.app.options"),Y=new h.InjectionToken("angularfire2.app.name");function U(Le,ze,pt){const _n="object"==typeof pt&&pt||{};_n.name=_n.name||"string"==typeof pt&&pt||"[DEFAULT]";const et=A.Z.apps.filter(kt=>kt&&kt.name===_n.name)[0]||ze.runOutsideAngular(()=>A.Z.initializeApp(Le,_n));try{JSON.stringify(Le)!==JSON.stringify(et.options)&&G("error",`${et.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(kt){}return new ee(et)}const G=(Le,...ze)=>{(0,h.isDevMode)()&&"undefined"!=typeof console&&console[Le](...ze)},re={provide:ee,useFactory:U,deps:[W,h.NgZone,[new h.Optional,Y]]};let Ae=(()=>{class Le{constructor(pt){A.Z.registerVersion("angularfire",j.q4.full,"core"),A.Z.registerVersion("angularfire",j.q4.full,"app-compat"),A.Z.registerVersion("angular",h.VERSION.full,pt.toString())}static initializeApp(pt,Xe){return{ngModule:Le,providers:[{provide:W,useValue:pt},{provide:Y,useValue:Xe}]}}}return Le.\u0275fac=function(pt){return new(pt||Le)(h.\u0275\u0275inject(h.PLATFORM_ID))},Le.\u0275mod=h.\u0275\u0275defineNgModule({type:Le}),Le.\u0275inj=h.\u0275\u0275defineInjector({providers:[re]}),Le})();function Fe(Le,ze,pt,Xe,_n){const[,tn,et]=globalThis.\u0275AngularfireInstanceCache.find(kt=>kt[0]===Le)||[];if(tn)return function(Le,ze){try{return Le.toString()===ze.toString()}catch(pt){return Le===ze}}(_n,et)||(ye("error",`${ze} was already initialized on the ${pt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:_n,was:et})),tn;{const kt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([Le,kt,_n]),kt}}const rt=!!it.hot,ye=(Le,...ze)=>{(0,h.isDevMode)()&&"undefined"!=typeof console&&console[Le](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2274:(it,ue,D)=>{"use strict";D.d(ue,{q4:()=>Vc,iC:()=>go,HU:()=>_l,vb:()=>nu,JM:()=>Oo});var h=D(7716),A=D(2329),j=D(8239),X=D(8026),ne=D(3854),K=D(3910),ee=D(5422),W=D(7449);const Y="@firebase/installations",U="0.5.11",re=`w:${U}`,Ae="FIS_v2",ze=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pt(M){return M instanceof ne.ZR&&M.code.includes("request-failed")}function Xe({projectId:M}){return`https://firebaseinstallations.googleapis.com/v1/projects/${M}/installations`}function _n(M){return{token:M.token,requestStatus:2,expiresIn:It(M.expiresIn),creationTime:Date.now()}}function tn(M,F){return et.apply(this,arguments)}function et(){return(et=(0,j.Z)(function*(M,F){const he=(yield F.json()).error;return ze.create("request-failed",{requestName:M,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function kt({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function ke(M,{refreshToken:F}){const q=kt(M);return q.append("Authorization",function(M){return`${Ae} ${M}`}(F)),q}function ut(M){return dt.apply(this,arguments)}function dt(){return(dt=(0,j.Z)(function*(M){const F=yield M();return F.status>=500&&F.status<600?M():F})).apply(this,arguments)}function It(M){return Number(M.replace("s","000"))}function jt(M,F){return gt.apply(this,arguments)}function gt(){return(gt=(0,j.Z)(function*({appConfig:M,heartbeatServiceProvider:F},{fid:q}){const he=Xe(M),Pe=kt(M),Ke=F.getImmediate({optional:!0});if(Ke){const Nn=yield Ke.getHeartbeatsHeader();Nn&&Pe.append("x-firebase-client",Nn)}const Qt={method:"POST",headers:Pe,body:JSON.stringify({fid:q,authVersion:Ae,appId:M.appId,sdkVersion:re})},yn=yield ut(()=>fetch(he,Qt));if(yn.ok){const Nn=yield yn.json();return{fid:Nn.fid||q,registrationStatus:2,refreshToken:Nn.refreshToken,authToken:_n(Nn.authToken)}}throw yield tn("Create Installation",yn)})).apply(this,arguments)}function Xt(M){return new Promise(F=>{setTimeout(F,M)})}const vn=/^[cdef][\w-]{21}$/;function un(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const q=function(M){return function(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return vn.test(q)?q:""}catch(M){return""}}function ar(M){return`${M.appName}!${M.appId}`}const Dt=new Map;function Ut(M,F){const q=ar(M);Kt(q,F),function(M,F){const q=(!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=M=>{Kt(M.data.key,M.data.fid)}),Vt);q&&q.postMessage({key:M,fid:F}),0===Dt.size&&Vt&&(Vt.close(),Vt=null)}(q,F)}function Kt(M,F){const q=Dt.get(M);if(q)for(const he of q)he(F)}let Vt=null;const st="firebase-installations-store";let Cn=null;function Bn(){return Cn||(Cn=(0,W.X3)("firebase-installations-database",1,{upgrade:(M,F)=>{switch(F){case 0:M.createObjectStore(st)}}})),Cn}function Wt(M,F){return hn.apply(this,arguments)}function hn(){return(hn=(0,j.Z)(function*(M,F){const q=ar(M),Pe=(yield Bn()).transaction(st,"readwrite"),Ke=Pe.objectStore(st),Et=yield Ke.get(q);return yield Ke.put(F,q),yield Pe.done,(!Et||Et.fid!==F.fid)&&Ut(M,F.fid),F})).apply(this,arguments)}function Kn(M){return cr.apply(this,arguments)}function cr(){return(cr=(0,j.Z)(function*(M){const F=ar(M),he=(yield Bn()).transaction(st,"readwrite");yield he.objectStore(st).delete(F),yield he.done})).apply(this,arguments)}function He(M,F){return Te.apply(this,arguments)}function Te(){return(Te=(0,j.Z)(function*(M,F){const q=ar(M),Pe=(yield Bn()).transaction(st,"readwrite"),Ke=Pe.objectStore(st),Et=yield Ke.get(q),Qt=F(Et);return void 0===Qt?yield Ke.delete(q):yield Ke.put(Qt,q),yield Pe.done,Qt&&(!Et||Et.fid!==Qt.fid)&&Ut(M,Qt.fid),Qt})).apply(this,arguments)}function fe(M){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,j.Z)(function*(M){let F;const q=yield He(M.appConfig,he=>{const Pe=tt(he),Ke=Nt(M,Pe);return F=Ke.registrationPromise,Ke.installationEntry});return""===q.fid?{installationEntry:yield F}:{installationEntry:q,registrationPromise:F}})).apply(this,arguments)}function tt(M){return sn(M||{fid:un(),registrationStatus:0})}function Nt(M,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(ze.create("app-offline"))};const q={fid:F.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:q,registrationPromise:function(M,F){return Mt.apply(this,arguments)}(M,q)}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:cn(M)}:{installationEntry:F}}function Mt(){return(Mt=(0,j.Z)(function*(M,F){try{const q=yield jt(M,F);return Wt(M.appConfig,q)}catch(q){throw pt(q)&&409===q.customData.serverCode?yield Kn(M.appConfig):yield Wt(M.appConfig,{fid:F.fid,registrationStatus:0}),q}})).apply(this,arguments)}function cn(M){return zn.apply(this,arguments)}function zn(){return(zn=(0,j.Z)(function*(M){let F=yield Dn(M.appConfig);for(;1===F.registrationStatus;)yield Xt(100),F=yield Dn(M.appConfig);if(0===F.registrationStatus){const{installationEntry:q,registrationPromise:he}=yield fe(M);return he||q}return F})).apply(this,arguments)}function Dn(M){return He(M,F=>{if(!F)throw ze.create("installation-not-found");return sn(F)})}function sn(M){return function(M){return 1===M.registrationStatus&&M.registrationTime+1e4<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Jt(M,F){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,j.Z)(function*({appConfig:M,heartbeatServiceProvider:F},q){const he=ce(M,q),Pe=ke(M,q),Ke=F.getImmediate({optional:!0});if(Ke){const Nn=yield Ke.getHeartbeatsHeader();Nn&&Pe.append("x-firebase-client",Nn)}const Qt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:re,appId:M.appId}})},yn=yield ut(()=>fetch(he,Qt));if(yn.ok)return _n(yield yn.json());throw yield tn("Generate Auth Token",yn)})).apply(this,arguments)}function ce(M,{fid:F}){return`${Xe(M)}/${F}/authTokens:generate`}function de(M){return Se.apply(this,arguments)}function Se(){return(Se=(0,j.Z)(function*(M,F=!1){let q;const he=yield He(M.appConfig,Ke=>{if(!En(Ke))throw ze.create("not-registered");const Et=Ke.authToken;if(!F&&kn(Et))return Ke;if(1===Et.requestStatus)return q=Ie(M,F),Ke;{if(!navigator.onLine)throw ze.create("app-offline");const Qt=On(Ke);return q=vt(M,Qt),Qt}});return q?yield q:he.authToken})).apply(this,arguments)}function Ie(M,F){return le.apply(this,arguments)}function le(){return(le=(0,j.Z)(function*(M,F){let q=yield qe(M.appConfig);for(;1===q.authToken.requestStatus;)yield Xt(100),q=yield qe(M.appConfig);const he=q.authToken;return 0===he.requestStatus?de(M,F):he})).apply(this,arguments)}function qe(M){return He(M,F=>{if(!En(F))throw ze.create("not-registered");return function(M){return 1===M.requestStatus&&M.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function vt(M,F){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,j.Z)(function*(M,F){try{const q=yield Jt(M,F),he=Object.assign(Object.assign({},F),{authToken:q});return yield Wt(M.appConfig,he),q}catch(q){if(!pt(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const he=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Wt(M.appConfig,he)}else yield Kn(M.appConfig);throw q}})).apply(this,arguments)}function En(M){return void 0!==M&&2===M.registrationStatus}function kn(M){return 2===M.requestStatus&&!function(M){const F=Date.now();return F<M.creationTime||M.creationTime+M.expiresIn<F+36e5}(M)}function On(M){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:F})}function ve(){return(ve=(0,j.Z)(function*(M){const F=M,{installationEntry:q,registrationPromise:he}=yield fe(F);return he?he.catch(console.error):de(F).catch(console.error),q.fid})).apply(this,arguments)}function xt(){return(xt=(0,j.Z)(function*(M,F=!1){const q=M;return yield Tn(q),(yield de(q,F)).token})).apply(this,arguments)}function Tn(M){return bn.apply(this,arguments)}function bn(){return(bn=(0,j.Z)(function*(M){const{registrationPromise:F}=yield fe(M);F&&(yield F)})).apply(this,arguments)}function wn(M){return ze.create("missing-app-config-values",{valueName:M})}const br="installations";(0,X._registerComponent)(new K.wA(br,M=>{const F=M.getProvider("app").getImmediate();return{app:F,appConfig:function(M){if(!M||!M.options)throw wn("App Configuration");if(!M.name)throw wn("App Name");const F=["projectId","apiKey","appId"];for(const q of F)if(!M.options[q])throw wn(q);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}(F),heartbeatServiceProvider:(0,X._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,X._registerComponent)(new K.wA("installations-internal",M=>{const F=M.getProvider("app").getImmediate(),q=(0,X._getProvider)(F,br).getImmediate();return{getId:()=>function(M){return ve.apply(this,arguments)}(q),getToken:Pe=>function(M){return xt.apply(this,arguments)}(q,Pe)}},"PRIVATE")),(0,X.registerVersion)(Y,U),(0,X.registerVersion)(Y,U,"esm2017");const jr="@firebase/remote-config",ie=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ci{constructor(F,q,he,Pe){this.client=F,this.storage=q,this.storageCache=he,this.logger=Pe}isCachedDataFresh(F,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-q,Pe=he<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${Pe}.`),Pe}fetch(F){var q=this;return(0,j.Z)(function*(){const[he,Pe]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Pe&&q.isCachedDataFresh(F.cacheMaxAgeMillis,he))return Pe;F.eTag=Pe&&Pe.eTag;const Ke=yield q.client.fetch(F),Et=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&Et.push(q.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(Et),Ke})()}}function ui(M=navigator){return M.languages&&M.languages[0]||M.language}class Or{constructor(F,q,he,Pe,Ke,Et){this.firebaseInstallations=F,this.sdkVersion=q,this.namespace=he,this.projectId=Pe,this.apiKey=Ke,this.appId=Et}fetch(F){var q=this;return(0,j.Z)(function*(){var he,Pe,Ke;const[Et,Qt]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),Nn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,er={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Mn={sdk_version:q.sdkVersion,app_instance_id:Et,app_instance_id_token:Qt,app_id:q.appId,language_code:ui()},di={method:"POST",headers:er,body:JSON.stringify(Mn)},zi=fetch(Nn,di),mo=new Promise((Po,wr)=>{F.signal.addEventListener(()=>{const Ca=new Error("The operation was aborted.");Ca.name="AbortError",wr(Ca)})});let as;try{yield Promise.race([zi,mo]),as=yield zi}catch(Po){let wr="fetch-client-network";throw"AbortError"===(null===(he=Po)||void 0===he?void 0:he.name)&&(wr="fetch-timeout"),ie.create(wr,{originalErrorMessage:null===(Pe=Po)||void 0===Pe?void 0:Pe.message})}let na=as.status;const Js=as.headers.get("ETag")||void 0;let wa,Zi;if(200===as.status){let Po;try{Po=yield as.json()}catch(wr){throw ie.create("fetch-client-parse",{originalErrorMessage:null===(Ke=wr)||void 0===Ke?void 0:Ke.message})}wa=Po.entries,Zi=Po.state}if("INSTANCE_STATE_UNSPECIFIED"===Zi?na=500:"NO_CHANGE"===Zi?na=304:("NO_TEMPLATE"===Zi||"EMPTY_CONFIG"===Zi)&&(wa={}),304!==na&&200!==na)throw ie.create("fetch-status",{httpStatus:na});return{status:na,eTag:Js,config:wa}})()}}class xe{constructor(F,q){this.client=F,this.storage=q}fetch(F){var q=this;return(0,j.Z)(function*(){const he=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(F,he)})()}attemptFetch(F,{throttleEndTimeMillis:q,backoffCount:he}){var Pe=this;return(0,j.Z)(function*(){yield function(M,F){return new Promise((q,he)=>{const Pe=Math.max(F-Date.now(),0),Ke=setTimeout(q,Pe);M.addEventListener(()=>{clearTimeout(Ke),he(ie.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,q);try{const Ke=yield Pe.client.fetch(F);return yield Pe.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function(M){if(!(M instanceof ne.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Ke))throw Ke;const Et={throttleEndTimeMillis:Date.now()+(0,ne.$s)(he),backoffCount:he+1};return yield Pe.storage.setThrottleMetadata(Et),Pe.attemptFetch(F,Et)}})()}}class Tt{constructor(F,q,he,Pe,Ke){this.app=F,this._client=q,this._storageCache=he,this._storage=Pe,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qt(M,F){var q;const he=M.target.error||void 0;return ie.create(F,{originalErrorMessage:he&&(null===(q=he)||void 0===q?void 0:q.message)})}const nr="app_namespace_store";class Hi{constructor(F,q,he,Pe=function(){return new Promise((M,F)=>{var q;try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=Pe=>{F(qt(Pe,"storage-open"))},he.onsuccess=Pe=>{M(Pe.target.result)},he.onupgradeneeded=Pe=>{const Ke=Pe.target.result;switch(Pe.oldVersion){case 0:Ke.createObjectStore(nr,{keyPath:"compositeKey"})}}}catch(he){F(ie.create("storage-open",{originalErrorMessage:null===(q=he)||void 0===q?void 0:q.message}))}})}()){this.appId=F,this.appName=q,this.namespace=he,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var q=this;return(0,j.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Pe,Ke)=>{var Et;const yn=he.transaction([nr],"readonly").objectStore(nr),Nn=q.createCompositeKey(F);try{const er=yn.get(Nn);er.onerror=Mn=>{Ke(qt(Mn,"storage-get"))},er.onsuccess=Mn=>{const di=Mn.target.result;Pe(di?di.value:void 0)}}catch(er){Ke(ie.create("storage-get",{originalErrorMessage:null===(Et=er)||void 0===Et?void 0:Et.message}))}})})()}set(F,q){var he=this;return(0,j.Z)(function*(){const Pe=yield he.openDbPromise;return new Promise((Ke,Et)=>{var Qt;const Nn=Pe.transaction([nr],"readwrite").objectStore(nr),er=he.createCompositeKey(F);try{const Mn=Nn.put({compositeKey:er,value:q});Mn.onerror=di=>{Et(qt(di,"storage-set"))},Mn.onsuccess=()=>{Ke()}}catch(Mn){Et(ie.create("storage-set",{originalErrorMessage:null===(Qt=Mn)||void 0===Qt?void 0:Qt.message}))}})})()}delete(F){var q=this;return(0,j.Z)(function*(){const he=yield q.openDbPromise;return new Promise((Pe,Ke)=>{var Et;const yn=he.transaction([nr],"readwrite").objectStore(nr),Nn=q.createCompositeKey(F);try{const er=yn.delete(Nn);er.onerror=Mn=>{Ke(qt(Mn,"storage-delete"))},er.onsuccess=()=>{Pe()}}catch(er){Ke(ie.create("storage-delete",{originalErrorMessage:null===(Et=er)||void 0===Et?void 0:Et.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class gi{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,j.Z)(function*(){const q=F.storage.getLastFetchStatus(),he=F.storage.getLastSuccessfulFetchTimestampMillis(),Pe=F.storage.getActiveConfig(),Ke=yield q;Ke&&(F.lastFetchStatus=Ke);const Et=yield he;Et&&(F.lastSuccessfulFetchTimestampMillis=Et);const Qt=yield Pe;Qt&&(F.activeConfig=Qt)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Wo(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,j.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(M){return!1}})).apply(this,arguments)}(0,X._registerComponent)(new K.wA("remote-config",function(F,{instanceIdentifier:q}){const he=F.getProvider("app").getImmediate(),Pe=F.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ie.create("registration-window");if(!(0,ne.hl)())throw ie.create("indexed-db-unavailable");const{projectId:Ke,apiKey:Et,appId:Qt}=he.options;if(!Ke)throw ie.create("registration-project-id");if(!Et)throw ie.create("registration-api-key");if(!Qt)throw ie.create("registration-app-id");const yn=new Hi(Qt,he.name,q=q||"firebase"),Nn=new gi(yn),er=new ee.Yd(jr);er.logLevel=ee.in.ERROR;const Mn=new Or(Pe,X.SDK_VERSION,q,Ke,Et,Qt),di=new xe(Mn,yn),zi=new Ci(di,yn,Nn,er),mo=new Tt(he,zi,Nn,yn,er);return function(M){const F=(0,ne.m9)(M);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(mo),mo},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(jr,"0.3.10"),(0,X.registerVersion)(jr,"0.3.10","esm2017");const ci="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fi="google.c.a.c_id",Xi="google.c.a.c_l",Tr="google.c.a.ts",Qr="google.c.a.e";var li=(()=>{return(M=li||(li={})).PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",li;var M})();function hr(M){const F=new Uint8Array(M);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Is(M){const q=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(q),Pe=new Uint8Array(he.length);for(let Ke=0;Ke<he.length;++Ke)Pe[Ke]=he.charCodeAt(Ke);return Pe}const ws="fcm_token_details_db",Gi="fcm_token_object_Store";function $r(M){return mi.apply(this,arguments)}function mi(){return(mi=(0,j.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(ws))return null;let F=null;return(yield(0,W.X3)(ws,5,{upgrade:(he=(0,j.Z)(function*(Pe,Ke,Et,Qt){var yn;if(Ke<2||!Pe.objectStoreNames.contains(Gi))return;const Nn=Qt.objectStore(Gi),er=yield Nn.index("fcmSenderId").get(M);if(yield Nn.clear(),er)if(2===Ke){const Mn=er;if(!Mn.auth||!Mn.p256dh||!Mn.endpoint)return;F={token:Mn.fcmToken,createTime:null!==(yn=Mn.createTime)&&void 0!==yn?yn:Date.now(),subscriptionOptions:{auth:Mn.auth,p256dh:Mn.p256dh,endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:"string"==typeof Mn.vapidKey?Mn.vapidKey:hr(Mn.vapidKey)}}}else if(3===Ke){const Mn=er;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:hr(Mn.auth),p256dh:hr(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:hr(Mn.vapidKey)}}}else if(4===Ke){const Mn=er;F={token:Mn.fcmToken,createTime:Mn.createTime,subscriptionOptions:{auth:hr(Mn.auth),p256dh:hr(Mn.p256dh),endpoint:Mn.endpoint,swScope:Mn.swScope,vapidKey:hr(Mn.vapidKey)}}}}),function(Ke,Et,Qt,yn){return he.apply(this,arguments)})})).close(),yield(0,W.Lj)(ws),yield(0,W.Lj)("fcm_vapid_details_db"),yield(0,W.Lj)("undefined"),Cs(F)?F:null;var he})).apply(this,arguments)}function Cs(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:F}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const vr="firebase-messaging-store";let Ds=null;function P(){return Ds||(Ds=(0,W.X3)("firebase-messaging-database",1,{upgrade:(M,F)=>{switch(F){case 0:M.createObjectStore(vr)}}})),Ds}function Q(M){return k.apply(this,arguments)}function k(){return(k=(0,j.Z)(function*(M){const F=N(M),he=yield(yield P()).transaction(vr).objectStore(vr).get(F);if(he)return he;{const Pe=yield $r(M.appConfig.senderId);if(Pe)return yield J(M,Pe),Pe}})).apply(this,arguments)}function J(M,F){return pe.apply(this,arguments)}function pe(){return(pe=(0,j.Z)(function*(M,F){const q=N(M),Pe=(yield P()).transaction(vr,"readwrite");return yield Pe.objectStore(vr).put(F,q),yield Pe.done,F})).apply(this,arguments)}function Qe(M){return bt.apply(this,arguments)}function bt(){return(bt=(0,j.Z)(function*(M){const F=N(M),he=(yield P()).transaction(vr,"readwrite");yield he.objectStore(vr).delete(F),yield he.done})).apply(this,arguments)}function N({appConfig:M}){return M.appId}const S=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function z(M,F){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,j.Z)(function*(M,F){var q;const he=yield Sr(M),Pe=xn(F),Ke={method:"POST",headers:he,body:JSON.stringify(Pe)};let Et;try{Et=yield(yield fetch(pr(M.appConfig),Ke)).json()}catch(Qt){throw S.create("token-subscribe-failed",{errorInfo:null===(q=Qt)||void 0===q?void 0:q.toString()})}if(Et.error)throw S.create("token-subscribe-failed",{errorInfo:Et.error.message});if(!Et.token)throw S.create("token-subscribe-no-token");return Et.token})).apply(this,arguments)}function St(M,F){return fn.apply(this,arguments)}function fn(){return(fn=(0,j.Z)(function*(M,F){var q;const he=yield Sr(M),Pe=xn(F.subscriptionOptions),Ke={method:"PATCH",headers:he,body:JSON.stringify(Pe)};let Et;try{Et=yield(yield fetch(`${pr(M.appConfig)}/${F.token}`,Ke)).json()}catch(Qt){throw S.create("token-update-failed",{errorInfo:null===(q=Qt)||void 0===q?void 0:q.toString()})}if(Et.error)throw S.create("token-update-failed",{errorInfo:Et.error.message});if(!Et.token)throw S.create("token-update-no-token");return Et.token})).apply(this,arguments)}function yr(M,F){return ni.apply(this,arguments)}function ni(){return(ni=(0,j.Z)(function*(M,F){var q;const Pe={method:"DELETE",headers:yield Sr(M)};try{const Et=yield(yield fetch(`${pr(M.appConfig)}/${F}`,Pe)).json();if(Et.error)throw S.create("token-unsubscribe-failed",{errorInfo:Et.error.message})}catch(Ke){throw S.create("token-unsubscribe-failed",{errorInfo:null===(q=Ke)||void 0===q?void 0:q.toString()})}})).apply(this,arguments)}function pr({projectId:M}){return`https://fcmregistrations.googleapis.com/v1/projects/${M}/registrations`}function Sr(M){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,j.Z)(function*({appConfig:M,installations:F}){const q=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function xn({p256dh:M,auth:F,endpoint:q,vapidKey:he}){const Pe={web:{endpoint:q,auth:F,p256dh:M}};return he!==Es&&(Pe.web.applicationPubKey=he),Pe}const hs=6048e5;function to(M){return ca.apply(this,arguments)}function ca(){return(ca=(0,j.Z)(function*(M){const F=yield Ko(M.swRegistration,M.vapidKey),q={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:F.endpoint,auth:hr(F.getKey("auth")),p256dh:hr(F.getKey("p256dh"))},he=yield Q(M.firebaseDependencies);if(he){if(wo(he.subscriptionOptions,q))return Date.now()>=he.createTime+hs?Go(M,{token:he.token,createTime:Date.now(),subscriptionOptions:q}):he.token;try{yield yr(M.firebaseDependencies,he.token)}catch(Pe){console.warn(Pe)}return _t(M.firebaseDependencies,q)}return _t(M.firebaseDependencies,q)})).apply(this,arguments)}function la(M){return da.apply(this,arguments)}function da(){return(da=(0,j.Z)(function*(M){const F=yield Q(M.firebaseDependencies);F&&(yield yr(M.firebaseDependencies,F.token),yield Qe(M.firebaseDependencies));const q=yield M.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()})).apply(this,arguments)}function Go(M,F){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,j.Z)(function*(M,F){try{const q=yield St(M.firebaseDependencies,F),he=Object.assign(Object.assign({},F),{token:q,createTime:Date.now()});return yield J(M.firebaseDependencies,he),q}catch(q){throw yield la(M),q}})).apply(this,arguments)}function _t(M,F){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,j.Z)(function*(M,F){const he={token:yield z(M,F),createTime:Date.now(),subscriptionOptions:F};return yield J(M,he),he.token})).apply(this,arguments)}function Ko(M,F){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,j.Z)(function*(M,F){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Is(F)})})).apply(this,arguments)}function wo(M,F){return F.vapidKey===M.vapidKey&&F.endpoint===M.endpoint&&F.auth===M.auth&&F.p256dh===M.p256dh}function zs(M){const F={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function(M,F){if(!F.notification)return;M.notification={};const q=F.notification.title;q&&(M.notification.title=q);const he=F.notification.body;he&&(M.notification.body=he);const Pe=F.notification.image;Pe&&(M.notification.image=Pe)}(F,M),function(M,F){!F.data||(M.data=F.data)}(F,M),function(M,F){var q,he,Pe,Ke,Et;if(!F.fcmOptions&&!(null===(q=F.notification)||void 0===q?void 0:q.click_action))return;M.fcmOptions={};const Qt=null!==(Pe=null===(he=F.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==Pe?Pe:null===(Ke=F.notification)||void 0===Ke?void 0:Ke.click_action;Qt&&(M.fcmOptions.link=Qt);const yn=null===(Et=F.fcmOptions)||void 0===Et?void 0:Et.analytics_label;yn&&(M.fcmOptions.analyticsLabel=yn)}(F,M),F}function Co(M){return"object"==typeof M&&!!M&&Fi in M}function Zs(M,F){const q=[];for(let he=0;he<M.length;he++)q.push(M.charAt(he)),he<F.length&&q.push(F.charAt(he));return q.join("")}function Ts(M){return S.create("missing-app-config-values",{valueName:M})}Zs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ri{constructor(F,q,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function(M){if(!M||!M.options)throw Ts("App Configuration Object");if(!M.name)throw Ts("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:q}=M;for(const he of F)if(!q[he])throw Ts(he);return{appName:M.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:Pe,installations:q,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Di(M){return ha.apply(this,arguments)}function ha(){return(ha=(0,j.Z)(function*(M){var F;try{M.swRegistration=yield navigator.serviceWorker.register(ci,{scope:Wi}),M.swRegistration.update().catch(()=>{})}catch(q){throw S.create("failed-service-worker-registration",{browserErrorMessage:null===(F=q)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Cr(M,F){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,j.Z)(function*(M,F){if(!F&&!M.swRegistration&&(yield Di(M)),F||!M.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw S.create("invalid-sw-registration");M.swRegistration=F}})).apply(this,arguments)}function fa(M,F){return io.apply(this,arguments)}function io(){return(io=(0,j.Z)(function*(M,F){F?M.vapidKey=F:M.vapidKey||(M.vapidKey=Es)})).apply(this,arguments)}function Do(){return(Do=(0,j.Z)(function*(M,F){if(!navigator)throw S.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw S.create("permission-blocked");return yield fa(M,null==F?void 0:F.vapidKey),yield Cr(M,null==F?void 0:F.serviceWorkerRegistration),to(M)})).apply(this,arguments)}function Zo(M,F,q){return ts.apply(this,arguments)}function ts(){return(ts=(0,j.Z)(function*(M,F,q){const he=pa(F);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:q[Fi],message_name:q[Xi],message_time:q[Tr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pa(M){switch(M){case li.NOTIFICATION_CLICKED:return"notification_open";case li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function To(){return(To=(0,j.Z)(function*(M,F){const q=F.data;if(!q.isFirebaseMessaging)return;M.onMessageHandler&&q.messageType===li.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(zs(q)):M.onMessageHandler.next(zs(q)));const he=q.data;Co(he)&&"1"===he[Qr]&&(yield Zo(M,q.messageType,he))})).apply(this,arguments)}const ns="@firebase/messaging";function ya(){return ps.apply(this,arguments)}function ps(){return(ps=(0,j.Z)(function*(){try{yield(0,ne.eu)()}catch(M){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,X._registerComponent)(new K.wA("messaging",M=>{const F=new ri(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function(M,F){return To.apply(this,arguments)}(F,q)),F},"PUBLIC")),(0,X._registerComponent)(new K.wA("messaging-internal",M=>{const F=M.getProvider("messaging").getImmediate();return{getToken:he=>function(M,F){return Do.apply(this,arguments)}(F,he)}},"PRIVATE")),(0,X.registerVersion)(ns,"0.9.15"),(0,X.registerVersion)(ns,"0.9.15","esm2017");const Ao="analytics",oo="firebase_id",xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oi="https://www.googletagmanager.com/gtag/js",Zr=new ee.Yd("@firebase/analytics");function gs(M){return Promise.all(M.map(F=>F.catch(q=>q)))}function La(M,F){const q=document.createElement("script");q.src=`${Oi}?l=${M}&id=${F}`,q.async=!0,document.head.appendChild(q)}function ao(M,F,q,he,Pe,Ke){return uo.apply(this,arguments)}function uo(){return(uo=(0,j.Z)(function*(M,F,q,he,Pe,Ke){const Et=he[Pe];try{if(Et)yield F[Et];else{const yn=(yield gs(q)).find(Nn=>Nn.measurementId===Pe);yn&&(yield F[yn.appId])}}catch(Qt){Zr.error(Qt)}M("config",Pe,Ke)})).apply(this,arguments)}function Yo(M,F,q,he,Pe){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,j.Z)(function*(M,F,q,he,Pe){try{let Ke=[];if(Pe&&Pe.send_to){let Et=Pe.send_to;Array.isArray(Et)||(Et=[Et]);const Qt=yield gs(q);for(const yn of Et){const Nn=Qt.find(Mn=>Mn.measurementId===yn),er=Nn&&F[Nn.appId];if(!er){Ke=[];break}Ke.push(er)}}0===Ke.length&&(Ke=Object.values(F)),yield Promise.all(Ke),M("event",he,Pe||{})}catch(Ke){Zr.error(Ke)}})).apply(this,arguments)}function lo(){const M=window.document.getElementsByTagName("script");for(const F of Object.values(M))if(F.src&&F.src.includes(Oi))return F;return null}const Li=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fo=new class{constructor(F={},q=1e3){this.throttleMetadata=F,this.intervalMillis=q}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,q){this.throttleMetadata[F]=q}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Ya(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function v(M){return l.apply(this,arguments)}function l(){return(l=(0,j.Z)(function*(M){var F;const{appId:q,apiKey:he}=M,Pe={method:"GET",headers:Ya(he)},Ke=xo.replace("{app-id}",q),Et=yield fetch(Ke,Pe);if(200!==Et.status&&304!==Et.status){let Qt="";try{const yn=yield Et.json();(null===(F=yn.error)||void 0===F?void 0:F.message)&&(Qt=yn.error.message)}catch(yn){}throw Li.create("config-fetch-failed",{httpStatus:Et.status,responseMessage:Qt})}return Et.json()})).apply(this,arguments)}function f(M){return b.apply(this,arguments)}function b(){return(b=(0,j.Z)(function*(M,F=fo,q){const{appId:he,apiKey:Pe,measurementId:Ke}=M.options;if(!he)throw Li.create("no-app-id");if(!Pe){if(Ke)return{measurementId:Ke,appId:he};throw Li.create("no-api-key")}const Et=F.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new me;return setTimeout((0,j.Z)(function*(){Qt.abort()}),void 0!==q?q:6e4),x({appId:he,apiKey:Pe,measurementId:Ke},Et,Qt,F)})).apply(this,arguments)}function x(M,F,q){return V.apply(this,arguments)}function V(){return(V=(0,j.Z)(function*(M,{throttleEndTimeMillis:F,backoffCount:q},he,Pe=fo){var Ke,Et;const{appId:Qt,measurementId:yn}=M;try{yield oe(he,F)}catch(Nn){if(yn)return Zr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null===(Ke=Nn)||void 0===Ke?void 0:Ke.message}]`),{appId:Qt,measurementId:yn};throw Nn}try{const Nn=yield v(M);return Pe.deleteThrottleMetadata(Qt),Nn}catch(Nn){const er=Nn;if(!ge(er)){if(Pe.deleteThrottleMetadata(Qt),yn)return Zr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yn} provided in the "measurementId" field in the local Firebase config. [${null==er?void 0:er.message}]`),{appId:Qt,measurementId:yn};throw Nn}const Mn=503===Number(null===(Et=null==er?void 0:er.customData)||void 0===Et?void 0:Et.httpStatus)?(0,ne.$s)(q,Pe.intervalMillis,30):(0,ne.$s)(q,Pe.intervalMillis),di={throttleEndTimeMillis:Date.now()+Mn,backoffCount:q+1};return Pe.setThrottleMetadata(Qt,di),Zr.debug(`Calling attemptFetch again in ${Mn} millis`),x(M,di,he,Pe)}})).apply(this,arguments)}function oe(M,F){return new Promise((q,he)=>{const Pe=Math.max(F-Date.now(),0),Ke=setTimeout(q,Pe);M.addEventListener(()=>{clearTimeout(Ke),he(Li.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function ge(M){if(!(M instanceof ne.ZR&&M.customData))return!1;const F=Number(M.customData.httpStatus);return 429===F||500===F||503===F||504===F}class me{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function Ot(){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,j.Z)(function*(){var M;if(!(0,ne.hl)())return Zr.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(F){return Zr.warn(Li.create("indexeddb-unavailable",{errorInfo:null===(M=F)||void 0===M?void 0:M.toString()}).message),!1}return!0})).apply(this,arguments)}function At(){return(At=(0,j.Z)(function*(M,F,q,he,Pe,Ke,Et){var Qt;const yn=f(M);yn.then(zi=>{q[zi.measurementId]=zi.appId,M.options.measurementId&&zi.measurementId!==M.options.measurementId&&Zr.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zi=>Zr.error(zi)),F.push(yn);const Nn=Ot().then(zi=>{if(zi)return he.getId()}),[er,Mn]=yield Promise.all([yn,Nn]);lo()||La(Ke,er.measurementId),Pe("js",new Date);const di=null!==(Qt=null==Et?void 0:Et.config)&&void 0!==Qt?Qt:{};return di.origin="firebase",di.update=!0,null!=Mn&&(di[oo]=Mn),Pe("config",er.measurementId,di),er.measurementId})).apply(this,arguments)}class $t{constructor(F){this.app=F}_delete(){return delete ii[this.app.options.appId],Promise.resolve()}}let ii={},Lt=[];const We={};let Qs,po,yt="dataLayer",ml=!1;function Iu(M,F,q){!function(){const M=[];if((0,ne.ru)()&&M.push("This is a browser extension environment."),(0,ne.zI)()||M.push("Cookies are not available."),M.length>0){const F=M.map((he,Pe)=>`(${Pe+1}) ${he}`).join(" "),q=Li.create("invalid-analytics-context",{errorInfo:F});Zr.warn(q.message)}}();const he=M.options.appId;if(!he)throw Li.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw Li.create("no-api-key");Zr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ii[he])throw Li.create("already-exists",{id:he});if(!ml){!function(M){let F=[];Array.isArray(window[M])?F=window[M]:window[M]=F}(yt);const{wrappedGtag:Ke,gtagCore:Et}=function(M,F,q,he,Pe){let Ke=function(...Et){window[he].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&(Ke=window[Pe]),window[Pe]=function(M,F,q,he){function Ke(){return(Ke=(0,j.Z)(function*(Et,Qt,yn){try{"event"===Et?yield Yo(M,F,q,Qt,yn):"config"===Et?yield ao(M,F,q,he,Qt,yn):M("set",Qt)}catch(Nn){Zr.error(Nn)}})).apply(this,arguments)}return function(Et,Qt,yn){return Ke.apply(this,arguments)}}(Ke,M,F,q),{gtagCore:Ke,wrappedGtag:window[Pe]}}(ii,Lt,We,yt,"gtag");po=Ke,Qs=Et,ml=!0}return ii[he]=function(M,F,q,he,Pe,Ke,Et){return At.apply(this,arguments)}(M,Lt,We,F,Qs,yt,q),new $t(M)}function zu(){return(zu=(0,j.Z)(function*(M,F,q,he,Pe){if(Pe&&Pe.global)M("event",q,he);else{const Ke=yield F;M("event",q,Object.assign(Object.assign({},he),{send_to:Ke}))}})).apply(this,arguments)}function ta(){return Er.apply(this,arguments)}function Er(){return(Er=(0,j.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(M){return!1}})).apply(this,arguments)}const Xa="@firebase/analytics";(0,X._registerComponent)(new K.wA(Ao,(F,{options:q})=>Iu(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,X._registerComponent)(new K.wA("analytics-internal",function(F){try{const q=F.getProvider(Ao).getImmediate();return{logEvent:(he,Pe,Ke)=>function(M,F,q,he){M=(0,ne.m9)(M),function(M,F,q,he,Pe){return zu.apply(this,arguments)}(po,ii[M.app.options.appId],F,q,he).catch(Pe=>Zr.error(Pe))}(q,he,Pe,Ke)}}catch(q){throw Li.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,X.registerVersion)(Xa,"0.7.11"),(0,X.registerVersion)(Xa,"0.7.11","esm2017");var Ys=D(7771),Fc=D(3637),Th=D(8307),Lc=D(2639),ja=D(9746);const Vc=new h.Version("7.4.1"),Ge="__angularfire_symbol__analyticsIsSupportedValue",Ea="__angularfire_symbol__analyticsIsSupported",Rr="__angularfire_symbol__remoteConfigIsSupportedValue",Uc="__angularfire_symbol__remoteConfigIsSupported",qr="__angularfire_symbol__messagingIsSupportedValue",Fs="__angularfire_symbol__messagingIsSupported";function Oo(M,F,q){if(F){if(1===F.length)return F[0];const Ke=F.filter(Et=>Et.app===q);if(1===Ke.length)return Ke[0]}return q.container.getProvider(M).getImmediate({optional:!0})}globalThis[Ea]||(globalThis[Ea]=ta().then(M=>globalThis[Ge]=M).catch(()=>globalThis[Ge]=!1)),globalThis[Fs]||(globalThis[Fs]=ya().then(M=>globalThis[qr]=M).catch(()=>globalThis[qr]=!1)),globalThis[Uc]||(globalThis[Uc]=Wo().then(M=>globalThis[Rr]=M).catch(()=>globalThis[Rr]=!1));const nu=(M,F)=>{const q=F?[F]:(0,A.C6)(),he=[];return q.forEach(Pe=>{Pe.container.getProvider(M).instances.forEach(Et=>{he.includes(Et)||he.push(Et)})}),he};function Jr(){}class No{constructor(F,q=Ys.N){this.zone=F,this.delegate=q}now(){return this.delegate.now()}schedule(F,q,he){const Pe=this.zone;return this.delegate.schedule(function(Et){Pe.runGuarded(()=>{F.apply(this,[Et])})},q,he)}}class Ia{constructor(F){this.zone=F,this.task=null}call(F,q){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr)),q.pipe((0,Th.b)({next:he,complete:he,error:he})).subscribe(F).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _l=(()=>{class M{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new No(Zone.current)),this.insideAngular=q.run(()=>new No(Zone.current,Fc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(q){return new(q||M)(h.\u0275\u0275inject(h.NgZone))},M.\u0275prov=h.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Lr(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function go(M){return Lr(),function(M){return function(q){return(q=q.lift(new Ia(M.ngZone))).pipe((0,Lc.R)(M.outsideAngular),(0,ja.QV)(M.insideAngular))}}(Lr())(M)}},665:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{AbstractControl:()=>Ir,AbstractControlDirective:()=>st,AbstractFormGroupDirective:()=>Ce,COMPOSITION_BUFFER_MODE:()=>ye,CheckboxControlValueAccessor:()=>Fe,CheckboxRequiredValidator:()=>Is,ControlContainer:()=>Cn,DefaultValueAccessor:()=>Le,EmailValidator:()=>ds,FormArray:()=>qn,FormArrayName:()=>Tt,FormBuilder:()=>Qe,FormControl:()=>Zn,FormControlDirective:()=>Or,FormControlName:()=>Hr,FormGroup:()=>_r,FormGroupDirective:()=>De,FormGroupName:()=>je,FormsModule:()=>k,MaxLengthValidator:()=>Cs,MaxValidator:()=>Xi,MinLengthValidator:()=>$r,MinValidator:()=>Qr,NG_ASYNC_VALIDATORS:()=>_n,NG_VALIDATORS:()=>Xe,NG_VALUE_ACCESSOR:()=>re,NgControl:()=>Bn,NgControlStatus:()=>cr,NgControlStatusGroup:()=>He,NgForm:()=>be,NgModel:()=>pi,NgModelGroup:()=>Vn,NgSelectOption:()=>$i,NumberValueAccessor:()=>xr,PatternValidator:()=>xi,RadioControlValueAccessor:()=>Wn,RangeValueAccessor:()=>Ji,ReactiveFormsModule:()=>J,RequiredValidator:()=>hr,SelectControlValueAccessor:()=>gi,SelectMultipleControlValueAccessor:()=>ci,VERSION:()=>bt,Validators:()=>et,\u0275InternalFormsSharedModule:()=>Q,\u0275NgNoValidate:()=>Ei,\u0275NgSelectMultipleOption:()=>Wi,\u0275angular_packages_forms_forms_a:()=>vr,\u0275angular_packages_forms_forms_b:()=>Ds,\u0275angular_packages_forms_forms_ba:()=>ki,\u0275angular_packages_forms_forms_bb:()=>Wi,\u0275angular_packages_forms_forms_bc:()=>Ei,\u0275angular_packages_forms_forms_bd:()=>Fi,\u0275angular_packages_forms_forms_be:()=>Tr,\u0275angular_packages_forms_forms_bf:()=>os,\u0275angular_packages_forms_forms_bg:()=>li,\u0275angular_packages_forms_forms_bh:()=>ws,\u0275angular_packages_forms_forms_bi:()=>Gi,\u0275angular_packages_forms_forms_bj:()=>mi,\u0275angular_packages_forms_forms_bk:()=>es,\u0275angular_packages_forms_forms_bl:()=>kt,\u0275angular_packages_forms_forms_bm:()=>ke,\u0275angular_packages_forms_forms_bn:()=>ut,\u0275angular_packages_forms_forms_bo:()=>dt,\u0275angular_packages_forms_forms_bp:()=>It,\u0275angular_packages_forms_forms_bq:()=>at,\u0275angular_packages_forms_forms_br:()=>jt,\u0275angular_packages_forms_forms_bs:()=>gt,\u0275angular_packages_forms_forms_bt:()=>Xt,\u0275angular_packages_forms_forms_c:()=>P,\u0275angular_packages_forms_forms_d:()=>Q,\u0275angular_packages_forms_forms_e:()=>Ae,\u0275angular_packages_forms_forms_f:()=>U,\u0275angular_packages_forms_forms_g:()=>G,\u0275angular_packages_forms_forms_h:()=>$e,\u0275angular_packages_forms_forms_i:()=>Wt,\u0275angular_packages_forms_forms_j:()=>hn,\u0275angular_packages_forms_forms_k:()=>Kn,\u0275angular_packages_forms_forms_l:()=>jr,\u0275angular_packages_forms_forms_m:()=>In,\u0275angular_packages_forms_forms_n:()=>mn,\u0275angular_packages_forms_forms_o:()=>bi,\u0275angular_packages_forms_forms_p:()=>Ii,\u0275angular_packages_forms_forms_q:()=>Pi,\u0275angular_packages_forms_forms_r:()=>Bi,\u0275angular_packages_forms_forms_s:()=>wi,\u0275angular_packages_forms_forms_t:()=>Ci,\u0275angular_packages_forms_forms_u:()=>ui,\u0275angular_packages_forms_forms_v:()=>nr,\u0275angular_packages_forms_forms_w:()=>vs,\u0275angular_packages_forms_forms_x:()=>xe,\u0275angular_packages_forms_forms_y:()=>ct,\u0275angular_packages_forms_forms_z:()=>Hn});var h=D(7716),A=D(8583),j=D(8891),X=D(9796),ne=D(8002),K=D(1555),ee=D(4402);function Y(N,R){return new j.y(S=>{const z=N.length;if(0===z)return void S.complete();const Ne=new Array(z);let St=0,fn=0;for(let yr=0;yr<z;yr++){const ni=(0,ee.D)(N[yr]);let pr=!1;S.add(ni.subscribe({next:Sr=>{pr||(pr=!0,fn++),Ne[yr]=Sr},error:Sr=>S.error(Sr),complete:()=>{St++,(St===z||!pr)&&(fn===z&&S.next(R?R.reduce((Sr,Ri,xn)=>(Sr[Ri]=Ne[xn],Sr),{}):Ne),S.complete())}}))}})}let U=(()=>{class N{constructor(S,z){this._renderer=S,this._elementRef=z,this.onChange=Ne=>{},this.onTouched=()=>{}}setProperty(S,z){this._renderer.setProperty(this._elementRef.nativeElement,S,z)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N}),N})(),G=(()=>{class N extends U{}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,features:[h.\u0275\u0275InheritDefinitionFeature]}),N})();const re=new h.InjectionToken("NgValueAccessor"),Ae={provide:re,useExisting:(0,h.forwardRef)(()=>Fe),multi:!0};let Fe=(()=>{class N extends G{writeValue(S){this.setProperty("checked",S)}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("change",function(St){return z.onChange(St.target.checked)})("blur",function(){return z.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([Ae]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const $e={provide:re,useExisting:(0,h.forwardRef)(()=>Le),multi:!0},ye=new h.InjectionToken("CompositionEventMode");let Le=(()=>{class N extends U{constructor(S,z,Ne){super(S,z),this._compositionMode=Ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const N=(0,A.\u0275getDOM)()?(0,A.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(N.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(ye,8))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("input",function(St){return z._handleInput(St.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(St){return z._compositionEnd(St.target.value)})},features:[h.\u0275\u0275ProvidersFeature([$e]),h.\u0275\u0275InheritDefinitionFeature]}),N})();function ze(N){return null==N||0===N.length}function pt(N){return null!=N&&"number"==typeof N.length}const Xe=new h.InjectionToken("NgValidators"),_n=new h.InjectionToken("NgAsyncValidators"),tn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class et{static min(R){return kt(R)}static max(R){return ke(R)}static required(R){return ut(R)}static requiredTrue(R){return dt(R)}static email(R){return It(R)}static minLength(R){return at(R)}static maxLength(R){return jt(R)}static pattern(R){return gt(R)}static nullValidator(R){return null}static compose(R){return Dt(R)}static composeAsync(R){return ht(R)}}function kt(N){return R=>{if(ze(R.value)||ze(N))return null;const S=parseFloat(R.value);return!isNaN(S)&&S<N?{min:{min:N,actual:R.value}}:null}}function ke(N){return R=>{if(ze(R.value)||ze(N))return null;const S=parseFloat(R.value);return!isNaN(S)&&S>N?{max:{max:N,actual:R.value}}:null}}function ut(N){return ze(N.value)?{required:!0}:null}function dt(N){return!0===N.value?null:{required:!0}}function It(N){return ze(N.value)||tn.test(N.value)?null:{email:!0}}function at(N){return R=>ze(R.value)||!pt(R.value)?null:R.value.length<N?{minlength:{requiredLength:N,actualLength:R.value.length}}:null}function jt(N){return R=>pt(R.value)&&R.value.length>N?{maxlength:{requiredLength:N,actualLength:R.value.length}}:null}function gt(N){if(!N)return Xt;let R,S;return"string"==typeof N?(S="","^"!==N.charAt(0)&&(S+="^"),S+=N,"$"!==N.charAt(N.length-1)&&(S+="$"),R=new RegExp(S)):(S=N.toString(),R=N),z=>{if(ze(z.value))return null;const Ne=z.value;return R.test(Ne)?null:{pattern:{requiredPattern:S,actualValue:Ne}}}}function Xt(N){return null}function Gn(N){return null!=N}function vn(N){const R=(0,h.\u0275isPromise)(N)?(0,ee.D)(N):N;return(0,h.\u0275isObservable)(R),R}function Ln(N){let R={};return N.forEach(S=>{R=null!=S?Object.assign(Object.assign({},R),S):R}),0===Object.keys(R).length?null:R}function un(N,R){return R.map(S=>S(N))}function ar(N){return N.map(R=>function(N){return!N.validate}(R)?R:S=>R.validate(S))}function Dt(N){if(!N)return null;const R=N.filter(Gn);return 0==R.length?null:function(S){return Ln(un(S,R))}}function Ut(N){return null!=N?Dt(ar(N)):null}function ht(N){if(!N)return null;const R=N.filter(Gn);return 0==R.length?null:function(S){return function(...N){if(1===N.length){const R=N[0];if((0,X.k)(R))return Y(R,null);if((0,K.K)(R)&&Object.getPrototypeOf(R)===Object.prototype){const S=Object.keys(R);return Y(S.map(z=>R[z]),S)}}if("function"==typeof N[N.length-1]){const R=N.pop();return Y(N=1===N.length&&(0,X.k)(N[0])?N[0]:N,null).pipe((0,ne.U)(S=>R(...S)))}return Y(N,null)}(un(S,R).map(vn)).pipe((0,ne.U)(Ln))}}function pn(N){return null!=N?ht(ar(N)):null}function Kt(N,R){return null===N?[R]:Array.isArray(N)?[...N,R]:[N,R]}function an(N){return N._rawValidators}function Vt(N){return N._rawAsyncValidators}function Ct(N){return N?Array.isArray(N)?N:[N]:[]}function jn(N,R){return Array.isArray(N)?N.includes(R):N===R}function Jn(N,R){const S=Ct(R);return Ct(N).forEach(Ne=>{jn(S,Ne)||S.push(Ne)}),S}function Yt(N,R){return Ct(R).filter(S=>!jn(N,S))}let st=(()=>{class N{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Ut(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,z){return!!this.control&&this.control.hasError(S,z)}getError(S,z){return this.control?this.control.getError(S,z):null}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N}),N})(),Cn=(()=>{class N extends st{get formDirective(){return null}get path(){return null}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,features:[h.\u0275\u0275InheritDefinitionFeature]}),N})();class Bn extends st{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wt{constructor(R){this._cd=R}is(R){var S,z,Ne;return"submitted"===R?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(Ne=null===(z=this._cd)||void 0===z?void 0:z.control)||void 0===Ne?void 0:Ne[R])}}const hn={"[class.ng-untouched]":'is("untouched")',"[class.ng-touched]":'is("touched")',"[class.ng-pristine]":'is("pristine")',"[class.ng-dirty]":'is("dirty")',"[class.ng-valid]":'is("valid")',"[class.ng-invalid]":'is("invalid")',"[class.ng-pending]":'is("pending")'},Kn={"[class.ng-untouched]":'is("untouched")',"[class.ng-touched]":'is("touched")',"[class.ng-pristine]":'is("pristine")',"[class.ng-dirty]":'is("dirty")',"[class.ng-valid]":'is("valid")',"[class.ng-invalid]":'is("invalid")',"[class.ng-pending]":'is("pending")',"[class.ng-submitted]":'is("submitted")'};let cr=(()=>{class N extends Wt{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Bn,2))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,z){2&S&&h.\u0275\u0275classProp("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),N})(),He=(()=>{class N extends Wt{constructor(S){super(S)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,z){2&S&&h.\u0275\u0275classProp("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))("ng-submitted",z.is("submitted"))},features:[h.\u0275\u0275InheritDefinitionFeature]}),N})();function Jt(N,R){return[...R.path,N]}function Bt(N,R){Ie(N,R),R.valueAccessor.writeValue(N.value),function(N,R){R.valueAccessor.registerOnChange(S=>{N._pendingValue=S,N._pendingChange=!0,N._pendingDirty=!0,"change"===N.updateOn&&Zt(N,R)})}(N,R),function(N,R){const S=(z,Ne)=>{R.valueAccessor.writeValue(z),Ne&&R.viewToModelUpdate(z)};N.registerOnChange(S),R._registerOnDestroy(()=>{N._unregisterOnChange(S)})}(N,R),function(N,R){R.valueAccessor.registerOnTouched(()=>{N._pendingTouched=!0,"blur"===N.updateOn&&N._pendingChange&&Zt(N,R),"submit"!==N.updateOn&&N.markAsTouched()})}(N,R),function(N,R){if(R.valueAccessor.setDisabledState){const S=z=>{R.valueAccessor.setDisabledState(z)};N.registerOnDisabledChange(S),R._registerOnDestroy(()=>{N._unregisterOnDisabledChange(S)})}}(N,R)}function ce(N,R,S=!0){const z=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(z),R.valueAccessor.registerOnTouched(z)),le(N,R),N&&(R._invokeOnDestroyCallbacks(),N._registerOnCollectionChange(()=>{}))}function de(N,R){N.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(R)})}function Ie(N,R){const S=an(N);null!==R.validator?N.setValidators(Kt(S,R.validator)):"function"==typeof S&&N.setValidators([S]);const z=Vt(N);null!==R.asyncValidator?N.setAsyncValidators(Kt(z,R.asyncValidator)):"function"==typeof z&&N.setAsyncValidators([z]);const Ne=()=>N.updateValueAndValidity();de(R._rawValidators,Ne),de(R._rawAsyncValidators,Ne)}function le(N,R){let S=!1;if(null!==N){if(null!==R.validator){const Ne=an(N);if(Array.isArray(Ne)&&Ne.length>0){const St=Ne.filter(fn=>fn!==R.validator);St.length!==Ne.length&&(S=!0,N.setValidators(St))}}if(null!==R.asyncValidator){const Ne=Vt(N);if(Array.isArray(Ne)&&Ne.length>0){const St=Ne.filter(fn=>fn!==R.asyncValidator);St.length!==Ne.length&&(S=!0,N.setAsyncValidators(St))}}}const z=()=>{};return de(R._rawValidators,z),de(R._rawAsyncValidators,z),S}function Zt(N,R){N._pendingDirty&&N.markAsDirty(),N.setValue(N._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(N._pendingValue),N._pendingChange=!1}function kn(N,R){Ie(N,R)}function we(N,R){if(!N.hasOwnProperty("model"))return!1;const S=N.model;return!!S.isFirstChange()||!Object.is(R,S.currentValue)}function ot(N,R){N._syncPendingControls(),R.forEach(S=>{const z=S.control;"submit"===z.updateOn&&z._pendingChange&&(S.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}function xt(N,R){if(!R)return null;let S,z,Ne;return Array.isArray(R),R.forEach(St=>{St.constructor===Le?S=St:function(N){return Object.getPrototypeOf(N.constructor)===G}(St)?z=St:Ne=St}),Ne||z||S||null}function Tn(N,R){const S=N.indexOf(R);S>-1&&N.splice(S,1)}const ln="VALID",Sn="INVALID",ur="PENDING",dr="DISABLED";function or(N){return(br(N)?N.validators:N)||null}function Pt(N){return Array.isArray(N)?Ut(N):N||null}function Ht(N,R){return(br(R)?R.asyncValidators:N)||null}function wn(N){return Array.isArray(N)?pn(N):N||null}function br(N){return null!=N&&!Array.isArray(N)&&"object"==typeof N}class Ir{constructor(R,S){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=S,this._composedValidatorFn=Pt(this._rawValidators),this._composedAsyncValidatorFn=wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===ln}get invalid(){return this.status===Sn}get pending(){return this.status==ur}get disabled(){return this.status===dr}get enabled(){return this.status!==dr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=Pt(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=wn(R)}addValidators(R){this.setValidators(Jn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(Jn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Yt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Yt(R,this._rawAsyncValidators))}hasValidator(R){return jn(this._rawValidators,R)}hasAsyncValidator(R){return jn(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=ur,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=dr,this.errors=null,this._forEachChild(z=>{z.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:S})),this._onDisabledChange.forEach(z=>z(!0))}enable(R={}){const S=this._parentMarkedDirty(R.onlySelf);this.status=ln,this._forEachChild(z=>{z.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:S})),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ln||this.status===ur)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dr:ln}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=ur,this._hasOwnPendingAsyncValidator=!0;const S=vn(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,S={}){this.errors=R,this._updateControlsErrors(!1!==S.emitEvent)}get(R){return function(N,R,S){if(null==R||(Array.isArray(R)||(R=R.split(".")),Array.isArray(R)&&0===R.length))return null;let z=N;return R.forEach(Ne=>{z=z instanceof _r?z.controls.hasOwnProperty(Ne)?z.controls[Ne]:null:z instanceof qn&&z.at(Ne)||null}),z}(this,R)}getError(R,S){const z=S?this.get(S):this;return z&&z.errors?z.errors[R]:null}hasError(R,S){return!!this.getError(R,S)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new h.EventEmitter,this.statusChanges=new h.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?dr:this.errors?Sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ur)?ur:this._anyControlsHaveStatus(Sn)?Sn:ln}_anyControlsHaveStatus(R){return this._anyControls(S=>S.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){br(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Zn extends Ir{constructor(R=null,S,z){super(or(S),Ht(z,S)),this._onChange=[],this._applyFormState(R),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(R,S={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(R,S={}){this.setValue(R,S)}reset(R=null,S={}){this._applyFormState(R),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Tn(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Tn(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class _r extends Ir{constructor(R,S,z){super(or(S),Ht(z,S)),this.controls=R,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,S){return this.controls[R]?this.controls[R]:(this.controls[R]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(R,S,z={}){this.registerControl(R,S),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(R,S={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(R,S,z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],S&&this.registerControl(R,S),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,S={}){this._checkAllValuesPresent(R),Object.keys(R).forEach(z=>{this._throwIfControlMissing(z),this.controls[z].setValue(R[z],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(R,S={}){null!=R&&(Object.keys(R).forEach(z=>{this.controls[z]&&this.controls[z].patchValue(R[z],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(R={},S={}){this._forEachChild((z,Ne)=>{z.reset(R[Ne],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(R,S,z)=>(R[z]=S instanceof Zn?S.value:S.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(S,z)=>!!z._syncPendingControls()||S);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_throwIfControlMissing(R){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[R])throw new Error(`Cannot find form control with name: ${R}.`)}_forEachChild(R){Object.keys(this.controls).forEach(S=>{const z=this.controls[S];z&&R(z,S)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const S of Object.keys(this.controls)){const z=this.controls[S];if(this.contains(S)&&R(z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,S,z)=>((S.enabled||this.disabled)&&(R[z]=S.value),R))}_reduceChildren(R,S){let z=R;return this._forEachChild((Ne,St)=>{z=S(z,Ne,St)}),z}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(R){this._forEachChild((S,z)=>{if(void 0===R[z])throw new Error(`Must supply a value for form control with name: '${z}'.`)})}}class qn extends Ir{constructor(R,S,z){super(or(S),Ht(z,S)),this.controls=R,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,S={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(R,S,z={}){this.controls.splice(R,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(R,S={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(R,S,z={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),S&&(this.controls.splice(R,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,S={}){this._checkAllValuesPresent(R),R.forEach((z,Ne)=>{this._throwIfControlMissing(Ne),this.at(Ne).setValue(z,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(R,S={}){null!=R&&(R.forEach((z,Ne)=>{this.at(Ne)&&this.at(Ne).patchValue(z,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(R=[],S={}){this._forEachChild((z,Ne)=>{z.reset(R[Ne],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(R=>R instanceof Zn?R.value:R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((S,z)=>!!z._syncPendingControls()||S,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_throwIfControlMissing(R){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(R))throw new Error(`Cannot find form control at index ${R}`)}_forEachChild(R){this.controls.forEach((S,z)=>{R(S,z)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(S=>S.enabled&&R(S))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_checkAllValuesPresent(R){this._forEachChild((S,z)=>{if(void 0===R[z])throw new Error(`Must supply a value for form control at index: ${z}.`)})}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}const jr={provide:Cn,useExisting:(0,h.forwardRef)(()=>be)},gn=(()=>Promise.resolve(null))();let be=(()=>{class N extends Cn{constructor(S,z){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.EventEmitter,this.form=new _r({},Ut(S),pn(z))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){gn.then(()=>{const z=this._findContainer(S.path);S.control=z.registerControl(S.name,S.control),Bt(S.control,S),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){gn.then(()=>{const z=this._findContainer(S.path);z&&z.removeControl(S.name),Tn(this._directives,S)})}addFormGroup(S){gn.then(()=>{const z=this._findContainer(S.path),Ne=new _r({});kn(Ne,S),z.registerControl(S.name,Ne),Ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){gn.then(()=>{const z=this._findContainer(S.path);z&&z.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,z){gn.then(()=>{this.form.get(S.path).setValue(z)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submitted=!0,ot(this.form,this._directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("submit",function(St){return z.onSubmit(St)})("reset",function(){return z.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([jr]),h.\u0275\u0275InheritDefinitionFeature]}),N})(),Ce=(()=>{class N extends Cn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,features:[h.\u0275\u0275InheritDefinitionFeature]}),N})();const mn={provide:Cn,useExisting:(0,h.forwardRef)(()=>Vn)};let Vn=(()=>{class N extends Ce{constructor(S,z,Ne){super(),this._parent=S,this._setValidators(z),this._setAsyncValidators(Ne)}_checkParentType(){}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,5),h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[h.\u0275\u0275ProvidersFeature([mn]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const In={provide:Bn,useExisting:(0,h.forwardRef)(()=>pi)},vi=(()=>Promise.resolve(null))();let pi=(()=>{class N extends Bn{constructor(S,z,Ne,St){super(),this.control=new Zn,this._registered=!1,this.update=new h.EventEmitter,this._parent=S,this._setValidators(z),this._setAsyncValidators(Ne),this.valueAccessor=xt(0,St)}ngOnChanges(S){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in S&&this._updateDisabled(S),we(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Jt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){vi.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1})})}_updateDisabled(S){const z=S.isDisabled.currentValue,Ne=""===z||z&&"false"!==z;vi.then(()=>{Ne&&!this.control.disabled?this.control.disable():!Ne&&this.control.disabled&&this.control.enable()})}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,9),h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10),h.\u0275\u0275directiveInject(re,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.\u0275\u0275ProvidersFeature([In]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N})(),Ei=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const bi={provide:re,useExisting:(0,h.forwardRef)(()=>xr),multi:!0};let xr=(()=>{class N extends G{writeValue(S){this.setProperty("value",null==S?"":S)}registerOnChange(S){this.onChange=z=>{S(""==z?null:parseFloat(z))}}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("input",function(St){return z.onChange(St.target.value)})("blur",function(){return z.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([bi]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const Ii={provide:re,useExisting:(0,h.forwardRef)(()=>Wn),multi:!0};let Pi=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=h.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=h.\u0275\u0275defineInjector({}),N})(),Bi=(()=>{class N{constructor(){this._accessors=[]}add(S,z){this._accessors.push([S,z])}remove(S){for(let z=this._accessors.length-1;z>=0;--z)if(this._accessors[z][1]===S)return void this._accessors.splice(z,1)}select(S){this._accessors.forEach(z=>{this._isSameGroup(z,S)&&z[1]!==S&&z[1].fireUncheck(S.value)})}_isSameGroup(S,z){return!!S[0].control&&S[0]._parent===z._control._parent&&S[1].name===z.name}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:function(){return new N},token:N,providedIn:Pi}),N})(),Wn=(()=>{class N extends G{constructor(S,z,Ne,St){super(S,z),this._registry=Ne,this._injector=St,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Bn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(S){this._state=S===this.value,this.setProperty("checked",this._state)}registerOnChange(S){this._fn=S,this.onChange=()=>{S(this.value),this._registry.select(this)}}fireUncheck(S){this.writeValue(S)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(Bi),h.\u0275\u0275directiveInject(h.Injector))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("change",function(){return z.onChange()})("blur",function(){return z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h.\u0275\u0275ProvidersFeature([Ii]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const wi={provide:re,useExisting:(0,h.forwardRef)(()=>Ji),multi:!0};let Ji=(()=>{class N extends G{writeValue(S){this.setProperty("value",parseFloat(S))}registerOnChange(S){this.onChange=z=>{S(""==z?null:parseFloat(z))}}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("change",function(St){return z.onChange(St.target.value)})("input",function(St){return z.onChange(St.target.value)})("blur",function(){return z.onTouched()})},features:[h.\u0275\u0275ProvidersFeature([wi]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const Ci=new h.InjectionToken("NgModelWithFormControlWarning"),ui={provide:Bn,useExisting:(0,h.forwardRef)(()=>Or)};let Or=(()=>{class N extends Bn{constructor(S,z,Ne,St){super(),this._ngModelWarningConfig=St,this.update=new h.EventEmitter,this._ngModelWarningSent=!1,this._setValidators(S),this._setAsyncValidators(z),this.valueAccessor=xt(0,Ne)}set isDisabled(S){}ngOnChanges(S){if(this._isControlChanged(S)){const z=S.form.previousValue;z&&ce(z,this,!1),Bt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}we(S,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ce(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_isControlChanged(S){return S.hasOwnProperty("form")}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10),h.\u0275\u0275directiveInject(re,10),h.\u0275\u0275directiveInject(Ci,8))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([ui]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N._ngModelWarningSentOnce=!1,N})();const vs={provide:Cn,useExisting:(0,h.forwardRef)(()=>De)};let De=(()=>{class N extends Cn{constructor(S,z){super(),this.validators=S,this.asyncValidators=z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.EventEmitter,this._setValidators(S),this._setAsyncValidators(z)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(le(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const z=this.form.get(S.path);return Bt(z,S),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),z}getControl(S){return this.form.get(S.path)}removeControl(S){ce(S.control||null,S,!1),Tn(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,z){this.form.get(S.path).setValue(z)}onSubmit(S){return this.submitted=!0,ot(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const z=S.control,Ne=this.form.get(S.path);z!==Ne&&(ce(z||null,S),Ne instanceof Zn&&(Bt(Ne,S),S.control=Ne))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const z=this.form.get(S.path);kn(z,S),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const z=this.form.get(S.path);z&&function(N,R){return le(N,R)}(z,S)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ie(this.form,this),this._oldForm&&le(this._oldForm,this)}_checkFormPresent(){}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formGroup",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("submit",function(St){return z.onSubmit(St)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.\u0275\u0275ProvidersFeature([vs]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N})();const xe={provide:Cn,useExisting:(0,h.forwardRef)(()=>je)};let je=(()=>{class N extends Ce{constructor(S,z,Ne){super(),this._parent=S,this._setValidators(z),this._setAsyncValidators(Ne)}_checkParentType(){qt(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,13),h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[h.\u0275\u0275ProvidersFeature([xe]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const ct={provide:Cn,useExisting:(0,h.forwardRef)(()=>Tt)};let Tt=(()=>{class N extends Cn{constructor(S,z,Ne){super(),this._parent=S,this._setValidators(z),this._setAsyncValidators(Ne)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qt(this._parent)}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,13),h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[h.\u0275\u0275ProvidersFeature([ct]),h.\u0275\u0275InheritDefinitionFeature]}),N})();function qt(N){return!(N instanceof je||N instanceof De||N instanceof Tt)}const nr={provide:Bn,useExisting:(0,h.forwardRef)(()=>Hr)};let Hr=(()=>{class N extends Bn{constructor(S,z,Ne,St,fn){super(),this._ngModelWarningConfig=fn,this._added=!1,this.update=new h.EventEmitter,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(z),this._setAsyncValidators(Ne),this.valueAccessor=xt(0,St)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),we(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(Cn,13),h.\u0275\u0275directiveInject(Xe,10),h.\u0275\u0275directiveInject(_n,10),h.\u0275\u0275directiveInject(re,10),h.\u0275\u0275directiveInject(Ci,8))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.\u0275\u0275ProvidersFeature([nr]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N._ngModelWarningSentOnce=!1,N})();const Hn={provide:re,useExisting:(0,h.forwardRef)(()=>gi),multi:!0};function Dr(N,R){return null==N?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${N}: ${R}`.slice(0,50))}let gi=(()=>{class N extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const z=this._getOptionId(S);null==z&&this.setProperty("selectedIndex",-1);const Ne=Dr(z,S);this.setProperty("value",Ne)}registerOnChange(S){this.onChange=z=>{this.value=this._getOptionValue(z),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z),S))return z;return null}_getOptionValue(S){const z=function(N){return N.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z):S}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("change",function(St){return z.onChange(St.target.value)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.\u0275\u0275ProvidersFeature([Hn]),h.\u0275\u0275InheritDefinitionFeature]}),N})(),$i=(()=>{class N{constructor(S,z,Ne){this._element=S,this._renderer=z,this._select=Ne,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(Dr(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(gi,9))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();const ki={provide:re,useExisting:(0,h.forwardRef)(()=>ci),multi:!0};function ls(N,R){return null==N?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${N}: ${R}`.slice(0,50))}let ci=(()=>{class N extends G{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let z;if(this.value=S,Array.isArray(S)){const Ne=S.map(St=>this._getOptionId(St));z=(St,fn)=>{St._setSelected(Ne.indexOf(fn.toString())>-1)}}else z=(Ne,St)=>{Ne._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(S){this.onChange=z=>{const Ne=[];if(void 0!==z.selectedOptions){const St=z.selectedOptions;for(let fn=0;fn<St.length;fn++){const yr=St.item(fn),ni=this._getOptionValue(yr.value);Ne.push(ni)}}else{const St=z.options;for(let fn=0;fn<St.length;fn++){const yr=St.item(fn);if(yr.selected){const ni=this._getOptionValue(yr.value);Ne.push(ni)}}}this.value=Ne,S(Ne)}}_registerOption(S){const z=(this._idCounter++).toString();return this._optionMap.set(z,S),z}_getOptionId(S){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z)._value,S))return z;return null}_getOptionValue(S){const z=function(N){return N.split(":")[0]}(S);return this._optionMap.has(z)?this._optionMap.get(z)._value:S}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,z){1&S&&h.\u0275\u0275listener("change",function(St){return z.onChange(St.target)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.\u0275\u0275ProvidersFeature([ki]),h.\u0275\u0275InheritDefinitionFeature]}),N})(),Wi=(()=>{class N{constructor(S,z,Ne){this._element=S,this._renderer=z,this._select=Ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(ls(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(ls(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return N.\u0275fac=function(S){return new(S||N)(h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.Renderer2),h.\u0275\u0275directiveInject(ci,9))},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),N})();function Es(N){return"number"==typeof N?N:parseInt(N,10)}let bs=(()=>{class N{constructor(){this._validator=Xt}handleChanges(S){if(this.inputName in S){const z=this.normalizeInput(S[this.inputName].currentValue);this._validator=this.createValidator(z),this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N}),N})();const Fi={provide:Xe,useExisting:(0,h.forwardRef)(()=>Xi),multi:!0};let Xi=(()=>{class N extends bs{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=S=>parseFloat(S),this.createValidator=S=>ke(S)}ngOnChanges(S){this.handleChanges(S)}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(S,z){if(2&S){let Ne;h.\u0275\u0275attribute("max",null!==(Ne=z.max)&&void 0!==Ne?Ne:null)}},inputs:{max:"max"},features:[h.\u0275\u0275ProvidersFeature([Fi]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N})();const Tr={provide:Xe,useExisting:(0,h.forwardRef)(()=>Qr),multi:!0};let Qr=(()=>{class N extends bs{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=S=>parseFloat(S),this.createValidator=S=>kt(S)}ngOnChanges(S){this.handleChanges(S)}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(S,z){if(2&S){let Ne;h.\u0275\u0275attribute("min",null!==(Ne=z.min)&&void 0!==Ne?Ne:null)}},inputs:{min:"min"},features:[h.\u0275\u0275ProvidersFeature([Tr]),h.\u0275\u0275InheritDefinitionFeature,h.\u0275\u0275NgOnChangesFeature]}),N})();const os={provide:Xe,useExisting:(0,h.forwardRef)(()=>hr),multi:!0},li={provide:Xe,useExisting:(0,h.forwardRef)(()=>Is),multi:!0};let hr=(()=>{class N{constructor(){this._required=!1}get required(){return this._required}set required(S){this._required=null!=S&&!1!==S&&"false"!=`${S}`,this._onChange&&this._onChange()}validate(S){return this.required?ut(S):null}registerOnValidatorChange(S){this._onChange=S}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(S,z){2&S&&h.\u0275\u0275attribute("required",z.required?"":null)},inputs:{required:"required"},features:[h.\u0275\u0275ProvidersFeature([os])]}),N})(),Is=(()=>{class N extends hr{validate(S){return this.required?dt(S):null}}return N.\u0275fac=function(){let R;return function(z){return(R||(R=h.\u0275\u0275getInheritedFactory(N)))(z||N)}}(),N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(S,z){2&S&&h.\u0275\u0275attribute("required",z.required?"":null)},features:[h.\u0275\u0275ProvidersFeature([li]),h.\u0275\u0275InheritDefinitionFeature]}),N})();const ws={provide:Xe,useExisting:(0,h.forwardRef)(()=>ds),multi:!0};let ds=(()=>{class N{constructor(){this._enabled=!1}set email(S){this._enabled=""===S||!0===S||"true"===S,this._onChange&&this._onChange()}validate(S){return this._enabled?It(S):null}registerOnValidatorChange(S){this._onChange=S}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h.\u0275\u0275ProvidersFeature([ws])]}),N})();const Gi={provide:Xe,useExisting:(0,h.forwardRef)(()=>$r),multi:!0};let $r=(()=>{class N{constructor(){this._validator=Xt}ngOnChanges(S){"minlength"in S&&(this._createValidator(),this._onChange&&this._onChange())}validate(S){return this.enabled()?this._validator(S):null}registerOnValidatorChange(S){this._onChange=S}_createValidator(){this._validator=this.enabled()?at(Es(this.minlength)):Xt}enabled(){return null!=this.minlength}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(S,z){2&S&&h.\u0275\u0275attribute("minlength",z.enabled()?z.minlength:null)},inputs:{minlength:"minlength"},features:[h.\u0275\u0275ProvidersFeature([Gi]),h.\u0275\u0275NgOnChangesFeature]}),N})();const mi={provide:Xe,useExisting:(0,h.forwardRef)(()=>Cs),multi:!0};let Cs=(()=>{class N{constructor(){this._validator=Xt}ngOnChanges(S){"maxlength"in S&&(this._createValidator(),this._onChange&&this._onChange())}validate(S){return this.enabled()?this._validator(S):null}registerOnValidatorChange(S){this._onChange=S}_createValidator(){this._validator=this.enabled()?jt(Es(this.maxlength)):Xt}enabled(){return null!=this.maxlength}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(S,z){2&S&&h.\u0275\u0275attribute("maxlength",z.enabled()?z.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h.\u0275\u0275ProvidersFeature([mi]),h.\u0275\u0275NgOnChangesFeature]}),N})();const es={provide:Xe,useExisting:(0,h.forwardRef)(()=>xi),multi:!0};let xi=(()=>{class N{constructor(){this._validator=Xt}ngOnChanges(S){"pattern"in S&&(this._createValidator(),this._onChange&&this._onChange())}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}_createValidator(){this._validator=gt(this.pattern)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275dir=h.\u0275\u0275defineDirective({type:N,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(S,z){2&S&&h.\u0275\u0275attribute("pattern",z.pattern?z.pattern:null)},inputs:{pattern:"pattern"},features:[h.\u0275\u0275ProvidersFeature([es]),h.\u0275\u0275NgOnChangesFeature]}),N})();const vr=[Ei,$i,Wi,Le,xr,Ji,Fe,gi,ci,Wn,cr,He,hr,$r,Cs,xi,Is,ds,Qr,Xi],Ds=[pi,Vn,be],P=[Or,De,Hr,je,Tt];let Q=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=h.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=h.\u0275\u0275defineInjector({imports:[[Pi]]}),N})(),k=(()=>{class N{}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=h.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=h.\u0275\u0275defineInjector({imports:[Q]}),N})(),J=(()=>{class N{static withConfig(S){return{ngModule:N,providers:[{provide:Ci,useValue:S.warnOnNgModelWithFormControl}]}}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275mod=h.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=h.\u0275\u0275defineInjector({imports:[Q]}),N})(),Qe=(()=>{class N{group(S,z=null){const Ne=this._reduceControls(S);let yr,St=null,fn=null;return null!=z&&(function(N){return void 0!==N.asyncValidators||void 0!==N.validators||void 0!==N.updateOn}(z)?(St=null!=z.validators?z.validators:null,fn=null!=z.asyncValidators?z.asyncValidators:null,yr=null!=z.updateOn?z.updateOn:void 0):(St=null!=z.validator?z.validator:null,fn=null!=z.asyncValidator?z.asyncValidator:null)),new _r(Ne,{asyncValidators:fn,updateOn:yr,validators:St})}control(S,z,Ne){return new Zn(S,z,Ne)}array(S,z,Ne){const St=S.map(fn=>this._createControl(fn));return new qn(St,z,Ne)}_reduceControls(S){const z={};return Object.keys(S).forEach(Ne=>{z[Ne]=this._createControl(S[Ne])}),z}_createControl(S){return S instanceof Zn||S instanceof _r||S instanceof qn?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return N.\u0275fac=function(S){return new(S||N)},N.\u0275prov=(0,h.\u0275\u0275defineInjectable)({factory:function(){return new N},token:N,providedIn:J}),N})();const bt=new h.Version("12.2.16")},9075:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{\u0275getDOM:()=>h.\u0275getDOM,BrowserModule:()=>ve,BrowserTransferStateModule:()=>qn,By:()=>jr,DomSanitizer:()=>de,EVENT_MANAGER_PLUGINS:()=>It,EventManager:()=>at,HAMMER_GESTURE_CONFIG:()=>hn,HAMMER_LOADER:()=>Kn,HammerGestureConfig:()=>cr,HammerModule:()=>tt,Meta:()=>xt,Title:()=>ln,TransferState:()=>Zn,VERSION:()=>gn,disableDebugTools:()=>Ht,enableDebugTools:()=>Pt,makeStateKey:()=>Ir,platformBrowser:()=>Ue,\u0275BROWSER_SANITIZATION_PROVIDERS:()=>On,\u0275BROWSER_SANITIZATION_PROVIDERS__POST_R3__:()=>rr,\u0275BrowserDomAdapter:()=>X,\u0275BrowserGetTestability:()=>re,\u0275DomEventsPlugin:()=>Bn,\u0275DomRendererFactory2:()=>Vt,\u0275DomSanitizerImpl:()=>Ie,\u0275DomSharedStylesHost:()=>Xt,\u0275ELEMENT_PROBE_PROVIDERS:()=>dt,\u0275ELEMENT_PROBE_PROVIDERS__POST_R3__:()=>ke,\u0275HAMMER_PROVIDERS__POST_R3__:()=>Te,\u0275HammerGesturesPlugin:()=>He,\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS:()=>En,\u0275KeyEventsPlugin:()=>Bt,\u0275NAMESPACE_URIS:()=>vn,\u0275SharedStylesHost:()=>gt,\u0275TRANSITION_ID:()=>Y,\u0275angular_packages_platform_browser_platform_browser_a:()=>qe,\u0275angular_packages_platform_browser_platform_browser_b:()=>vt,\u0275angular_packages_platform_browser_platform_browser_c:()=>we,\u0275angular_packages_platform_browser_platform_browser_d:()=>ot,\u0275angular_packages_platform_browser_platform_browser_e:()=>bn,\u0275angular_packages_platform_browser_platform_browser_f:()=>_r,\u0275angular_packages_platform_browser_platform_browser_g:()=>jt,\u0275angular_packages_platform_browser_platform_browser_h:()=>fe,\u0275angular_packages_platform_browser_platform_browser_i:()=>Ze,\u0275angular_packages_platform_browser_platform_browser_j:()=>Se,\u0275angular_packages_platform_browser_platform_browser_k:()=>U,\u0275angular_packages_platform_browser_platform_browser_l:()=>G,\u0275angular_packages_platform_browser_platform_browser_m:()=>et,\u0275angular_packages_platform_browser_platform_browser_n:()=>ut,\u0275angular_packages_platform_browser_platform_browser_o:()=>Ae,\u0275angular_packages_platform_browser_platform_browser_p:()=>j,\u0275escapeHtml:()=>wn,\u0275flattenStyles:()=>pn,\u0275initDomAdapter:()=>le,\u0275shimContentAttribute:()=>Ut,\u0275shimHostAttribute:()=>ht});var h=D(8583),A=D(7716);class j extends h.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends j{static makeCurrent(){(0,h.\u0275setRootDomAdapter)(new X)}onAndCancel(Ce,ie,Me){return Ce.addEventListener(ie,Me,!1),()=>{Ce.removeEventListener(ie,Me,!1)}}dispatchEvent(Ce,ie){Ce.dispatchEvent(ie)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,ie){return(ie=ie||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,ie){return"window"===ie?window:"document"===ie?Ce:"body"===ie?Ce.body:null}getBaseHref(Ce){const ie=(ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null);return null==ie?null:function(be){ee=ee||document.createElement("a"),ee.setAttribute("href",be);const Ce=ee.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(ie)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,h.\u0275parseCookieValue)(document.cookie,Ce)}}let ee,ne=null;const Y=new A.InjectionToken("TRANSITION_ID");function U(be,Ce,ie){return()=>{ie.get(A.ApplicationInitStatus).donePromise.then(()=>{const Me=(0,h.\u0275getDOM)(),Ye=Ce.querySelectorAll(`style[ng-transition="${be}"]`);for(let rn=0;rn<Ye.length;rn++)Me.remove(Ye[rn])})}}const G=[{provide:A.APP_INITIALIZER,useFactory:U,deps:[Y,h.DOCUMENT,A.Injector],multi:!0}];class re{static init(){(0,A.setTestabilityGetter)(new re)}addToWindow(Ce){A.\u0275global.getAngularTestability=(Me,Ye=!0)=>{const rn=Ce.findTestabilityInTree(Me,Ye);if(null==rn)throw new Error("Could not find testability for element.");return rn},A.\u0275global.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),A.\u0275global.getAllAngularRootElements=()=>Ce.getAllRootElements(),A.\u0275global.frameworkStabilizers||(A.\u0275global.frameworkStabilizers=[]),A.\u0275global.frameworkStabilizers.push(Me=>{const Ye=A.\u0275global.getAllAngularTestabilities();let rn=Ye.length,mn=!1;const Vn=function(In){mn=mn||In,rn--,0==rn&&Me(mn)};Ye.forEach(function(In){In.whenStable(Vn)})})}findTestabilityInTree(Ce,ie,Me){if(null==ie)return null;const Ye=Ce.getTestability(ie);return null!=Ye?Ye:Me?(0,h.\u0275getDOM)().isShadowRoot(ie)?this.findTestabilityInTree(Ce,ie.host,!0):this.findTestabilityInTree(Ce,ie.parentElement,!0):null}}let Ae=(()=>{class be{build(){return new XMLHttpRequest}}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();function Le(be,Ce){"undefined"!=typeof COMPILED&&COMPILED||((A.\u0275global.ng=A.\u0275global.ng||{})[be]=Ce)}const pt=(()=>({ApplicationRef:A.ApplicationRef,NgZone:A.NgZone}))();function tn(be){return(0,A.\u0275getDebugNodeR2)(be)}function et(be){return Le("probe",tn),Le("coreTokens",Object.assign(Object.assign({},pt),function(be){return be.reduce((Ce,ie)=>(Ce[ie.name]=ie.token,Ce),{})}(be||[]))),()=>tn}const ke=[],ut=[{provide:A.APP_INITIALIZER,useFactory:et,deps:[[A.NgProbeToken,new A.Optional]],multi:!0}],dt=ke,It=new A.InjectionToken("EventManagerPlugins");let at=(()=>{class be{constructor(ie,Me){this._zone=Me,this._eventNameToPlugin=new Map,ie.forEach(Ye=>Ye.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Me,Ye){return this._findPluginFor(Me).addEventListener(ie,Me,Ye)}addGlobalEventListener(ie,Me,Ye){return this._findPluginFor(Me).addGlobalEventListener(ie,Me,Ye)}getZone(){return this._zone}_findPluginFor(ie){const Me=this._eventNameToPlugin.get(ie);if(Me)return Me;const Ye=this._plugins;for(let rn=0;rn<Ye.length;rn++){const mn=Ye[rn];if(mn.supports(ie))return this._eventNameToPlugin.set(ie,mn),mn}throw new Error(`No event manager plugin found for event ${ie}`)}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(It),A.\u0275\u0275inject(A.NgZone))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();class jt{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,ie,Me){const Ye=(0,h.\u0275getDOM)().getGlobalEventTarget(this._doc,Ce);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${ie}`);return this.addEventListener(Ye,ie,Me)}}let gt=(()=>{class be{constructor(){this._stylesSet=new Set}addStyles(ie){const Me=new Set;ie.forEach(Ye=>{this._stylesSet.has(Ye)||(this._stylesSet.add(Ye),Me.add(Ye))}),this.onStylesAdded(Me)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})(),Xt=(()=>{class be extends gt{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Me,Ye){ie.forEach(rn=>{const mn=this._doc.createElement("style");mn.textContent=rn,Ye.push(Me.appendChild(mn))})}addHost(ie){const Me=[];this._addStylesToHost(this._stylesSet,ie,Me),this._hostNodes.set(ie,Me)}removeHost(ie){const Me=this._hostNodes.get(ie);Me&&Me.forEach(Gn),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Me,Ye)=>{this._addStylesToHost(ie,Ye,Me)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(Gn))}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();function Gn(be){(0,h.\u0275getDOM)().remove(be)}const vn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ln=/%COMP%/g;function Ut(be){return"_ngcontent-%COMP%".replace(Ln,be)}function ht(be){return"_nghost-%COMP%".replace(Ln,be)}function pn(be,Ce,ie){for(let Me=0;Me<Ce.length;Me++){let Ye=Ce[Me];Array.isArray(Ye)?pn(be,Ye,ie):(Ye=Ye.replace(Ln,be),ie.push(Ye))}return ie}function Kt(be){return Ce=>{if("__ngUnwrap__"===Ce)return be;!1===be(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let Vt=(()=>{class be{constructor(ie,Me,Ye){this.eventManager=ie,this.sharedStylesHost=Me,this.appId=Ye,this.rendererByCompId=new Map,this.defaultRenderer=new Ct(ie)}createRenderer(ie,Me){if(!ie||!Me)return this.defaultRenderer;switch(Me.encapsulation){case A.ViewEncapsulation.Emulated:{let Ye=this.rendererByCompId.get(Me.id);return Ye||(Ye=new st(this.eventManager,this.sharedStylesHost,Me,this.appId),this.rendererByCompId.set(Me.id,Ye)),Ye.applyToHost(ie),Ye}case 1:case A.ViewEncapsulation.ShadowDom:return new Cn(this.eventManager,this.sharedStylesHost,ie,Me);default:if(!this.rendererByCompId.has(Me.id)){const Ye=pn(Me.id,Me.styles,[]);this.sharedStylesHost.addStyles(Ye),this.rendererByCompId.set(Me.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(at),A.\u0275\u0275inject(Xt),A.\u0275\u0275inject(A.APP_ID))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();class Ct{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null)}destroy(){}createElement(Ce,ie){return ie?document.createElementNS(vn[ie]||ie,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,ie){Ce.appendChild(ie)}insertBefore(Ce,ie,Me){Ce&&Ce.insertBefore(ie,Me)}removeChild(Ce,ie){Ce&&Ce.removeChild(ie)}selectRootElement(Ce,ie){let Me="string"==typeof Ce?document.querySelector(Ce):Ce;if(!Me)throw new Error(`The selector "${Ce}" did not match any elements`);return ie||(Me.textContent=""),Me}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,ie,Me,Ye){if(Ye){ie=Ye+":"+ie;const rn=vn[Ye];rn?Ce.setAttributeNS(rn,ie,Me):Ce.setAttribute(ie,Me)}else Ce.setAttribute(ie,Me)}removeAttribute(Ce,ie,Me){if(Me){const Ye=vn[Me];Ye?Ce.removeAttributeNS(Ye,ie):Ce.removeAttribute(`${Me}:${ie}`)}else Ce.removeAttribute(ie)}addClass(Ce,ie){Ce.classList.add(ie)}removeClass(Ce,ie){Ce.classList.remove(ie)}setStyle(Ce,ie,Me,Ye){Ye&(A.RendererStyleFlags2.DashCase|A.RendererStyleFlags2.Important)?Ce.style.setProperty(ie,Me,Ye&A.RendererStyleFlags2.Important?"important":""):Ce.style[ie]=Me}removeStyle(Ce,ie,Me){Me&A.RendererStyleFlags2.DashCase?Ce.style.removeProperty(ie):Ce.style[ie]=""}setProperty(Ce,ie,Me){Ce[ie]=Me}setValue(Ce,ie){Ce.nodeValue=ie}listen(Ce,ie,Me){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,ie,Kt(Me)):this.eventManager.addEventListener(Ce,ie,Kt(Me))}}class st extends Ct{constructor(Ce,ie,Me,Ye){super(Ce),this.component=Me;const rn=pn(Ye+"-"+Me.id,Me.styles,[]);ie.addStyles(rn),this.contentAttr=Ut(Ye+"-"+Me.id),this.hostAttr=ht(Ye+"-"+Me.id)}applyToHost(Ce){super.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,ie){const Me=super.createElement(Ce,ie);return super.setAttribute(Me,this.contentAttr,""),Me}}class Cn extends Ct{constructor(Ce,ie,Me,Ye){super(Ce),this.sharedStylesHost=ie,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=pn(Ye.id,Ye.styles,[]);for(let mn=0;mn<rn.length;mn++){const Vn=document.createElement("style");Vn.textContent=rn[mn],this.shadowRoot.appendChild(Vn)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ce,ie){return super.appendChild(this.nodeOrShadowRoot(Ce),ie)}insertBefore(Ce,ie,Me){return super.insertBefore(this.nodeOrShadowRoot(Ce),ie,Me)}removeChild(Ce,ie){return super.removeChild(this.nodeOrShadowRoot(Ce),ie)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}}let Bn=(()=>{class be extends jt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Me,Ye){return ie.addEventListener(Me,Ye,!1),()=>this.removeEventListener(ie,Me,Ye)}removeEventListener(ie,Me,Ye){return ie.removeEventListener(Me,Ye)}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();const Wt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},hn=new A.InjectionToken("HammerGestureConfig"),Kn=new A.InjectionToken("HammerLoader");let cr=(()=>{class be{constructor(){this.events=[],this.overrides={}}buildHammer(ie){const Me=new Hammer(ie,this.options);Me.get("pinch").set({enable:!0}),Me.get("rotate").set({enable:!0});for(const Ye in this.overrides)Me.get(Ye).set(this.overrides[Ye]);return Me}}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})(),He=(()=>{class be extends jt{constructor(ie,Me,Ye,rn){super(ie),this._config=Me,this.console=Ye,this.loader=rn,this._loaderPromise=null}supports(ie){return!(!Wt.hasOwnProperty(ie.toLowerCase())&&!this.isCustomEvent(ie)||!window.Hammer&&!this.loader)}addEventListener(ie,Me,Ye){const rn=this.manager.getZone();if(Me=Me.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();let mn=!1,Vn=()=>{mn=!0};return this._loaderPromise.then(()=>{window.Hammer?mn||(Vn=this.addEventListener(ie,Me,Ye)):Vn=()=>{}}).catch(()=>{Vn=()=>{}}),()=>{Vn()}}return rn.runOutsideAngular(()=>{const mn=this._config.buildHammer(ie),Vn=function(In){rn.runGuarded(function(){Ye(In)})};return mn.on(Me,Vn),()=>{mn.off(Me,Vn),"function"==typeof mn.destroy&&mn.destroy()}})}isCustomEvent(ie){return this._config.events.indexOf(ie)>-1}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT),A.\u0275\u0275inject(hn),A.\u0275\u0275inject(A.\u0275Console),A.\u0275\u0275inject(Kn,8))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();const Te=[],fe=[{provide:It,useClass:He,multi:!0,deps:[h.DOCUMENT,hn,A.\u0275Console,[new A.Optional,Kn]]},{provide:hn,useClass:cr,deps:[]}],Ze=Te;let tt=(()=>{class be{}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275mod=A.\u0275\u0275defineNgModule({type:be}),be.\u0275inj=A.\u0275\u0275defineInjector({providers:fe}),be})();const Nt=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jt={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let Bt=(()=>{class be extends jt{constructor(ie){super(ie)}supports(ie){return null!=be.parseEventName(ie)}addEventListener(ie,Me,Ye){const rn=be.parseEventName(Me),mn=be.eventCallback(rn.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.\u0275getDOM)().onAndCancel(ie,rn.domEventName,mn))}static parseEventName(ie){const Me=ie.toLowerCase().split("."),Ye=Me.shift();if(0===Me.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const rn=be._normalizeKey(Me.pop());let mn="";if(Nt.forEach(In=>{const Yi=Me.indexOf(In);Yi>-1&&(Me.splice(Yi,1),mn+=In+".")}),mn+=rn,0!=Me.length||0===rn.length)return null;const Vn={};return Vn.domEventName=Ye,Vn.fullKey=mn,Vn}static getEventFullKey(ie){let Me="",Ye=function(be){let Ce=be.key;if(null==Ce){if(Ce=be.keyIdentifier,null==Ce)return"Unidentified";Ce.startsWith("U+")&&(Ce=String.fromCharCode(parseInt(Ce.substring(2),16)),3===be.location&&cn.hasOwnProperty(Ce)&&(Ce=cn[Ce]))}return Mt[Ce]||Ce}(ie);return Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),Nt.forEach(rn=>{rn!=Ye&&Jt[rn](ie)&&(Me+=rn+".")}),Me+=Ye,Me}static eventCallback(ie,Me,Ye){return rn=>{be.getEventFullKey(rn)===ie&&Ye.runGuarded(()=>Me(rn))}}static _normalizeKey(ie){switch(ie){case"esc":return"escape";default:return ie}}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})(),de=(()=>{class be{}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275prov=(0,A.\u0275\u0275defineInjectable)({factory:function(){return(0,A.\u0275\u0275inject)(Ie)},token:be,providedIn:"root"}),be})();function Se(be){return new Ie(be.get(h.DOCUMENT))}let Ie=(()=>{class be extends de{constructor(ie){super(),this._doc=ie}sanitize(ie,Me){if(null==Me)return null;switch(ie){case A.SecurityContext.NONE:return Me;case A.SecurityContext.HTML:return(0,A.\u0275allowSanitizationBypassAndThrow)(Me,"HTML")?(0,A.\u0275unwrapSafeValue)(Me):(0,A.\u0275_sanitizeHtml)(this._doc,String(Me)).toString();case A.SecurityContext.STYLE:return(0,A.\u0275allowSanitizationBypassAndThrow)(Me,"Style")?(0,A.\u0275unwrapSafeValue)(Me):Me;case A.SecurityContext.SCRIPT:if((0,A.\u0275allowSanitizationBypassAndThrow)(Me,"Script"))return(0,A.\u0275unwrapSafeValue)(Me);throw new Error("unsafe value used in a script context");case A.SecurityContext.URL:return(0,A.\u0275getSanitizationBypassType)(Me),(0,A.\u0275allowSanitizationBypassAndThrow)(Me,"URL")?(0,A.\u0275unwrapSafeValue)(Me):(0,A.\u0275_sanitizeUrl)(String(Me));case A.SecurityContext.RESOURCE_URL:if((0,A.\u0275allowSanitizationBypassAndThrow)(Me,"ResourceURL"))return(0,A.\u0275unwrapSafeValue)(Me);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,A.\u0275bypassSanitizationTrustHtml)(ie)}bypassSecurityTrustStyle(ie){return(0,A.\u0275bypassSanitizationTrustStyle)(ie)}bypassSecurityTrustScript(ie){return(0,A.\u0275bypassSanitizationTrustScript)(ie)}bypassSecurityTrustUrl(ie){return(0,A.\u0275bypassSanitizationTrustUrl)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,A.\u0275bypassSanitizationTrustResourceUrl)(ie)}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=(0,A.\u0275\u0275defineInjectable)({factory:function(){return Se((0,A.\u0275\u0275inject)(A.INJECTOR))},token:be,providedIn:"root"}),be})();function le(){X.makeCurrent(),re.init()}function qe(){return new A.ErrorHandler}function vt(){return(0,A.\u0275setDocument)(document),document}const En=[{provide:A.PLATFORM_ID,useValue:h.\u0275PLATFORM_BROWSER_ID},{provide:A.PLATFORM_INITIALIZER,useValue:le,multi:!0},{provide:h.DOCUMENT,useFactory:vt,deps:[]}],rr=[],On=rr,Ue=(0,A.createPlatformFactory)(A.platformCore,"browser",En),we=[On,{provide:A.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:A.ErrorHandler,useFactory:qe,deps:[]},{provide:It,useClass:Bn,multi:!0,deps:[h.DOCUMENT,A.NgZone,A.PLATFORM_ID]},{provide:It,useClass:Bt,multi:!0,deps:[h.DOCUMENT]},Ze,{provide:Vt,useClass:Vt,deps:[at,Xt,A.APP_ID]},{provide:A.RendererFactory2,useExisting:Vt},{provide:gt,useExisting:Xt},{provide:Xt,useClass:Xt,deps:[h.DOCUMENT]},{provide:A.Testability,useClass:A.Testability,deps:[A.NgZone]},{provide:at,useClass:at,deps:[It,A.NgZone]},{provide:h.XhrFactory,useClass:Ae,deps:[]},dt];let ve=(()=>{class be{constructor(ie){if(ie)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ie){return{ngModule:be,providers:[{provide:A.APP_ID,useValue:ie.appId},{provide:Y,useExisting:A.APP_ID},G]}}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(be,12))},be.\u0275mod=A.\u0275\u0275defineNgModule({type:be}),be.\u0275inj=A.\u0275\u0275defineInjector({providers:we,imports:[h.CommonModule,A.ApplicationModule]}),be})();function ot(){return new xt((0,A.\u0275\u0275inject)(h.DOCUMENT))}let xt=(()=>{class be{constructor(ie){this._doc=ie,this._dom=(0,h.\u0275getDOM)()}addTag(ie,Me=!1){return ie?this._getOrCreateElement(ie,Me):null}addTags(ie,Me=!1){return ie?ie.reduce((Ye,rn)=>(rn&&Ye.push(this._getOrCreateElement(rn,Me)),Ye),[]):[]}getTag(ie){return ie&&this._doc.querySelector(`meta[${ie}]`)||null}getTags(ie){if(!ie)return[];const Me=this._doc.querySelectorAll(`meta[${ie}]`);return Me?[].slice.call(Me):[]}updateTag(ie,Me){if(!ie)return null;Me=Me||this._parseSelector(ie);const Ye=this.getTag(Me);return Ye?this._setMetaElementAttributes(ie,Ye):this._getOrCreateElement(ie,!0)}removeTag(ie){this.removeTagElement(this.getTag(ie))}removeTagElement(ie){ie&&this._dom.remove(ie)}_getOrCreateElement(ie,Me=!1){if(!Me){const mn=this._parseSelector(ie),Vn=this.getTags(mn).filter(In=>this._containsAttributes(ie,In))[0];if(void 0!==Vn)return Vn}const Ye=this._dom.createElement("meta");return this._setMetaElementAttributes(ie,Ye),this._doc.getElementsByTagName("head")[0].appendChild(Ye),Ye}_setMetaElementAttributes(ie,Me){return Object.keys(ie).forEach(Ye=>Me.setAttribute(this._getMetaKeyMap(Ye),ie[Ye])),Me}_parseSelector(ie){const Me=ie.name?"name":"property";return`${Me}="${ie[Me]}"`}_containsAttributes(ie,Me){return Object.keys(ie).every(Ye=>Me.getAttribute(this._getMetaKeyMap(Ye))===ie[Ye])}_getMetaKeyMap(ie){return Tn[ie]||ie}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=(0,A.\u0275\u0275defineInjectable)({factory:ot,token:be,providedIn:"root"}),be})();const Tn={httpEquiv:"http-equiv"};function bn(){return new ln((0,A.\u0275\u0275inject)(h.DOCUMENT))}let ln=(()=>{class be{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return be.\u0275fac=function(ie){return new(ie||be)(A.\u0275\u0275inject(h.DOCUMENT))},be.\u0275prov=(0,A.\u0275\u0275defineInjectable)({factory:bn,token:be,providedIn:"root"}),be})();const Sn="undefined"!=typeof window&&window||{};class ur{constructor(Ce,ie){this.msPerTick=Ce,this.numTicks=ie}}class dr{constructor(Ce){this.appRef=Ce.injector.get(A.ApplicationRef)}timeChangeDetection(Ce){const ie=Ce&&Ce.record,Me="Change Detection",Ye=null!=Sn.console.profile;ie&&Ye&&Sn.console.profile(Me);const rn=An();let mn=0;for(;mn<5||An()-rn<500;)this.appRef.tick(),mn++;const Vn=An();ie&&Ye&&Sn.console.profileEnd(Me);const In=(Vn-rn)/mn;return Sn.console.log(`ran ${mn} change detection cycles`),Sn.console.log(`${In.toFixed(2)} ms per check`),new ur(In,mn)}}function An(){return Sn.performance&&Sn.performance.now?Sn.performance.now():(new Date).getTime()}const or="profiler";function Pt(be){return Le(or,new dr(be)),be}function Ht(){Le(or,null)}function wn(be){const Ce={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return be.replace(/[&"'<>]/g,ie=>Ce[ie])}function Ir(be){return be}let Zn=(()=>{class be{constructor(){this.store={},this.onSerializeCallbacks={}}static init(ie){const Me=new be;return Me.store=ie,Me}get(ie,Me){return void 0!==this.store[ie]?this.store[ie]:Me}set(ie,Me){this.store[ie]=Me}remove(ie){delete this.store[ie]}hasKey(ie){return this.store.hasOwnProperty(ie)}onSerialize(ie,Me){this.onSerializeCallbacks[ie]=Me}toJson(){for(const ie in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(ie))try{this.store[ie]=this.onSerializeCallbacks[ie]()}catch(Me){console.warn("Exception in onSerialize callback: ",Me)}return JSON.stringify(this.store)}}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275prov=A.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac}),be})();function _r(be,Ce){const ie=be.getElementById(Ce+"-state");let Me={};if(ie&&ie.textContent)try{Me=JSON.parse(function(be){const Ce={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return be.replace(/&[^;]+;/g,ie=>Ce[ie])}(ie.textContent))}catch(Ye){console.warn("Exception while restoring TransferState for app "+Ce,Ye)}return Zn.init(Me)}let qn=(()=>{class be{}return be.\u0275fac=function(ie){return new(ie||be)},be.\u0275mod=A.\u0275\u0275defineNgModule({type:be}),be.\u0275inj=A.\u0275\u0275defineInjector({providers:[{provide:Zn,useFactory:_r,deps:[h.DOCUMENT,A.APP_ID]}]}),be})();class jr{static all(){return()=>!0}static css(Ce){return ie=>null!=ie.nativeElement&&function(be,Ce){return!!(0,h.\u0275getDOM)().isElementNode(be)&&(be.matches&&be.matches(Ce)||be.msMatchesSelector&&be.msMatchesSelector(Ce)||be.webkitMatchesSelector&&be.webkitMatchesSelector(Ce))}(ie.nativeElement,Ce)}static directive(Ce){return ie=>-1!==ie.providerTokens.indexOf(Ce)}}const gn=new A.Version("12.2.16")},9895:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{ActivatedRoute:()=>ti,ActivatedRouteSnapshot:()=>Ce,ActivationEnd:()=>an,ActivationStart:()=>Kt,BaseRouteReuseStrategy:()=>fa,ChildActivationEnd:()=>pn,ChildActivationStart:()=>ht,ChildrenOutletContexts:()=>ts,DefaultUrlSerializer:()=>vt,GuardsCheckEnd:()=>un,GuardsCheckStart:()=>Ln,NavigationCancel:()=>Xt,NavigationEnd:()=>gt,NavigationError:()=>Gn,NavigationStart:()=>jt,NoPreloading:()=>oo,OutletContext:()=>Zo,PRIMARY_OUTLET:()=>Ct,PreloadAllModules:()=>Ao,PreloadingStrategy:()=>So,ROUTER_CONFIGURATION:()=>Oi,ROUTER_INITIALIZER:()=>Jo,ROUTES:()=>zo,ResolveEnd:()=>ar,ResolveStart:()=>nn,RouteConfigLoadEnd:()=>Ut,RouteConfigLoadStart:()=>Dt,RouteReuseStrategy:()=>Mi,Router:()=>Kr,RouterEvent:()=>at,RouterLink:()=>Ss,RouterLinkActive:()=>rs,RouterLinkWithHref:()=>so,RouterModule:()=>ao,RouterOutlet:()=>ks,RouterPreloader:()=>Qo,RouterState:()=>_r,RouterStateSnapshot:()=>ie,RoutesRecognized:()=>vn,Scroll:()=>Vt,UrlHandlingStrategy:()=>pa,UrlSegment:()=>de,UrlSegmentGroup:()=>ce,UrlSerializer:()=>qe,UrlTree:()=>Bt,VERSION:()=>Ya,convertToParamMap:()=>Jn,provideRoutes:()=>co,\u0275EmptyOutletComponent:()=>Wi,\u0275ROUTER_PROVIDERS:()=>La,\u0275angular_packages_router_router_a:()=>Zr,\u0275angular_packages_router_router_b:()=>xs,\u0275angular_packages_router_router_c:()=>uo,\u0275angular_packages_router_router_d:()=>Yo,\u0275angular_packages_router_router_e:()=>Pr,\u0275angular_packages_router_router_f:()=>Ro,\u0275angular_packages_router_router_g:()=>Qa,\u0275angular_packages_router_router_h:()=>Li,\u0275angular_packages_router_router_i:()=>ho,\u0275angular_packages_router_router_j:()=>Va,\u0275angular_packages_router_router_k:()=>fo,\u0275angular_packages_router_router_l:()=>Wi,\u0275angular_packages_router_router_m:()=>Ht,\u0275angular_packages_router_router_n:()=>Ir,\u0275angular_packages_router_router_o:()=>As,\u0275assignExtraOptionsToRouter:()=>lo,\u0275flatten:()=>cr});var h=D(8583),A=D(7716),j=D(4402),X=D(5917),ne=D(6215),K=D(9112),ee=D(8891),W=D(3410),Y=D(9923),U=D(1439),G=D(9193),re=D(2441),Ae=D(9765),Fe=D(8002),$e=D(3190),rt=D(5257),ye=D(9761),Le=D(2145),ze=D(5435),pt=D(5304),Xe=D(4612),_n=D(2627),tn=D(8049),et=D(9773),kt=D(8307),ke=D(548),ut=D(1307),dt=D(197),It=D(3282);class at{constructor(l,f){this.id=l,this.url=f}}class jt extends at{constructor(l,f,b="imperative",x=null){super(l,f),this.navigationTrigger=b,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends at{constructor(l,f,b){super(l,f),this.urlAfterRedirects=b}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xt extends at{constructor(l,f,b){super(l,f),this.reason=b}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gn extends at{constructor(l,f,b){super(l,f),this.error=b}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vn extends at{constructor(l,f,b,x){super(l,f),this.urlAfterRedirects=b,this.state=x}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln extends at{constructor(l,f,b,x){super(l,f),this.urlAfterRedirects=b,this.state=x}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends at{constructor(l,f,b,x,V){super(l,f),this.urlAfterRedirects=b,this.state=x,this.shouldActivate=V}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends at{constructor(l,f,b,x){super(l,f),this.urlAfterRedirects=b,this.state=x}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends at{constructor(l,f,b,x){super(l,f),this.urlAfterRedirects=b,this.state=x}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dt{constructor(l){this.route=l}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ut{constructor(l){this.route=l}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(l){this.snapshot=l}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(l){this.snapshot=l}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kt{constructor(l){this.snapshot=l}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(l){this.snapshot=l}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(l,f,b){this.routerEvent=l,this.position=f,this.anchor=b}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ct="primary";class jn{constructor(l){this.params=l||{}}has(l){return Object.prototype.hasOwnProperty.call(this.params,l)}get(l){if(this.has(l)){const f=this.params[l];return Array.isArray(f)?f[0]:f}return null}getAll(l){if(this.has(l)){const f=this.params[l];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Jn(v){return new jn(v)}const Yt="ngNavigationCancelingError";function st(v){const l=Error("NavigationCancelingError: "+v);return l[Yt]=!0,l}function Bn(v,l,f){const b=f.path.split("/");if(b.length>v.length||"full"===f.pathMatch&&(l.hasChildren()||b.length<v.length))return null;const x={};for(let V=0;V<b.length;V++){const oe=b[V],ge=v[V];if(oe.startsWith(":"))x[oe.substring(1)]=ge;else if(oe!==ge.path)return null}return{consumed:v.slice(0,b.length),posParams:x}}function hn(v,l){const f=v?Object.keys(v):void 0,b=l?Object.keys(l):void 0;if(!f||!b||f.length!=b.length)return!1;let x;for(let V=0;V<f.length;V++)if(x=f[V],!Kn(v[x],l[x]))return!1;return!0}function Kn(v,l){if(Array.isArray(v)&&Array.isArray(l)){if(v.length!==l.length)return!1;const f=[...v].sort(),b=[...l].sort();return f.every((x,V)=>b[V]===x)}return v===l}function cr(v){return Array.prototype.concat.apply([],v)}function He(v){return v.length>0?v[v.length-1]:null}function fe(v,l){for(const f in v)v.hasOwnProperty(f)&&l(v[f],f)}function Ze(v){return(0,A.\u0275isObservable)(v)?v:(0,A.\u0275isPromise)(v)?(0,j.D)(Promise.resolve(v)):(0,X.of)(v)}const Nt={exact:function zn(v,l,f){if(!Ie(v.segments,l.segments)||!Jt(v.segments,l.segments,f)||v.numberOfChildren!==l.numberOfChildren)return!1;for(const b in l.children)if(!v.children[b]||!zn(v.children[b],l.children[b],f))return!1;return!0},subset:sn},lt={exact:function(v,l){return hn(v,l)},subset:function(v,l){return Object.keys(l).length<=Object.keys(v).length&&Object.keys(l).every(f=>Kn(v[f],l[f]))},ignored:()=>!0};function Mt(v,l,f){return Nt[f.paths](v.root,l.root,f.matrixParams)&&lt[f.queryParams](v.queryParams,l.queryParams)&&!("exact"===f.fragment&&v.fragment!==l.fragment)}function sn(v,l,f){return lr(v,l,l.segments,f)}function lr(v,l,f,b){if(v.segments.length>f.length){const x=v.segments.slice(0,f.length);return!(!Ie(x,f)||l.hasChildren()||!Jt(x,f,b))}if(v.segments.length===f.length){if(!Ie(v.segments,f)||!Jt(v.segments,f,b))return!1;for(const x in l.children)if(!v.children[x]||!sn(v.children[x],l.children[x],b))return!1;return!0}{const x=f.slice(0,v.segments.length),V=f.slice(v.segments.length);return!!(Ie(v.segments,x)&&Jt(v.segments,x,b)&&v.children[Ct])&&lr(v.children[Ct],l,V,b)}}function Jt(v,l,f){return l.every((b,x)=>lt[f](v[x].parameters,b.parameters))}class Bt{constructor(l,f,b){this.root=l,this.queryParams=f,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return Zt.serialize(this)}}class ce{constructor(l,f){this.segments=l,this.children=f,this.parent=null,fe(f,(b,x)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return En(this)}}class de{constructor(l,f){this.path=l,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return xt(this)}}function Ie(v,l){return v.length===l.length&&v.every((f,b)=>f.path===l[b].path)}class qe{}class vt{parse(l){const f=new Pt(l);return new Bt(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(l){var v;return`${`/${kn(l.root,!0)}`}${function(v){const l=Object.keys(v).map(f=>{const b=v[f];return Array.isArray(b)?b.map(x=>`${On(f)}=${On(x)}`).join("&"):`${On(f)}=${On(b)}`}).filter(f=>!!f);return l.length?`?${l.join("&")}`:""}(l.queryParams)}${"string"==typeof l.fragment?`#${v=l.fragment,encodeURI(v)}`:""}`}}const Zt=new vt;function En(v){return v.segments.map(l=>xt(l)).join("/")}function kn(v,l){if(!v.hasChildren())return En(v);if(l){const f=v.children[Ct]?kn(v.children[Ct],!1):"",b=[];return fe(v.children,(x,V)=>{V!==Ct&&b.push(`${V}:${kn(x,!1)}`)}),b.length>0?`${f}(${b.join("//")})`:f}{const f=function(v,l){let f=[];return fe(v.children,(b,x)=>{x===Ct&&(f=f.concat(l(b,x)))}),fe(v.children,(b,x)=>{x!==Ct&&(f=f.concat(l(b,x)))}),f}(v,(b,x)=>x===Ct?[kn(v.children[Ct],!1)]:[`${x}:${kn(b,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Ct]?`${En(v)}/${f[0]}`:`${En(v)}/(${f.join("//")})`}}function rr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function On(v){return rr(v).replace(/%3B/gi,";")}function we(v){return rr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(v){return decodeURIComponent(v)}function ot(v){return ve(v.replace(/\+/g,"%20"))}function xt(v){return`${we(v.path)}${function(v){return Object.keys(v).map(l=>`;${we(l)}=${we(v[l])}`).join("")}(v.parameters)}`}const ln=/^[^\/()?;=#]+/;function Sn(v){const l=v.match(ln);return l?l[0]:""}const ur=/^[^=?&#]+/,An=/^[^?&#]+/;class Pt{constructor(l){this.url=l,this.remaining=l}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(l.length>0||Object.keys(f).length>0)&&(b[Ct]=new ce(l,f)),b}parseSegment(){const l=Sn(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(l),new de(ve(l),this.parseMatrixParams())}parseMatrixParams(){const l={};for(;this.consumeOptional(";");)this.parseParam(l);return l}parseParam(l){const f=Sn(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const x=Sn(this.remaining);x&&(b=x,this.capture(b))}l[ve(f)]=ve(b)}parseQueryParam(l){const f=function(v){const l=v.match(ur);return l?l[0]:""}(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const oe=function(v){const l=v.match(An);return l?l[0]:""}(this.remaining);oe&&(b=oe,this.capture(b))}const x=ot(f),V=ot(b);if(l.hasOwnProperty(x)){let oe=l[x];Array.isArray(oe)||(oe=[oe],l[x]=oe),oe.push(V)}else l[x]=V}parseParens(l){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Sn(this.remaining),x=this.remaining[b.length];if("/"!==x&&")"!==x&&";"!==x)throw new Error(`Cannot parse url '${this.url}'`);let V;b.indexOf(":")>-1?(V=b.substr(0,b.indexOf(":")),this.capture(V),this.capture(":")):l&&(V=Ct);const oe=this.parseChildren();f[V]=1===Object.keys(oe).length?oe[Ct]:new ce([],oe),this.consumeOptional("//")}return f}peekStartsWith(l){return this.remaining.startsWith(l)}consumeOptional(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)}capture(l){if(!this.consumeOptional(l))throw new Error(`Expected "${l}".`)}}class Ht{constructor(l){this._root=l}get root(){return this._root.value}parent(l){const f=this.pathFromRoot(l);return f.length>1?f[f.length-2]:null}children(l){const f=wn(l,this._root);return f?f.children.map(b=>b.value):[]}firstChild(l){const f=wn(l,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(l){const f=br(l,this._root);return f.length<2?[]:f[f.length-2].children.map(x=>x.value).filter(x=>x!==l)}pathFromRoot(l){return br(l,this._root).map(f=>f.value)}}function wn(v,l){if(v===l.value)return l;for(const f of l.children){const b=wn(v,f);if(b)return b}return null}function br(v,l){if(v===l.value)return[l];for(const f of l.children){const b=br(v,f);if(b.length)return b.unshift(l),b}return[]}class Ir{constructor(l,f){this.value=l,this.children=f}toString(){return`TreeNode(${this.value})`}}function Zn(v){const l={};return v&&v.children.forEach(f=>l[f.value.outlet]=f),l}class _r extends Ht{constructor(l,f){super(l),this.snapshot=f,Me(this,l)}toString(){return this.snapshot.toString()}}function qn(v,l){const f=function(v,l){const oe=new Ce([],{},{},"",{},Ct,l,null,v.root,-1,{});return new ie("",new Ir(oe,[]))}(v,l),b=new ne.X([new de("",{})]),x=new ne.X({}),V=new ne.X({}),oe=new ne.X({}),ge=new ne.X(""),me=new ti(b,x,oe,ge,V,Ct,l,f.root);return me.snapshot=f.root,new _r(new Ir(me,[]),f)}class ti{constructor(l,f,b,x,V,oe,ge,me){this.url=l,this.params=f,this.queryParams=b,this.fragment=x,this.data=V,this.outlet=oe,this.component=ge,this._futureSnapshot=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(l=>Jn(l)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(l=>Jn(l)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gn(v,l="emptyOnly"){const f=v.pathFromRoot;let b=0;if("always"!==l)for(b=f.length-1;b>=1;){const x=f[b],V=f[b-1];if(x.routeConfig&&""===x.routeConfig.path)b--;else{if(V.component)break;b--}}return function(v){return v.reduce((l,f)=>({params:Object.assign(Object.assign({},l.params),f.params),data:Object.assign(Object.assign({},l.data),f.data),resolve:Object.assign(Object.assign({},l.resolve),f._resolvedData)}),{params:{},data:{},resolve:{}})}(f.slice(b))}class Ce{constructor(l,f,b,x,V,oe,ge,me,Ot,Xn,dn){this.url=l,this.params=f,this.queryParams=b,this.fragment=x,this.data=V,this.outlet=oe,this.component=ge,this.routeConfig=me,this._urlSegment=Ot,this._lastPathIndex=Xn,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ie extends Ht{constructor(l,f){super(f),this.url=l,Me(this,f)}toString(){return Ye(this._root)}}function Me(v,l){l.value._routerState=v,l.children.forEach(f=>Me(v,f))}function Ye(v){const l=v.children.length>0?` { ${v.children.map(Ye).join(", ")} } `:"";return`${v.value}${l}`}function rn(v){if(v.snapshot){const l=v.snapshot,f=v._futureSnapshot;v.snapshot=f,hn(l.queryParams,f.queryParams)||v.queryParams.next(f.queryParams),l.fragment!==f.fragment&&v.fragment.next(f.fragment),hn(l.params,f.params)||v.params.next(f.params),function(v,l){if(v.length!==l.length)return!1;for(let f=0;f<v.length;++f)if(!hn(v[f],l[f]))return!1;return!0}(l.url,f.url)||v.url.next(f.url),hn(l.data,f.data)||v.data.next(f.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function mn(v,l){return hn(v.params,l.params)&&function(v,l){return Ie(v,l)&&v.every((f,b)=>hn(f.parameters,l[b].parameters))}(v.url,l.url)&&!(!v.parent!=!l.parent)&&(!v.parent||mn(v.parent,l.parent))}function In(v,l,f){if(f&&v.shouldReuseRoute(l.value,f.value.snapshot)){const b=f.value;b._futureSnapshot=l.value;const x=function(v,l,f){return l.children.map(b=>{for(const x of f.children)if(v.shouldReuseRoute(b.value,x.value.snapshot))return In(v,b,x);return In(v,b)})}(v,l,f);return new Ir(b,x)}{if(v.shouldAttach(l.value)){const V=v.retrieve(l.value);if(null!==V){const oe=V.route;return Yi(l,oe),oe}}const b=function(v){return new ti(new ne.X(v.url),new ne.X(v.params),new ne.X(v.queryParams),new ne.X(v.fragment),new ne.X(v.data),v.outlet,v.component,v)}(l.value),x=l.children.map(V=>In(v,V));return new Ir(b,x)}}function Yi(v,l){if(v.value.routeConfig!==l.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(v.children.length!==l.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");l.value._futureSnapshot=v.value;for(let f=0;f<v.children.length;++f)Yi(v.children[f],l.children[f])}function bi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function xr(v){return"object"==typeof v&&null!=v&&v.outlets}function Ii(v,l,f,b,x){let V={};return b&&fe(b,(oe,ge)=>{V[ge]=Array.isArray(oe)?oe.map(me=>`${me}`):`${oe}`}),new Bt(f.root===v?l:Br(f.root,v,l),V,x)}function Br(v,l,f){const b={};return fe(v.children,(x,V)=>{b[V]=x===l?f:Br(x,l,f)}),new ce(v.segments,b)}class Pi{constructor(l,f,b){if(this.isAbsolute=l,this.numberOfDoubleDots=f,this.commands=b,l&&b.length>0&&bi(b[0]))throw new Error("Root segment cannot have matrix parameters");const x=b.find(xr);if(x&&x!==He(b))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(l,f,b){this.segmentGroup=l,this.processChildren=f,this.index=b}}function ui(v,l,f){if(v||(v=new ce([],{})),0===v.segments.length&&v.hasChildren())return Or(v,l,f);const b=function(v,l,f){let b=0,x=l;const V={match:!1,pathIndex:0,commandIndex:0};for(;x<v.segments.length;){if(b>=f.length)return V;const oe=v.segments[x],ge=f[b];if(xr(ge))break;const me=`${ge}`,Ot=b<f.length-1?f[b+1]:null;if(x>0&&void 0===me)break;if(me&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!ct(me,Ot,oe))return V;b+=2}else{if(!ct(me,{},oe))return V;b++}x++}return{match:!0,pathIndex:x,commandIndex:b}}(v,l,f),x=f.slice(b.commandIndex);if(b.match&&b.pathIndex<v.segments.length){const V=new ce(v.segments.slice(0,b.pathIndex),{});return V.children[Ct]=new ce(v.segments.slice(b.pathIndex),v.children),Or(V,0,x)}return b.match&&0===x.length?new ce(v.segments,{}):b.match&&!v.hasChildren()?De(v,l,f):b.match?Or(v,0,x):De(v,l,f)}function Or(v,l,f){if(0===f.length)return new ce(v.segments,{});{const b=function(v){return xr(v[0])?v[0].outlets:{[Ct]:v}}(f),x={};return fe(b,(V,oe)=>{"string"==typeof V&&(V=[V]),null!==V&&(x[oe]=ui(v.children[oe],l,V))}),fe(v.children,(V,oe)=>{void 0===b[oe]&&(x[oe]=V)}),new ce(v.segments,x)}}function De(v,l,f){const b=v.segments.slice(0,l);let x=0;for(;x<f.length;){const V=f[x];if(xr(V)){const me=xe(V.outlets);return new ce(b,me)}if(0===x&&bi(f[0])){b.push(new de(v.segments[l].path,je(f[0]))),x++;continue}const oe=xr(V)?V.outlets[Ct]:`${V}`,ge=x<f.length-1?f[x+1]:null;oe&&ge&&bi(ge)?(b.push(new de(oe,je(ge))),x+=2):(b.push(new de(oe,{})),x++)}return new ce(b,{})}function xe(v){const l={};return fe(v,(f,b)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[b]=De(new ce([],{}),0,f))}),l}function je(v){const l={};return fe(v,(f,b)=>l[b]=`${f}`),l}function ct(v,l,f){return v==f.path&&hn(l,f.parameters)}class qt{constructor(l,f,b,x){this.routeReuseStrategy=l,this.futureState=f,this.currState=b,this.forwardEvent=x}activate(l){const f=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,b,l),rn(this.futureState.root),this.activateChildRoutes(f,b,l)}deactivateChildRoutes(l,f,b){const x=Zn(f);l.children.forEach(V=>{const oe=V.value.outlet;this.deactivateRoutes(V,x[oe],b),delete x[oe]}),fe(x,(V,oe)=>{this.deactivateRouteAndItsChildren(V,b)})}deactivateRoutes(l,f,b){const x=l.value,V=f?f.value:null;if(x===V)if(x.component){const oe=b.getContext(x.outlet);oe&&this.deactivateChildRoutes(l,f,oe.children)}else this.deactivateChildRoutes(l,f,b);else V&&this.deactivateRouteAndItsChildren(f,b)}deactivateRouteAndItsChildren(l,f){this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,f):this.deactivateRouteAndOutlet(l,f)}detachAndStoreRouteSubtree(l,f){const b=f.getContext(l.value.outlet);if(b&&b.outlet){const x=b.outlet.detach(),V=b.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:x,route:l,contexts:V})}}deactivateRouteAndOutlet(l,f){const b=f.getContext(l.value.outlet),x=b&&l.value.component?b.children:f,V=Zn(l);for(const oe of Object.keys(V))this.deactivateRouteAndItsChildren(V[oe],x);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(l,f,b){const x=Zn(f);l.children.forEach(V=>{this.activateRoutes(V,x[V.value.outlet],b),this.forwardEvent(new an(V.value.snapshot))}),l.children.length&&this.forwardEvent(new pn(l.value.snapshot))}activateRoutes(l,f,b){const x=l.value,V=f?f.value:null;if(rn(x),x===V)if(x.component){const oe=b.getOrCreateContext(x.outlet);this.activateChildRoutes(l,f,oe.children)}else this.activateChildRoutes(l,f,b);else if(x.component){const oe=b.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const ge=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),oe.children.onOutletReAttached(ge.contexts),oe.attachRef=ge.componentRef,oe.route=ge.route.value,oe.outlet&&oe.outlet.attach(ge.componentRef,ge.route.value),nr(ge.route)}else{const ge=function(v){for(let l=v.parent;l;l=l.parent){const f=l.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig;if(f&&f.component)return null}return null}(x.snapshot),me=ge?ge.module.componentFactoryResolver:null;oe.attachRef=null,oe.route=x,oe.resolver=me,oe.outlet&&oe.outlet.activateWith(x,me),this.activateChildRoutes(l,null,oe.children)}}else this.activateChildRoutes(l,null,b)}}function nr(v){rn(v.value),v.children.forEach(nr)}class Hn{constructor(l,f){this.routes=l,this.module=f}}function Dr(v){return"function"==typeof v}function gi(v){return v instanceof Bt}const Ai=Symbol("INITIAL_VALUE");function ci(){return(0,$e.w)(v=>(0,K.aj)(v.map(l=>l.pipe((0,rt.q)(1),(0,ye.O)(Ai)))).pipe((0,Le.R)((l,f)=>{let b=!1;return f.reduce((x,V,oe)=>x!==Ai?x:(V===Ai&&(b=!0),b||!1!==V&&oe!==f.length-1&&!gi(V)?x:V),l)},Ai),(0,ze.h)(l=>l!==Ai),(0,Fe.U)(l=>gi(l)?l:!0===l),(0,rt.q)(1)))}let Wi=(()=>{class v{}return v.\u0275fac=function(f){return new(f||v)},v.\u0275cmp=A.\u0275\u0275defineComponent({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(f,b){1&f&&A.\u0275\u0275element(0,"router-outlet")},directives:function(){return[ks]},encapsulation:2}),v})();function Es(v,l=""){for(let f=0;f<v.length;f++){const b=v[f];bs(b,Fi(l,b))}}function bs(v,l){v.children&&Es(v.children,l)}function Fi(v,l){return l?v||l.path?v&&!l.path?`${v}/`:!v&&l.path?l.path:`${v}/${l.path}`:"":v}function Xi(v){const l=v.children&&v.children.map(Xi),f=l?Object.assign(Object.assign({},v),{children:l}):Object.assign({},v);return!f.component&&(l||f.loadChildren)&&f.outlet&&f.outlet!==Ct&&(f.component=Wi),f}function Tr(v){return v.outlet||Ct}function Qr(v,l){const f=v.filter(b=>Tr(b)===l);return f.push(...v.filter(b=>Tr(b)!==l)),f}const os={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function li(v,l,f){var b;if(""===l.path)return"full"===l.pathMatch&&(v.hasChildren()||f.length>0)?Object.assign({},os):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const V=(l.matcher||Bn)(f,v,l);if(!V)return Object.assign({},os);const oe={};fe(V.posParams,(me,Ot)=>{oe[Ot]=me.path});const ge=V.consumed.length>0?Object.assign(Object.assign({},oe),V.consumed[V.consumed.length-1].parameters):oe;return{matched:!0,consumedSegments:V.consumed,lastChild:V.consumed.length,parameters:ge,positionalParamSegments:null!==(b=V.posParams)&&void 0!==b?b:{}}}function hr(v,l,f,b,x="corrected"){if(f.length>0&&function(v,l,f){return f.some(b=>$r(v,l,b)&&Tr(b)!==Ct)}(v,f,b)){const oe=new ce(l,function(v,l,f,b){const x={};x[Ct]=b,b._sourceSegment=v,b._segmentIndexShift=l.length;for(const V of f)if(""===V.path&&Tr(V)!==Ct){const oe=new ce([],{});oe._sourceSegment=v,oe._segmentIndexShift=l.length,x[Tr(V)]=oe}return x}(v,l,b,new ce(f,v.children)));return oe._sourceSegment=v,oe._segmentIndexShift=l.length,{segmentGroup:oe,slicedSegments:[]}}if(0===f.length&&function(v,l,f){return f.some(b=>$r(v,l,b))}(v,f,b)){const oe=new ce(v.segments,function(v,l,f,b,x,V){const oe={};for(const ge of b)if($r(v,f,ge)&&!x[Tr(ge)]){const me=new ce([],{});me._sourceSegment=v,me._segmentIndexShift="legacy"===V?v.segments.length:l.length,oe[Tr(ge)]=me}return Object.assign(Object.assign({},x),oe)}(v,l,f,b,v.children,x));return oe._sourceSegment=v,oe._segmentIndexShift=l.length,{segmentGroup:oe,slicedSegments:f}}const V=new ce(v.segments,v.children);return V._sourceSegment=v,V._segmentIndexShift=l.length,{segmentGroup:V,slicedSegments:f}}function $r(v,l,f){return(!(v.hasChildren()||l.length>0)||"full"!==f.pathMatch)&&""===f.path}function mi(v,l,f,b){return!!(Tr(v)===b||b!==Ct&&$r(l,f,v))&&("**"===v.path||li(l,v,f).matched)}function Cs(v,l,f){return 0===l.length&&!v.children[f]}class es{constructor(l){this.segmentGroup=l||null}}class xi{constructor(l){this.urlTree=l}}function vr(v){return new ee.y(l=>l.error(new es(v)))}function Ds(v){return new ee.y(l=>l.error(new xi(v)))}function P(v){return new ee.y(l=>l.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v}'`)))}class J{constructor(l,f,b,x,V){this.configLoader=f,this.urlSerializer=b,this.urlTree=x,this.config=V,this.allowRedirects=!0,this.ngModule=l.get(A.NgModuleRef)}apply(){const l=hr(this.urlTree.root,[],[],this.config).segmentGroup,f=new ce(l.segments,l.children);return this.expandSegmentGroup(this.ngModule,this.config,f,Ct).pipe((0,Fe.U)(V=>this.createUrlTree(Qe(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,pt.K)(V=>{if(V instanceof xi)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof es?this.noMatchError(V):V}))}match(l){return this.expandSegmentGroup(this.ngModule,this.config,l.root,Ct).pipe((0,Fe.U)(x=>this.createUrlTree(Qe(x),l.queryParams,l.fragment))).pipe((0,pt.K)(x=>{throw x instanceof es?this.noMatchError(x):x}))}noMatchError(l){return new Error(`Cannot match any routes. URL Segment: '${l.segmentGroup}'`)}createUrlTree(l,f,b){const x=l.segments.length>0?new ce([],{[Ct]:l}):l;return new Bt(x,f,b)}expandSegmentGroup(l,f,b,x){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(l,f,b).pipe((0,Fe.U)(V=>new ce([],V))):this.expandSegment(l,b,f,b.segments,x,!0)}expandChildren(l,f,b){const x=[];for(const V of Object.keys(b.children))"primary"===V?x.unshift(V):x.push(V);return(0,j.D)(x).pipe((0,Xe.b)(V=>{const oe=b.children[V],ge=Qr(f,V);return this.expandSegmentGroup(l,ge,oe,V).pipe((0,Fe.U)(me=>({segment:me,outlet:V})))}),(0,Le.R)((V,oe)=>(V[oe.outlet]=oe.segment,V),{}),(0,_n.Z)())}expandSegment(l,f,b,x,V,oe){return(0,j.D)(b).pipe((0,Xe.b)(ge=>this.expandSegmentAgainstRoute(l,f,b,ge,x,V,oe).pipe((0,pt.K)(Ot=>{if(Ot instanceof es)return(0,X.of)(null);throw Ot}))),(0,tn.P)(ge=>!!ge),(0,pt.K)((ge,me)=>{if(ge instanceof W.K||"EmptyError"===ge.name){if(Cs(f,x,V))return(0,X.of)(new ce([],{}));throw new es(f)}throw ge}))}expandSegmentAgainstRoute(l,f,b,x,V,oe,ge){return mi(x,f,V,oe)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(l,f,x,V,oe):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,f,b,x,V,oe):vr(f):vr(f)}expandSegmentAgainstRouteUsingRedirect(l,f,b,x,V,oe){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,b,x,oe):this.expandRegularSegmentAgainstRouteUsingRedirect(l,f,b,x,V,oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(l,f,b,x){const V=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Ds(V):this.lineralizeSegments(b,V).pipe((0,et.zg)(oe=>{const ge=new ce(oe,{});return this.expandSegment(l,ge,f,oe,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(l,f,b,x,V,oe){const{matched:ge,consumedSegments:me,lastChild:Ot,positionalParamSegments:Xn}=li(f,x,V);if(!ge)return vr(f);const dn=this.applyRedirectCommands(me,x.redirectTo,Xn);return x.redirectTo.startsWith("/")?Ds(dn):this.lineralizeSegments(x,dn).pipe((0,et.zg)(At=>this.expandSegment(l,f,b,At.concat(V.slice(Ot)),oe,!1)))}matchSegmentAgainstRoute(l,f,b,x,V){if("**"===b.path)return b.loadChildren?(b._loadedConfig?(0,X.of)(b._loadedConfig):this.configLoader.load(l.injector,b)).pipe((0,Fe.U)(At=>(b._loadedConfig=At,new ce(x,{})))):(0,X.of)(new ce(x,{}));const{matched:oe,consumedSegments:ge,lastChild:me}=li(f,b,x);if(!oe)return vr(f);const Ot=x.slice(me);return this.getChildConfig(l,b,x).pipe((0,et.zg)(dn=>{const At=dn.module,$t=dn.routes,{segmentGroup:ii,slicedSegments:Lt}=hr(f,ge,Ot,$t),We=new ce(ii.segments,ii.children);if(0===Lt.length&&We.hasChildren())return this.expandChildren(At,$t,We).pipe((0,Fe.U)(po=>new ce(ge,po)));if(0===$t.length&&0===Lt.length)return(0,X.of)(new ce(ge,{}));const yt=Tr(b)===V;return this.expandSegment(At,We,$t,Lt,yt?Ct:V,!0).pipe((0,Fe.U)(Qs=>new ce(ge.concat(Qs.segments),Qs.children)))}))}getChildConfig(l,f,b){return f.children?(0,X.of)(new Hn(f.children,l)):f.loadChildren?void 0!==f._loadedConfig?(0,X.of)(f._loadedConfig):this.runCanLoadGuards(l.injector,f,b).pipe((0,et.zg)(x=>{return x?this.configLoader.load(l.injector,f).pipe((0,Fe.U)(V=>(f._loadedConfig=V,V))):(v=f,new ee.y(l=>l.error(st(`Cannot load children because the guard of the route "path: '${v.path}'" returned false`))));var v})):(0,X.of)(new Hn([],l))}runCanLoadGuards(l,f,b){const x=f.canLoad;if(!x||0===x.length)return(0,X.of)(!0);const V=x.map(oe=>{const ge=l.get(oe);let me;if((v=ge)&&Dr(v.canLoad))me=ge.canLoad(f,b);else{if(!Dr(ge))throw new Error("Invalid CanLoad guard");me=ge(f,b)}var v;return Ze(me)});return(0,X.of)(V).pipe(ci(),(0,kt.b)(oe=>{if(!gi(oe))return;const ge=st(`Redirecting to "${this.urlSerializer.serialize(oe)}"`);throw ge.url=oe,ge}),(0,Fe.U)(oe=>!0===oe))}lineralizeSegments(l,f){let b=[],x=f.root;for(;;){if(b=b.concat(x.segments),0===x.numberOfChildren)return(0,X.of)(b);if(x.numberOfChildren>1||!x.children[Ct])return P(l.redirectTo);x=x.children[Ct]}}applyRedirectCommands(l,f,b){return this.applyRedirectCreatreUrlTree(f,this.urlSerializer.parse(f),l,b)}applyRedirectCreatreUrlTree(l,f,b,x){const V=this.createSegmentGroup(l,f.root,b,x);return new Bt(V,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(l,f){const b={};return fe(l,(x,V)=>{if("string"==typeof x&&x.startsWith(":")){const ge=x.substring(1);b[V]=f[ge]}else b[V]=x}),b}createSegmentGroup(l,f,b,x){const V=this.createSegments(l,f.segments,b,x);let oe={};return fe(f.children,(ge,me)=>{oe[me]=this.createSegmentGroup(l,ge,b,x)}),new ce(V,oe)}createSegments(l,f,b,x){return f.map(V=>V.path.startsWith(":")?this.findPosParam(l,V,x):this.findOrReturn(V,b))}findPosParam(l,f,b){const x=b[f.path.substring(1)];if(!x)throw new Error(`Cannot redirect to '${l}'. Cannot find '${f.path}'.`);return x}findOrReturn(l,f){let b=0;for(const x of f){if(x.path===l.path)return f.splice(b),x;b++}return l}}function Qe(v){const l={};for(const b of Object.keys(v.children)){const V=Qe(v.children[b]);(V.segments.length>0||V.hasChildren())&&(l[b]=V)}return function(v){if(1===v.numberOfChildren&&v.children[Ct]){const l=v.children[Ct];return new ce(v.segments.concat(l.segments),l.children)}return v}(new ce(v.segments,l))}class N{constructor(l){this.path=l,this.route=this.path[this.path.length-1]}}class R{constructor(l,f){this.component=l,this.route=f}}function S(v,l,f){const b=v._root;return fn(b,l?l._root:null,f,[b.value])}function Ne(v,l,f){const b=function(v){if(!v)return null;for(let l=v.parent;l;l=l.parent){const f=l.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig}return null}(l);return(b?b.module.injector:f).get(v)}function fn(v,l,f,b,x={canDeactivateChecks:[],canActivateChecks:[]}){const V=Zn(l);return v.children.forEach(oe=>{(function(v,l,f,b,x={canDeactivateChecks:[],canActivateChecks:[]}){const V=v.value,oe=l?l.value:null,ge=f?f.getContext(v.value.outlet):null;if(oe&&V.routeConfig===oe.routeConfig){const me=function(v,l,f){if("function"==typeof f)return f(v,l);switch(f){case"pathParamsChange":return!Ie(v.url,l.url);case"pathParamsOrQueryParamsChange":return!Ie(v.url,l.url)||!hn(v.queryParams,l.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mn(v,l)||!hn(v.queryParams,l.queryParams);case"paramsChange":default:return!mn(v,l)}}(oe,V,V.routeConfig.runGuardsAndResolvers);me?x.canActivateChecks.push(new N(b)):(V.data=oe.data,V._resolvedData=oe._resolvedData),fn(v,l,V.component?ge?ge.children:null:f,b,x),me&&ge&&ge.outlet&&ge.outlet.isActivated&&x.canDeactivateChecks.push(new R(ge.outlet.component,oe))}else oe&&pr(l,ge,x),x.canActivateChecks.push(new N(b)),fn(v,null,V.component?ge?ge.children:null:f,b,x)})(oe,V[oe.value.outlet],f,b.concat([oe.value]),x),delete V[oe.value.outlet]}),fe(V,(oe,ge)=>pr(oe,f.getContext(ge),x)),x}function pr(v,l,f){const b=Zn(v),x=v.value;fe(b,(V,oe)=>{pr(V,x.component?l?l.children.getContext(oe):null:l,f)}),f.canDeactivateChecks.push(new R(x.component&&l&&l.outlet&&l.outlet.isActivated?l.outlet.component:null,x))}class Go{}function Ks(v){return new ee.y(l=>l.error(v))}class Qn{constructor(l,f,b,x,V,oe){this.rootComponentType=l,this.config=f,this.urlTree=b,this.url=x,this.paramsInheritanceStrategy=V,this.relativeLinkResolution=oe}recognize(){const l=hr(this.urlTree.root,[],[],this.config.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution).segmentGroup,f=this.processSegmentGroup(this.config,l,Ct);if(null===f)return null;const b=new Ce([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new Ir(b,f),V=new ie(this.url,x);return this.inheritParamsAndData(V._root),V}inheritParamsAndData(l){const f=l.value,b=gn(f,this.paramsInheritanceStrategy);f.params=Object.freeze(b.params),f.data=Object.freeze(b.data),l.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(l,f,b){return 0===f.segments.length&&f.hasChildren()?this.processChildren(l,f):this.processSegment(l,f,f.segments,b)}processChildren(l,f){const b=[];for(const V of Object.keys(f.children)){const oe=f.children[V],ge=Qr(l,V),me=this.processSegmentGroup(ge,oe,V);if(null===me)return null;b.push(...me)}const x=zs(b);return x.sort((l,f)=>l.value.outlet===Ct?-1:f.value.outlet===Ct?1:l.value.outlet.localeCompare(f.value.outlet)),x}processSegment(l,f,b,x){for(const V of l){const oe=this.processSegmentAgainstRoute(V,f,b,x);if(null!==oe)return oe}return Cs(f,b,x)?[]:null}processSegmentAgainstRoute(l,f,b,x){if(l.redirectTo||!mi(l,f,b,x))return null;let V,oe=[],ge=[];if("**"===l.path){const $t=b.length>0?He(b).parameters:{};V=new Ce(b,$t,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Co(l),Tr(l),l.component,l,no(f),Ns(f)+b.length,Zs(l))}else{const $t=li(f,l,b);if(!$t.matched)return null;oe=$t.consumedSegments,ge=b.slice($t.lastChild),V=new Ce(oe,$t.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Co(l),Tr(l),l.component,l,no(f),Ns(f)+oe.length,Zs(l))}const me=(v=l).children?v.children:v.loadChildren?v._loadedConfig.routes:[],{segmentGroup:Ot,slicedSegments:Xn}=hr(f,oe,ge,me.filter($t=>void 0===$t.redirectTo),this.relativeLinkResolution);var v;if(0===Xn.length&&Ot.hasChildren()){const $t=this.processChildren(me,Ot);return null===$t?null:[new Ir(V,$t)]}if(0===me.length&&0===Xn.length)return[new Ir(V,[])];const dn=Tr(l)===x,At=this.processSegment(me,Ot,Xn,dn?Ct:x);return null===At?null:[new Ir(V,At)]}}function wo(v){const l=v.value.routeConfig;return l&&""===l.path&&void 0===l.redirectTo}function zs(v){const l=[],f=new Set;for(const b of v){if(!wo(b)){l.push(b);continue}const x=l.find(V=>b.value.routeConfig===V.value.routeConfig);void 0!==x?(x.children.push(...b.children),f.add(x)):l.push(b)}for(const b of f){const x=zs(b.children);l.push(new Ir(b.value,x))}return l.filter(b=>!f.has(b))}function no(v){let l=v;for(;l._sourceSegment;)l=l._sourceSegment;return l}function Ns(v){let l=v,f=l._segmentIndexShift?l._segmentIndexShift:0;for(;l._sourceSegment;)l=l._sourceSegment,f+=l._segmentIndexShift?l._segmentIndexShift:0;return f-1}function Co(v){return v.data||{}}function Zs(v){return v.resolve||{}}function Cr(v){return(0,$e.w)(l=>{const f=v(l);return f?(0,j.D)(f).pipe((0,Fe.U)(()=>l)):(0,X.of)(l)})}class Mi{}class fa{shouldDetach(l){return!1}store(l,f){}shouldAttach(l){return!1}retrieve(l){return null}shouldReuseRoute(l,f){return l.routeConfig===f.routeConfig}}class io extends fa{}const zo=new A.InjectionToken("ROUTES");class Do{constructor(l,f,b,x){this.loader=l,this.compiler=f,this.onLoadStartListener=b,this.onLoadEndListener=x}load(l,f){if(f._loader$)return f._loader$;this.onLoadStartListener&&this.onLoadStartListener(f);const x=this.loadModuleFactory(f.loadChildren).pipe((0,Fe.U)(V=>{this.onLoadEndListener&&this.onLoadEndListener(f);const oe=V.create(l);return new Hn(cr(oe.injector.get(zo,void 0,A.InjectFlags.Self|A.InjectFlags.Optional)).map(Xi),oe)}),(0,pt.K)(V=>{throw f._loader$=void 0,V}));return f._loader$=new re.c(x,()=>new Ae.xQ).pipe((0,ut.x)()),f._loader$}loadModuleFactory(l){return"string"==typeof l?(0,j.D)(this.loader.load(l)):Ze(l()).pipe((0,et.zg)(f=>f instanceof A.NgModuleFactory?(0,X.of)(f):(0,j.D)(this.compiler.compileModuleAsync(f))))}}class Zo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ts,this.attachRef=null}}class ts{constructor(){this.contexts=new Map}onChildOutletCreated(l,f){const b=this.getOrCreateContext(l);b.outlet=f,this.contexts.set(l,b)}onChildOutletDestroyed(l){const f=this.getContext(l);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let f=this.getContext(l);return f||(f=new Zo,this.contexts.set(l,f)),f}getContext(l){return this.contexts.get(l)||null}}class pa{}class qs{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,f){return l}}function To(v){throw v}function ns(v,l,f){return l.parse("/")}function Ps(v,l){return(0,X.of)(null)}const ga={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class v{constructor(f,b,x,V,oe,ge,me,Ot){this.rootComponentType=f,this.urlSerializer=b,this.rootContexts=x,this.location=V,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ae.xQ,this.errorHandler=To,this.malformedUriErrorHandler=ns,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ps,afterPreactivation:Ps},this.urlHandlingStrategy=new qs,this.routeReuseStrategy=new io,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=oe.get(A.NgModuleRef),this.console=oe.get(A.\u0275Console);const At=oe.get(A.NgZone);this.isNgZoneEnabled=At instanceof A.NgZone&&A.NgZone.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=new Bt(new ce([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Do(ge,me,$t=>this.triggerEvent(new Dt($t)),$t=>this.triggerEvent(new Ut($t))),this.routerState=qn(this.currentUrlTree,this.rootComponentType),this.transitions=new ne.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var f;return null===(f=this.location.getState())||void 0===f?void 0:f.\u0275routerPageId}setupNavigations(f){const b=this.events;return f.pipe((0,ze.h)(x=>0!==x.id),(0,Fe.U)(x=>Object.assign(Object.assign({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,$e.w)(x=>{let V=!1,oe=!1;return(0,X.of)(x).pipe((0,kt.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.currentRawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,$e.w)(ge=>{const me=this.browserUrlTree.toString(),Ot=!this.navigated||ge.extractedUrl.toString()!==me||me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ot)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return ps(ge.source)&&(this.browserUrlTree=ge.extractedUrl),(0,X.of)(ge).pipe((0,$e.w)(dn=>{const At=this.transitions.getValue();return b.next(new jt(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),At!==this.transitions.getValue()?G.E:Promise.resolve(dn)}),function(v,l,f,b){return(0,$e.w)(x=>function(v,l,f,b,x){return new J(v,l,f,b,x).apply()}(v,l,f,x.extractedUrl,b).pipe((0,Fe.U)(V=>Object.assign(Object.assign({},x),{urlAfterRedirects:V}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(dn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:dn.urlAfterRedirects})}),function(v,l,f,b,x){return(0,et.zg)(V=>function(v,l,f,b,x="emptyOnly",V="legacy"){try{const oe=new Qn(v,l,f,b,x,V).recognize();return null===oe?Ks(new Go):(0,X.of)(oe)}catch(oe){return Ks(oe)}}(v,l,V.urlAfterRedirects,f(V.urlAfterRedirects),b,x).pipe((0,Fe.U)(oe=>Object.assign(Object.assign({},V),{targetSnapshot:oe}))))}(this.rootComponentType,this.config,dn=>this.serializeUrl(dn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(dn=>{"eager"===this.urlUpdateStrategy&&(dn.extras.skipLocationChange||this.setBrowserUrl(dn.urlAfterRedirects,dn),this.browserUrlTree=dn.urlAfterRedirects);const At=new vn(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);b.next(At)}));if(Ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:At,extractedUrl:$t,source:ii,restoredState:Lt,extras:We}=ge,yt=new jt(At,this.serializeUrl($t),ii,Lt);b.next(yt);const kr=qn($t,this.rootComponentType).snapshot;return(0,X.of)(Object.assign(Object.assign({},ge),{targetSnapshot:kr,urlAfterRedirects:$t,extras:Object.assign(Object.assign({},We),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ge.rawUrl,this.browserUrlTree=ge.urlAfterRedirects,ge.resolve(null),G.E}),Cr(ge=>{const{targetSnapshot:me,id:Ot,extractedUrl:Xn,rawUrl:dn,extras:{skipLocationChange:At,replaceUrl:$t}}=ge;return this.hooks.beforePreactivation(me,{navigationId:Ot,appliedUrlTree:Xn,rawUrlTree:dn,skipLocationChange:!!At,replaceUrl:!!$t})}),(0,kt.b)(ge=>{const me=new Ln(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(me)}),(0,Fe.U)(ge=>Object.assign(Object.assign({},ge),{guards:S(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)})),function(v,l){return(0,et.zg)(f=>{const{targetSnapshot:b,currentSnapshot:x,guards:{canActivateChecks:V,canDeactivateChecks:oe}}=f;return 0===oe.length&&0===V.length?(0,X.of)(Object.assign(Object.assign({},f),{guardsResult:!0})):function(v,l,f,b){return(0,j.D)(v).pipe((0,et.zg)(x=>function(v,l,f,b,x){const V=l&&l.routeConfig?l.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,X.of)(!0);const oe=V.map(ge=>{const me=Ne(ge,l,x);let Ot;if(function(v){return v&&Dr(v.canDeactivate)}(me))Ot=Ze(me.canDeactivate(v,l,f,b));else{if(!Dr(me))throw new Error("Invalid CanDeactivate guard");Ot=Ze(me(v,l,f,b))}return Ot.pipe((0,tn.P)())});return(0,X.of)(oe).pipe(ci())}(x.component,x.route,f,l,b)),(0,tn.P)(x=>!0!==x,!0))}(oe,b,x,v).pipe((0,et.zg)(ge=>ge&&function(v){return"boolean"==typeof v}(ge)?function(v,l,f,b){return(0,j.D)(l).pipe((0,Xe.b)(x=>(0,Y.z)(function(v,l){return null!==v&&l&&l(new ht(v)),(0,X.of)(!0)}(x.route.parent,b),function(v,l){return null!==v&&l&&l(new Kt(v)),(0,X.of)(!0)}(x.route,b),function(v,l,f){const b=l[l.length-1],V=l.slice(0,l.length-1).reverse().map(oe=>function(v){const l=v.routeConfig?v.routeConfig.canActivateChild:null;return l&&0!==l.length?{node:v,guards:l}:null}(oe)).filter(oe=>null!==oe).map(oe=>(0,U.P)(()=>{const ge=oe.guards.map(me=>{const Ot=Ne(me,oe.node,f);let Xn;if(function(v){return v&&Dr(v.canActivateChild)}(Ot))Xn=Ze(Ot.canActivateChild(b,v));else{if(!Dr(Ot))throw new Error("Invalid CanActivateChild guard");Xn=Ze(Ot(b,v))}return Xn.pipe((0,tn.P)())});return(0,X.of)(ge).pipe(ci())}));return(0,X.of)(V).pipe(ci())}(v,x.path,f),function(v,l,f){const b=l.routeConfig?l.routeConfig.canActivate:null;if(!b||0===b.length)return(0,X.of)(!0);const x=b.map(V=>(0,U.P)(()=>{const oe=Ne(V,l,f);let ge;if(function(v){return v&&Dr(v.canActivate)}(oe))ge=Ze(oe.canActivate(l,v));else{if(!Dr(oe))throw new Error("Invalid CanActivate guard");ge=Ze(oe(l,v))}return ge.pipe((0,tn.P)())}));return(0,X.of)(x).pipe(ci())}(v,x.route,f))),(0,tn.P)(x=>!0!==x,!0))}(b,V,v,l):(0,X.of)(ge)),(0,Fe.U)(ge=>Object.assign(Object.assign({},f),{guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,kt.b)(ge=>{if(gi(ge.guardsResult)){const Ot=st(`Redirecting to "${this.serializeUrl(ge.guardsResult)}"`);throw Ot.url=ge.guardsResult,Ot}const me=new un(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent(me)}),(0,ze.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,""),!1)),Cr(ge=>{if(ge.guards.canActivateChecks.length)return(0,X.of)(ge).pipe((0,kt.b)(me=>{const Ot=new nn(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(Ot)}),(0,$e.w)(me=>{let Ot=!1;return(0,X.of)(me).pipe(function(v,l){return(0,et.zg)(f=>{const{targetSnapshot:b,guards:{canActivateChecks:x}}=f;if(!x.length)return(0,X.of)(f);let V=0;return(0,j.D)(x).pipe((0,Xe.b)(oe=>function(v,l,f,b){return function(v,l,f,b){const x=Object.keys(v);if(0===x.length)return(0,X.of)({});const V={};return(0,j.D)(x).pipe((0,et.zg)(oe=>function(v,l,f,b){const x=Ne(v,l,b);return Ze(x.resolve?x.resolve(l,f):x(l,f))}(v[oe],l,f,b).pipe((0,kt.b)(ge=>{V[oe]=ge}))),(0,ke.h)(1),(0,et.zg)(()=>Object.keys(V).length===x.length?(0,X.of)(V):G.E))}(v._resolve,v,l,b).pipe((0,Fe.U)(V=>(v._resolvedData=V,v.data=Object.assign(Object.assign({},v.data),gn(v,f).resolve),null)))}(oe.route,b,v,l)),(0,kt.b)(()=>V++),(0,ke.h)(1),(0,et.zg)(oe=>V===x.length?(0,X.of)(f):G.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>Ot=!0,complete:()=>{Ot||(this.restoreHistory(me),this.cancelNavigationTransition(me,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)(me=>{const Ot=new ar(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(Ot)}))}),Cr(ge=>{const{targetSnapshot:me,id:Ot,extractedUrl:Xn,rawUrl:dn,extras:{skipLocationChange:At,replaceUrl:$t}}=ge;return this.hooks.afterPreactivation(me,{navigationId:Ot,appliedUrlTree:Xn,rawUrlTree:dn,skipLocationChange:!!At,replaceUrl:!!$t})}),(0,Fe.U)(ge=>{const me=function(v,l,f){const b=In(v,l._root,f?f._root:void 0);return new _r(b,l)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return Object.assign(Object.assign({},ge),{targetRouterState:me})}),(0,kt.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((v,l,f)=>(0,Fe.U)(b=>(new qt(l,b.targetRouterState,b.currentRouterState,f).activate(v),b)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,kt.b)({next(){V=!0},complete(){V=!0}}),(0,dt.x)(()=>{var ge;if(!V&&!oe){const me=`Navigation ID ${x.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(x),this.cancelNavigationTransition(x,me)):this.cancelNavigationTransition(x,me)}(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.id)===x.id&&(this.currentNavigation=null)}),(0,pt.K)(ge=>{if(oe=!0,function(v){return v&&v[Yt]}(ge)){const me=gi(ge.url);me||(this.navigated=!0,this.restoreHistory(x,!0));const Ot=new Xt(x.id,this.serializeUrl(x.extractedUrl),ge.message);b.next(Ot),me?setTimeout(()=>{const Xn=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),dn={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ps(x.source)};this.scheduleNavigation(Xn,"imperative",null,dn,{resolve:x.resolve,reject:x.reject,promise:x.promise})},0):x.resolve(!1)}else{this.restoreHistory(x,!0);const me=new Gn(x.id,this.serializeUrl(x.extractedUrl),ge);b.next(me);try{x.resolve(this.errorHandler(ge))}catch(Ot){x.reject(Ot)}}return G.E}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}getTransition(){const f=this.transitions.value;return f.urlAfterRedirects=this.browserUrlTree,f}setTransition(f){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),f))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const b=this.extractLocationChangeInfoFromEvent(f);this.shouldScheduleNavigation(this.lastLocationChangeInfo,b)&&setTimeout(()=>{const{source:x,state:V,urlTree:oe}=b,ge={replaceUrl:!0};if(V){const me=Object.assign({},V);delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(ge.state=me)}this.scheduleNavigation(oe,x,V,ge)},0),this.lastLocationChangeInfo=b}))}extractLocationChangeInfoFromEvent(f){var b;return{source:"popstate"===f.type?"popstate":"hashchange",urlTree:this.parseUrl(f.url),state:(null===(b=f.state)||void 0===b?void 0:b.navigationId)?f.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(f,b){if(!f)return!0;const x=b.urlTree.toString()===f.urlTree.toString();return b.transitionId!==f.transitionId||!x||!("hashchange"===b.source&&"popstate"===f.source||"popstate"===b.source&&"hashchange"===f.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){Es(f),this.config=f.map(Xi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,b={}){const{relativeTo:x,queryParams:V,fragment:oe,queryParamsHandling:ge,preserveFragment:me}=b,Ot=x||this.routerState.root,Xn=me?this.currentUrlTree.fragment:oe;let dn=null;switch(ge){case"merge":dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),V);break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=V||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),function(v,l,f,b,x){if(0===f.length)return Ii(l.root,l.root,l,b,x);const V=function(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Pi(!0,0,v);let l=0,f=!1;const b=v.reduce((x,V,oe)=>{if("object"==typeof V&&null!=V){if(V.outlets){const ge={};return fe(V.outlets,(me,Ot)=>{ge[Ot]="string"==typeof me?me.split("/"):me}),[...x,{outlets:ge}]}if(V.segmentPath)return[...x,V.segmentPath]}return"string"!=typeof V?[...x,V]:0===oe?(V.split("/").forEach((ge,me)=>{0==me&&"."===ge||(0==me&&""===ge?f=!0:".."===ge?l++:""!=ge&&x.push(ge))}),x):[...x,V]},[]);return new Pi(f,l,b)}(f);if(V.toRoot())return Ii(l.root,new ce([],{}),l,b,x);const oe=function(v,l,f){if(v.isAbsolute)return new Wn(l.root,!0,0);if(-1===f.snapshot._lastPathIndex){const V=f.snapshot._urlSegment;return new Wn(V,V===l.root,0)}const b=bi(v.commands[0])?0:1;return function(v,l,f){let b=v,x=l,V=f;for(;V>x;){if(V-=x,b=b.parent,!b)throw new Error("Invalid number of '../'");x=b.segments.length}return new Wn(b,!1,x-V)}(f.snapshot._urlSegment,f.snapshot._lastPathIndex+b,v.numberOfDoubleDots)}(V,l,v),ge=oe.processChildren?Or(oe.segmentGroup,oe.index,V.commands):ui(oe.segmentGroup,oe.index,V.commands);return Ii(oe.segmentGroup,ge,l,b,x)}(Ot,this.currentUrlTree,f,dn,null!=Xn?Xn:null)}navigateByUrl(f,b={skipLocationChange:!1}){const x=gi(f)?f:this.parseUrl(f),V=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(V,"imperative",null,b)}navigate(f,b={skipLocationChange:!1}){return function(v){for(let l=0;l<v.length;l++){const f=v[l];if(null==f)throw new Error(`The requested path contains ${f} segment at index ${l}`)}}(f),this.navigateByUrl(this.createUrlTree(f,b),b)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let b;try{b=this.urlSerializer.parse(f)}catch(x){b=this.malformedUriErrorHandler(x,this.urlSerializer,f)}return b}isActive(f,b){let x;if(x=!0===b?Object.assign({},ga):!1===b?Object.assign({},ma):b,gi(f))return Mt(this.currentUrlTree,f,x);const V=this.parseUrl(f);return Mt(this.currentUrlTree,V,x)}removeEmptyProps(f){return Object.keys(f).reduce((b,x)=>{const V=f[x];return null!=V&&(b[x]=V),b},{})}processNavigations(){this.navigations.subscribe(f=>{this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new gt(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,f.resolve(!0)},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}scheduleNavigation(f,b,x,V,oe){var ge,me;if(this.disposed)return Promise.resolve(!1);const Ot=this.getTransition(),Xn=ps(b)&&Ot&&!ps(Ot.source),$t=(this.lastSuccessfulId===Ot.id||this.currentNavigation?Ot.rawUrl:Ot.urlAfterRedirects).toString()===f.toString();if(Xn&&$t)return Promise.resolve(!0);let ii,Lt,We;oe?(ii=oe.resolve,Lt=oe.reject,We=oe.promise):We=new Promise((Qs,po)=>{ii=Qs,Lt=po});const yt=++this.navigationId;let kr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),kr=x&&x.\u0275routerPageId?x.\u0275routerPageId:V.replaceUrl||V.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==(me=this.browserPageId)&&void 0!==me?me:0)+1):kr=0,this.setTransition({id:yt,targetPageId:kr,source:b,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:V,resolve:ii,reject:Lt,promise:We,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),We.catch(Qs=>Promise.reject(Qs))}setBrowserUrl(f,b){const x=this.urlSerializer.serialize(f),V=Object.assign(Object.assign({},b.extras.state),this.generateNgRouterState(b.id,b.targetPageId));this.location.isCurrentPathEqualTo(x)||b.extras.replaceUrl?this.location.replaceState(x,"",V):this.location.go(x,"",V)}restoreHistory(f,b=!1){var x,V;if("computed"===this.canceledNavigationResolution){const oe=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)||0===oe?this.currentUrlTree===(null===(V=this.currentNavigation)||void 0===V?void 0:V.finalUrl)&&0===oe&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(oe)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,b){const x=new Xt(f.id,this.serializeUrl(f.extractedUrl),b);this.triggerEvent(x),f.resolve(!1)}generateNgRouterState(f,b){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:b}:{navigationId:f}}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275inject(A.Type),A.\u0275\u0275inject(qe),A.\u0275\u0275inject(ts),A.\u0275\u0275inject(h.Location),A.\u0275\u0275inject(A.Injector),A.\u0275\u0275inject(A.NgModuleFactoryLoader),A.\u0275\u0275inject(A.Compiler),A.\u0275\u0275inject(void 0))},v.\u0275prov=A.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();function ps(v){return"imperative"!==v}let Ss=(()=>{class v{constructor(f,b,x,V,oe){this.router=f,this.route=b,this.commands=[],this.onChanges=new Ae.xQ,null==x&&V.setAttribute(oe.nativeElement,"tabindex","0")}ngOnChanges(f){this.onChanges.next(this)}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:[]}onClick(){const f={skipLocationChange:zr(this.skipLocationChange),replaceUrl:zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zr(this.preserveFragment)})}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275directiveInject(Kr),A.\u0275\u0275directiveInject(ti),A.\u0275\u0275injectAttribute("tabindex"),A.\u0275\u0275directiveInject(A.Renderer2),A.\u0275\u0275directiveInject(A.ElementRef))},v.\u0275dir=A.\u0275\u0275defineDirective({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,b){1&f&&A.\u0275\u0275listener("click",function(){return b.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.\u0275\u0275NgOnChangesFeature]}),v})(),so=(()=>{class v{constructor(f,b,x){this.router=f,this.route=b,this.locationStrategy=x,this.commands=[],this.onChanges=new Ae.xQ,this.subscription=f.events.subscribe(V=>{V instanceof gt&&this.updateTargetUrlAndHref()})}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:[]}ngOnChanges(f){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(f,b,x,V,oe){if(0!==f||b||x||V||oe||"string"==typeof this.target&&"_self"!=this.target)return!0;const ge={skipLocationChange:zr(this.skipLocationChange),replaceUrl:zr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ge),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zr(this.preserveFragment)})}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275directiveInject(Kr),A.\u0275\u0275directiveInject(ti),A.\u0275\u0275directiveInject(h.LocationStrategy))},v.\u0275dir=A.\u0275\u0275defineDirective({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(f,b){1&f&&A.\u0275\u0275listener("click",function(V){return b.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&f&&(A.\u0275\u0275hostProperty("href",b.href,A.\u0275\u0275sanitizeUrl),A.\u0275\u0275attribute("target",b.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.\u0275\u0275NgOnChangesFeature]}),v})();function zr(v){return""===v||!!v}let rs=(()=>{class v{constructor(f,b,x,V,oe,ge){this.router=f,this.element=b,this.renderer=x,this.cdr=V,this.link=oe,this.linkWithHref=ge,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=f.events.subscribe(me=>{me instanceof gt&&this.update()})}ngAfterContentInit(){(0,X.of)(this.links.changes,this.linksWithHrefs.changes,(0,X.of)(null)).pipe((0,It.J)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var f;null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe();const b=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(x=>!!x).map(x=>x.onChanges);this.linkInputChangesSubscription=(0,j.D)(b).pipe((0,It.J)()).subscribe(x=>{this.isActive!==this.isLinkActive(this.router)(x)&&this.update()})}set routerLinkActive(f){const b=Array.isArray(f)?f:f.split(" ");this.classes=b.filter(x=>!!x)}ngOnChanges(f){this.update()}ngOnDestroy(){var f;this.routerEventsSubscription.unsubscribe(),null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const f=this.hasActiveLinks();this.isActive!==f&&(this.isActive=f,this.cdr.markForCheck(),this.classes.forEach(b=>{f?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}))})}isLinkActive(f){const b=function(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return x=>f.isActive(x.urlTree,b)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.linkWithHref&&f(this.linkWithHref)||this.links.some(f)||this.linksWithHrefs.some(f)}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275directiveInject(Kr),A.\u0275\u0275directiveInject(A.ElementRef),A.\u0275\u0275directiveInject(A.Renderer2),A.\u0275\u0275directiveInject(A.ChangeDetectorRef),A.\u0275\u0275directiveInject(Ss,8),A.\u0275\u0275directiveInject(so,8))},v.\u0275dir=A.\u0275\u0275defineDirective({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(f,b,x){if(1&f&&(A.\u0275\u0275contentQuery(x,Ss,5),A.\u0275\u0275contentQuery(x,so,5)),2&f){let V;A.\u0275\u0275queryRefresh(V=A.\u0275\u0275loadQuery())&&(b.links=V),A.\u0275\u0275queryRefresh(V=A.\u0275\u0275loadQuery())&&(b.linksWithHrefs=V)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[A.\u0275\u0275NgOnChangesFeature]}),v})(),ks=(()=>{class v{constructor(f,b,x,V,oe){this.parentContexts=f,this.location=b,this.resolver=x,this.changeDetector=oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new A.EventEmitter,this.deactivateEvents=new A.EventEmitter,this.name=V||Ct,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,f}attach(f,b){this.activated=f,this._activatedRoute=b,this.location.insert(f.hostView)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,b){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;const oe=(b=b||this.resolver).resolveComponentFactory(f._futureSnapshot.routeConfig.component),ge=this.parentContexts.getOrCreateContext(this.name).children,me=new qo(f,ge,this.location.injector);this.activated=this.location.createComponent(oe,this.location.length,me),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275directiveInject(ts),A.\u0275\u0275directiveInject(A.ViewContainerRef),A.\u0275\u0275directiveInject(A.ComponentFactoryResolver),A.\u0275\u0275injectAttribute("name"),A.\u0275\u0275directiveInject(A.ChangeDetectorRef))},v.\u0275dir=A.\u0275\u0275defineDirective({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class qo{constructor(l,f,b){this.route=l,this.childContexts=f,this.parent=b}get(l,f){return l===ti?this.route:l===ts?this.childContexts:this.parent.get(l,f)}}class So{}class Ao{preload(l,f){return f().pipe((0,pt.K)(()=>(0,X.of)(null)))}}class oo{preload(l,f){return(0,X.of)(null)}}let Qo=(()=>{class v{constructor(f,b,x,V,oe){this.router=f,this.injector=V,this.preloadingStrategy=oe,this.loader=new Do(b,x,Ot=>f.triggerEvent(new Dt(Ot)),Ot=>f.triggerEvent(new Ut(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(f=>f instanceof gt),(0,Xe.b)(()=>this.preload())).subscribe(()=>{})}preload(){const f=this.injector.get(A.NgModuleRef);return this.processRoutes(f,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,b){const x=[];for(const V of b)if(V.loadChildren&&!V.canLoad&&V._loadedConfig){const oe=V._loadedConfig;x.push(this.processRoutes(oe.module,oe.routes))}else V.loadChildren&&!V.canLoad?x.push(this.preloadConfig(f,V)):V.children&&x.push(this.processRoutes(f,V.children));return(0,j.D)(x).pipe((0,It.J)(),(0,Fe.U)(V=>{}))}preloadConfig(f,b){return this.preloadingStrategy.preload(b,()=>(b._loadedConfig?(0,X.of)(b._loadedConfig):this.loader.load(f.injector,b)).pipe((0,et.zg)(V=>(b._loadedConfig=V,this.processRoutes(V.module,V.routes)))))}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275inject(Kr),A.\u0275\u0275inject(A.NgModuleFactoryLoader),A.\u0275\u0275inject(A.Compiler),A.\u0275\u0275inject(A.Injector),A.\u0275\u0275inject(So))},v.\u0275prov=A.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})(),As=(()=>{class v{constructor(f,b,x={}){this.router=f,this.viewportScroller=b,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof jt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof gt&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Vt&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,b){this.router.triggerEvent(new Vt(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275inject(Kr),A.\u0275\u0275inject(h.ViewportScroller),A.\u0275\u0275inject(void 0))},v.\u0275prov=A.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();const Oi=new A.InjectionToken("ROUTER_CONFIGURATION"),Zr=new A.InjectionToken("ROUTER_FORROOT_GUARD"),La=[h.Location,{provide:qe,useClass:vt},{provide:Kr,useFactory:Ro,deps:[qe,ts,h.Location,A.Injector,A.NgModuleFactoryLoader,A.Compiler,zo,Oi,[pa,new A.Optional],[Mi,new A.Optional]]},ts,{provide:ti,useFactory:Qa,deps:[Kr]},{provide:A.NgModuleFactoryLoader,useClass:A.SystemJsNgModuleLoader},Qo,oo,Ao,{provide:Oi,useValue:{enableTracing:!1}}];function xs(){return new A.NgProbeToken("Router",Kr)}let ao=(()=>{class v{constructor(f,b){}static forRoot(f,b){return{ngModule:v,providers:[La,co(f),{provide:Zr,useFactory:Pr,deps:[[Kr,new A.Optional,new A.SkipSelf]]},{provide:Oi,useValue:b||{}},{provide:h.LocationStrategy,useFactory:Yo,deps:[h.PlatformLocation,[new A.Inject(h.APP_BASE_HREF),new A.Optional],Oi]},{provide:As,useFactory:uo,deps:[Kr,h.ViewportScroller,Oi]},{provide:So,useExisting:b&&b.preloadingStrategy?b.preloadingStrategy:oo},{provide:A.NgProbeToken,multi:!0,useFactory:xs},fo()]}}static forChild(f){return{ngModule:v,providers:[co(f)]}}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275inject(Zr,8),A.\u0275\u0275inject(Kr,8))},v.\u0275mod=A.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=A.\u0275\u0275defineInjector({}),v})();function uo(v,l,f){return f.scrollOffset&&l.setOffset(f.scrollOffset),new As(v,l,f)}function Yo(v,l,f={}){return f.useHash?new h.HashLocationStrategy(v,l):new h.PathLocationStrategy(v,l)}function Pr(v){return"guarded"}function co(v){return[{provide:A.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:v},{provide:zo,multi:!0,useValue:v}]}function Ro(v,l,f,b,x,V,oe,ge={},me,Ot){const Xn=new Kr(null,v,l,f,b,x,V,cr(oe));return me&&(Xn.urlHandlingStrategy=me),Ot&&(Xn.routeReuseStrategy=Ot),lo(ge,Xn),ge.enableTracing&&Xn.events.subscribe(dn=>{var At,$t;null===(At=console.group)||void 0===At||At.call(console,`Router Event: ${dn.constructor.name}`),console.log(dn.toString()),console.log(dn),null===($t=console.groupEnd)||void 0===$t||$t.call(console)}),Xn}function lo(v,l){v.errorHandler&&(l.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(l.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(l.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(l.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(l.urlUpdateStrategy=v.urlUpdateStrategy)}function Qa(v){return v.routerState.root}let Li=(()=>{class v{constructor(f){this.injector=f,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ae.xQ}appInitializer(){return this.injector.get(h.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let b=null;const x=new Promise(ge=>b=ge),V=this.injector.get(Kr),oe=this.injector.get(Oi);return"disabled"===oe.initialNavigation?(V.setUpLocationChangeListener(),b(!0)):"enabled"===oe.initialNavigation||"enabledBlocking"===oe.initialNavigation?(V.hooks.afterPreactivation=()=>this.initNavigation?(0,X.of)(null):(this.initNavigation=!0,b(!0),this.resultOfPreactivationDone),V.initialNavigation()):b(!0),x})}bootstrapListener(f){const b=this.injector.get(Oi),x=this.injector.get(Qo),V=this.injector.get(As),oe=this.injector.get(Kr),ge=this.injector.get(A.ApplicationRef);f===ge.components[0]&&(("enabledNonBlocking"===b.initialNavigation||void 0===b.initialNavigation)&&oe.initialNavigation(),x.setUpPreloading(),V.init(),oe.resetRootComponentType(ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return v.\u0275fac=function(f){return new(f||v)(A.\u0275\u0275inject(A.Injector))},v.\u0275prov=A.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();function ho(v){return v.appInitializer.bind(v)}function Va(v){return v.bootstrapListener.bind(v)}const Jo=new A.InjectionToken("Router Initializer");function fo(){return[Li,{provide:A.APP_INITIALIZER,multi:!0,useFactory:ho,deps:[Li]},{provide:Jo,useFactory:Va,deps:[Li]},{provide:A.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Jo}]}const Ya=new A.Version("12.2.16")},9618:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{ServiceWorkerModule:()=>ar,SwPush:()=>jt,SwRegistrationOptions:()=>Xt,SwUpdate:()=>gt,\u0275angular_packages_service_worker_service_worker_a:()=>at,\u0275angular_packages_service_worker_service_worker_b:()=>Gn,\u0275angular_packages_service_worker_service_worker_c:()=>vn,\u0275angular_packages_service_worker_service_worker_d:()=>nn});var h=D(8583),A=D(7716),j=D(8891),X=D(9796),ne=D(9105),K=D(8002);function W(Dt,Ut,ht,pn){return(0,ne.m)(ht)&&(pn=ht,ht=void 0),pn?W(Dt,Ut,ht).pipe((0,K.U)(Kt=>(0,X.k)(Kt)?pn(...Kt):pn(Kt))):new j.y(Kt=>{Y(Dt,Ut,function(Vt){Kt.next(arguments.length>1?Array.prototype.slice.call(arguments):Vt)},Kt,ht)})}function Y(Dt,Ut,ht,pn,Kt){let an;if(function(Dt){return Dt&&"function"==typeof Dt.addEventListener&&"function"==typeof Dt.removeEventListener}(Dt)){const Vt=Dt;Dt.addEventListener(Ut,ht,Kt),an=()=>Vt.removeEventListener(Ut,ht,Kt)}else if(function(Dt){return Dt&&"function"==typeof Dt.on&&"function"==typeof Dt.off}(Dt)){const Vt=Dt;Dt.on(Ut,ht),an=()=>Vt.off(Ut,ht)}else if(function(Dt){return Dt&&"function"==typeof Dt.addListener&&"function"==typeof Dt.removeListener}(Dt)){const Vt=Dt;Dt.addListener(Ut,ht),an=()=>Vt.removeListener(Ut,ht)}else{if(!Dt||!Dt.length)throw new TypeError("Invalid event target");for(let Vt=0,Ct=Dt.length;Vt<Ct;Vt++)Y(Dt[Vt],Ut,ht,pn,Kt)}pn.add(an)}var Ae=D(8640);const Fe=new j.y(Ae.Z);var rt=D(1439),ye=D(205),Le=D(5917),ze=D(9923),pt=D(9765),Xe=D(6682),_n=D(5435),tn=D(3190),et=D(2790),kt=D(5257),ke=D(8307),ut=D(5792);const dt="Service workers are disabled or not supported by this browser";class at{constructor(Ut){if(this.serviceWorker=Ut,Ut){const pn=W(Ut,"controllerchange").pipe((0,K.U)(()=>Ut.controller)),Kt=(0,rt.P)(()=>(0,Le.of)(Ut.controller)),an=(0,ze.z)(Kt,pn);this.worker=an.pipe((0,_n.h)(Yt=>!!Yt)),this.registration=this.worker.pipe((0,tn.w)(()=>Ut.getRegistration()));const Jn=W(Ut,"message").pipe((0,K.U)(Yt=>Yt.data)).pipe((0,_n.h)(Yt=>Yt&&Yt.type)).pipe((0,et.n)());Jn.connect(),this.events=Jn}else this.worker=this.events=this.registration=(dt,(0,rt.P)(()=>(0,ye._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(Ut,ht){return this.worker.pipe((0,kt.q)(1),(0,ke.b)(pn=>{pn.postMessage(Object.assign({action:Ut},ht))})).toPromise().then(()=>{})}postMessageWithStatus(Ut,ht,pn){const Kt=this.waitForStatus(pn),an=this.postMessage(Ut,ht);return Promise.all([Kt,an]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ut){return this.events.pipe((0,_n.h)(pn=>pn.type===Ut))}nextEventOfType(Ut){return this.eventsOfType(Ut).pipe((0,kt.q)(1))}waitForStatus(Ut){return this.eventsOfType("STATUS").pipe((0,_n.h)(ht=>ht.nonce===Ut),(0,kt.q)(1),(0,K.U)(ht=>{if(!ht.status)throw new Error(ht.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let jt=(()=>{class Dt{constructor(ht){if(this.sw=ht,this.subscriptionChanges=new pt.xQ,!ht.isEnabled)return this.messages=Fe,this.notificationClicks=Fe,void(this.subscription=Fe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,K.U)(Kt=>Kt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,K.U)(Kt=>Kt.data)),this.pushManager=this.sw.registration.pipe((0,K.U)(Kt=>Kt.pushManager));const pn=this.pushManager.pipe((0,tn.w)(Kt=>Kt.getSubscription()));this.subscription=(0,Xe.T)(pn,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(ht){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const pn={userVisibleOnly:!0};let Kt=this.decodeBase64(ht.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),an=new Uint8Array(new ArrayBuffer(Kt.length));for(let Vt=0;Vt<Kt.length;Vt++)an[Vt]=Kt.charCodeAt(Vt);return pn.applicationServerKey=an,this.pushManager.pipe((0,tn.w)(Vt=>Vt.subscribe(pn)),(0,kt.q)(1)).toPromise().then(Vt=>(this.subscriptionChanges.next(Vt),Vt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,kt.q)(1),(0,tn.w)(pn=>{if(null===pn)throw new Error("Not subscribed to push notifications.");return pn.unsubscribe().then(Kt=>{if(!Kt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(dt))}decodeBase64(ht){return atob(ht)}}return Dt.\u0275fac=function(ht){return new(ht||Dt)(A.\u0275\u0275inject(at))},Dt.\u0275prov=A.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac}),Dt})(),gt=(()=>{class Dt{constructor(ht){if(this.sw=ht,!ht.isEnabled)return this.available=Fe,this.activated=Fe,void(this.unrecoverable=Fe);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const ht=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:ht},ht)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const ht=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:ht},ht)}}return Dt.\u0275fac=function(ht){return new(ht||Dt)(A.\u0275\u0275inject(at))},Dt.\u0275prov=A.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac}),Dt})();class Xt{}const Gn=new A.InjectionToken("NGSW_REGISTER_SCRIPT");function vn(Dt,Ut,ht,pn){return()=>{if(!(0,h.isPlatformBrowser)(pn)||!("serviceWorker"in navigator)||!1===ht.enabled)return;let an;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof ht.registrationStrategy)an=ht.registrationStrategy();else{const[Ct,...jn]=(ht.registrationStrategy||"registerWhenStable:30000").split(":");switch(Ct){case"registerImmediately":an=(0,Le.of)(null);break;case"registerWithDelay":an=Ln(+jn[0]||0);break;case"registerWhenStable":an=jn[0]?(0,Xe.T)(un(Dt),Ln(+jn[0])):un(Dt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${ht.registrationStrategy}`)}}Dt.get(A.NgZone).runOutsideAngular(()=>an.pipe((0,kt.q)(1)).subscribe(()=>navigator.serviceWorker.register(Ut,{scope:ht.scope}).catch(Ct=>console.error("Service worker registration failed with:",Ct))))}}function Ln(Dt){return(0,Le.of)(null).pipe((0,ut.g)(Dt))}function un(Dt){return Dt.get(A.ApplicationRef).isStable.pipe((0,_n.h)(ht=>ht))}function nn(Dt,Ut){return new at((0,h.isPlatformBrowser)(Ut)&&!1!==Dt.enabled?navigator.serviceWorker:void 0)}let ar=(()=>{class Dt{static register(ht,pn={}){return{ngModule:Dt,providers:[{provide:Gn,useValue:ht},{provide:Xt,useValue:pn},{provide:at,useFactory:nn,deps:[Xt,A.PLATFORM_ID]},{provide:A.APP_INITIALIZER,useFactory:vn,deps:[A.Injector,Gn,Xt,A.PLATFORM_ID],multi:!0}]}}}return Dt.\u0275fac=function(ht){return new(ht||Dt)},Dt.\u0275mod=A.\u0275\u0275defineNgModule({type:Dt}),Dt.\u0275inj=A.\u0275\u0275defineInjector({providers:[jt,gt]}),Dt})()},4233:(it,ue,D)=>{"use strict";D.d(ue,{$:()=>ha,A:()=>un,B:()=>Dt,C:()=>Ut,D:()=>pn,E:()=>Kn,F:()=>Xt,G:()=>Ji,H:()=>De,I:()=>Tr,J:()=>hr,K:()=>vr,L:()=>gn,M:()=>J,N:()=>N,O:()=>Ln,P:()=>Qt,Q:()=>R,R:()=>Vr,S:()=>vn,T:()=>S,U:()=>bt,V:()=>fn,W:()=>yr,X:()=>xn,Y:()=>no,Z:()=>Co,_:()=>ro,a:()=>yl,a0:()=>zo,a1:()=>Zo,a2:()=>pa,a3:()=>To,a4:()=>Ps,a5:()=>ma,a6:()=>ya,a7:()=>ps,a8:()=>so,a9:()=>zr,aA:()=>xh,aB:()=>qi,aC:()=>ra,aD:()=>Qu,aE:()=>Wn,aI:()=>Ja,aL:()=>Ne,aa:()=>qo,ab:()=>Ao,ac:()=>Qo,ad:()=>Q,ae:()=>k,af:()=>Zr,ag:()=>La,ah:()=>xs,ai:()=>Ue,aj:()=>we,ak:()=>da,al:()=>ho,am:()=>Pt,an:()=>ge,ao:()=>$t,ap:()=>pi,aq:()=>Bn,ar:()=>vi,as:()=>Vn,at:()=>Vt,au:()=>xa,av:()=>Ha,aw:()=>Ct,ax:()=>st,ay:()=>hn,az:()=>be,b:()=>po,c:()=>na,d:()=>Po,e:()=>wa,f:()=>cd,g:()=>Yu,h:()=>$c,i:()=>Lc,j:()=>Sh,k:()=>uu,l:()=>Ui,m:()=>Tl,n:()=>bp,o:()=>Gn,p:()=>Va,q:()=>Jo,r:()=>F,s:()=>Ki,t:()=>fo,u:()=>Ke,v:()=>Ya,w:()=>v,x:()=>l,y:()=>f,z:()=>b});var h=D(8239),A=D(3854),j=D(8026);function ee(I,g){var y={};for(var w in I)Object.prototype.hasOwnProperty.call(I,w)&&g.indexOf(w)<0&&(y[w]=I[w]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(w=Object.getOwnPropertySymbols(I);H<w.length;H++)g.indexOf(w[H])<0&&Object.prototype.propertyIsEnumerable.call(I,w[H])&&(y[w[H]]=I[w[H]])}return y}var jt=D(5422),gt=D(3910);const Xt={PHONE:"phone"},Gn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},vn={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},Ln={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},un={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Dt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ut=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ht=new A.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pn={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized"},Kt=new jt.Yd("@firebase/auth");function an(I,...g){Kt.logLevel<=jt.in.ERROR&&Kt.error(`Auth (${j.SDK_VERSION}): ${I}`,...g)}function Vt(I,...g){throw Yt(I,...g)}function Ct(I,...g){return Yt(I,...g)}function jn(I,g,y){const w=Object.assign(Object.assign({},Ut()),{[g]:y});return new A.LL("auth","Firebase",w).create(g,{appName:I.name})}function Jn(I,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Vt(I,"argument-error"),jn(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yt(I,...g){if("string"!=typeof I){const y=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=I.name),I._errorFactory.create(y,...w)}return ht.create(I,...g)}function st(I,g,...y){if(!I)throw Yt(g,...y)}function Cn(I){const g="INTERNAL ASSERTION FAILED: "+I;throw an(g),new Error(g)}function Bn(I,g){I||Cn(g)}const Wt=new Map;function hn(I){Bn(I instanceof Function,"Expected a class definition");let g=Wt.get(I);return g?(Bn(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,Wt.set(I,g),g)}function Kn(I,g){const y=(0,j._getProvider)(I,"auth");if(y.isInitialized()){const H=y.getImmediate(),Z=y.getOptions();if((0,A.vZ)(Z,null!=g?g:{}))return H;Vt(H,"already-initialized")}return y.initialize({options:g})}function He(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Te(){return"http:"===fe()||"https:"===fe()}function fe(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Nt{constructor(g,y){this.shortDelay=g,this.longDelay=y,Bn(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,A.uI)()||(0,A.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Te()||(0,A.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lt(I,g){Bn(I.emulator,"Emulator should always be set here");const{url:y}=I.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Mt{static initialize(g,y,w){this.fetchImpl=g,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zn=new Nt(3e4,6e4);function Dn(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function sn(I,g,y,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,h.Z)(function*(I,g,y,w,H={}){return Jt(I,H,(0,h.Z)(function*(){let Z={},Re={};w&&("GET"===g?Re=w:Z={body:JSON.stringify(w)});const nt=(0,A.xO)(Object.assign({key:I.config.apiKey},Re)).slice(1),Gt=yield I._getAdditionalHeaders();return Gt["Content-Type"]="application/json",I.languageCode&&(Gt["X-Firebase-Locale"]=I.languageCode),Mt.fetch()(Se(I,I.config.apiHost,y,nt),Object.assign({method:g,headers:Gt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Jt(I,g,y){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,h.Z)(function*(I,g,y){I._canInitEmulator=!1;const w=Object.assign(Object.assign({},cn),g);try{const H=new Ie(I),Z=yield Promise.race([y(),H.promise]);H.clearNetworkTimeout();const Re=yield Z.json();if("needConfirmation"in Re)throw le(I,"account-exists-with-different-credential",Re);if(Z.ok&&!("errorMessage"in Re))return Re;{const nt=Z.ok?Re.errorMessage:Re.error.message,[Gt,Rt]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw le(I,"credential-already-in-use",Re);if("EMAIL_EXISTS"===Gt)throw le(I,"email-already-in-use",Re);if("USER_DISABLED"===Gt)throw le(I,"user-disabled",Re);const en=w[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(Rt)throw jn(I,en,Rt);Vt(I,en)}}catch(H){if(H instanceof A.ZR)throw H;Vt(I,"network-request-failed")}})).apply(this,arguments)}function ce(I,g,y,w){return de.apply(this,arguments)}function de(){return(de=(0,h.Z)(function*(I,g,y,w,H={}){const Z=yield sn(I,g,y,w,H);return"mfaPendingCredential"in Z&&Vt(I,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Se(I,g,y,w){const H=`${g}${y}?${w}`;return I.config.emulator?lt(I.config,H):`${I.config.apiScheme}://${H}`}class Ie{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(Ct(this.auth,"network-request-failed")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function le(I,g,y){const w={appName:I.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const H=Ct(I,g,w);return H.customData._tokenResponse=y,H}function vt(){return(vt=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Zt(I,g){return En.apply(this,arguments)}function En(){return(En=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function kn(I,g){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function On(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ue(I,g=!1){return(0,A.m9)(I).getIdToken(g)}function we(I){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(I,g=!1){const y=(0,A.m9)(I),w=yield y.getIdToken(g),H=xt(w);st(H&&H.exp&&H.auth_time&&H.iat,y.auth,"internal-error");const Z="object"==typeof H.firebase?H.firebase:void 0,Re=null==Z?void 0:Z.sign_in_provider;return{claims:H,token:w,authTime:On(ot(H.auth_time)),issuedAtTime:On(ot(H.iat)),expirationTime:On(ot(H.exp)),signInProvider:Re||null,signInSecondFactor:(null==Z?void 0:Z.sign_in_second_factor)||null}})).apply(this,arguments)}function ot(I){return 1e3*Number(I)}function xt(I){var g;const[y,w,H]=I.split(".");if(void 0===y||void 0===w||void 0===H)return an("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,A.tV)(w);return Z?JSON.parse(Z):(an("Failed to decode base64 JWT payload"),null)}catch(Z){return an("Caught error parsing JWT payload as JSON",null===(g=Z)||void 0===g?void 0:g.toString()),null}}function bn(I,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(I,g,y=!1){if(y)return g;try{return yield g}catch(w){throw w instanceof A.ZR&&Sn(w)&&I.auth.currentUser===I&&(yield I.auth.signOut()),w}})).apply(this,arguments)}function Sn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class ur{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const H=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield y.iteration()}),w)}iteration(){var g=this;return(0,h.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(y=w)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class dr{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(I){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(I){var g;const y=I.auth,w=yield I.getIdToken(),H=yield bn(I,kn(y,{idToken:w}));st(null==H?void 0:H.users.length,y,"internal-error");const Z=H.users[0];I._notifyReloadListener(Z);const Re=(null===(g=Z.providerUserInfo)||void 0===g?void 0:g.length)?br(Z.providerUserInfo):[],nt=wn(I.providerData,Re),en=!!I.isAnonymous&&!(I.email&&Z.passwordHash||(null==nt?void 0:nt.length)),Nr={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:nt,metadata:new dr(Z.createdAt,Z.lastLoginAt),isAnonymous:en};Object.assign(I,Nr)})).apply(this,arguments)}function Pt(I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(I){const g=(0,A.m9)(I);yield An(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function wn(I,g){return[...I.filter(w=>!g.some(H=>H.providerId===w.providerId)),...g]}function br(I){return I.map(g=>{var{providerId:y}=g,w=ee(g,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Zn(){return(Zn=(0,h.Z)(function*(I,g){const y=yield Jt(I,{},(0,h.Z)(function*(){const w=(0,A.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:H,apiKey:Z}=I.config,Re=Se(I,H,"/v1/token",`key=${Z}`),nt=yield I._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",Mt.fetch()(Re,{method:"POST",headers:nt,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class _r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){st(g.idToken,"internal-error"),st(void 0!==g.idToken,"internal-error"),st(void 0!==g.refreshToken,"internal-error");const y="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(I){const g=xt(I);return st(g,"internal-error"),st(void 0!==g.exp,"internal-error"),st(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var w=this;return(0,h.Z)(function*(){return st(!w.accessToken||w.refreshToken,g,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var w=this;return(0,h.Z)(function*(){const{accessToken:H,refreshToken:Z,expiresIn:Re}=yield function(I,g){return Zn.apply(this,arguments)}(g,y);w.updateTokensAndExpiration(H,Z,Number(Re))})()}updateTokensAndExpiration(g,y,w){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,y){const{refreshToken:w,accessToken:H,expirationTime:Z}=y,Re=new _r;return w&&(st("string"==typeof w,"internal-error",{appName:g}),Re.refreshToken=w),H&&(st("string"==typeof H,"internal-error",{appName:g}),Re.accessToken=H),Z&&(st("number"==typeof Z,"internal-error",{appName:g}),Re.expirationTime=Z),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new _r,this.toJSON())}_performRefresh(){return Cn("not implemented")}}function qn(I,g){st("string"==typeof I||void 0===I,"internal-error",{appName:g})}class jr{constructor(g){var{uid:y,auth:w,stsTokenManager:H}=g,Z=ee(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new dr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,h.Z)(function*(){const w=yield bn(y,y.stsTokenManager.getToken(y.auth,g));return st(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(g){return we(this,g)}reload(){return Pt(this)}_assign(g){this!==g&&(st(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new jr(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var w=this;return(0,h.Z)(function*(){let H=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),H=!0),y&&(yield An(w)),yield w.auth._persistUserIfCurrent(w),H&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,h.Z)(function*(){const y=yield g.getIdToken();return yield bn(g,function(I,g){return vt.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var w,H,Z,Re,nt,Gt,Rt,en;const Nr=null!==(w=y.displayName)&&void 0!==w?w:void 0,tr=null!==(H=y.email)&&void 0!==H?H:void 0,$n=null!==(Z=y.phoneNumber)&&void 0!==Z?Z:void 0,sa=null!==(Re=y.photoURL)&&void 0!==Re?Re:void 0,nc=null!==(nt=y.tenantId)&&void 0!==nt?nt:void 0,oa=null!==(Gt=y._redirectEventId)&&void 0!==Gt?Gt:void 0,Cd=null!==(Rt=y.createdAt)&&void 0!==Rt?Rt:void 0,Rs=null!==(en=y.lastLoginAt)&&void 0!==en?en:void 0,{uid:zc,emailVerified:Zc,isAnonymous:Ph,providerData:Ms,stsTokenManager:us}=y;st(zc&&us,g,"internal-error");const Tu=_r.fromJSON(this.name,us);st("string"==typeof zc,g,"internal-error"),qn(Nr,g.name),qn(tr,g.name),st("boolean"==typeof Zc,g,"internal-error"),st("boolean"==typeof Ph,g,"internal-error"),qn($n,g.name),qn(sa,g.name),qn(nc,g.name),qn(oa,g.name),qn(Cd,g.name),qn(Rs,g.name);const Al=new jr({uid:zc,auth:g,email:tr,emailVerified:Zc,displayName:Nr,isAnonymous:Ph,photoURL:sa,phoneNumber:$n,tenantId:nc,stsTokenManager:Tu,createdAt:Cd,lastLoginAt:Rs});return Ms&&Array.isArray(Ms)&&(Al.providerData=Ms.map(kh=>Object.assign({},kh))),oa&&(Al._redirectEventId=oa),Al}static _fromIdTokenResponse(g,y,w=!1){return(0,h.Z)(function*(){const H=new _r;H.updateFromServerResponse(y);const Z=new jr({uid:y.localId,auth:g,stsTokenManager:H,isAnonymous:w});return yield An(Z),Z})()}}const gn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(y,w){var H=this;return(0,h.Z)(function*(){H.storage[y]=w})()}_get(y){var w=this;return(0,h.Z)(function*(){const H=w.storage[y];return void 0===H?null:H})()}_remove(y){var w=this;return(0,h.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return I.type="NONE",I})();function be(I,g,y){return`firebase:${I}:${g}:${y}`}class Ce{constructor(g,y,w){this.persistence=g,this.auth=y,this.userKey=w;const{config:H,name:Z}=this.auth;this.fullUserKey=be(this.userKey,H.apiKey,Z),this.fullPersistenceKey=be("persistence",H.apiKey,Z),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?jr._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,h.Z)(function*(){if(y.persistence===g)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,w="authUser"){return(0,h.Z)(function*(){if(!y.length)return new Ce(hn(gn),g,w);const H=(yield Promise.all(y.map(function(){var Rt=(0,h.Z)(function*(en){if(yield en._isAvailable())return en});return function(en){return Rt.apply(this,arguments)}}()))).filter(Rt=>Rt);let Z=H[0]||hn(gn);const Re=be(w,g.config.apiKey,g.name);let nt=null;for(const Rt of y)try{const en=yield Rt._get(Re);if(en){const Nr=jr._fromJSON(g,en);Rt!==Z&&(nt=Nr),Z=Rt;break}}catch(en){}const Gt=H.filter(Rt=>Rt._shouldAllowMigration);return Z._shouldAllowMigration&&Gt.length?(Z=Gt[0],nt&&(yield Z._set(Re,nt.toJSON())),yield Promise.all(y.map(function(){var Rt=(0,h.Z)(function*(en){if(en!==Z)try{yield en._remove(Re)}catch(Nr){}});return function(en){return Rt.apply(this,arguments)}}())),new Ce(Z,g,w)):new Ce(Z,g,w)})()}}function ie(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(mn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Me(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(In(g))return"Blackberry";if(Yi(g))return"Webos";if(Ye(g))return"Safari";if((g.includes("chrome/")||rn(g))&&!g.includes("edge/"))return"Chrome";if(Vn(g))return"Android";{const w=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Me(I=(0,A.z$)()){return/firefox\//i.test(I)}function Ye(I=(0,A.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function rn(I=(0,A.z$)()){return/crios\//i.test(I)}function mn(I=(0,A.z$)()){return/iemobile/i.test(I)}function Vn(I=(0,A.z$)()){return/android/i.test(I)}function In(I=(0,A.z$)()){return/blackberry/i.test(I)}function Yi(I=(0,A.z$)()){return/webos/i.test(I)}function vi(I=(0,A.z$)()){return/iphone|ipad|ipod/i.test(I)}function pi(I=(0,A.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function xr(I=(0,A.z$)()){return vi(I)||Vn(I)||Yi(I)||In(I)||/windows phone/i.test(I)||mn(I)}function Br(I,g=[]){let y;switch(I){case"Browser":y=ie((0,A.z$)());break;case"Worker":y=`${ie((0,A.z$)())}-${I}`;break;default:y=I}const w=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${j.SDK_VERSION}/${w}`}class Pi{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const w=Z=>new Promise((Re,nt)=>{try{Re(g(Z))}catch(Gt){nt(Gt)}});w.onAbort=y,this.queue.push(w);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,h.Z)(function*(){var w;if(y.auth.currentUser===g)return;const H=[];try{for(const Z of y.queue)yield Z(g),Z.onAbort&&H.push(Z.onAbort)}catch(Z){H.reverse();for(const Re of H)try{Re()}catch(nt){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=Z)||void 0===w?void 0:w.message})}})()}}class Bi{constructor(g,y,w){this.app=g,this.heartbeatServiceProvider=y,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new Pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ht,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,y){var w=this;return y&&(this._popupRedirectResolver=hn(y)),this._initializationPromise=this.queue((0,h.Z)(function*(){var H,Z;if(!w._deleted&&(w.persistenceManager=yield Ce.create(w,g),!w._deleted)){if(null===(H=w._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(Re){}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(Z=w.currentUser)||void 0===Z?void 0:Z.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,h.Z)(function*(){var w;const H=yield y.assertedPersistence.getCurrentUser();let Z=H,Re=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const nt=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,Gt=null==Z?void 0:Z._redirectEventId,Rt=yield y.tryRedirectSignIn(g);(!nt||nt===Gt)&&(null==Rt?void 0:Rt.user)&&(Z=Rt.user,Re=!0)}if(!Z)return y.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Re)try{yield y.beforeStateQueue.runMiddleware(Z)}catch(nt){Z=H,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(nt))}return Z?y.reloadAndSetCurrentUserOrClear(Z):y.directlySetCurrentUser(null)}return st(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Z._redirectEventId?y.directlySetCurrentUser(Z):y.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(g){var y=this;return(0,h.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch(H){yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,h.Z)(function*(){var w;try{yield An(g)}catch(H){if("auth/network-request-failed"!==(null===(w=H)||void 0===w?void 0:w.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,h.Z)(function*(){const w=g?(0,A.m9)(g):null;return w&&st(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(g,y=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return g&&st(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),y||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,h.Z)(function*(){yield y.assertedPersistence.setPersistence(hn(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new A.LL("auth","Firebase",g())}onAuthStateChanged(g,y,w){return this.registerStateListener(this.authStateSubscription,g,y,w)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,w){return this.registerStateListener(this.idTokenSubscription,g,y,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var w=this;return(0,h.Z)(function*(){const H=yield w.getOrInitRedirectPersistenceManager(y);return null===g?H.removeCurrentUser():H.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,h.Z)(function*(){if(!y.redirectPersistenceManager){const w=g&&hn(g)||y._popupRedirectResolver;st(w,y,"argument-error"),y.redirectPersistenceManager=yield Ce.create(y,[hn(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,h.Z)(function*(){var w,H;return y._isInitialized&&(yield y.queue((0,h.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===g?y._currentUser:(null===(H=y.redirectUser)||void 0===H?void 0:H._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,h.Z)(function*(){if(g===y.currentUser)return y.queue((0,h.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,w,H){if(this._deleted)return()=>{};const Z="function"==typeof y?y:y.next.bind(y),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return st(Re,this,"internal-error"),Re.then(()=>Z(this.currentUser)),"function"==typeof y?g.addObserver(y,w,H):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,h.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Br(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var y;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const H=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return H&&(w["X-Firebase-Client"]=H),w})()}}function Wn(I){return(0,A.m9)(I)}class wi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,A.ne)(y=>this.observer=y)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ji(I,g,y){const w=Wn(I);st(w._canInitEmulator,w,"emulator-config-failed"),st(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const H=!!(null==y?void 0:y.disableWarnings),Z=Ci(g),{host:Re,port:nt}=function(I){const g=Ci(I),y=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(w);if(H){const Z=H[1];return{host:Z,port:Or(w.substr(Z.length+1))}}{const[Z,Re]=w.split(":");return{host:Z,port:Or(Re)}}}(g);w.config.emulator={url:`${Z}//${Re}${null===nt?"":`:${nt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Re,port:nt,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function(){function I(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ci(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Or(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class De{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Cn("not implemented")}_getIdTokenResponse(g){return Cn("not implemented")}_linkToIdToken(g,y){return Cn("not implemented")}_getReauthenticationResolver(g){return Cn("not implemented")}}function xe(I,g){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:resetPassword",Dn(I,g))})).apply(this,arguments)}function ct(I,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function qt(I,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:update",Dn(I,g))})).apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithPassword",Dn(I,g))})).apply(this,arguments)}function Dr(I,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:sendOobCode",Dn(I,g))})).apply(this,arguments)}function gi(I,g){return $i.apply(this,arguments)}function $i(){return($i=(0,h.Z)(function*(I,g){return Dr(I,g)})).apply(this,arguments)}function ki(I,g){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(I,g){return Dr(I,g)})).apply(this,arguments)}function Wo(I,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(I,g){return Dr(I,g)})).apply(this,arguments)}function ci(I,g){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(I,g){return Dr(I,g)})).apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithEmailLink",Dn(I,g))})).apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithEmailLink",Dn(I,g))})).apply(this,arguments)}class Tr extends De{constructor(g,y,w,H=null){super("password",w),this._email=g,this._password=y,this._tenantId=H}static _fromEmailAndPassword(g,y){return new Tr(g,y,"password")}static _fromEmailAndCode(g,y,w=null){return new Tr(g,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,h.Z)(function*(){switch(y.signInMethod){case"password":return function(I,g){return Hn.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(I,g){return bs.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Vt(g,"internal-error")}})()}_linkToIdToken(g,y){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return ct(g,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(I,g){return Xi.apply(this,arguments)}(g,{idToken:y,email:w._email,oobCode:w._password});default:Vt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Qr(I,g){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithIdp",Dn(I,g))})).apply(this,arguments)}class hr extends De{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new hr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Vt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:H}=y,Z=ee(y,["providerId","signInMethod"]);if(!w||!H)return null;const Re=new hr(w,H);return Re.idToken=Z.idToken||void 0,Re.accessToken=Z.accessToken||void 0,Re.secret=Z.secret,Re.nonce=Z.nonce,Re.pendingToken=Z.pendingToken||null,Re}_getIdTokenResponse(g){return Qr(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,Qr(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Qr(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,A.xO)(y)}return g}}function Is(I,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:sendVerificationCode",Dn(I,g))})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Dn(I,g))})).apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(I,g){const y=yield ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Dn(I,g));if(y.temporaryProof)throw le(I,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Cs={USER_NOT_FOUND:"user-not-found"};function xi(){return(xi=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithPhoneNumber",Dn(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Cs)})).apply(this,arguments)}class vr extends De{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new vr({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new vr({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function(I,g){return Gi.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function(I,g){return mi.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(I,g){return xi.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:w,verificationCode:H}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:w,code:H}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:w,phoneNumber:H,temporaryProof:Z}=g;return w||y||H||Z?new vr({verificationId:y,verificationCode:w,phoneNumber:H,temporaryProof:Z}):null}}class Q{constructor(g){var y,w,H,Z,Re,nt;const Gt=(0,A.zd)((0,A.pd)(g)),Rt=null!==(y=Gt.apiKey)&&void 0!==y?y:null,en=null!==(w=Gt.oobCode)&&void 0!==w?w:null,Nr=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Gt.mode)&&void 0!==H?H:null);st(Rt&&en&&Nr,"argument-error"),this.apiKey=Rt,this.operation=Nr,this.code=en,this.continueUrl=null!==(Z=Gt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Re=Gt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(nt=Gt.tenantId)&&void 0!==nt?nt:null}static parseLink(g){const y=function(I){const g=(0,A.zd)((0,A.pd)(I)).link,y=g?(0,A.zd)((0,A.pd)(g)).deep_link_id:null,w=(0,A.zd)((0,A.pd)(I)).deep_link_id;return(w?(0,A.zd)((0,A.pd)(w)).link:null)||w||y||g||I}(g);try{return new Q(y)}catch(w){return null}}}function k(I){return Q.parseLink(I)}let J=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(y,w){return Tr._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const H=Q.parseLink(w);return st(H,"argument-error"),Tr._fromEmailAndCode(y,H.code,H.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pe{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Qe extends pe{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class bt extends Qe{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return st("providerId"in y&&"signInMethod"in y,"argument-error"),hr._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return st(g.idToken||g.accessToken,"argument-error"),hr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return bt.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return bt.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:H,pendingToken:Z,nonce:Re,providerId:nt}=g;if(!w&&!H&&!y&&!Z||!nt)return null;try{return new bt(nt)._credential({idToken:y,accessToken:w,nonce:Re,pendingToken:Z})}catch(Gt){return null}}}let N=(()=>{class I extends Qe{constructor(){super("facebook.com")}static credential(y){return hr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch(w){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),R=(()=>{class I extends Qe{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return hr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:H}=y;if(!w&&!H)return null;try{return I.credential(w,H)}catch(Z){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),S=(()=>{class I extends Qe{constructor(){super("github.com")}static credential(y){return hr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return I.credential(y.oauthAccessToken)}catch(w){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ne extends De{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Qr(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,Qr(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Qr(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:H,pendingToken:Z}=y;return w&&H&&Z&&w===H?new Ne(w,Z):null}static _create(g,y){return new Ne(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fn extends pe{constructor(g){st(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return fn.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return fn.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ne.fromJSON(g);return st(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:w}=g;if(!y||!w)return null;try{return Ne._create(w,y)}catch(H){return null}}}let yr=(()=>{class I extends Qe{constructor(){super("twitter.com")}static credential(y,w){return hr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:H}=y;if(!w||!H)return null;try{return I.credential(w,H)}catch(Z){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ni(I,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signUp",Dn(I,g))})).apply(this,arguments)}class Sr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,w,H=!1){return(0,h.Z)(function*(){const Z=yield jr._fromIdTokenResponse(g,w,H),Re=Ri(w);return new Sr({user:Z,providerId:Re,_tokenResponse:w,operationType:y})})()}static _forOperation(g,y,w){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const H=Ri(w);return new Sr({user:g,providerId:H,_tokenResponse:w,operationType:y})})()}}function Ri(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function xn(I){return hs.apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(I){var g;const y=Wn(I);if(yield y._initializationPromise,null===(g=y.currentUser)||void 0===g?void 0:g.isAnonymous)return new Sr({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield ni(y,{returnSecureToken:!0}),H=yield Sr._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(H.user),H})).apply(this,arguments)}class to extends A.ZR{constructor(g,y,w,H){var Z;super(y.code,y.message),this.operationType=w,this.user=H,Object.setPrototypeOf(this,to.prototype),this.customData={appName:g.name,tenantId:null!==(Z=g.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,y,w,H){return new to(g,y,w,H)}}function ca(I,g,y,w){return("reauthenticate"===g?y._getReauthenticationResolver(I):y._getIdTokenResponse(I)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?to._fromErrorAndOperation(I,Z,g,w):Z})}function la(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function da(I,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(I,g){const y=(0,A.m9)(I);yield Qn(!0,y,g);const{providerUserInfo:w}=yield Zt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),H=la(w||[]);return y.providerData=y.providerData.filter(Z=>H.has(Z.providerId)),H.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Ks(I,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(I,g,y=!1){const w=yield bn(I,g._linkToIdToken(I.auth,yield I.getIdToken()),y);return Sr._forOperation(I,"link",w)})).apply(this,arguments)}function Qn(I,g,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(I,g,y){yield An(g);const H=!1===I?"provider-already-linked":"no-such-provider";st(la(g.providerData).has(y)===I,g.auth,H)})).apply(this,arguments)}function Wr(I,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(I,g,y=!1){var w;const{auth:H}=I,Z="reauthenticate";try{const Re=yield bn(I,ca(H,Z,g,I),y);st(Re.idToken,H,"internal-error");const nt=xt(Re.idToken);st(nt,H,"internal-error");const{sub:Gt}=nt;return st(I.uid===Gt,H,"user-mismatch"),Sr._forOperation(I,Z,Re)}catch(Re){throw"auth/user-not-found"===(null===(w=Re)||void 0===w?void 0:w.code)&&Vt(H,"user-mismatch"),Re}})).apply(this,arguments)}function zs(I,g){return fs.apply(this,arguments)}function fs(){return(fs=(0,h.Z)(function*(I,g,y=!1){const w="signIn",H=yield ca(I,w,g),Z=yield Sr._fromIdTokenResponse(I,w,H);return y||(yield I._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function no(I,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(I,g){return zs(Wn(I),g)})).apply(this,arguments)}function Co(I,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(I,g){const y=(0,A.m9)(I);return yield Qn(!1,y,g.providerId),Ks(y,g)})).apply(this,arguments)}function ro(I,g){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(I,g){return Wr((0,A.m9)(I),g)})).apply(this,arguments)}function ri(I,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(I,g){return ce(I,"POST","/v1/accounts:signInWithCustomToken",Dn(I,g))})).apply(this,arguments)}function ha(I,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(I,g){const y=Wn(I),w=yield ri(y,{token:g,returnSecureToken:!0}),H=yield Sr._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(H.user),H})).apply(this,arguments)}class Mi{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?fa._fromServerResponse(g,y):Vt(g,"internal-error")}}class fa extends Mi{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new fa(y)}}function io(I,g,y){var w;st((null===(w=y.url)||void 0===w?void 0:w.length)>0,I,"invalid-continue-uri"),st(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(st(y.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(st(y.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function zo(I,g,y){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I),H={requestType:"PASSWORD_RESET",email:g};y&&io(w,H,y),yield ki(w,H)})).apply(this,arguments)}function Zo(I,g,y){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(I,g,y){yield xe((0,A.m9)(I),{oobCode:g,newPassword:y})})).apply(this,arguments)}function pa(I,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(I,g){yield qt((0,A.m9)(I),{oobCode:g})})).apply(this,arguments)}function To(I,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(I,g){const y=(0,A.m9)(I),w=yield xe(y,{oobCode:g}),H=w.requestType;switch(st(H,y,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(w.mfaInfo,y,"internal-error");default:st(w.email,y,"internal-error")}let Z=null;return w.mfaInfo&&(Z=Mi._fromServerResponse(Wn(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Z},operation:H}})).apply(this,arguments)}function Ps(I,g){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(I,g){const{data:y}=yield To((0,A.m9)(I),g);return y.email})).apply(this,arguments)}function ma(I,g,y){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(I,g,y){const w=Wn(I),H=yield ni(w,{returnSecureToken:!0,email:g,password:y}),Z=yield Sr._fromIdTokenResponse(w,"signIn",H);return yield w._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function ya(I,g,y){return no((0,A.m9)(I),J.credential(g,y))}function ps(I,g,y){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I),H={requestType:"EMAIL_SIGNIN",email:g};st(y.handleCodeInApp,w,"argument-error"),y&&io(w,H,y),yield Wo(w,H)})).apply(this,arguments)}function so(I,g){const y=Q.parseLink(g);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function zr(I,g,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I),H=J.credentialWithLink(g,y||He());return st(H._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),no(w,H)})).apply(this,arguments)}function Yr(I,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:createAuthUri",Dn(I,g))})).apply(this,arguments)}function qo(I,g){return So.apply(this,arguments)}function So(){return(So=(0,h.Z)(function*(I,g){const w={identifier:g,continueUri:Te()?He():"http://localhost"},{signinMethods:H}=yield Yr((0,A.m9)(I),w);return H||[]})).apply(this,arguments)}function Ao(I,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(I,g){const y=(0,A.m9)(I),H={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&io(y.auth,H,g);const{email:Z}=yield gi(y.auth,H);Z!==I.email&&(yield I.reload())})).apply(this,arguments)}function Qo(I,g,y){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};y&&io(w.auth,Z,y);const{email:Re}=yield ci(w.auth,Z);Re!==I.email&&(yield I.reload())})).apply(this,arguments)}function xo(I,g){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(I,g){return sn(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zr(I,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(I,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const w=(0,A.m9)(I),Z={idToken:yield w.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Re=yield bn(w,xo(w.auth,Z));w.displayName=Re.displayName||null,w.photoURL=Re.photoUrl||null;const nt=w.providerData.find(({providerId:Gt})=>"password"===Gt);nt&&(nt.displayName=w.displayName,nt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Re)})).apply(this,arguments)}function La(I,g){return ao((0,A.m9)(I),g,null)}function xs(I,g){return ao((0,A.m9)(I),null,g)}function ao(I,g,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(I,g,y){const{auth:w}=I,Z={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(Z.email=g),y&&(Z.password=y);const Re=yield bn(I,ct(w,Z));yield I._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class Pr{constructor(g,y,w={}){this.isNewUser=g,this.providerId=y,this.profile=w}}class co extends Pr{constructor(g,y,w,H){super(g,y,w),this.username=H}}class Ro extends Pr{constructor(g,y){super(g,"facebook.com",y)}}class lo extends co{constructor(g,y){super(g,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Qa extends Pr{constructor(g,y){super(g,"google.com",y)}}class Li extends co{constructor(g,y,w){super(g,"twitter.com",y,w)}}function ho(I){const{user:g,_tokenResponse:y}=I;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(I){var g,y;if(!I)return null;const{providerId:w}=I,H=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Z=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!w&&(null==I?void 0:I.idToken)){const Re=null===(y=null===(g=xt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Re)return new Pr(Z,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!w)return null;switch(w){case"facebook.com":return new Ro(Z,H);case"github.com":return new lo(Z,H);case"google.com":return new Qa(Z,H);case"twitter.com":return new Li(Z,H,I.screenName||null);case"custom":case"anonymous":return new Pr(Z,null);default:return new Pr(Z,w,H)}}(y)}function Va(I,g){return(0,A.m9)(I).setPersistence(g)}function Jo(I,g,y,w){return(0,A.m9)(I).onIdTokenChanged(g,y,w)}function fo(I,g,y){return(0,A.m9)(I).beforeAuthStateChanged(g,y)}function Ya(I,g,y,w){return(0,A.m9)(I).onAuthStateChanged(g,y,w)}function v(I){(0,A.m9)(I).useDeviceLanguage()}function l(I,g){return(0,A.m9)(I).updateCurrentUser(g)}function f(I){return(0,A.m9)(I).signOut()}function b(I){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(I){return(0,A.m9)(I).delete()})).apply(this,arguments)}class V{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new V("enroll",g)}static _fromMfaPendingCredential(g){return new V("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,w;if(null==g?void 0:g.multiFactorSession){if(null===(y=g.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return V._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return V._fromIdtoken(g.multiFactorSession.idToken)}return null}}class oe{constructor(g,y,w){this.session=g,this.hints=y,this.signInResolver=w}static _fromError(g,y){const w=Wn(g),H=y.customData._serverResponse,Z=(H.mfaInfo||[]).map(nt=>Mi._fromServerResponse(w,nt));st(H.mfaPendingCredential,w,"internal-error");const Re=V._fromMfaPendingCredential(H.mfaPendingCredential);return new oe(Re,Z,function(){var nt=(0,h.Z)(function*(Gt){const Rt=yield Gt._process(w,Re);delete H.mfaInfo,delete H.mfaPendingCredential;const en=Object.assign(Object.assign({},H),{idToken:Rt.idToken,refreshToken:Rt.refreshToken});switch(y.operationType){case"signIn":const Nr=yield Sr._fromIdTokenResponse(w,y.operationType,en);return yield w._updateCurrentUser(Nr.user),Nr;case"reauthenticate":return st(y.user,w,"internal-error"),Sr._forOperation(y.user,y.operationType,en);default:Vt(w,"internal-error")}});return function(Gt){return nt.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,h.Z)(function*(){return y.signInResolver(g)})()}}function ge(I,g){var y;const w=(0,A.m9)(I),H=g;return st(g.customData.operationType,w,"argument-error"),st(null===(y=H.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),oe._fromError(w,H)}function me(I,g){return sn(I,"POST","/v2/accounts/mfaEnrollment:start",Dn(I,g))}class dn{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>Mi._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new dn(g)}getSession(){var g=this;return(0,h.Z)(function*(){return V._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var w=this;return(0,h.Z)(function*(){const H=g,Z=yield w.getSession(),Re=yield bn(w.user,H._process(w.user.auth,Z,y));return yield w.user._updateTokensIfNecessary(Re),w.user.reload()})()}unenroll(g){var y=this;return(0,h.Z)(function*(){var w;const H="string"==typeof g?g:g.uid,Z=yield y.user.getIdToken(),Re=yield bn(y.user,function(I,g){return sn(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Dn(I,g))}(y.user.auth,{idToken:Z,mfaEnrollmentId:H}));y.enrolledFactors=y.enrolledFactors.filter(({uid:nt})=>nt!==H),yield y.user._updateTokensIfNecessary(Re);try{yield y.user.reload()}catch(nt){if("auth/user-token-expired"!==(null===(w=nt)||void 0===w?void 0:w.code))throw nt}})()}}const At=new WeakMap;function $t(I){const g=(0,A.m9)(I);return At.has(g)||At.set(g,dn._fromUser(g)),At.get(g)}const ii="__sak";class Lt{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ii,"1"),this.storage.removeItem(ii),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class I extends Lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,A.z$)();return Ye(I)||vi(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=xr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const H=this.storage.getItem(w),Z=this.localCache[w];H!==Z&&y(w,Z,H)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((nt,Gt,Rt)=>{this.notifyListeners(nt,Rt)});const H=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nt=this.storage.getItem(H);if(y.newValue!==nt)null!==y.newValue?this.storage.setItem(H,y.newValue):this.storage.removeItem(H);else if(this.localCache[H]===y.newValue&&!w)return}const Z=()=>{const nt=this.storage.getItem(H);!w&&this.localCache[H]===nt||this.notifyListeners(H,nt)},Re=this.storage.getItem(H);(0,A.w1)()&&10===document.documentMode&&Re!==y.newValue&&y.newValue!==y.oldValue?setTimeout(Z,10):Z()}notifyListeners(y,w){this.localCache[y]=w;const H=this.listeners[y];if(H)for(const Z of Array.from(H))Z(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var H=()=>super._set,Z=this;return(0,h.Z)(function*(){yield H().call(Z,y,w),Z.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,H=this;return(0,h.Z)(function*(){const Z=yield w().call(H,y);return H.localCache[y]=JSON.stringify(Z),Z})()}_remove(y){var w=()=>super._remove,H=this;return(0,h.Z)(function*(){yield w().call(H,y),delete H.localCache[y]})()}}return I.type="LOCAL",I})(),yl=(()=>{class I extends Lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return I.type="SESSION",I})();let Iu=(()=>{class I{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(Z=>Z.isListeningto(y));if(w)return w;const H=new I(y);return this.receivers.push(H),H}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,h.Z)(function*(){const H=y,{eventId:Z,eventType:Re,data:nt}=H.data,Gt=w.handlersMap[Re];if(!(null==Gt?void 0:Gt.size))return;H.ports[0].postMessage({status:"ack",eventId:Z,eventType:Re});const Rt=Array.from(Gt).map(function(){var Nr=(0,h.Z)(function*(tr){return tr(H.origin,nt)});return function(tr){return Nr.apply(this,arguments)}}()),en=yield function(I){return Promise.all(I.map(function(){var g=(0,h.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return g.apply(this,arguments)}}()))}(Rt);H.ports[0].postMessage({status:"done",eventId:Z,eventType:Re,response:en})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Ja(I="",g=10){let y="";for(let w=0;w<g;w++)y+=Math.floor(10*Math.random());return I+y}class zu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,w=50){var H=this;return(0,h.Z)(function*(){const Z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Re,nt;return new Promise((Gt,Rt)=>{const en=Ja("",20);Z.port1.start();const Nr=setTimeout(()=>{Rt(new Error("unsupported_event"))},w);nt={messageChannel:Z,onMessage(tr){const $n=tr;if($n.data.eventId===en)switch($n.data.status){case"ack":clearTimeout(Nr),Re=setTimeout(()=>{Rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),Gt($n.data.response);break;default:clearTimeout(Nr),clearTimeout(Re),Rt(new Error("invalid_response"))}}},H.handlers.add(nt),Z.port1.addEventListener("message",nt.onMessage),H.target.postMessage({eventType:g,eventId:en,data:y},[Z.port2])}).finally(()=>{nt&&H.removeMessageHandler(nt)})})()}}function Vi(){return window}function wu(){return void 0!==Vi().WorkerGlobalScope&&"function"==typeof Vi().importScripts}function Mo(){return(Mo=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",gr="firebaseLocalStorage",ta="fbase_key";class Er{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function zt(I,g){return I.transaction([gr],g?"readwrite":"readonly").objectStore(gr)}function kc(){const I=indexedDB.open(Rn,1);return new Promise((g,y)=>{I.addEventListener("error",()=>{y(I.error)}),I.addEventListener("upgradeneeded",()=>{const w=I.result;try{w.createObjectStore(gr,{keyPath:ta})}catch(H){y(H)}}),I.addEventListener("success",(0,h.Z)(function*(){const w=I.result;w.objectStoreNames.contains(gr)?g(w):(w.close(),yield function(){const I=indexedDB.deleteDatabase(Rn);return new Er(I).toPromise()}(),g(yield kc()))}))})}function va(I,g,y){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(I,g,y){const w=zt(I,!0).put({[ta]:g,value:y});return new Er(w).toPromise()})).apply(this,arguments)}function eu(){return(eu=(0,h.Z)(function*(I,g){const y=zt(I,!1).get(g),w=yield new Er(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ua(I,g){const y=zt(I,!0).delete(g);return new Er(y).toPromise()}const Lc=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,h.Z)(function*(){return y.db||(y.db=yield kc()),y.db})()}_withRetries(y){var w=this;return(0,h.Z)(function*(){let H=0;for(;;)try{const Z=yield w._openDb();return yield y(Z)}catch(Z){if(H++>3)throw Z;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,h.Z)(function*(){return wu()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,h.Z)(function*(){y.receiver=Iu._getInstance(wu()?self:null),y.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(H,Z){return{keyProcessed:(yield y._poll()).includes(Z.key)}});return function(H,Z){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(H,Z){return["keyChanged"]});return function(H,Z){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,h.Z)(function*(){var w,H;if(y.activeServiceWorker=yield function(){return Mo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new zu(y.activeServiceWorker);const Z=yield y.sender._send("ping",{},800);!Z||(null===(w=Z[0])||void 0===w?void 0:w.fulfilled)&&(null===(H=Z[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const y=yield kc();return yield va(y,ii,"1"),yield Ua(y,ii),!0}catch(y){}return!1})()}_withPendingWrite(y){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var H=this;return(0,h.Z)(function*(){return H._withPendingWrite((0,h.Z)(function*(){return yield H._withRetries(Z=>va(Z,y,w)),H.localCache[y]=w,H.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,h.Z)(function*(){const H=yield w._withRetries(Z=>function(I,g){return eu.apply(this,arguments)}(Z,y));return w.localCache[y]=H,H})()}_remove(y){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(H=>Ua(H,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,h.Z)(function*(){const w=yield y._withRetries(Re=>{const nt=zt(Re,!1).getAll();return new Er(nt).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const H=[],Z=new Set;for(const{fbase_key:Re,value:nt}of w)Z.add(Re),JSON.stringify(y.localCache[Re])!==JSON.stringify(nt)&&(y.notifyListeners(Re,nt),H.push(Re));for(const Re of Object.keys(y.localCache))y.localCache[Re]&&!Z.has(Re)&&(y.notifyListeners(Re,null),H.push(Re));return H})()}notifyListeners(y,w){this.localCache[y]=w;const H=this.listeners[y];if(H)for(const Z of Array.from(H))Z(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ja(I,g){return sn(I,"POST","/v2/accounts/mfaSignIn:start",Dn(I,g))}function Ea(){return(Ea=(0,h.Z)(function*(I){return(yield sn(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uc(I){return new Promise((g,y)=>{const w=document.createElement("script");w.setAttribute("src",I),w.onload=g,w.onerror=H=>{const Z=Ct("internal-error");Z.customData=H,y(Z)},w.type="text/javascript",w.charset="UTF-8",function(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(w)})}function qr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const ba=1e12;class ud{constructor(g){this.auth=g,this.counter=ba,this._widgets=new Map}render(g,y){const w=this.counter;return this._widgets.set(w,new Ls(g,this.auth.name,y||{})),this.counter++,w}reset(g){var y;const w=g||ba;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(g){var y;return(null===(y=this._widgets.get(g||ba))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,h.Z)(function*(){var w;return null===(w=y._widgets.get(g||ba))||void 0===w||w.execute(),""})()}}class Ls{constructor(g,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof g?document.getElementById(g):g;st(H,"argument-error",{appName:y}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}();const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nu=qr("rcb"),Jr=new Nt(3e4,6e4);class Ia{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vi().grecaptcha}load(g,y=""){return st((I=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Vi().grecaptcha):new Promise((w,H)=>{const Z=Vi().setTimeout(()=>{H(Ct(g,"network-request-failed"))},Jr.get());Vi()[nu]=()=>{Vi().clearTimeout(Z),delete Vi()[nu];const nt=Vi().grecaptcha;if(!nt)return void H(Ct(g,"internal-error"));const Gt=nt.render;nt.render=(Rt,en)=>{const Nr=Gt(Rt,en);return this.counter++,Nr},this.hostLanguage=y,w(nt)},Uc(`https://www.google.com/recaptcha/api.js??${(0,A.xO)({onload:nu,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Z),H(Ct(g,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Vi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lr{load(g){return(0,h.Z)(function*(){return new ud(g)})()}clearedOneInstance(){}}const qu="recaptcha",yi={theme:"light",type:"image"};class Vr{constructor(g,y=Object.assign({},yi),w){this.parameters=y,this.type=qu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(w),this.isInvisible="invisible"===this.parameters.size,st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;st(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lr:new Ia,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(y)||new Promise(Z=>{const Re=nt=>{!nt||(g.tokenChangeListeners.delete(Re),Z(nt))};g.tokenChangeListeners.add(Re),g.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof g)g(y);else if("string"==typeof g){const w=Vi()[g];"function"==typeof w&&w(y)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){st(Te()&&!wu(),g.auth,"internal-error"),yield function(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function(I){return Ea.apply(this,arguments)}(g.auth);st(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class go{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=vr._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Ki(I,g,y){return vl.apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(I,g,y){const w=Wn(I),H=yield he(w,g,(0,A.m9)(y));return new go(H,Z=>no(w,Z))})).apply(this,arguments)}function Ui(I,g,y){return M.apply(this,arguments)}function M(){return(M=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I);yield Qn(!1,w,"phone");const H=yield he(w.auth,g,(0,A.m9)(y));return new go(H,Z=>Co(w,Z))})).apply(this,arguments)}function F(I,g,y){return q.apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I),H=yield he(w.auth,g,(0,A.m9)(y));return new go(H,Z=>ro(w,Z))})).apply(this,arguments)}function he(I,g,y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(I,g,y){var w;const H=yield y.verify();try{let Z;if(st("string"==typeof H,I,"argument-error"),st(y.type===qu,I,"argument-error"),Z="string"==typeof g?{phoneNumber:g}:g,"session"in Z){const Re=Z.session;if("phoneNumber"in Z)return st("enroll"===Re.type,I,"internal-error"),(yield me(I,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{st("signin"===Re.type,I,"internal-error");const nt=(null===(w=Z.multiFactorHint)||void 0===w?void 0:w.uid)||Z.multiFactorUid;return st(nt,I,"missing-multi-factor-info"),(yield ja(I,{mfaPendingCredential:Re.credential,mfaEnrollmentId:nt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield Is(I,{phoneNumber:Z.phoneNumber,recaptchaToken:H});return Re}}finally{y._reset()}})).apply(this,arguments)}function Ke(I,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,h.Z)(function*(I,g){yield Ks((0,A.m9)(I),g)})).apply(this,arguments)}let Qt=(()=>{class I{constructor(y){this.providerId=I.PROVIDER_ID,this.auth=Wn(y)}verifyPhoneNumber(y,w){return he(this.auth,y,(0,A.m9)(w))}static credential(y,w){return vr._fromVerification(y,w)}static credentialFromResult(y){return I.credentialFromTaggedObject(y)}static credentialFromError(y){return I.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:H}=y;return w&&H?vr._fromTokenResponse(w,H):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function yn(I,g){return g?hn(g):(st(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Nn extends De{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Qr(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Qr(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Qr(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function er(I){return zs(I.auth,new Nn(I),I.bypassAuthState)}function Mn(I){const{auth:g,user:y}=I;return st(y,g,"internal-error"),Wr(y,new Nn(I),I.bypassAuthState)}function di(I){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(I){const{auth:g,user:y}=I;return st(y,g,"internal-error"),Ks(y,new Nn(I),I.bypassAuthState)})).apply(this,arguments)}class mo{constructor(g,y,w,H,Z=!1){this.auth=g,this.resolver=w,this.user=H,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,h.Z)(function*(w,H){g.pendingPromise={resolve:w,reject:H};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(Z){g.reject(Z)}});return function(w,H){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:H,postBody:Z,tenantId:Re,error:nt,type:Gt}=g;if(nt)return void y.reject(nt);const Rt={auth:y.auth,requestUri:w,sessionId:H,tenantId:Re||void 0,postBody:Z||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Gt)(Rt))}catch(en){y.reject(en)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return er;case"linkViaPopup":case"linkViaRedirect":return di;case"reauthViaPopup":case"reauthViaRedirect":return Mn;default:Vt(this.auth,"internal-error")}}resolve(g){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new Nt(2e3,1e4);function na(I,g,y){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(I,g,y){const w=Wn(I);Jn(I,g,pe);const H=yn(w,y);return new Ca(w,"signInViaPopup",g,H).executeNotNull()})).apply(this,arguments)}function wa(I,g,y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I);Jn(w.auth,g,pe);const H=yn(w.auth,y);return new Ca(w.auth,"reauthViaPopup",g,H,w).executeNotNull()})).apply(this,arguments)}function Po(I,g,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I);Jn(w.auth,g,pe);const H=yn(w.auth,y);return new Ca(w.auth,"linkViaPopup",g,H,w).executeNotNull()})).apply(this,arguments)}let Ca=(()=>{class I extends mo{constructor(y,w,H,Z,Re){super(y,w,Z,Re),this.provider=H,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var y=this;return(0,h.Z)(function*(){const w=yield y.execute();return st(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,h.Z)(function*(){Bn(1===y.filter.length,"Popup operations only handle one event");const w=Ja();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(H=>{y.reject(H)}),y.resolver._isIframeWebStorageSupported(y.auth,H=>{H||y.reject(Ct(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,H;this.pollId=(null===(H=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,as.get())};y()}}return I.currentPopupAction=null,I})();const ko=new Map;class Cu extends mo{constructor(g,y,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,h.Z)(function*(){let w=ko.get(y.auth._key());if(!w){try{const Z=(yield function(I,g){return ru.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;w=()=>Promise.resolve(Z)}catch(H){w=()=>Promise.reject(H)}ko.set(y.auth._key(),w)}return y.bypassAuthState||ko.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(w,g);if("unknown"!==g.type){if(g.eventId){const H=yield w.auth._redirectUserForId(g.eventId);if(H)return w.user=H,y().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ru(){return(ru=(0,h.Z)(function*(I,g){const y=si(g),w=iu(I);if(!(yield w._isAvailable()))return!1;const H="true"===(yield w._get(y));return yield w._remove(y),H})).apply(this,arguments)}function Bc(I,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(I,g){return iu(I)._set(si(g),"true")})).apply(this,arguments)}function Qu(){ko.clear()}function ra(I,g){ko.set(I._key(),g)}function iu(I){return hn(I._redirectPersistence)}function si(I){return be("pendingRedirect",I.config.apiKey,I.name)}function cd(I,g,y){return function(I,g,y){return Hc.apply(this,arguments)}(I,g,y)}function Hc(){return(Hc=(0,h.Z)(function*(I,g,y){const w=Wn(I);Jn(I,g,pe);const H=yn(w,y);return yield Bc(H,w),H._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function $c(I,g,y){return function(I,g,y){return ld.apply(this,arguments)}(I,g,y)}function ld(){return(ld=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I);Jn(w.auth,g,pe);const H=yn(w.auth,y);yield Bc(H,w.auth);const Z=yield yp(w);return H._openRedirect(w.auth,g,"reauthViaRedirect",Z)})).apply(this,arguments)}function Yu(I,g,y){return function(I,g,y){return Da.apply(this,arguments)}(I,g,y)}function Da(){return(Da=(0,h.Z)(function*(I,g,y){const w=(0,A.m9)(I);Jn(w.auth,g,pe);const H=yn(w.auth,y);yield Qn(!1,w,g.providerId),yield Bc(H,w.auth);const Z=yield yp(w);return H._openRedirect(w.auth,g,"linkViaRedirect",Z)})).apply(this,arguments)}function Sh(I,g){return dd.apply(this,arguments)}function dd(){return(dd=(0,h.Z)(function*(I,g){return yield Wn(I)._initializationPromise,qi(I,g,!1)})).apply(this,arguments)}function qi(I,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(I,g,y=!1){const w=Wn(I),H=yn(w,g),Re=yield new Cu(w,H,y).execute();return Re&&!y&&(delete Re.user._redirectEventId,yield w._persistUserIfCurrent(Re.user),yield w._setRedirectUser(null,g)),Re})).apply(this,arguments)}function yp(I){return hd.apply(this,arguments)}function hd(){return(hd=(0,h.Z)(function*(I){const g=Ja(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class xh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(y=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var w;if(g.error&&!wl(g)){const H=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(Ct(this.auth,H))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const w=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wc(g))}saveEventToCache(g){this.cachedEventUids.add(Wc(g)),this.lastProcessedEventTime=Date.now()}}function Wc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function wl({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ha(I){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.Z)(function*(I,g={}){return sn(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Mm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gc=/^https?/;function Fo(){return(Fo=(0,h.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield Ha(I);for(const y of g)try{if(fd(y))return}catch(w){}Vt(I,"unauthorized-domain")})).apply(this,arguments)}function fd(I){const g=He(),{protocol:y,hostname:w}=new URL(g);if(I.startsWith("chrome-extension://")){const Re=new URL(I);return""===Re.hostname&&""===w?"chrome-extension:"===y&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Re.hostname===w}if(!Gc.test(y))return!1;if(Mm.test(I))return w===I;const H=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(w)}const Du=new Nt(3e4,6e4);function au(){const I=Vi().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let y=0;y<I.CP.length;y++)I.CP[y]=null}let Xu=null;function gd(I){return Xu=Xu||function(I){return new Promise((g,y)=>{var w,H,Z;function Re(){au(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{au(),y(Ct(I,"network-request-failed"))},timeout:Du.get()})}if(null===(H=null===(w=Vi().gapi)||void 0===w?void 0:w.iframes)||void 0===H?void 0:H.Iframe)g(gapi.iframes.getContext());else{if(!(null===(Z=Vi().gapi)||void 0===Z?void 0:Z.load)){const nt=qr("iframefcb");return Vi()[nt]=()=>{gapi.load?Re():y(Ct(I,"network-request-failed"))},Uc(`https://apis.google.com/js/api.js?onload=${nt}`).catch(Gt=>y(Gt))}Re()}}).catch(g=>{throw Xu=null,g})}(I),Xu}const ec=new Nt(5e3,15e3),Sa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yd(I){const g=I.config;st(g.authDomain,I,"auth-domain-config-required");const y=g.emulator?lt(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:I.name,v:j.SDK_VERSION},H=md.get(I.config.apiHost);H&&(w.eid=H);const Z=I._getFrameworks();return Z.length&&(w.fw=Z.join(",")),`${y}?${(0,A.xO)(w).slice(1)}`}function Dl(){return(Dl=(0,h.Z)(function*(I){const g=yield gd(I),y=Vi().gapi;return st(y,I,"internal-error"),g.open({where:document.body,url:yd(I),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sa,dontclear:!0},w=>new Promise(function(){var H=(0,h.Z)(function*(Z,Re){yield w.restyle({setHideOnLeave:!1});const nt=Ct(I,"network-request-failed"),Gt=Vi().setTimeout(()=>{Re(nt)},ec.get());function Rt(){Vi().clearTimeout(Gt),Z(w)}w.ping(Rt).then(Rt,()=>{Re(nt)})});return function(Z,Re){return H.apply(this,arguments)}}()))})).apply(this,arguments)}const Rh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function xa(I,g,y,w,H,Z){st(I.config.authDomain,I,"auth-domain-config-required"),st(I.config.apiKey,I,"invalid-api-key");const Re={apiKey:I.config.apiKey,appName:I.name,authType:y,redirectUrl:w,v:j.SDK_VERSION,eventId:H};if(g instanceof pe){g.setDefaultLanguage(I.languageCode),Re.providerId=g.providerId||"",(0,A.xb)(g.getCustomParameters())||(Re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Gt,Rt]of Object.entries(Z||{}))Re[Gt]=Rt}if(g instanceof Qe){const Gt=g.getScopes().filter(Rt=>""!==Rt);Gt.length>0&&(Re.scopes=Gt.join(","))}I.tenantId&&(Re.tid=I.tenantId);const nt=Re;for(const Gt of Object.keys(nt))void 0===nt[Gt]&&delete nt[Gt];return`${function({config:I}){return I.emulator?lt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,A.xO)(nt).slice(1)}`}const yo="webStorageSupport",uu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yl,this._completeRedirectFn=qi,this._overrideRedirectResult=ra}_openPopup(g,y,w,H){var Z=this;return(0,h.Z)(function*(){var Re;Bn(null===(Re=Z.eventManagers[g._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const nt=xa(g,y,w,He(),H);return function(I,g,y,w=500,H=600){const Z=Math.max((window.screen.availHeight-H)/2,0).toString(),Re=Math.max((window.screen.availWidth-w)/2,0).toString();let nt="";const Gt=Object.assign(Object.assign({},Rh),{width:w.toString(),height:H.toString(),top:Z,left:Re}),Rt=(0,A.z$)().toLowerCase();y&&(nt=rn(Rt)?"_blank":y),Me(Rt)&&(g=g||"http://localhost",Gt.scrollbars="yes");const en=Object.entries(Gt).reduce((tr,[$n,sa])=>`${tr}${$n}=${sa},`,"");if(function(I=(0,A.z$)()){var g;return vi(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Rt)&&"_self"!==nt)return function(I,g){const y=document.createElement("a");y.href=I,y.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(g||"",nt),new Kc(null);const Nr=window.open(g||"",nt,en);st(Nr,I,"popup-blocked");try{Nr.focus()}catch(tr){}return new Kc(Nr)}(g,nt,Ja())})()}_openRedirect(g,y,w,H){var Z=this;return(0,h.Z)(function*(){return yield Z._originValidation(g),I=xa(g,y,w,He(),H),Vi().location.href=I,new Promise(()=>{});var I})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:H,promise:Z}=this.eventManagers[y];return H?Promise.resolve(H):(Bn(Z,"If manager is not set, promise should be"),Z)}const w=this.initAndGetManager(g);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(g){var y=this;return(0,h.Z)(function*(){const w=yield function(I){return Dl.apply(this,arguments)}(g),H=new xh(g);return w.register("authEvent",Z=>(st(null==Z?void 0:Z.authEvent,g,"invalid-auth-event"),{status:H.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:H},y.iframes[g._key()]=w,H})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(yo,{type:yo},H=>{var Z;const Re=null===(Z=null==H?void 0:H[0])||void 0===Z?void 0:Z[yo];void 0!==Re&&y(!!Re),Vt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(I){return Fo.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return xr()||Ye()||vi()}};class Id extends class{constructor(g){this.factorId=g}_process(g,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,w);case"signin":return this._finalizeSignIn(g,y.credential);default:return Cn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Id(g)}_finalizeEnroll(g,y,w){return function(I,g){return sn(I,"POST","/v2/accounts/mfaEnrollment:finalize",Dn(I,g))}(g,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function(I,g){return sn(I,"POST","/v2/accounts/mfaSignIn:finalize",Dn(I,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tl=(()=>{class I{constructor(){}static assertion(y){return Id._fromCredential(y)}}return I.FACTOR_ID="phone",I})();var I,Ep="@firebase/auth";class hi{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,h.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(w=>{var H;g((null===(H=w)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bp(I=(0,j.getApp)()){const g=(0,j._getProvider)(I,"auth");return g.isInitialized()?g.getImmediate():Kn(I,{popupRedirectResolver:uu,persistence:[Lc,po,yl]})}I="Browser",(0,j._registerComponent)(new gt.wA("auth",(g,{options:y})=>{const w=g.getProvider("app").getImmediate(),H=g.getProvider("heartbeat"),{apiKey:Z,authDomain:Re}=w.options;return((nt,Gt)=>{st(Z&&!Z.includes(":"),"invalid-api-key",{appName:nt.name}),st(!(null==Re?void 0:Re.includes(":")),"argument-error",{appName:nt.name});const Rt={apiKey:Z,authDomain:Re,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Br(I)},en=new Bi(nt,Gt,Rt);return function(I,g){const y=(null==g?void 0:g.persistence)||[],w=(Array.isArray(y)?y:[y]).map(hn);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(en,y),en})(w,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,w)=>{g.getProvider("auth-internal").initialize()})),(0,j._registerComponent)(new gt.wA("auth-internal",g=>{const y=Wn(g.getProvider("auth").getImmediate());return new hi(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)(Ep,"0.20.4",void 0),(0,j.registerVersion)(Ep,"0.20.4","esm2017")},3854:(it,ue,D)=>{"use strict";D.d(ue,{BH:()=>Ae,LL:()=>gt,ZR:()=>jt,zI:()=>dt,US:()=>K,tV:()=>Y,L:()=>W,$s:()=>sn,r3:()=>ht,Sg:()=>Fe,ne:()=>Cn,vZ:()=>Vt,ZB:()=>G,pd:()=>Yt,m9:()=>Bt,z$:()=>$e,jU:()=>Le,ru:()=>ze,d:()=>Xe,xb:()=>Kt,w1:()=>_n,hl:()=>ke,uI:()=>rt,UG:()=>ye,b$:()=>pt,G6:()=>kt,Mn:()=>tn,xO:()=>jn,zd:()=>Jn,eu:()=>ut});const X=function(ce){const de=[];let Se=0;for(let Ie=0;Ie<ce.length;Ie++){let le=ce.charCodeAt(Ie);le<128?de[Se++]=le:le<2048?(de[Se++]=le>>6|192,de[Se++]=63&le|128):55296==(64512&le)&&Ie+1<ce.length&&56320==(64512&ce.charCodeAt(Ie+1))?(le=65536+((1023&le)<<10)+(1023&ce.charCodeAt(++Ie)),de[Se++]=le>>18|240,de[Se++]=le>>12&63|128,de[Se++]=le>>6&63|128,de[Se++]=63&le|128):(de[Se++]=le>>12|224,de[Se++]=le>>6&63|128,de[Se++]=63&le|128)}return de},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,de){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let le=0;le<ce.length;le+=3){const qe=ce[le],vt=le+1<ce.length,Zt=vt?ce[le+1]:0,En=le+2<ce.length,kn=En?ce[le+2]:0;let Ue=(15&Zt)<<2|kn>>6,we=63&kn;En||(we=64,vt||(Ue=64)),Ie.push(Se[qe>>2],Se[(3&qe)<<4|Zt>>4],Se[Ue],Se[we])}return Ie.join("")},encodeString(ce,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(ce):this.encodeByteArray(X(ce),de)},decodeString(ce,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(ce):function(ce){const de=[];let Se=0,Ie=0;for(;Se<ce.length;){const le=ce[Se++];if(le<128)de[Ie++]=String.fromCharCode(le);else if(le>191&&le<224){const qe=ce[Se++];de[Ie++]=String.fromCharCode((31&le)<<6|63&qe)}else if(le>239&&le<365){const En=((7&le)<<18|(63&ce[Se++])<<12|(63&ce[Se++])<<6|63&ce[Se++])-65536;de[Ie++]=String.fromCharCode(55296+(En>>10)),de[Ie++]=String.fromCharCode(56320+(1023&En))}else{const qe=ce[Se++],vt=ce[Se++];de[Ie++]=String.fromCharCode((15&le)<<12|(63&qe)<<6|63&vt)}}return de.join("")}(this.decodeStringToByteArray(ce,de))},decodeStringToByteArray(ce,de){this.init_();const Se=de?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let le=0;le<ce.length;){const qe=Se[ce.charAt(le++)],Zt=le<ce.length?Se[ce.charAt(le)]:0;++le;const kn=le<ce.length?Se[ce.charAt(le)]:64;++le;const On=le<ce.length?Se[ce.charAt(le)]:64;if(++le,null==qe||null==Zt||null==kn||null==On)throw Error();Ie.push(qe<<2|Zt>>4),64!==kn&&(Ie.push(Zt<<4&240|kn>>2),64!==On&&Ie.push(kn<<6&192|On))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},W=function(ce){return function(ce){const de=X(ce);return K.encodeByteArray(de,!0)}(ce).replace(/\./g,"")},Y=function(ce){try{return K.decodeString(ce,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function G(ce,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return de}for(const Se in de)!de.hasOwnProperty(Se)||!re(Se)||(ce[Se]=G(ce[Se],de[Se]));return ce}function re(ce){return"__proto__"!==ce}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,Se)=>{this.resolve=de,this.reject=Se})}wrapCallback(de){return(Se,Ie)=>{Se?this.reject(Se):this.resolve(Ie),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(Se):de(Se,Ie))}}}function Fe(ce,de){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=de||"demo-project",le=ce.iat||0,qe=ce.sub||ce.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:le,exp:le+3600,auth_time:le,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(vt)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ce){return!1}}function Le(){return"object"==typeof self&&self.self===self}function ze(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return $e().indexOf("Electron/")>=0}function _n(){const ce=$e();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function tn(){return $e().indexOf("MSAppHost/")>=0}function kt(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){return"object"==typeof indexedDB}function ut(){return new Promise((ce,de)=>{try{let Se=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Ie);le.onsuccess=()=>{le.result.close(),Se||self.indexedDB.deleteDatabase(Ie),ce(!0)},le.onupgradeneeded=()=>{Se=!1},le.onerror=()=>{var qe;de((null===(qe=le.error)||void 0===qe?void 0:qe.message)||"")}}catch(Se){de(Se)}})}function dt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class jt extends Error{constructor(de,Se,Ie){super(Se),this.code=de,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(de,Se,Ie){this.service=de,this.serviceName=Se,this.errors=Ie}create(de,...Se){const Ie=Se[0]||{},le=`${this.service}/${de}`,qe=this.errors[de],vt=qe?function(ce,de){return ce.replace(Gn,(Se,Ie)=>{const le=de[Ie];return null!=le?String(le):`<${Ie}?>`})}(qe,Ie):"Error";return new jt(le,`${this.serviceName}: ${vt} (${le}).`,Ie)}}const Gn=/\{\$([^}]+)}/g;function ht(ce,de){return Object.prototype.hasOwnProperty.call(ce,de)}function Kt(ce){for(const de in ce)if(Object.prototype.hasOwnProperty.call(ce,de))return!1;return!0}function Vt(ce,de){if(ce===de)return!0;const Se=Object.keys(ce),Ie=Object.keys(de);for(const le of Se){if(!Ie.includes(le))return!1;const qe=ce[le],vt=de[le];if(Ct(qe)&&Ct(vt)){if(!Vt(qe,vt))return!1}else if(qe!==vt)return!1}for(const le of Ie)if(!Se.includes(le))return!1;return!0}function Ct(ce){return null!==ce&&"object"==typeof ce}function jn(ce){const de=[];for(const[Se,Ie]of Object.entries(ce))Array.isArray(Ie)?Ie.forEach(le=>{de.push(encodeURIComponent(Se)+"="+encodeURIComponent(le))}):de.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ie));return de.length?"&"+de.join("&"):""}function Jn(ce){const de={};return ce.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[le,qe]=Ie.split("=");de[decodeURIComponent(le)]=decodeURIComponent(qe)}}),de}function Yt(ce){const de=ce.indexOf("?");if(!de)return"";const Se=ce.indexOf("#",de);return ce.substring(de,Se>0?Se:void 0)}function Cn(ce,de){const Se=new Bn(ce,de);return Se.subscribe.bind(Se)}class Bn{constructor(de,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{de(this)}).catch(Ie=>{this.error(Ie)})}next(de){this.forEachObserver(Se=>{Se.next(de)})}error(de){this.forEachObserver(Se=>{Se.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,Se,Ie){let le;if(void 0===de&&void 0===Se&&void 0===Ie)throw new Error("Missing Observer.");le=function(ce,de){if("object"!=typeof ce||null===ce)return!1;for(const Se of["next","error","complete"])if(Se in ce&&"function"==typeof ce[Se])return!0;return!1}(de)?de:{next:de,error:Se,complete:Ie},void 0===le.next&&(le.next=Kn),void 0===le.error&&(le.error=Kn),void 0===le.complete&&(le.complete=Kn);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(vt){}}),this.observers.push(le),qe}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,de)}sendOne(de,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{Se(this.observers[de])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}function sn(ce,de=1e3,Se=2){const Ie=de*Math.pow(Se,ce),le=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+le)}function Bt(ce){return ce&&ce._delegate?ce._delegate:ce}},2329:(it,ue,D)=>{"use strict";D.d(ue,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=D(8026);(0,h.registerVersion)("firebase","9.8.4","app")},7985:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{ActionCodeOperation:()=>h.A,ActionCodeURL:()=>h.ad,AuthCredential:()=>h.H,AuthErrorCodes:()=>h.D,EmailAuthCredential:()=>h.I,EmailAuthProvider:()=>h.M,FacebookAuthProvider:()=>h.N,FactorId:()=>h.F,GithubAuthProvider:()=>h.T,GoogleAuthProvider:()=>h.Q,OAuthCredential:()=>h.J,OAuthProvider:()=>h.U,OperationType:()=>h.O,PhoneAuthCredential:()=>h.K,PhoneAuthProvider:()=>h.P,PhoneMultiFactorGenerator:()=>h.m,ProviderId:()=>h.o,RecaptchaVerifier:()=>h.R,SAMLAuthProvider:()=>h.V,SignInMethod:()=>h.S,TwitterAuthProvider:()=>h.W,applyActionCode:()=>h.a2,beforeAuthStateChanged:()=>h.t,browserLocalPersistence:()=>h.b,browserPopupRedirectResolver:()=>h.k,browserSessionPersistence:()=>h.a,checkActionCode:()=>h.a3,confirmPasswordReset:()=>h.a1,connectAuthEmulator:()=>h.G,createUserWithEmailAndPassword:()=>h.a5,debugErrorMap:()=>h.B,deleteUser:()=>h.z,fetchSignInMethodsForEmail:()=>h.aa,getAdditionalUserInfo:()=>h.al,getAuth:()=>h.n,getIdToken:()=>h.ai,getIdTokenResult:()=>h.aj,getMultiFactorResolver:()=>h.an,getRedirectResult:()=>h.j,inMemoryPersistence:()=>h.L,indexedDBLocalPersistence:()=>h.i,initializeAuth:()=>h.E,isSignInWithEmailLink:()=>h.a8,linkWithCredential:()=>h.Z,linkWithPhoneNumber:()=>h.l,linkWithPopup:()=>h.d,linkWithRedirect:()=>h.g,multiFactor:()=>h.ao,onAuthStateChanged:()=>h.v,onIdTokenChanged:()=>h.q,parseActionCodeURL:()=>h.ae,prodErrorMap:()=>h.C,reauthenticateWithCredential:()=>h._,reauthenticateWithPhoneNumber:()=>h.r,reauthenticateWithPopup:()=>h.e,reauthenticateWithRedirect:()=>h.h,reload:()=>h.am,sendEmailVerification:()=>h.ab,sendPasswordResetEmail:()=>h.a0,sendSignInLinkToEmail:()=>h.a7,setPersistence:()=>h.p,signInAnonymously:()=>h.X,signInWithCredential:()=>h.Y,signInWithCustomToken:()=>h.$,signInWithEmailAndPassword:()=>h.a6,signInWithEmailLink:()=>h.a9,signInWithPhoneNumber:()=>h.s,signInWithPopup:()=>h.c,signInWithRedirect:()=>h.f,signOut:()=>h.y,unlink:()=>h.ak,updateCurrentUser:()=>h.x,updateEmail:()=>h.ag,updatePassword:()=>h.ah,updatePhoneNumber:()=>h.u,updateProfile:()=>h.af,useDeviceLanguage:()=>h.w,verifyBeforeUpdateEmail:()=>h.ac,verifyPasswordResetCode:()=>h.a4});var h=D(4233);D(3854),D(8026),D(5422),D(3910)},7841:(it,ue,D)=>{"use strict";D.d(ue,{Z:()=>h.Z});var h=D(3394);h.Z.registerVersion("firebase","9.8.4","app-compat")},4828:(it,ue,D)=>{"use strict";D.r(ue);var h=D(8239),A=D(3394),j=D(4233),X=D(3854),ee=(D(8026),D(5422),D(3910));function W(){return window}function G(){return(G=(0,h.Z)(function*(Ue,we,ve){var ot;const{BuildInfo:xt}=W();(0,j.aq)(we.sessionId,"AuthEvent did not contain a session ID");const Tn=yield Le(we.sessionId),bn={};return(0,j.ar)()?bn.ibi=xt.packageName:(0,j.as)()?bn.apn=xt.packageName:(0,j.at)(Ue,"operation-not-supported-in-this-environment"),xt.displayName&&(bn.appDisplayName=xt.displayName),bn.sessionId=Tn,(0,j.au)(Ue,ve,we.type,void 0,null!==(ot=we.eventId)&&void 0!==ot?ot:void 0,bn)})).apply(this,arguments)}function Ae(){return(Ae=(0,h.Z)(function*(Ue){const{BuildInfo:we}=W(),ve={};(0,j.ar)()?ve.iosBundleId=we.packageName:(0,j.as)()?ve.androidPackageName=we.packageName:(0,j.at)(Ue,"operation-not-supported-in-this-environment"),yield(0,j.av)(Ue,ve)})).apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(Ue,we,ve){const{cordova:ot}=W();let xt=()=>{};try{yield new Promise((Tn,bn)=>{let ln=null;function Sn(){var An;Tn();const or=null===(An=ot.plugins.browsertab)||void 0===An?void 0:An.close;"function"==typeof or&&or(),"function"==typeof(null==ve?void 0:ve.close)&&ve.close()}function ur(){ln||(ln=window.setTimeout(()=>{bn((0,j.aw)(Ue,"redirect-cancelled-by-user"))},2e3))}function dr(){"visible"===(null==document?void 0:document.visibilityState)&&ur()}we.addPassiveListener(Sn),document.addEventListener("resume",ur,!1),(0,j.as)()&&document.addEventListener("visibilitychange",dr,!1),xt=()=>{we.removePassiveListener(Sn),document.removeEventListener("resume",ur,!1),document.removeEventListener("visibilitychange",dr,!1),ln&&window.clearTimeout(ln)}})}finally{xt()}})).apply(this,arguments)}function Le(Ue){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(Ue){const we=pt(Ue),ve=yield crypto.subtle.digest("SHA-256",we);return Array.from(new Uint8Array(ve)).map(xt=>xt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pt(Ue){if((0,j.aq)(/[0-9a-zA-Z]+/.test(Ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ue);const we=new ArrayBuffer(Ue.length),ve=new Uint8Array(we);for(let ot=0;ot<Ue.length;ot++)ve[ot]=Ue.charCodeAt(ot);return ve}class _n extends j.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(we=>{this.resolveInialized=we})}addPassiveListener(we){this.passiveListeners.add(we)}removePassiveListener(we){this.passiveListeners.delete(we)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(we){return this.resolveInialized(),this.passiveListeners.forEach(ve=>ve(we)),super.onEvent(we)}initialized(){var we=this;return(0,h.Z)(function*(){yield we.initPromise})()}}function kt(Ue){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(Ue){const we=yield It()._get(at(Ue));return we&&(yield It()._remove(at(Ue))),we})).apply(this,arguments)}function dt(){const Ue=[],we="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ve=0;ve<20;ve++){const ot=Math.floor(Math.random()*we.length);Ue.push(we.charAt(ot))}return Ue.join("")}function It(){return(0,j.ay)(j.b)}function at(Ue){return(0,j.az)("authEvent",Ue.config.apiKey,Ue.name)}function Xt(Ue){if(!(null==Ue?void 0:Ue.includes("?")))return{};const[we,...ve]=Ue.split("?");return(0,X.zd)(ve.join("?"))}function un(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,j.aw)("no-auth-event")}}function ht(){var Ue;return(null===(Ue=null==self?void 0:self.location)||void 0===Ue?void 0:Ue.protocol)||null}function Kt(Ue=(0,X.z$)()){return!("file:"!==ht()&&"ionic:"!==ht()&&"capacitor:"!==ht()||!Ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jn(){try{const Ue=self.localStorage,we=j.aI();if(Ue)return Ue.setItem(we,"1"),Ue.removeItem(we),!function(Ue=(0,X.z$)()){return(0,X.w1)()&&11===(null==document?void 0:document.documentMode)||function(Ue=(0,X.z$)()){return/Edge\/\d+/.test(Ue)}(Ue)}()||(0,X.hl)()}catch(Ue){return Yt()&&(0,X.hl)()}return!1}function Yt(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function st(){return("http:"===ht()||"https:"===ht()||(0,X.ru)()||Kt())&&!((0,X.b$)()||(0,X.UG)())&&Jn()&&!Yt()}function Cn(){return Kt()&&"undefined"!=typeof document}function Wt(){return(Wt=(0,h.Z)(function*(){return!!Cn()&&new Promise(Ue=>{const we=setTimeout(()=>{Ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(we),Ue(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},cr=j.ax,He="persistence";function fe(Ue){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(Ue){yield Ue._initializationPromise;const we=Nt(),ve=j.az(He,Ue.config.apiKey,Ue.name);we&&we.setItem(ve,Ue._getPersistence())})).apply(this,arguments)}function Nt(){var Ue;try{return(null===(Ue="undefined"!=typeof window?window:null)||void 0===Ue?void 0:Ue.sessionStorage)||null}catch(we){return null}}const lt=j.ax;class Mt{constructor(){this.browserResolver=j.ay(j.k),this.cordovaResolver=j.ay(class{constructor(){this._redirectPersistence=j.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=j.aB,this._overrideRedirectResult=j.aC}_initialize(we){var ve=this;return(0,h.Z)(function*(){const ot=we._key();let xt=ve.eventManagers.get(ot);return xt||(xt=new _n(we),ve.eventManagers.set(ot,xt),ve.attachCallbackListeners(we,xt)),xt})()}_openPopup(we){(0,j.at)(we,"operation-not-supported-in-this-environment")}_openRedirect(we,ve,ot,xt){var Tn=this;return(0,h.Z)(function*(){!function(Ue){var we,ve,ot,xt,Tn,bn,ln,Sn,ur,dr;const An=W();(0,j.ax)("function"==typeof(null===(we=null==An?void 0:An.universalLinks)||void 0===we?void 0:we.subscribe),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,j.ax)(void 0!==(null===(ve=null==An?void 0:An.BuildInfo)||void 0===ve?void 0:ve.packageName),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,j.ax)("function"==typeof(null===(Tn=null===(xt=null===(ot=null==An?void 0:An.cordova)||void 0===ot?void 0:ot.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===Tn?void 0:Tn.openUrl),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.ax)("function"==typeof(null===(Sn=null===(ln=null===(bn=null==An?void 0:An.cordova)||void 0===bn?void 0:bn.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===Sn?void 0:Sn.isAvailable),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,j.ax)("function"==typeof(null===(dr=null===(ur=null==An?void 0:An.cordova)||void 0===ur?void 0:ur.InAppBrowser)||void 0===dr?void 0:dr.open),Ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(we);const bn=yield Tn._initialize(we);yield bn.initialized(),bn.resetRedirect(),(0,j.aD)(),yield Tn._originValidation(we);const ln=function(Ue,we,ve=null){return{type:we,eventId:ve,urlResponse:null,sessionId:dt(),postBody:null,tenantId:Ue.tenantId,error:(0,j.aw)(Ue,"no-auth-event")}}(we,ot,xt);yield function(Ue,we){return It()._set(at(Ue),we)}(we,ln);const Sn=yield function(Ue,we,ve){return G.apply(this,arguments)}(we,ln,ve),ur=yield function(Ue){const{cordova:we}=W();return new Promise(ve=>{we.plugins.browsertab.isAvailable(ot=>{let xt=null;ot?we.plugins.browsertab.openUrl(Ue):xt=we.InAppBrowser.open(Ue,(0,j.ap)()?"_blank":"_system","location=yes"),ve(xt)})})}(Sn);return function(Ue,we,ve){return rt.apply(this,arguments)}(we,bn,ur)})()}_isIframeWebStorageSupported(we,ve){throw new Error("Method not implemented.")}_originValidation(we){const ve=we._key();return this.originValidationPromises[ve]||(this.originValidationPromises[ve]=function(Ue){return Ae.apply(this,arguments)}(we)),this.originValidationPromises[ve]}attachCallbackListeners(we,ve){const{universalLinks:ot,handleOpenURL:xt,BuildInfo:Tn}=W(),bn=setTimeout((0,h.Z)(function*(){yield kt(we),ve.onEvent(un())}),500),ln=function(){var dr=(0,h.Z)(function*(An){clearTimeout(bn);const or=yield kt(we);let Pt=null;or&&(null==An?void 0:An.url)&&(Pt=function(Ue,we){var ve,ot;const xt=function(Ue){const we=Xt(Ue),ve=we.link?decodeURIComponent(we.link):void 0,ot=Xt(ve).link,xt=we.deep_link_id?decodeURIComponent(we.deep_link_id):void 0;return Xt(xt).link||xt||ot||ve||Ue}(we);if(xt.includes("/__/auth/callback")){const Tn=Xt(xt),bn=Tn.firebaseError?function(Ue){try{return JSON.parse(Ue)}catch(we){return null}}(decodeURIComponent(Tn.firebaseError)):null,ln=null===(ot=null===(ve=null==bn?void 0:bn.code)||void 0===ve?void 0:ve.split("auth/"))||void 0===ot?void 0:ot[1],Sn=ln?(0,j.aw)(ln):null;return Sn?{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,error:Sn,urlResponse:null,sessionId:null,postBody:null}:{type:Ue.type,eventId:Ue.eventId,tenantId:Ue.tenantId,sessionId:Ue.sessionId,urlResponse:xt,postBody:null}}return null}(or,An.url)),ve.onEvent(Pt||un())});return function(or){return dr.apply(this,arguments)}}();void 0!==ot&&"function"==typeof ot.subscribe&&ot.subscribe(null,ln);const Sn=xt,ur=`${Tn.packageName.toLowerCase()}://`;W().handleOpenURL=function(){var dr=(0,h.Z)(function*(An){if(An.toLowerCase().startsWith(ur)&&ln({url:An}),"function"==typeof Sn)try{Sn(An)}catch(or){console.error(or)}});return function(An){return dr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=j.a,this._completeRedirectFn=j.aB,this._overrideRedirectResult=j.aC}_initialize(we){var ve=this;return(0,h.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._initialize(we)})()}_openPopup(we,ve,ot,xt){var Tn=this;return(0,h.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openPopup(we,ve,ot,xt)})()}_openRedirect(we,ve,ot,xt){var Tn=this;return(0,h.Z)(function*(){return yield Tn.selectUnderlyingResolver(),Tn.assertedUnderlyingResolver._openRedirect(we,ve,ot,xt)})()}_isIframeWebStorageSupported(we,ve){this.assertedUnderlyingResolver._isIframeWebStorageSupported(we,ve)}_originValidation(we){return this.assertedUnderlyingResolver._originValidation(we)}get _shouldInitProactively(){return Cn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var we=this;return(0,h.Z)(function*(){if(we.underlyingResolver)return;const ve=yield function(){return Wt.apply(this,arguments)}();we.underlyingResolver=ve?we.cordovaResolver:we.browserResolver})()}}function cn(Ue){return Ue.unwrap()}function Dn(Ue){return lr(Ue)}function lr(Ue){const{_tokenResponse:we}=Ue instanceof X.ZR?Ue.customData:Ue;if(!we)return null;if(!(Ue instanceof X.ZR)&&"temporaryProof"in we&&"phoneNumber"in we)return j.P.credentialFromResult(Ue);const ve=we.providerId;if(!ve||ve===j.o.PASSWORD)return null;let ot;switch(ve){case j.o.GOOGLE:ot=j.Q;break;case j.o.FACEBOOK:ot=j.N;break;case j.o.GITHUB:ot=j.T;break;case j.o.TWITTER:ot=j.W;break;default:const{oauthIdToken:xt,oauthAccessToken:Tn,oauthTokenSecret:bn,pendingToken:ln,nonce:Sn}=we;return Tn||bn||xt||ln?ln?ve.startsWith("saml.")?j.aL._create(ve,ln):j.J._fromParams({providerId:ve,signInMethod:ve,pendingToken:ln,idToken:xt,accessToken:Tn}):new j.U(ve).credential({idToken:xt,accessToken:Tn,rawNonce:Sn}):null}return Ue instanceof X.ZR?ot.credentialFromError(Ue):ot.credentialFromResult(Ue)}function Jt(Ue,we){return we.catch(ve=>{throw ve instanceof X.ZR&&function(Ue,we){var ve,ot;const xt=null===(ve=we.customData)||void 0===ve?void 0:ve._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ot=we)||void 0===ot?void 0:ot.code))we.resolver=new de(Ue,j.an(Ue,we));else if(xt){const Tn=lr(we),bn=we;Tn&&(bn.credential=Tn,bn.tenantId=xt.tenantId||void 0,bn.email=xt.email||void 0,bn.phoneNumber=xt.phoneNumber||void 0)}}(Ue,ve),ve}).then(ve=>{const xt=ve.user;return{operationType:ve.operationType,credential:Dn(ve),additionalUserInfo:j.al(ve),user:Se.getOrCreate(xt)}})}function Bt(Ue,we){return ce.apply(this,arguments)}function ce(){return(ce=(0,h.Z)(function*(Ue,we){const ve=yield we;return{verificationId:ve.verificationId,confirm:ot=>Jt(Ue,ve.confirm(ot))}})).apply(this,arguments)}class de{constructor(we,ve){this.resolver=ve,this.auth=we.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(we){return Jt(cn(this.auth),this.resolver.resolveSignIn(we))}}class Se{constructor(we){this._delegate=we,this.multiFactor=j.ao(we)}static getOrCreate(we){return Se.USER_MAP.has(we)||Se.USER_MAP.set(we,new Se(we)),Se.USER_MAP.get(we)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(we){return this._delegate.getIdTokenResult(we)}getIdToken(we){return this._delegate.getIdToken(we)}linkAndRetrieveDataWithCredential(we){return this.linkWithCredential(we)}linkWithCredential(we){var ve=this;return(0,h.Z)(function*(){return Jt(ve.auth,j.Z(ve._delegate,we))})()}linkWithPhoneNumber(we,ve){var ot=this;return(0,h.Z)(function*(){return Bt(ot.auth,j.l(ot._delegate,we,ve))})()}linkWithPopup(we){var ve=this;return(0,h.Z)(function*(){return Jt(ve.auth,j.d(ve._delegate,we,Mt))})()}linkWithRedirect(we){var ve=this;return(0,h.Z)(function*(){return yield fe(j.aE(ve.auth)),j.g(ve._delegate,we,Mt)})()}reauthenticateAndRetrieveDataWithCredential(we){return this.reauthenticateWithCredential(we)}reauthenticateWithCredential(we){var ve=this;return(0,h.Z)(function*(){return Jt(ve.auth,j._(ve._delegate,we))})()}reauthenticateWithPhoneNumber(we,ve){return Bt(this.auth,j.r(this._delegate,we,ve))}reauthenticateWithPopup(we){return Jt(this.auth,j.e(this._delegate,we,Mt))}reauthenticateWithRedirect(we){var ve=this;return(0,h.Z)(function*(){return yield fe(j.aE(ve.auth)),j.h(ve._delegate,we,Mt)})()}sendEmailVerification(we){return j.ab(this._delegate,we)}unlink(we){var ve=this;return(0,h.Z)(function*(){return yield j.ak(ve._delegate,we),ve})()}updateEmail(we){return j.ag(this._delegate,we)}updatePassword(we){return j.ah(this._delegate,we)}updatePhoneNumber(we){return j.u(this._delegate,we)}updateProfile(we){return j.af(this._delegate,we)}verifyBeforeUpdateEmail(we,ve){return j.ac(this._delegate,we,ve)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Se.USER_MAP=new WeakMap;const Ie=j.ax;let le=(()=>{class Ue{constructor(ve,ot){if(this.app=ve,ot.isInitialized())return this._delegate=ot.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xt}=ve.options;Ie(xt,"invalid-api-key",{appName:ve.name}),Ie(xt,"invalid-api-key",{appName:ve.name});const Tn="undefined"!=typeof window?Mt:void 0;this._delegate=ot.initialize({options:{persistence:vt(xt,ve.name),popupRedirectResolver:Tn}}),this._delegate._updateErrorMap(j.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Se.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ve){this._delegate.languageCode=ve}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ve){this._delegate.tenantId=ve}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ve,ot){j.G(this._delegate,ve,ot)}applyActionCode(ve){return j.a2(this._delegate,ve)}checkActionCode(ve){return j.a3(this._delegate,ve)}confirmPasswordReset(ve,ot){return j.a1(this._delegate,ve,ot)}createUserWithEmailAndPassword(ve,ot){var xt=this;return(0,h.Z)(function*(){return Jt(xt._delegate,j.a5(xt._delegate,ve,ot))})()}fetchProvidersForEmail(ve){return this.fetchSignInMethodsForEmail(ve)}fetchSignInMethodsForEmail(ve){return j.aa(this._delegate,ve)}isSignInWithEmailLink(ve){return j.a8(this._delegate,ve)}getRedirectResult(){var ve=this;return(0,h.Z)(function*(){Ie(st(),ve._delegate,"operation-not-supported-in-this-environment");const ot=yield j.j(ve._delegate,Mt);return ot?Jt(ve._delegate,Promise.resolve(ot)):{credential:null,user:null}})()}addFrameworkForLogging(ve){!function(Ue,we){(0,j.aE)(Ue)._logFramework(we)}(this._delegate,ve)}onAuthStateChanged(ve,ot,xt){const{next:Tn,error:bn,complete:ln}=qe(ve,ot,xt);return this._delegate.onAuthStateChanged(Tn,bn,ln)}onIdTokenChanged(ve,ot,xt){const{next:Tn,error:bn,complete:ln}=qe(ve,ot,xt);return this._delegate.onIdTokenChanged(Tn,bn,ln)}sendSignInLinkToEmail(ve,ot){return j.a7(this._delegate,ve,ot)}sendPasswordResetEmail(ve,ot){return j.a0(this._delegate,ve,ot||void 0)}setPersistence(ve){var ot=this;return(0,h.Z)(function*(){let xt;switch(function(Ue,we){cr(Object.values(Kn).includes(we),Ue,"invalid-persistence-type"),(0,X.b$)()?cr(we!==Kn.SESSION,Ue,"unsupported-persistence-type"):(0,X.UG)()?cr(we===Kn.NONE,Ue,"unsupported-persistence-type"):Yt()?cr(we===Kn.NONE||we===Kn.LOCAL&&(0,X.hl)(),Ue,"unsupported-persistence-type"):cr(we===Kn.NONE||Jn(),Ue,"unsupported-persistence-type")}(ot._delegate,ve),ve){case Kn.SESSION:xt=j.a;break;case Kn.LOCAL:xt=(yield j.ay(j.i)._isAvailable())?j.i:j.b;break;case Kn.NONE:xt=j.L;break;default:return j.at("argument-error",{appName:ot._delegate.name})}return ot._delegate.setPersistence(xt)})()}signInAndRetrieveDataWithCredential(ve){return this.signInWithCredential(ve)}signInAnonymously(){return Jt(this._delegate,j.X(this._delegate))}signInWithCredential(ve){return Jt(this._delegate,j.Y(this._delegate,ve))}signInWithCustomToken(ve){return Jt(this._delegate,j.$(this._delegate,ve))}signInWithEmailAndPassword(ve,ot){return Jt(this._delegate,j.a6(this._delegate,ve,ot))}signInWithEmailLink(ve,ot){return Jt(this._delegate,j.a9(this._delegate,ve,ot))}signInWithPhoneNumber(ve,ot){return Bt(this._delegate,j.s(this._delegate,ve,ot))}signInWithPopup(ve){var ot=this;return(0,h.Z)(function*(){return Ie(st(),ot._delegate,"operation-not-supported-in-this-environment"),Jt(ot._delegate,j.c(ot._delegate,ve,Mt))})()}signInWithRedirect(ve){var ot=this;return(0,h.Z)(function*(){return Ie(st(),ot._delegate,"operation-not-supported-in-this-environment"),yield fe(ot._delegate),j.f(ot._delegate,ve,Mt)})()}updateCurrentUser(ve){return this._delegate.updateCurrentUser(ve)}verifyPasswordResetCode(ve){return j.a4(this._delegate,ve)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ue.Persistence=Kn,Ue})();function qe(Ue,we,ve){let ot=Ue;"function"!=typeof Ue&&({next:ot,error:we,complete:ve}=Ue);const xt=ot;return{next:bn=>xt(bn&&Se.getOrCreate(bn)),error:we,complete:ve}}function vt(Ue,we){const ve=function(Ue,we){const ve=Nt();if(!ve)return[];const ot=j.az(He,Ue,we);switch(ve.getItem(ot)){case Kn.NONE:return[j.L];case Kn.LOCAL:return[j.i,j.a];case Kn.SESSION:return[j.a];default:return[]}}(Ue,we);if("undefined"!=typeof self&&!ve.includes(j.i)&&ve.push(j.i),"undefined"!=typeof window)for(const ot of[j.b,j.a])ve.includes(ot)||ve.push(ot);return ve.includes(j.L)||ve.push(j.L),ve}class Zt{constructor(){this.providerId="phone",this._delegate=new j.P(cn(A.Z.auth()))}static credential(we,ve){return j.P.credential(we,ve)}verifyPhoneNumber(we,ve){return this._delegate.verifyPhoneNumber(we,ve)}unwrap(){return this._delegate}}Zt.PHONE_SIGN_IN_METHOD=j.P.PHONE_SIGN_IN_METHOD,Zt.PROVIDER_ID=j.P.PROVIDER_ID;const En=j.ax;var Ue;(Ue=A.Z).INTERNAL.registerComponent(new ee.wA("auth-compat",we=>{const ve=we.getProvider("app-compat").getImmediate(),ot=we.getProvider("auth");return new le(ve,ot)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:j.A.EMAIL_SIGNIN,PASSWORD_RESET:j.A.PASSWORD_RESET,RECOVER_EMAIL:j.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:j.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:j.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:j.A.VERIFY_EMAIL}},EmailAuthProvider:j.M,FacebookAuthProvider:j.N,GithubAuthProvider:j.T,GoogleAuthProvider:j.Q,OAuthProvider:j.U,SAMLAuthProvider:j.V,PhoneAuthProvider:Zt,PhoneMultiFactorGenerator:j.m,RecaptchaVerifier:class{constructor(we,ve,ot=A.Z.app()){var xt;En(null===(xt=ot.options)||void 0===xt?void 0:xt.apiKey,"invalid-api-key",{appName:ot.name}),this._delegate=new j.R(we,ve,ot.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:j.W,Auth:le,AuthCredential:j.H,Error:X.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ue.registerVersion("@firebase/auth-compat","0.2.17")},6215:(it,ue,D)=>{"use strict";D.d(ue,{X:()=>j});var h=D(9765),A=D(7971);class j extends h.xQ{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const K=super._subscribe(ne);return K&&!K.closed&&ne.next(this._value),K}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new A.N;return this._value}next(ne){super.next(this._value=ne)}}},3098:(it,ue,D)=>{"use strict";D.d(ue,{P:()=>ne});var h=D(9193),A=D(5917),j=D(205);class ne{constructor(ee,W,Y){this.kind=ee,this.value=W,this.error=Y,this.hasValue="N"===ee}observe(ee){switch(this.kind){case"N":return ee.next&&ee.next(this.value);case"E":return ee.error&&ee.error(this.error);case"C":return ee.complete&&ee.complete()}}do(ee,W,Y){switch(this.kind){case"N":return ee&&ee(this.value);case"E":return W&&W(this.error);case"C":return Y&&Y()}}accept(ee,W,Y){return ee&&"function"==typeof ee.next?this.observe(ee):this.do(ee,W,Y)}toObservable(){switch(this.kind){case"N":return(0,A.of)(this.value);case"E":return(0,j._)(this.error);case"C":return(0,h.c)()}throw new Error("unexpected notification kind value")}static createNext(ee){return void 0!==ee?new ne("N",ee):ne.undefinedValueNotification}static createError(ee){return new ne("E",void 0,ee)}static createComplete(){return ne.completeNotification}}ne.completeNotification=new ne("C"),ne.undefinedValueNotification=new ne("N",void 0)},8891:(it,ue,D)=>{"use strict";D.d(ue,{y:()=>Y});var h=D(7393),j=D(9181),X=D(6490),K=D(6554),ee=D(4022),W=D(2494);let Y=(()=>{class G{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const Fe=new G;return Fe.source=this,Fe.operator=Ae,Fe}subscribe(Ae,Fe,$e){const{operator:rt}=this,ye=function(G,re,Ae){if(G){if(G instanceof h.L)return G;if(G[j.b])return G[j.b]()}return G||re||Ae?new h.L(G,re,Ae):new h.L(X.c)}(Ae,Fe,$e);if(ye.add(rt?rt.call(ye,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!ye.syncErrorThrowable?this._subscribe(ye):this._trySubscribe(ye)),W.v.useDeprecatedSynchronousErrorHandling&&ye.syncErrorThrowable&&(ye.syncErrorThrowable=!1,ye.syncErrorThrown))throw ye.syncErrorValue;return ye}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Fe){W.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=Fe),function(G){for(;G;){const{closed:re,destination:Ae,isStopped:Fe}=G;if(re||Fe)return!1;G=Ae&&Ae instanceof h.L?Ae:null}return!0}(Ae)?Ae.error(Fe):console.warn(Fe)}}forEach(Ae,Fe){return new(Fe=U(Fe))(($e,rt)=>{let ye;ye=this.subscribe(Le=>{try{Ae(Le)}catch(ze){rt(ze),ye&&ye.unsubscribe()}},rt,$e)})}_subscribe(Ae){const{source:Fe}=this;return Fe&&Fe.subscribe(Ae)}[K.L](){return this}pipe(...Ae){return 0===Ae.length?this:(0,ee.U)(Ae)(this)}toPromise(Ae){return new(Ae=U(Ae))((Fe,$e)=>{let rt;this.subscribe(ye=>rt=ye,ye=>$e(ye),()=>Fe(rt))})}}return G.create=re=>new G(re),G})();function U(G){if(G||(G=W.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},6490:(it,ue,D)=>{"use strict";D.d(ue,{c:()=>j});var h=D(2494),A=D(4449);const j={closed:!0,next(X){},error(X){if(h.v.useDeprecatedSynchronousErrorHandling)throw X;(0,A.z)(X)},complete(){}}},5197:(it,ue,D)=>{"use strict";D.d(ue,{L:()=>A});var h=D(7393);class A extends h.L{notifyNext(X,ne,K,ee,W){this.destination.next(ne)}notifyError(X,ne){this.destination.error(X)}notifyComplete(X){this.destination.complete()}}},8229:(it,ue,D)=>{"use strict";D.d(ue,{t:()=>ee});var h=D(9765),A=D(7771),j=D(5319),X=D(9746),ne=D(7971),K=D(8858);class ee extends h.xQ{constructor(U=Number.POSITIVE_INFINITY,G=Number.POSITIVE_INFINITY,re){super(),this.scheduler=re,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=U<1?1:U,this._windowTime=G<1?1:G,G===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(U){if(!this.isStopped){const G=this._events;G.push(U),G.length>this._bufferSize&&G.shift()}super.next(U)}nextTimeWindow(U){this.isStopped||(this._events.push(new W(this._getNow(),U)),this._trimBufferThenGetEvents()),super.next(U)}_subscribe(U){const G=this._infiniteTimeWindow,re=G?this._events:this._trimBufferThenGetEvents(),Ae=this.scheduler,Fe=re.length;let $e;if(this.closed)throw new ne.N;if(this.isStopped||this.hasError?$e=j.w.EMPTY:(this.observers.push(U),$e=new K.W(this,U)),Ae&&U.add(U=new X.ht(U,Ae)),G)for(let rt=0;rt<Fe&&!U.closed;rt++)U.next(re[rt]);else for(let rt=0;rt<Fe&&!U.closed;rt++)U.next(re[rt].value);return this.hasError?U.error(this.thrownError):this.isStopped&&U.complete(),$e}_getNow(){return(this.scheduler||A.c).now()}_trimBufferThenGetEvents(){const U=this._getNow(),G=this._bufferSize,re=this._windowTime,Ae=this._events,Fe=Ae.length;let $e=0;for(;$e<Fe&&!(U-Ae[$e].time<re);)$e++;return Fe>G&&($e=Math.max($e,Fe-G)),$e>0&&Ae.splice(0,$e),Ae}}class W{constructor(U,G){this.time=U,this.value=G}}},9765:(it,ue,D)=>{"use strict";D.d(ue,{Yc:()=>ee,xQ:()=>W});var h=D(8891),A=D(7393),j=D(5319),X=D(7971),ne=D(8858),K=D(9181);class ee extends A.L{constructor(G){super(G),this.destination=G}}let W=(()=>{class U extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[K.b](){return new ee(this)}lift(re){const Ae=new Y(this,this);return Ae.operator=re,Ae}next(re){if(this.closed)throw new X.N;if(!this.isStopped){const{observers:Ae}=this,Fe=Ae.length,$e=Ae.slice();for(let rt=0;rt<Fe;rt++)$e[rt].next(re)}}error(re){if(this.closed)throw new X.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:Ae}=this,Fe=Ae.length,$e=Ae.slice();for(let rt=0;rt<Fe;rt++)$e[rt].error(re);this.observers.length=0}complete(){if(this.closed)throw new X.N;this.isStopped=!0;const{observers:re}=this,Ae=re.length,Fe=re.slice();for(let $e=0;$e<Ae;$e++)Fe[$e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new X.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new X.N;return this.hasError?(re.error(this.thrownError),j.w.EMPTY):this.isStopped?(re.complete(),j.w.EMPTY):(this.observers.push(re),new ne.W(this,re))}asObservable(){const re=new h.y;return re.source=this,re}}return U.create=(G,re)=>new Y(G,re),U})();class Y extends W{constructor(G,re){super(),this.destination=G,this.source=re}next(G){const{destination:re}=this;re&&re.next&&re.next(G)}error(G){const{destination:re}=this;re&&re.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:re}=this;return re?this.source.subscribe(G):j.w.EMPTY}}},8858:(it,ue,D)=>{"use strict";D.d(ue,{W:()=>A});var h=D(5319);class A extends h.w{constructor(X,ne){super(),this.subject=X,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const X=this.subject,ne=X.observers;if(this.subject=null,!ne||0===ne.length||X.isStopped||X.closed)return;const K=ne.indexOf(this.subscriber);-1!==K&&ne.splice(K,1)}}},7393:(it,ue,D)=>{"use strict";D.d(ue,{L:()=>ee});var h=D(9105),A=D(6490),j=D(5319),X=D(9181),ne=D(2494),K=D(4449);class ee extends j.w{constructor(U,G,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=A.c;break;case 1:if(!U){this.destination=A.c;break}if("object"==typeof U){U instanceof ee?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,U,G,re)}}[X.b](){return this}static create(U,G,re){const Ae=new ee(U,G,re);return Ae.syncErrorThrowable=!1,Ae}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class W extends ee{constructor(U,G,re,Ae){super(),this._parentSubscriber=U;let Fe,$e=this;(0,h.m)(G)?Fe=G:G&&(Fe=G.next,re=G.error,Ae=G.complete,G!==A.c&&($e=Object.create(G),(0,h.m)($e.unsubscribe)&&this.add($e.unsubscribe.bind($e)),$e.unsubscribe=this.unsubscribe.bind(this))),this._context=$e,this._next=Fe,this._error=re,this._complete=Ae}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;ne.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:re}=ne.v;if(this._error)re&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(G.syncErrorThrowable)re?(G.syncErrorValue=U,G.syncErrorThrown=!0):(0,K.z)(U),this.unsubscribe();else{if(this.unsubscribe(),re)throw U;(0,K.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const G=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,G){try{U.call(this._context,G)}catch(re){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw re;(0,K.z)(re)}}__tryOrSetError(U,G,re){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,re)}catch(Ae){return ne.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=Ae,U.syncErrorThrown=!0,!0):((0,K.z)(Ae),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(it,ue,D)=>{"use strict";D.d(ue,{w:()=>K});var h=D(9796),A=D(1555),j=D(9105);const ne=(()=>{function W(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((U,G)=>`${G+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return W.prototype=Object.create(Error.prototype),W})();class K{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:G,_unsubscribe:re,_subscriptions:Ae}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof K)U.remove(this);else if(null!==U)for(let Fe=0;Fe<U.length;++Fe)U[Fe].remove(this);if((0,j.m)(re)){G&&(this._unsubscribe=void 0);try{re.call(this)}catch(Fe){Y=Fe instanceof ne?ee(Fe.errors):[Fe]}}if((0,h.k)(Ae)){let Fe=-1,$e=Ae.length;for(;++Fe<$e;){const rt=Ae[Fe];if((0,A.K)(rt))try{rt.unsubscribe()}catch(ye){Y=Y||[],ye instanceof ne?Y=Y.concat(ee(ye.errors)):Y.push(ye)}}}if(Y)throw new ne(Y)}add(Y){let U=Y;if(!Y)return K.EMPTY;switch(typeof Y){case"function":U=new K(Y);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof K)){const Ae=U;U=new K,U._subscriptions=[Ae]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:G}=U;if(null===G)U._parentOrParents=this;else if(G instanceof K){if(G===this)return U;U._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return U;G.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[U]:re.push(U),U}remove(Y){const U=this._subscriptions;if(U){const G=U.indexOf(Y);-1!==G&&U.splice(G,1)}}}var W;function ee(W){return W.reduce((Y,U)=>Y.concat(U instanceof ne?U.errors:U),[])}K.EMPTY=((W=new K).closed=!0,W)},2494:(it,ue,D)=>{"use strict";D.d(ue,{v:()=>A});let h=!1;const A={Promise:void 0,set useDeprecatedSynchronousErrorHandling(j){if(j){const X=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+X.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=j},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(it,ue,D)=>{"use strict";D.d(ue,{IY:()=>X,Ds:()=>K,ft:()=>W});var h=D(7393),A=D(8891),j=D(7444);class X extends h.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class K extends h.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function W(Y,U){if(U.closed)return;if(Y instanceof A.y)return Y.subscribe(U);let G;try{G=(0,j.s)(Y)(U)}catch(re){U.error(re)}return G}},2441:(it,ue,D)=>{"use strict";D.d(ue,{c:()=>ne,N:()=>K});var h=D(9765),A=D(8891),j=D(5319),X=D(1307);class ne extends A.y{constructor(G,re){super(),this.source=G,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new j.w,G.add(this.source.subscribe(new ee(this.getSubject(),this))),G.closed&&(this._connection=null,G=j.w.EMPTY)),G}refCount(){return(0,X.x)()(this)}}const K=(()=>{const U=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class ee extends h.Yc{constructor(G,re){super(G),this.connectable=re}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const re=G._connection;G._refCount=0,G._subject=null,G._connection=null,re&&re.unsubscribe()}}}},9112:(it,ue,D)=>{"use strict";D.d(ue,{aj:()=>ee,Ms:()=>W});var h=D(4869),A=D(9796),j=D(5197),X=D(509),ne=D(6693);const K={};function ee(...U){let G,re;return(0,h.K)(U[U.length-1])&&(re=U.pop()),"function"==typeof U[U.length-1]&&(G=U.pop()),1===U.length&&(0,A.k)(U[0])&&(U=U[0]),(0,ne.n)(U,re).lift(new W(G))}class W{constructor(G){this.resultSelector=G}call(G,re){return re.subscribe(new Y(G,this.resultSelector))}}class Y extends j.L{constructor(G,re){super(G),this.resultSelector=re,this.active=0,this.values=[],this.observables=[]}_next(G){this.values.push(K),this.observables.push(G)}_complete(){const G=this.observables,re=G.length;if(0===re)this.destination.complete();else{this.active=re,this.toRespond=re;for(let Ae=0;Ae<re;Ae++)this.add((0,X.D)(this,G[Ae],void 0,Ae))}}notifyComplete(G){0==(this.active-=1)&&this.destination.complete()}notifyNext(G,re,Ae){const Fe=this.values,rt=this.toRespond?Fe[Ae]===K?--this.toRespond:this.toRespond:0;Fe[Ae]=re,0===rt&&(this.resultSelector?this._tryResultSelector(Fe):this.destination.next(Fe.slice()))}_tryResultSelector(G){let re;try{re=this.resultSelector.apply(this,G)}catch(Ae){return void this.destination.error(Ae)}this.destination.next(re)}}},9923:(it,ue,D)=>{"use strict";D.d(ue,{z:()=>j});var h=D(5917),A=D(5766);function j(...X){return(0,A.u)()((0,h.of)(...X))}},1439:(it,ue,D)=>{"use strict";D.d(ue,{P:()=>X});var h=D(8891),A=D(4402),j=D(9193);function X(ne){return new h.y(K=>{let ee;try{ee=ne()}catch(Y){return void K.error(Y)}return(ee?(0,A.D)(ee):(0,j.c)()).subscribe(K)})}},9193:(it,ue,D)=>{"use strict";D.d(ue,{E:()=>A,c:()=>j});var h=D(8891);const A=new h.y(ne=>ne.complete());function j(ne){return ne?function(ne){return new h.y(K=>ne.schedule(()=>K.complete()))}(ne):A}},4402:(it,ue,D)=>{"use strict";D.d(ue,{D:()=>$e});var h=D(8891),A=D(7444),j=D(5319),X=D(6554),ee=D(4087),W=D(377),G=D(4072),re=D(9489);function $e(rt,ye){return ye?function(rt,ye){if(null!=rt){if(function(rt){return rt&&"function"==typeof rt[X.L]}(rt))return function(rt,ye){return new h.y(Le=>{const ze=new j.w;return ze.add(ye.schedule(()=>{const pt=rt[X.L]();ze.add(pt.subscribe({next(Xe){ze.add(ye.schedule(()=>Le.next(Xe)))},error(Xe){ze.add(ye.schedule(()=>Le.error(Xe)))},complete(){ze.add(ye.schedule(()=>Le.complete()))}}))})),ze})}(rt,ye);if((0,G.t)(rt))return function(rt,ye){return new h.y(Le=>{const ze=new j.w;return ze.add(ye.schedule(()=>rt.then(pt=>{ze.add(ye.schedule(()=>{Le.next(pt),ze.add(ye.schedule(()=>Le.complete()))}))},pt=>{ze.add(ye.schedule(()=>Le.error(pt)))}))),ze})}(rt,ye);if((0,re.z)(rt))return(0,ee.r)(rt,ye);if(function(rt){return rt&&"function"==typeof rt[W.hZ]}(rt)||"string"==typeof rt)return function(rt,ye){if(!rt)throw new Error("Iterable cannot be null");return new h.y(Le=>{const ze=new j.w;let pt;return ze.add(()=>{pt&&"function"==typeof pt.return&&pt.return()}),ze.add(ye.schedule(()=>{pt=rt[W.hZ](),ze.add(ye.schedule(function(){if(Le.closed)return;let Xe,_n;try{const tn=pt.next();Xe=tn.value,_n=tn.done}catch(tn){return void Le.error(tn)}_n?Le.complete():(Le.next(Xe),this.schedule())}))})),ze})}(rt,ye)}throw new TypeError((null!==rt&&typeof rt||rt)+" is not observable")}(rt,ye):rt instanceof h.y?rt:new h.y((0,A.s)(rt))}},6693:(it,ue,D)=>{"use strict";D.d(ue,{n:()=>X});var h=D(8891),A=D(5015),j=D(4087);function X(ne,K){return K?(0,j.r)(ne,K):new h.y((0,A.V)(ne))}},6682:(it,ue,D)=>{"use strict";D.d(ue,{T:()=>ne});var h=D(8891),A=D(4869),j=D(3282),X=D(6693);function ne(...K){let ee=Number.POSITIVE_INFINITY,W=null,Y=K[K.length-1];return(0,A.K)(Y)?(W=K.pop(),K.length>1&&"number"==typeof K[K.length-1]&&(ee=K.pop())):"number"==typeof Y&&(ee=K.pop()),null===W&&1===K.length&&K[0]instanceof h.y?K[0]:(0,j.J)(ee)((0,X.n)(K,W))}},5917:(it,ue,D)=>{"use strict";D.d(ue,{of:()=>X});var h=D(4869),A=D(6693),j=D(4087);function X(...ne){let K=ne[ne.length-1];return(0,h.K)(K)?(ne.pop(),(0,j.r)(ne,K)):(0,A.n)(ne)}},205:(it,ue,D)=>{"use strict";D.d(ue,{_:()=>A});var h=D(8891);function A(X,ne){return new h.y(ne?K=>ne.schedule(j,0,{error:X,subscriber:K}):K=>K.error(X))}function j({error:X,subscriber:ne}){ne.error(X)}},5304:(it,ue,D)=>{"use strict";D.d(ue,{K:()=>A});var h=D(5345);function A(ne){return function(ee){const W=new j(ne),Y=ee.lift(W);return W.caught=Y}}class j{constructor(K){this.selector=K}call(K,ee){return ee.subscribe(new X(K,this.selector,this.caught))}}class X extends h.Ds{constructor(K,ee,W){super(K),this.selector=ee,this.caught=W}error(K){if(!this.isStopped){let ee;try{ee=this.selector(K,this.caught)}catch(U){return void super.error(U)}this._unsubscribeAndRecycle();const W=new h.IY(this);this.add(W);const Y=(0,h.ft)(ee,W);Y!==W&&this.add(Y)}}}},5766:(it,ue,D)=>{"use strict";D.d(ue,{u:()=>A});var h=D(3282);function A(){return(0,h.J)(1)}},4612:(it,ue,D)=>{"use strict";D.d(ue,{b:()=>A});var h=D(9773);function A(j,X){return(0,h.zg)(j,X,1)}},5242:(it,ue,D)=>{"use strict";D.d(ue,{d:()=>A});var h=D(7393);function A(ne=null){return K=>K.lift(new j(ne))}class j{constructor(K){this.defaultValue=K}call(K,ee){return ee.subscribe(new X(K,this.defaultValue))}}class X extends h.L{constructor(K,ee){super(K),this.defaultValue=ee,this.isEmpty=!0}_next(K){this.isEmpty=!1,this.destination.next(K)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5792:(it,ue,D)=>{"use strict";D.d(ue,{g:()=>ne});var h=D(3637),A=D(9989),j=D(7393),X=D(3098);function ne(Y,U=h.P){const re=(0,A.J)(Y)?+Y-U.now():Math.abs(Y);return Ae=>Ae.lift(new K(re,U))}class K{constructor(U,G){this.delay=U,this.scheduler=G}call(U,G){return G.subscribe(new ee(U,this.delay,this.scheduler))}}class ee extends j.L{constructor(U,G,re){super(U),this.delay=G,this.scheduler=re,this.queue=[],this.active=!1,this.errored=!1}static dispatch(U){const G=U.source,re=G.queue,Ae=U.scheduler,Fe=U.destination;for(;re.length>0&&re[0].time-Ae.now()<=0;)re.shift().notification.observe(Fe);if(re.length>0){const $e=Math.max(0,re[0].time-Ae.now());this.schedule(U,$e)}else this.unsubscribe(),G.active=!1}_schedule(U){this.active=!0,this.destination.add(U.schedule(ee.dispatch,this.delay,{source:this,destination:this.destination,scheduler:U}))}scheduleNotification(U){if(!0===this.errored)return;const G=this.scheduler,re=new W(G.now()+this.delay,U);this.queue.push(re),!1===this.active&&this._schedule(G)}_next(U){this.scheduleNotification(X.P.createNext(U))}_error(U){this.errored=!0,this.queue=[],this.destination.error(U),this.unsubscribe()}_complete(){this.scheduleNotification(X.P.createComplete()),this.unsubscribe()}}class W{constructor(U,G){this.time=U,this.notification=G}}},7519:(it,ue,D)=>{"use strict";D.d(ue,{x:()=>A});var h=D(7393);function A(ne,K){return ee=>ee.lift(new j(ne,K))}class j{constructor(K,ee){this.compare=K,this.keySelector=ee}call(K,ee){return ee.subscribe(new X(K,this.compare,this.keySelector))}}class X extends h.L{constructor(K,ee,W){super(K),this.keySelector=W,this.hasKey=!1,"function"==typeof ee&&(this.compare=ee)}compare(K,ee){return K===ee}_next(K){let ee;try{const{keySelector:Y}=this;ee=Y?Y(K):K}catch(Y){return this.destination.error(Y)}let W=!1;if(this.hasKey)try{const{compare:Y}=this;W=Y(this.key,ee)}catch(Y){return this.destination.error(Y)}else this.hasKey=!0;W||(this.key=ee,this.destination.next(K))}}},5435:(it,ue,D)=>{"use strict";D.d(ue,{h:()=>A});var h=D(7393);function A(ne,K){return function(W){return W.lift(new j(ne,K))}}class j{constructor(K,ee){this.predicate=K,this.thisArg=ee}call(K,ee){return ee.subscribe(new X(K,this.predicate,this.thisArg))}}class X extends h.L{constructor(K,ee,W){super(K),this.predicate=ee,this.thisArg=W,this.count=0}_next(K){let ee;try{ee=this.predicate.call(this.thisArg,K,this.count++)}catch(W){return void this.destination.error(W)}ee&&this.destination.next(K)}}},197:(it,ue,D)=>{"use strict";D.d(ue,{x:()=>j});var h=D(7393),A=D(5319);function j(K){return ee=>ee.lift(new X(K))}class X{constructor(ee){this.callback=ee}call(ee,W){return W.subscribe(new ne(ee,this.callback))}}class ne extends h.L{constructor(ee,W){super(ee),this.add(new A.w(W))}}},8049:(it,ue,D)=>{"use strict";D.d(ue,{P:()=>ee});var h=D(3410),A=D(5435),j=D(5257),X=D(5242),ne=D(4635),K=D(4487);function ee(W,Y){const U=arguments.length>=2;return G=>G.pipe(W?(0,A.h)((re,Ae)=>W(re,Ae,G)):K.y,(0,j.q)(1),U?(0,X.d)(Y):(0,ne.T)(()=>new h.K))}},2627:(it,ue,D)=>{"use strict";D.d(ue,{Z:()=>ee});var h=D(3410),A=D(5435),j=D(548),X=D(4635),ne=D(5242),K=D(4487);function ee(W,Y){const U=arguments.length>=2;return G=>G.pipe(W?(0,A.h)((re,Ae)=>W(re,Ae,G)):K.y,(0,j.h)(1),U?(0,ne.d)(Y):(0,X.T)(()=>new h.K))}},8002:(it,ue,D)=>{"use strict";D.d(ue,{U:()=>A});var h=D(7393);function A(ne,K){return function(W){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new j(ne,K))}}class j{constructor(K,ee){this.project=K,this.thisArg=ee}call(K,ee){return ee.subscribe(new X(K,this.project,this.thisArg))}}class X extends h.L{constructor(K,ee,W){super(K),this.project=ee,this.count=0,this.thisArg=W||this}_next(K){let ee;try{ee=this.project.call(this.thisArg,K,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(ee)}}},3282:(it,ue,D)=>{"use strict";D.d(ue,{J:()=>j});var h=D(9773),A=D(4487);function j(X=Number.POSITIVE_INFINITY){return(0,h.zg)(A.y,X)}},9773:(it,ue,D)=>{"use strict";D.d(ue,{zg:()=>X,VS:()=>ee});var h=D(8002),A=D(4402),j=D(5345);function X(W,Y,U=Number.POSITIVE_INFINITY){return"function"==typeof Y?G=>G.pipe(X((re,Ae)=>(0,A.D)(W(re,Ae)).pipe((0,h.U)((Fe,$e)=>Y(re,Fe,Ae,$e))),U)):("number"==typeof Y&&(U=Y),G=>G.lift(new ne(W,U)))}class ne{constructor(Y,U=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=U}call(Y,U){return U.subscribe(new K(Y,this.project,this.concurrent))}}class K extends j.Ds{constructor(Y,U,G=Number.POSITIVE_INFINITY){super(Y),this.project=U,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let U;const G=this.index++;try{U=this.project(Y,G)}catch(re){return void this.destination.error(re)}this.active++,this._innerSub(U)}_innerSub(Y){const U=new j.IY(this),G=this.destination;G.add(U);const re=(0,j.ft)(Y,U);re!==U&&G.add(re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const ee=X},4458:(it,ue,D)=>{"use strict";D.d(ue,{O:()=>A});var h=D(2441);function A(X,ne){return function(ee){let W;if(W="function"==typeof X?X:function(){return X},"function"==typeof ne)return ee.lift(new j(W,ne));const Y=Object.create(ee,h.N);return Y.source=ee,Y.subjectFactory=W,Y}}class j{constructor(ne,K){this.subjectFactory=ne,this.selector=K}call(ne,K){const{selector:ee}=this,W=this.subjectFactory(),Y=ee(W).subscribe(ne);return Y.add(K.subscribe(W)),Y}}},9746:(it,ue,D)=>{"use strict";D.d(ue,{QV:()=>j,ht:()=>ne});var h=D(7393),A=D(3098);function j(ee,W=0){return function(U){return U.lift(new X(ee,W))}}class X{constructor(W,Y=0){this.scheduler=W,this.delay=Y}call(W,Y){return Y.subscribe(new ne(W,this.scheduler,this.delay))}}class ne extends h.L{constructor(W,Y,U=0){super(W),this.scheduler=Y,this.delay=U}static dispatch(W){const{notification:Y,destination:U}=W;Y.observe(U),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new K(W,this.destination)))}_next(W){this.scheduleMessage(A.P.createNext(W))}_error(W){this.scheduleMessage(A.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(A.P.createComplete()),this.unsubscribe()}}class K{constructor(W,Y){this.notification=W,this.destination=Y}}},9328:(it,ue,D)=>{"use strict";D.d(ue,{G:()=>A});var h=D(7393);function A(){return ne=>ne.lift(new j)}class j{call(K,ee){return ee.subscribe(new X(K))}}class X extends h.L{constructor(K){super(K),this.hasPrev=!1}_next(K){let ee;this.hasPrev?ee=[this.prev,K]:this.hasPrev=!0,this.prev=K,ee&&this.destination.next(ee)}}},2790:(it,ue,D)=>{"use strict";D.d(ue,{n:()=>j});var h=D(9765),A=D(4458);function j(X){return X?(0,A.O)(()=>new h.xQ,X):(0,A.O)(new h.xQ)}},1307:(it,ue,D)=>{"use strict";D.d(ue,{x:()=>A});var h=D(7393);function A(){return function(K){return K.lift(new j(K))}}class j{constructor(K){this.connectable=K}call(K,ee){const{connectable:W}=this;W._refCount++;const Y=new X(K,W),U=ee.subscribe(Y);return Y.closed||(Y.connection=W.connect()),U}}class X extends h.L{constructor(K,ee){super(K),this.connectable=ee}_unsubscribe(){const{connectable:K}=this;if(!K)return void(this.connection=null);this.connectable=null;const ee=K._refCount;if(ee<=0)return void(this.connection=null);if(K._refCount=ee-1,ee>1)return void(this.connection=null);const{connection:W}=this,Y=K._connection;this.connection=null,Y&&(!W||Y===W)&&Y.unsubscribe()}}},2145:(it,ue,D)=>{"use strict";D.d(ue,{R:()=>A});var h=D(7393);function A(ne,K){let ee=!1;return arguments.length>=2&&(ee=!0),function(Y){return Y.lift(new j(ne,K,ee))}}class j{constructor(K,ee,W=!1){this.accumulator=K,this.seed=ee,this.hasSeed=W}call(K,ee){return ee.subscribe(new X(K,this.accumulator,this.seed,this.hasSeed))}}class X extends h.L{constructor(K,ee,W,Y){super(K),this.accumulator=ee,this._seed=W,this.hasSeed=Y,this.index=0}get seed(){return this._seed}set seed(K){this.hasSeed=!0,this._seed=K}_next(K){if(this.hasSeed)return this._tryNext(K);this.seed=K,this.destination.next(K)}_tryNext(K){const ee=this.index++;let W;try{W=this.accumulator(this.seed,K,ee)}catch(Y){this.destination.error(Y)}this.seed=W,this.destination.next(W)}}},8345:(it,ue,D)=>{"use strict";D.d(ue,{B:()=>ne});var h=D(4458),A=D(1307),j=D(9765);function X(){return new j.xQ}function ne(){return K=>(0,A.x)()((0,h.O)(X)(K))}},7349:(it,ue,D)=>{"use strict";D.d(ue,{d:()=>A});var h=D(8229);function A(X,ne,K){let ee;return ee=X&&"object"==typeof X?X:{bufferSize:X,windowTime:ne,refCount:!1,scheduler:K},W=>W.lift(function({bufferSize:X=Number.POSITIVE_INFINITY,windowTime:ne=Number.POSITIVE_INFINITY,refCount:K,scheduler:ee}){let W,U,Y=0,G=!1,re=!1;return function(Fe){let $e;Y++,!W||G?(G=!1,W=new h.t(X,ne,ee),$e=W.subscribe(this),U=Fe.subscribe({next(rt){W.next(rt)},error(rt){G=!0,W.error(rt)},complete(){re=!0,U=void 0,W.complete()}}),re&&(U=void 0)):$e=W.subscribe(this),this.add(()=>{Y--,$e.unsubscribe(),$e=void 0,U&&!re&&K&&0===Y&&(U.unsubscribe(),U=void 0,W=void 0)})}}(ee))}},9761:(it,ue,D)=>{"use strict";D.d(ue,{O:()=>j});var h=D(9923),A=D(4869);function j(...X){const ne=X[X.length-1];return(0,A.K)(ne)?(X.pop(),K=>(0,h.z)(X,K,ne)):K=>(0,h.z)(X,K)}},2639:(it,ue,D)=>{"use strict";D.d(ue,{R:()=>rt});var h=D(8891);let A=1;const j=Promise.resolve(),X={};function ne(Le){return Le in X&&(delete X[Le],!0)}const K={setImmediate(Le){const ze=A++;return X[ze]=!0,j.then(()=>ne(ze)&&Le()),ze},clearImmediate(Le){ne(Le)}};var W=D(6465),U=D(6102);const Ae=new class extends U.v{flush(ze){this.active=!0,this.scheduled=void 0;const{actions:pt}=this;let Xe,_n=-1,tn=pt.length;ze=ze||pt.shift();do{if(Xe=ze.execute(ze.state,ze.delay))break}while(++_n<tn&&(ze=pt.shift()));if(this.active=!1,Xe){for(;++_n<tn&&(ze=pt.shift());)ze.unsubscribe();throw Xe}}}(class extends W.o{constructor(ze,pt){super(ze,pt),this.scheduler=ze,this.work=pt}requestAsyncId(ze,pt,Xe=0){return null!==Xe&&Xe>0?super.requestAsyncId(ze,pt,Xe):(ze.actions.push(this),ze.scheduled||(ze.scheduled=K.setImmediate(ze.flush.bind(ze,null))))}recycleAsyncId(ze,pt,Xe=0){if(null!==Xe&&Xe>0||null===Xe&&this.delay>0)return super.recycleAsyncId(ze,pt,Xe);0===ze.actions.length&&(K.clearImmediate(pt),ze.scheduled=void 0)}});var Fe=D(6561);class $e extends h.y{constructor(ze,pt=0,Xe=Ae){super(),this.source=ze,this.delayTime=pt,this.scheduler=Xe,(!(0,Fe.k)(pt)||pt<0)&&(this.delayTime=0),(!Xe||"function"!=typeof Xe.schedule)&&(this.scheduler=Ae)}static create(ze,pt=0,Xe=Ae){return new $e(ze,pt,Xe)}static dispatch(ze){const{source:pt,subscriber:Xe}=ze;return this.add(pt.subscribe(Xe))}_subscribe(ze){return this.scheduler.schedule($e.dispatch,this.delayTime,{source:this.source,subscriber:ze})}}function rt(Le,ze=0){return function(Xe){return Xe.lift(new ye(Le,ze))}}class ye{constructor(ze,pt){this.scheduler=ze,this.delay=pt}call(ze,pt){return new $e(pt,this.delay,this.scheduler).subscribe(ze)}}},3190:(it,ue,D)=>{"use strict";D.d(ue,{w:()=>X});var h=D(8002),A=D(4402),j=D(5345);function X(ee,W){return"function"==typeof W?Y=>Y.pipe(X((U,G)=>(0,A.D)(ee(U,G)).pipe((0,h.U)((re,Ae)=>W(U,re,G,Ae))))):Y=>Y.lift(new ne(ee))}class ne{constructor(W){this.project=W}call(W,Y){return Y.subscribe(new K(W,this.project))}}class K extends j.Ds{constructor(W,Y){super(W),this.project=Y,this.index=0}_next(W){let Y;const U=this.index++;try{Y=this.project(W,U)}catch(G){return void this.destination.error(G)}this._innerSub(Y)}_innerSub(W){const Y=this.innerSubscription;Y&&Y.unsubscribe();const U=new j.IY(this),G=this.destination;G.add(U),this.innerSubscription=(0,j.ft)(W,U),this.innerSubscription!==U&&G.add(this.innerSubscription)}_complete(){const{innerSubscription:W}=this;(!W||W.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(W){this.destination.next(W)}}},9499:(it,ue,D)=>{"use strict";D.d(ue,{c:()=>A});var h=D(3190);function A(j,X){return X?(0,h.w)(()=>j,X):(0,h.w)(()=>j)}},5257:(it,ue,D)=>{"use strict";D.d(ue,{q:()=>X});var h=D(7393),A=D(7108),j=D(9193);function X(ee){return W=>0===ee?(0,j.c)():W.lift(new ne(ee))}class ne{constructor(W){if(this.total=W,this.total<0)throw new A.W}call(W,Y){return Y.subscribe(new K(W,this.total))}}class K extends h.L{constructor(W,Y){super(W),this.total=Y,this.count=0}_next(W){const Y=this.total,U=++this.count;U<=Y&&(this.destination.next(W),U===Y&&(this.destination.complete(),this.unsubscribe()))}}},548:(it,ue,D)=>{"use strict";D.d(ue,{h:()=>X});var h=D(7393),A=D(7108),j=D(9193);function X(ee){return function(Y){return 0===ee?(0,j.c)():Y.lift(new ne(ee))}}class ne{constructor(W){if(this.total=W,this.total<0)throw new A.W}call(W,Y){return Y.subscribe(new K(W,this.total))}}class K extends h.L{constructor(W,Y){super(W),this.total=Y,this.ring=new Array,this.count=0}_next(W){const Y=this.ring,U=this.total,G=this.count++;Y.length<U?Y.push(W):Y[G%U]=W}_complete(){const W=this.destination;let Y=this.count;if(Y>0){const U=this.count>=this.total?this.total:this.count,G=this.ring;for(let re=0;re<U;re++){const Ae=Y++%U;W.next(G[Ae])}}W.complete()}}},8307:(it,ue,D)=>{"use strict";D.d(ue,{b:()=>X});var h=D(7393),A=D(8640),j=D(9105);function X(ee,W,Y){return function(G){return G.lift(new ne(ee,W,Y))}}class ne{constructor(W,Y,U){this.nextOrObserver=W,this.error=Y,this.complete=U}call(W,Y){return Y.subscribe(new K(W,this.nextOrObserver,this.error,this.complete))}}class K extends h.L{constructor(W,Y,U,G){super(W),this._tapNext=A.Z,this._tapError=A.Z,this._tapComplete=A.Z,this._tapError=U||A.Z,this._tapComplete=G||A.Z,(0,j.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||A.Z,this._tapError=Y.error||A.Z,this._tapComplete=Y.complete||A.Z)}_next(W){try{this._tapNext.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4635:(it,ue,D)=>{"use strict";D.d(ue,{T:()=>j});var h=D(3410),A=D(7393);function j(ee=K){return W=>W.lift(new X(ee))}class X{constructor(W){this.errorFactory=W}call(W,Y){return Y.subscribe(new ne(W,this.errorFactory))}}class ne extends A.L{constructor(W,Y){super(W),this.errorFactory=Y,this.hasValue=!1}_next(W){this.hasValue=!0,this.destination.next(W)}_complete(){if(this.hasValue)return this.destination.complete();{let W;try{W=this.errorFactory()}catch(Y){W=Y}this.destination.error(W)}}}function K(){return new h.K}},4087:(it,ue,D)=>{"use strict";D.d(ue,{r:()=>j});var h=D(8891),A=D(5319);function j(X,ne){return new h.y(K=>{const ee=new A.w;let W=0;return ee.add(ne.schedule(function(){W!==X.length?(K.next(X[W++]),K.closed||ee.add(this.schedule())):K.complete()})),ee})}},6465:(it,ue,D)=>{"use strict";D.d(ue,{o:()=>j});var h=D(5319);class A extends h.w{constructor(ne,K){super()}schedule(ne,K=0){return this}}class j extends A{constructor(ne,K){super(ne,K),this.scheduler=ne,this.work=K,this.pending=!1}schedule(ne,K=0){if(this.closed)return this;this.state=ne;const ee=this.id,W=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(W,ee,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(W,this.id,K),this}requestAsyncId(ne,K,ee=0){return setInterval(ne.flush.bind(ne,this),ee)}recycleAsyncId(ne,K,ee=0){if(null!==ee&&this.delay===ee&&!1===this.pending)return K;clearInterval(K)}execute(ne,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(ne,K);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,K){let W,ee=!1;try{this.work(ne)}catch(Y){ee=!0,W=!!Y&&Y||new Error(Y)}if(ee)return this.unsubscribe(),W}_unsubscribe(){const ne=this.id,K=this.scheduler,ee=K.actions,W=ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&ee.splice(W,1),null!=ne&&(this.id=this.recycleAsyncId(K,ne,null)),this.delay=null}}},6102:(it,ue,D)=>{"use strict";D.d(ue,{v:()=>A});let h=(()=>{class j{constructor(ne,K=j.now){this.SchedulerAction=ne,this.now=K}schedule(ne,K=0,ee){return new this.SchedulerAction(this,ne).schedule(ee,K)}}return j.now=()=>Date.now(),j})();class A extends h{constructor(X,ne=h.now){super(X,()=>A.delegate&&A.delegate!==this?A.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(X,ne=0,K){return A.delegate&&A.delegate!==this?A.delegate.schedule(X,ne,K):super.schedule(X,ne,K)}flush(X){const{actions:ne}=this;if(this.active)return void ne.push(X);let K;this.active=!0;do{if(K=X.execute(X.state,X.delay))break}while(X=ne.shift());if(this.active=!1,K){for(;X=ne.shift();)X.unsubscribe();throw K}}}},3637:(it,ue,D)=>{"use strict";D.d(ue,{z:()=>j,P:()=>X});var h=D(6465);const j=new(D(6102).v)(h.o),X=j},7771:(it,ue,D)=>{"use strict";D.d(ue,{c:()=>K,N:()=>ne});var h=D(6465),j=D(6102);const ne=new class extends j.v{}(class extends h.o{constructor(W,Y){super(W,Y),this.scheduler=W,this.work=Y}schedule(W,Y=0){return Y>0?super.schedule(W,Y):(this.delay=Y,this.state=W,this.scheduler.flush(this),this)}execute(W,Y){return Y>0||this.closed?super.execute(W,Y):this._execute(W,Y)}requestAsyncId(W,Y,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(W,Y,U):W.flush(this)}}),K=ne},377:(it,ue,D)=>{"use strict";D.d(ue,{hZ:()=>A});const A="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(it,ue,D)=>{"use strict";D.d(ue,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(it,ue,D)=>{"use strict";D.d(ue,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(it,ue,D)=>{"use strict";D.d(ue,{W:()=>A});const A=(()=>{function j(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return j.prototype=Object.create(Error.prototype),j})()},3410:(it,ue,D)=>{"use strict";D.d(ue,{K:()=>A});const A=(()=>{function j(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return j.prototype=Object.create(Error.prototype),j})()},7971:(it,ue,D)=>{"use strict";D.d(ue,{N:()=>A});const A=(()=>{function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return j.prototype=Object.create(Error.prototype),j})()},4449:(it,ue,D)=>{"use strict";function h(A){setTimeout(()=>{throw A},0)}D.d(ue,{z:()=>h})},4487:(it,ue,D)=>{"use strict";function h(A){return A}D.d(ue,{y:()=>h})},9796:(it,ue,D)=>{"use strict";D.d(ue,{k:()=>h});const h=Array.isArray||(A=>A&&"number"==typeof A.length)},9489:(it,ue,D)=>{"use strict";D.d(ue,{z:()=>h});const h=A=>A&&"number"==typeof A.length&&"function"!=typeof A},9989:(it,ue,D)=>{"use strict";function h(A){return A instanceof Date&&!isNaN(+A)}D.d(ue,{J:()=>h})},9105:(it,ue,D)=>{"use strict";function h(A){return"function"==typeof A}D.d(ue,{m:()=>h})},6561:(it,ue,D)=>{"use strict";D.d(ue,{k:()=>A});var h=D(9796);function A(j){return!(0,h.k)(j)&&j-parseFloat(j)+1>=0}},1555:(it,ue,D)=>{"use strict";function h(A){return null!==A&&"object"==typeof A}D.d(ue,{K:()=>h})},4072:(it,ue,D)=>{"use strict";function h(A){return!!A&&"function"!=typeof A.subscribe&&"function"==typeof A.then}D.d(ue,{t:()=>h})},4869:(it,ue,D)=>{"use strict";function h(A){return A&&"function"==typeof A.schedule}D.d(ue,{K:()=>h})},8640:(it,ue,D)=>{"use strict";function h(){}D.d(ue,{Z:()=>h})},4022:(it,ue,D)=>{"use strict";D.d(ue,{z:()=>A,U:()=>j});var h=D(4487);function A(...X){return j(X)}function j(X){return 0===X.length?h.y:1===X.length?X[0]:function(K){return X.reduce((ee,W)=>W(ee),K)}}},7444:(it,ue,D)=>{"use strict";D.d(ue,{s:()=>G});var h=D(5015),A=D(4449),X=D(377),K=D(6554),W=D(9489),Y=D(4072),U=D(1555);const G=re=>{if(re&&"function"==typeof re[K.L])return(re=>Ae=>{const Fe=re[K.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(Ae)})(re);if((0,W.z)(re))return(0,h.V)(re);if((0,Y.t)(re))return(re=>Ae=>(re.then(Fe=>{Ae.closed||(Ae.next(Fe),Ae.complete())},Fe=>Ae.error(Fe)).then(null,A.z),Ae))(re);if(re&&"function"==typeof re[X.hZ])return(re=>Ae=>{const Fe=re[X.hZ]();for(;;){let $e;try{$e=Fe.next()}catch(rt){return Ae.error(rt),Ae}if($e.done){Ae.complete();break}if(Ae.next($e.value),Ae.closed)break}return"function"==typeof Fe.return&&Ae.add(()=>{Fe.return&&Fe.return()}),Ae})(re);{const Fe=`You provided ${(0,U.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},5015:(it,ue,D)=>{"use strict";D.d(ue,{V:()=>h});const h=A=>j=>{for(let X=0,ne=A.length;X<ne&&!j.closed;X++)j.next(A[X]);j.complete()}},509:(it,ue,D)=>{"use strict";D.d(ue,{D:()=>ne});var h=D(7393);class A extends h.L{constructor(ee,W,Y){super(),this.parent=ee,this.outerValue=W,this.outerIndex=Y,this.index=0}_next(ee){this.parent.notifyNext(this.outerValue,ee,this.outerIndex,this.index++,this)}_error(ee){this.parent.notifyError(ee,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var j=D(7444),X=D(8891);function ne(K,ee,W,Y,U=new A(K,W,Y)){if(!U.closed)return ee instanceof X.y?ee.subscribe(U):(0,j.s)(ee)(U)}},5823:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{audit:()=>A,auditTime:()=>G,buffer:()=>re,bufferCount:()=>rt,bufferTime:()=>pt,bufferToggle:()=>at,bufferWhen:()=>Xt,catchError:()=>Ln.K,combineAll:()=>nn,combineLatest:()=>ht,concat:()=>Kt,concatAll:()=>an.u,concatMap:()=>Vt.b,concatMapTo:()=>Ct,count:()=>jn,debounce:()=>st,debounceTime:()=>Wt,defaultIfEmpty:()=>He.d,delay:()=>Te.g,delayWhen:()=>fe,dematerialize:()=>Mt,distinct:()=>Dn,distinctUntilChanged:()=>Jt.x,distinctUntilKeyChanged:()=>Bt,elementAt:()=>le,endWith:()=>vt,every:()=>Zt,exhaust:()=>rr,exhaustMap:()=>ve,expand:()=>Tn,filter:()=>de.h,finalize:()=>Sn.x,find:()=>ur,findIndex:()=>or,first:()=>Pt.P,flatMap:()=>Wn.VS,groupBy:()=>wn,ignoreElements:()=>jr,isEmpty:()=>be,last:()=>Me.Z,map:()=>we.U,mapTo:()=>Ye,materialize:()=>In,max:()=>Ii,merge:()=>Pi,mergeAll:()=>Bi.J,mergeMap:()=>Wn.zg,mergeMapTo:()=>wi,mergeScan:()=>Ji,min:()=>Or,multicast:()=>vs.O,observeOn:()=>De.QV,onErrorResumeNext:()=>xe,pairwise:()=>qt.G,partition:()=>Hr,pluck:()=>Hn,publish:()=>Hi.n,publishBehavior:()=>$i,publishLast:()=>ls,publishReplay:()=>Ai,race:()=>Fi,reduce:()=>xr,refCount:()=>es.x,repeat:()=>Tr,repeatWhen:()=>li,retry:()=>ws,retryWhen:()=>$r,sample:()=>xi,sampleTime:()=>P,scan:()=>pi.R,sequenceEqual:()=>pe,share:()=>R.B,shareReplay:()=>S.d,single:()=>Ne,skip:()=>yr,skipLast:()=>Sr,skipUntil:()=>hs,skipWhile:()=>la,startWith:()=>Ks.O,subscribeOn:()=>_t.R,switchAll:()=>Wr,switchMap:()=>Qn.w,switchMapTo:()=>wo.c,take:()=>Ie.q,takeLast:()=>Ei.h,takeUntil:()=>zs,takeWhile:()=>Ns,tap:()=>ro.b,throttle:()=>ri,throttleTime:()=>Cr,throwIfEmpty:()=>Se.T,timeInterval:()=>Do,timeout:()=>ma,timeoutWith:()=>To,timestamp:()=>Kr,toArray:()=>Ss,window:()=>so,windowCount:()=>Yr,windowTime:()=>So,windowToggle:()=>Zr,windowWhen:()=>xs,withLatestFrom:()=>Yo,zip:()=>fo,zipAll:()=>Ya});var h=D(5345);function A(v){return function(f){return f.lift(new j(v))}}class j{constructor(l){this.durationSelector=l}call(l,f){return f.subscribe(new X(l,this.durationSelector))}}class X extends h.Ds{constructor(l,f){super(l),this.durationSelector=f,this.hasValue=!1}_next(l){if(this.value=l,this.hasValue=!0,!this.throttled){let f;try{const{durationSelector:x}=this;f=x(l)}catch(x){return this.destination.error(x)}const b=(0,h.ft)(f,new h.IY(this));!b||b.closed?this.clearThrottle():this.add(this.throttled=b)}}clearThrottle(){const{value:l,hasValue:f,throttled:b}=this;b&&(this.remove(b),this.throttled=void 0,b.unsubscribe()),f&&(this.value=void 0,this.hasValue=!1,this.destination.next(l))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ne=D(3637),K=D(8891),ee=D(6561),W=D(4869);function U(v){const{index:l,period:f,subscriber:b}=v;if(b.next(l),!b.closed){if(-1===f)return b.complete();v.index=l+1,this.schedule(v,f)}}function G(v,l=ne.P){return A(()=>function(v=0,l,f){let b=-1;return(0,ee.k)(l)?b=Number(l)<1?1:Number(l):(0,W.K)(l)&&(f=l),(0,W.K)(f)||(f=ne.P),new K.y(x=>{const V=(0,ee.k)(v)?v:+v-f.now();return f.schedule(U,V,{index:0,period:b,subscriber:x})})}(v,l))}function re(v){return function(f){return f.lift(new Ae(v))}}class Ae{constructor(l){this.closingNotifier=l}call(l,f){return f.subscribe(new Fe(l,this.closingNotifier))}}class Fe extends h.Ds{constructor(l,f){super(l),this.buffer=[],this.add((0,h.ft)(f,new h.IY(this)))}_next(l){this.buffer.push(l)}notifyNext(){const l=this.buffer;this.buffer=[],this.destination.next(l)}}var $e=D(7393);function rt(v,l=null){return function(b){return b.lift(new ye(v,l))}}class ye{constructor(l,f){this.bufferSize=l,this.startBufferEvery=f,this.subscriberClass=f&&l!==f?ze:Le}call(l,f){return f.subscribe(new this.subscriberClass(l,this.bufferSize,this.startBufferEvery))}}class Le extends $e.L{constructor(l,f){super(l),this.bufferSize=f,this.buffer=[]}_next(l){const f=this.buffer;f.push(l),f.length==this.bufferSize&&(this.destination.next(f),this.buffer=[])}_complete(){const l=this.buffer;l.length>0&&this.destination.next(l),super._complete()}}class ze extends $e.L{constructor(l,f,b){super(l),this.bufferSize=f,this.startBufferEvery=b,this.buffers=[],this.count=0}_next(l){const{bufferSize:f,startBufferEvery:b,buffers:x,count:V}=this;this.count++,V%b==0&&x.push([]);for(let oe=x.length;oe--;){const ge=x[oe];ge.push(l),ge.length===f&&(x.splice(oe,1),this.destination.next(ge))}}_complete(){const{buffers:l,destination:f}=this;for(;l.length>0;){let b=l.shift();b.length>0&&f.next(b)}super._complete()}}function pt(v){let l=arguments.length,f=ne.P;(0,W.K)(arguments[arguments.length-1])&&(f=arguments[arguments.length-1],l--);let b=null;l>=2&&(b=arguments[1]);let x=Number.POSITIVE_INFINITY;return l>=3&&(x=arguments[2]),function(oe){return oe.lift(new Xe(v,b,x,f))}}class Xe{constructor(l,f,b,x){this.bufferTimeSpan=l,this.bufferCreationInterval=f,this.maxBufferSize=b,this.scheduler=x}call(l,f){return f.subscribe(new tn(l,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class _n{constructor(){this.buffer=[]}}class tn extends $e.L{constructor(l,f,b,x,V){super(l),this.bufferTimeSpan=f,this.bufferCreationInterval=b,this.maxBufferSize=x,this.scheduler=V,this.contexts=[];const oe=this.openContext();if(this.timespanOnly=null==b||b<0,this.timespanOnly)this.add(oe.closeAction=V.schedule(et,f,{subscriber:this,context:oe,bufferTimeSpan:f}));else{const me={bufferTimeSpan:f,bufferCreationInterval:b,subscriber:this,scheduler:V};this.add(oe.closeAction=V.schedule(ke,f,{subscriber:this,context:oe})),this.add(V.schedule(kt,b,me))}}_next(l){const f=this.contexts,b=f.length;let x;for(let V=0;V<b;V++){const oe=f[V],ge=oe.buffer;ge.push(l),ge.length==this.maxBufferSize&&(x=oe)}x&&this.onBufferFull(x)}_error(l){this.contexts.length=0,super._error(l)}_complete(){const{contexts:l,destination:f}=this;for(;l.length>0;){const b=l.shift();f.next(b.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(l){this.closeContext(l);const f=l.closeAction;if(f.unsubscribe(),this.remove(f),!this.closed&&this.timespanOnly){l=this.openContext();const b=this.bufferTimeSpan;this.add(l.closeAction=this.scheduler.schedule(et,b,{subscriber:this,context:l,bufferTimeSpan:b}))}}openContext(){const l=new _n;return this.contexts.push(l),l}closeContext(l){this.destination.next(l.buffer);const f=this.contexts;(f?f.indexOf(l):-1)>=0&&f.splice(f.indexOf(l),1)}}function et(v){const l=v.subscriber,f=v.context;f&&l.closeContext(f),l.closed||(v.context=l.openContext(),v.context.closeAction=this.schedule(v,v.bufferTimeSpan))}function kt(v){const{bufferCreationInterval:l,bufferTimeSpan:f,subscriber:b,scheduler:x}=v,V=b.openContext();b.closed||(b.add(V.closeAction=x.schedule(ke,f,{subscriber:b,context:V})),this.schedule(v,l))}function ke(v){const{subscriber:l,context:f}=v;l.closeContext(f)}var ut=D(5319),dt=D(509),It=D(5197);function at(v,l){return function(b){return b.lift(new jt(v,l))}}class jt{constructor(l,f){this.openings=l,this.closingSelector=f}call(l,f){return f.subscribe(new gt(l,this.openings,this.closingSelector))}}class gt extends It.L{constructor(l,f,b){super(l),this.closingSelector=b,this.contexts=[],this.add((0,dt.D)(this,f))}_next(l){const f=this.contexts,b=f.length;for(let x=0;x<b;x++)f[x].buffer.push(l)}_error(l){const f=this.contexts;for(;f.length>0;){const b=f.shift();b.subscription.unsubscribe(),b.buffer=null,b.subscription=null}this.contexts=null,super._error(l)}_complete(){const l=this.contexts;for(;l.length>0;){const f=l.shift();this.destination.next(f.buffer),f.subscription.unsubscribe(),f.buffer=null,f.subscription=null}this.contexts=null,super._complete()}notifyNext(l,f){l?this.closeBuffer(l):this.openBuffer(f)}notifyComplete(l){this.closeBuffer(l.context)}openBuffer(l){try{const b=this.closingSelector.call(this,l);b&&this.trySubscribe(b)}catch(f){this._error(f)}}closeBuffer(l){const f=this.contexts;if(f&&l){const{buffer:b,subscription:x}=l;this.destination.next(b),f.splice(f.indexOf(l),1),this.remove(x),x.unsubscribe()}}trySubscribe(l){const f=this.contexts,x=new ut.w,V={buffer:[],subscription:x};f.push(V);const oe=(0,dt.D)(this,l,V);!oe||oe.closed?this.closeBuffer(V):(oe.context=V,this.add(oe),x.add(oe))}}function Xt(v){return function(l){return l.lift(new Gn(v))}}class Gn{constructor(l){this.closingSelector=l}call(l,f){return f.subscribe(new vn(l,this.closingSelector))}}class vn extends h.Ds{constructor(l,f){super(l),this.closingSelector=f,this.subscribing=!1,this.openBuffer()}_next(l){this.buffer.push(l)}_complete(){const l=this.buffer;l&&this.destination.next(l),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let b,{closingSubscription:l}=this;l&&(this.remove(l),l.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:x}=this;b=x()}catch(x){return this.error(x)}l=new ut.w,this.closingSubscription=l,this.add(l),this.subscribing=!0,l.add((0,h.ft)(b,new h.IY(this))),this.subscribing=!1}}var Ln=D(5304),un=D(9112);function nn(v){return l=>l.lift(new un.Ms(v))}var ar=D(9796),Dt=D(4402);function ht(...v){let l=null;return"function"==typeof v[v.length-1]&&(l=v.pop()),1===v.length&&(0,ar.k)(v[0])&&(v=v[0].slice()),f=>f.lift.call((0,Dt.D)([f,...v]),new un.Ms(l))}var pn=D(9923);function Kt(...v){return l=>l.lift.call((0,pn.z)(l,...v))}var an=D(5766),Vt=D(4612);function Ct(v,l){return(0,Vt.b)(()=>v,l)}function jn(v){return l=>l.lift(new Jn(v,l))}class Jn{constructor(l,f){this.predicate=l,this.source=f}call(l,f){return f.subscribe(new Yt(l,this.predicate,this.source))}}class Yt extends $e.L{constructor(l,f,b){super(l),this.predicate=f,this.source=b,this.count=0,this.index=0}_next(l){this.predicate?this._tryPredicate(l):this.count++}_tryPredicate(l){let f;try{f=this.predicate(l,this.index++,this.source)}catch(b){return void this.destination.error(b)}f&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function st(v){return l=>l.lift(new Cn(v))}class Cn{constructor(l){this.durationSelector=l}call(l,f){return f.subscribe(new Bn(l,this.durationSelector))}}class Bn extends h.Ds{constructor(l,f){super(l),this.durationSelector=f,this.hasValue=!1}_next(l){try{const f=this.durationSelector.call(this,l);f&&this._tryNext(l,f)}catch(f){this.destination.error(f)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(l,f){let b=this.durationSubscription;this.value=l,this.hasValue=!0,b&&(b.unsubscribe(),this.remove(b)),b=(0,h.ft)(f,new h.IY(this)),b&&!b.closed&&this.add(this.durationSubscription=b)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const l=this.value,f=this.durationSubscription;f&&(this.durationSubscription=void 0,f.unsubscribe(),this.remove(f)),this.value=void 0,this.hasValue=!1,super._next(l)}}}function Wt(v,l=ne.P){return f=>f.lift(new hn(v,l))}class hn{constructor(l,f){this.dueTime=l,this.scheduler=f}call(l,f){return f.subscribe(new Kn(l,this.dueTime,this.scheduler))}}class Kn extends $e.L{constructor(l,f,b){super(l),this.dueTime=f,this.scheduler=b,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(l){this.clearDebounce(),this.lastValue=l,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:l}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(l)}}clearDebounce(){const l=this.debouncedSubscription;null!==l&&(this.remove(l),l.unsubscribe(),this.debouncedSubscription=null)}}function cr(v){v.debouncedNext()}var He=D(5242),Te=D(5792);function fe(v,l){return l?f=>new Nt(f,l).lift(new Ze(v)):f=>f.lift(new Ze(v))}class Ze{constructor(l){this.delayDurationSelector=l}call(l,f){return f.subscribe(new tt(l,this.delayDurationSelector))}}class tt extends It.L{constructor(l,f){super(l),this.delayDurationSelector=f,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(l,f,b,x,V){this.destination.next(l),this.removeSubscription(V),this.tryComplete()}notifyError(l,f){this._error(l)}notifyComplete(l){const f=this.removeSubscription(l);f&&this.destination.next(f),this.tryComplete()}_next(l){const f=this.index++;try{const b=this.delayDurationSelector(l,f);b&&this.tryDelay(b,l)}catch(b){this.destination.error(b)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(l){l.unsubscribe();const f=this.delayNotifierSubscriptions.indexOf(l);return-1!==f&&this.delayNotifierSubscriptions.splice(f,1),l.outerValue}tryDelay(l,f){const b=(0,dt.D)(this,l,f);b&&!b.closed&&(this.destination.add(b),this.delayNotifierSubscriptions.push(b))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class Nt extends K.y{constructor(l,f){super(),this.source=l,this.subscriptionDelay=f}_subscribe(l){this.subscriptionDelay.subscribe(new lt(l,this.source))}}class lt extends $e.L{constructor(l,f){super(),this.parent=l,this.source=f,this.sourceSubscribed=!1}_next(l){this.subscribeToSource()}_error(l){this.unsubscribe(),this.parent.error(l)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function Mt(){return function(l){return l.lift(new cn)}}class cn{call(l,f){return f.subscribe(new zn(l))}}class zn extends $e.L{constructor(l){super(l)}_next(l){l.observe(this.destination)}}function Dn(v,l){return f=>f.lift(new sn(v,l))}class sn{constructor(l,f){this.keySelector=l,this.flushes=f}call(l,f){return f.subscribe(new lr(l,this.keySelector,this.flushes))}}class lr extends h.Ds{constructor(l,f,b){super(l),this.keySelector=f,this.values=new Set,b&&this.add((0,h.ft)(b,new h.IY(this)))}notifyNext(){this.values.clear()}notifyError(l){this._error(l)}_next(l){this.keySelector?this._useKeySelector(l):this._finalizeNext(l,l)}_useKeySelector(l){let f;const{destination:b}=this;try{f=this.keySelector(l)}catch(x){return void b.error(x)}this._finalizeNext(f,l)}_finalizeNext(l,f){const{values:b}=this;b.has(l)||(b.add(l),this.destination.next(f))}}var Jt=D(7519);function Bt(v,l){return(0,Jt.x)((f,b)=>l?l(f[v],b[v]):f[v]===b[v])}var ce=D(7108),de=D(5435),Se=D(4635),Ie=D(5257);function le(v,l){if(v<0)throw new ce.W;const f=arguments.length>=2;return b=>b.pipe((0,de.h)((x,V)=>V===v),(0,Ie.q)(1),f?(0,He.d)(l):(0,Se.T)(()=>new ce.W))}var qe=D(5917);function vt(...v){return l=>(0,pn.z)(l,(0,qe.of)(...v))}function Zt(v,l){return f=>f.lift(new En(v,l,f))}class En{constructor(l,f,b){this.predicate=l,this.thisArg=f,this.source=b}call(l,f){return f.subscribe(new kn(l,this.predicate,this.thisArg,this.source))}}class kn extends $e.L{constructor(l,f,b,x){super(l),this.predicate=f,this.thisArg=b,this.source=x,this.index=0,this.thisArg=b||this}notifyComplete(l){this.destination.next(l),this.destination.complete()}_next(l){let f=!1;try{f=this.predicate.call(this.thisArg,l,this.index++,this.source)}catch(b){return void this.destination.error(b)}f||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function rr(){return v=>v.lift(new On)}class On{call(l,f){return f.subscribe(new Ue(l))}}class Ue extends h.Ds{constructor(l){super(l),this.hasCompleted=!1,this.hasSubscription=!1}_next(l){this.hasSubscription||(this.hasSubscription=!0,this.add((0,h.ft)(l,new h.IY(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var we=D(8002);function ve(v,l){return l?f=>f.pipe(ve((b,x)=>(0,Dt.D)(v(b,x)).pipe((0,we.U)((V,oe)=>l(b,V,x,oe))))):f=>f.lift(new ot(v))}class ot{constructor(l){this.project=l}call(l,f){return f.subscribe(new xt(l,this.project))}}class xt extends h.Ds{constructor(l,f){super(l),this.project=f,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(l){this.hasSubscription||this.tryNext(l)}tryNext(l){let f;const b=this.index++;try{f=this.project(l,b)}catch(x){return void this.destination.error(x)}this.hasSubscription=!0,this._innerSub(f)}_innerSub(l){const f=new h.IY(this),b=this.destination;b.add(f);const x=(0,h.ft)(l,f);x!==f&&b.add(x)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(l){this.destination.next(l)}notifyError(l){this.destination.error(l)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function Tn(v,l=Number.POSITIVE_INFINITY,f){return l=(l||0)<1?Number.POSITIVE_INFINITY:l,b=>b.lift(new bn(v,l,f))}class bn{constructor(l,f,b){this.project=l,this.concurrent=f,this.scheduler=b}call(l,f){return f.subscribe(new ln(l,this.project,this.concurrent,this.scheduler))}}class ln extends h.Ds{constructor(l,f,b,x){super(l),this.project=f,this.concurrent=b,this.scheduler=x,this.index=0,this.active=0,this.hasCompleted=!1,b<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(l){const{subscriber:f,result:b,value:x,index:V}=l;f.subscribeToProjection(b,x,V)}_next(l){const f=this.destination;if(f.closed)return void this._complete();const b=this.index++;if(this.active<this.concurrent){f.next(l);try{const{project:x}=this,V=x(l,b);this.scheduler?this.destination.add(this.scheduler.schedule(ln.dispatch,0,{subscriber:this,result:V,value:l,index:b})):this.subscribeToProjection(V,l,b)}catch(x){f.error(x)}}else this.buffer.push(l)}subscribeToProjection(l,f,b){this.active++,this.destination.add((0,h.ft)(l,new h.IY(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(l){this._next(l)}notifyComplete(){const l=this.buffer;this.active--,l&&l.length>0&&this._next(l.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}var Sn=D(197);function ur(v,l){if("function"!=typeof v)throw new TypeError("predicate is not a function");return f=>f.lift(new dr(v,f,!1,l))}class dr{constructor(l,f,b,x){this.predicate=l,this.source=f,this.yieldIndex=b,this.thisArg=x}call(l,f){return f.subscribe(new An(l,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class An extends $e.L{constructor(l,f,b,x,V){super(l),this.predicate=f,this.source=b,this.yieldIndex=x,this.thisArg=V,this.index=0}notifyComplete(l){const f=this.destination;f.next(l),f.complete(),this.unsubscribe()}_next(l){const{predicate:f,thisArg:b}=this,x=this.index++;try{f.call(b||this,l,x,this.source)&&this.notifyComplete(this.yieldIndex?x:l)}catch(V){this.destination.error(V)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function or(v,l){return f=>f.lift(new dr(v,f,!0,l))}var Pt=D(8049),Ht=D(9765);function wn(v,l,f,b){return x=>x.lift(new br(v,l,f,b))}class br{constructor(l,f,b,x){this.keySelector=l,this.elementSelector=f,this.durationSelector=b,this.subjectSelector=x}call(l,f){return f.subscribe(new Ir(l,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ir extends $e.L{constructor(l,f,b,x,V){super(l),this.keySelector=f,this.elementSelector=b,this.durationSelector=x,this.subjectSelector=V,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(l){let f;try{f=this.keySelector(l)}catch(b){return void this.error(b)}this._group(l,f)}_group(l,f){let b=this.groups;b||(b=this.groups=new Map);let V,x=b.get(f);if(this.elementSelector)try{V=this.elementSelector(l)}catch(oe){this.error(oe)}else V=l;if(!x){x=this.subjectSelector?this.subjectSelector():new Ht.xQ,b.set(f,x);const oe=new _r(f,x,this);if(this.destination.next(oe),this.durationSelector){let ge;try{ge=this.durationSelector(new _r(f,x))}catch(me){return void this.error(me)}this.add(ge.subscribe(new Zn(f,x,this)))}}x.closed||x.next(V)}_error(l){const f=this.groups;f&&(f.forEach((b,x)=>{b.error(l)}),f.clear()),this.destination.error(l)}_complete(){const l=this.groups;l&&(l.forEach((f,b)=>{f.complete()}),l.clear()),this.destination.complete()}removeGroup(l){this.groups.delete(l)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Zn extends $e.L{constructor(l,f,b){super(f),this.key=l,this.group=f,this.parent=b}_next(l){this.complete()}_unsubscribe(){const{parent:l,key:f}=this;this.key=this.parent=null,l&&l.removeGroup(f)}}class _r extends K.y{constructor(l,f,b){super(),this.key=l,this.groupSubject=f,this.refCountSubscription=b}_subscribe(l){const f=new ut.w,{refCountSubscription:b,groupSubject:x}=this;return b&&!b.closed&&f.add(new qn(b)),f.add(x.subscribe(l)),f}}class qn extends ut.w{constructor(l){super(),this.parent=l,l.count++}unsubscribe(){const l=this.parent;!l.closed&&!this.closed&&(super.unsubscribe(),l.count-=1,0===l.count&&l.attemptedToUnsubscribe&&l.unsubscribe())}}function jr(){return function(l){return l.lift(new ti)}}class ti{call(l,f){return f.subscribe(new gn(l))}}class gn extends $e.L{_next(l){}}function be(){return v=>v.lift(new Ce)}class Ce{call(l,f){return f.subscribe(new ie(l))}}class ie extends $e.L{constructor(l){super(l)}notifyComplete(l){const f=this.destination;f.next(l),f.complete()}_next(l){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var Me=D(2627);function Ye(v){return l=>l.lift(new rn(v))}class rn{constructor(l){this.value=l}call(l,f){return f.subscribe(new mn(l,this.value))}}class mn extends $e.L{constructor(l,f){super(l),this.value=f}_next(l){this.destination.next(this.value)}}var Vn=D(3098);function In(){return function(l){return l.lift(new Yi)}}class Yi{call(l,f){return f.subscribe(new vi(l))}}class vi extends $e.L{constructor(l){super(l)}_next(l){this.destination.next(Vn.P.createNext(l))}_error(l){const f=this.destination;f.next(Vn.P.createError(l)),f.complete()}_complete(){const l=this.destination;l.next(Vn.P.createComplete()),l.complete()}}var pi=D(2145),Ei=D(548),bi=D(4022);function xr(v,l){return arguments.length>=2?function(b){return(0,bi.z)((0,pi.R)(v,l),(0,Ei.h)(1),(0,He.d)(l))(b)}:function(b){return(0,bi.z)((0,pi.R)((x,V,oe)=>v(x,V,oe+1)),(0,Ei.h)(1))(b)}}function Ii(v){return xr("function"==typeof v?(f,b)=>v(f,b)>0?f:b:(f,b)=>f>b?f:b)}var Br=D(6682);function Pi(...v){return l=>l.lift.call((0,Br.T)(l,...v))}var Bi=D(3282),Wn=D(9773);function wi(v,l,f=Number.POSITIVE_INFINITY){return"function"==typeof l?(0,Wn.zg)(()=>v,l,f):("number"==typeof l&&(f=l),(0,Wn.zg)(()=>v,f))}function Ji(v,l,f=Number.POSITIVE_INFINITY){return b=>b.lift(new Ci(v,l,f))}class Ci{constructor(l,f,b){this.accumulator=l,this.seed=f,this.concurrent=b}call(l,f){return f.subscribe(new ui(l,this.accumulator,this.seed,this.concurrent))}}class ui extends h.Ds{constructor(l,f,b,x){super(l),this.accumulator=f,this.acc=b,this.concurrent=x,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(l){if(this.active<this.concurrent){const f=this.index++,b=this.destination;let x;try{const{accumulator:V}=this;x=V(this.acc,l,f)}catch(V){return b.error(V)}this.active++,this._innerSub(x)}else this.buffer.push(l)}_innerSub(l){const f=new h.IY(this),b=this.destination;b.add(f);const x=(0,h.ft)(l,f);x!==f&&b.add(x)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(l){const{destination:f}=this;this.acc=l,this.hasValue=!0,f.next(l)}notifyComplete(){const l=this.buffer;this.active--,l.length>0?this._next(l.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function Or(v){return xr("function"==typeof v?(f,b)=>v(f,b)<0?f:b:(f,b)=>f<b?f:b)}var vs=D(4458),De=D(9746);function xe(...v){return 1===v.length&&(0,ar.k)(v[0])&&(v=v[0]),l=>l.lift(new ct(v))}class ct{constructor(l){this.nextSources=l}call(l,f){return f.subscribe(new Tt(l,this.nextSources))}}class Tt extends h.Ds{constructor(l,f){super(l),this.destination=l,this.nextSources=f}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(l){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const l=this.nextSources.shift();if(l){const f=new h.IY(this),b=this.destination;b.add(f);const x=(0,h.ft)(l,f);x!==f&&b.add(x)}else this.destination.complete()}}var qt=D(9328);function nr(v,l){function f(){return!f.pred.apply(f.thisArg,arguments)}return f.pred=v,f.thisArg=l,f}function Hr(v,l){return f=>[(0,de.h)(v,l)(f),(0,de.h)(nr(v,l))(f)]}function Hn(...v){const l=v.length;if(0===l)throw new Error("list of properties cannot be empty.");return f=>(0,we.U)(function(v,l){return b=>{let x=b;for(let V=0;V<l;V++){const oe=null!=x?x[v[V]]:void 0;if(void 0===oe)return;x=oe}return x}}(v,l))(f)}var Hi=D(2790),gi=D(6215);function $i(v){return l=>(0,vs.O)(new gi.X(v))(l)}class ki extends Ht.xQ{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(l){return this.hasError?(l.error(this.thrownError),ut.w.EMPTY):this.hasCompleted&&this.hasNext?(l.next(this.value),l.complete(),ut.w.EMPTY):super._subscribe(l)}next(l){this.hasCompleted||(this.value=l,this.hasNext=!0)}error(l){this.hasCompleted||super.error(l)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function ls(){return v=>(0,vs.O)(new ki)(v)}var Wo=D(8229);function Ai(v,l,f,b){f&&"function"!=typeof f&&(b=f);const x="function"==typeof f?f:void 0,V=new Wo.t(v,l,b);return oe=>(0,vs.O)(()=>V,x)(oe)}var ci=D(6693);class Es{call(l,f){return f.subscribe(new bs(l))}}class bs extends It.L{constructor(l){super(l),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(l){this.observables.push(l)}_complete(){const l=this.observables,f=l.length;if(0===f)this.destination.complete();else{for(let b=0;b<f&&!this.hasFirst;b++){const V=(0,dt.D)(this,l[b],void 0,b);this.subscriptions&&this.subscriptions.push(V),this.add(V)}this.observables=null}}notifyNext(l,f,b){if(!this.hasFirst){this.hasFirst=!0;for(let x=0;x<this.subscriptions.length;x++)if(x!==b){let V=this.subscriptions[x];V.unsubscribe(),this.remove(V)}this.subscriptions=null}this.destination.next(f)}}function Fi(...v){return function(f){return 1===v.length&&(0,ar.k)(v[0])&&(v=v[0]),f.lift.call(function(...v){if(1===v.length){if(!(0,ar.k)(v[0]))return v[0];v=v[0]}return(0,ci.n)(v,void 0).lift(new Es)}(f,...v))}}var Xi=D(9193);function Tr(v=-1){return l=>0===v?(0,Xi.c)():l.lift(new Qr(v<0?-1:v-1,l))}class Qr{constructor(l,f){this.count=l,this.source=f}call(l,f){return f.subscribe(new os(l,this.count,this.source))}}class os extends $e.L{constructor(l,f,b){super(l),this.count=f,this.source=b}complete(){if(!this.isStopped){const{source:l,count:f}=this;if(0===f)return super.complete();f>-1&&(this.count=f-1),l.subscribe(this._unsubscribeAndRecycle())}}}function li(v){return l=>l.lift(new hr(v))}class hr{constructor(l){this.notifier=l}call(l,f){return f.subscribe(new Is(l,this.notifier,f))}}class Is extends h.Ds{constructor(l,f,b){super(l),this.notifier=f,this.source=b,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:l,retriesSubscription:f}=this;l&&(l.unsubscribe(),this.notifications=void 0),f&&(f.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:l}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=l,this}subscribeToRetries(){let l;this.notifications=new Ht.xQ;try{const{notifier:f}=this;l=f(this.notifications)}catch(f){return super.complete()}this.retries=l,this.retriesSubscription=(0,h.ft)(l,new h.IY(this))}}function ws(v=-1){return l=>l.lift(new ds(v,l))}class ds{constructor(l,f){this.count=l,this.source=f}call(l,f){return f.subscribe(new Gi(l,this.count,this.source))}}class Gi extends $e.L{constructor(l,f,b){super(l),this.count=f,this.source=b}error(l){if(!this.isStopped){const{source:f,count:b}=this;if(0===b)return super.error(l);b>-1&&(this.count=b-1),f.subscribe(this._unsubscribeAndRecycle())}}}function $r(v){return l=>l.lift(new mi(v,l))}class mi{constructor(l,f){this.notifier=l,this.source=f}call(l,f){return f.subscribe(new Cs(l,this.notifier,this.source))}}class Cs extends h.Ds{constructor(l,f,b){super(l),this.notifier=f,this.source=b}error(l){if(!this.isStopped){let f=this.errors,b=this.retries,x=this.retriesSubscription;if(b)this.errors=void 0,this.retriesSubscription=void 0;else{f=new Ht.xQ;try{const{notifier:V}=this;b=V(f)}catch(V){return super.error(V)}x=(0,h.ft)(b,new h.IY(this))}this._unsubscribeAndRecycle(),this.errors=f,this.retries=b,this.retriesSubscription=x,f.next(l)}}_unsubscribe(){const{errors:l,retriesSubscription:f}=this;l&&(l.unsubscribe(),this.errors=void 0),f&&(f.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:l}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=l,this.source.subscribe(this)}}var es=D(1307);function xi(v){return l=>l.lift(new vr(v))}class vr{constructor(l){this.notifier=l}call(l,f){const b=new Ds(l),x=f.subscribe(b);return x.add((0,h.ft)(this.notifier,new h.IY(b))),x}}class Ds extends h.Ds{constructor(){super(...arguments),this.hasValue=!1}_next(l){this.value=l,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function P(v,l=ne.P){return f=>f.lift(new Q(v,l))}class Q{constructor(l,f){this.period=l,this.scheduler=f}call(l,f){return f.subscribe(new k(l,this.period,this.scheduler))}}class k extends $e.L{constructor(l,f,b){super(l),this.period=f,this.scheduler=b,this.hasValue=!1,this.add(b.schedule(J,f,{subscriber:this,period:f}))}_next(l){this.lastValue=l,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function J(v){let{subscriber:l,period:f}=v;l.notifyNext(),this.schedule(v,f)}function pe(v,l){return f=>f.lift(new Qe(v,l))}class Qe{constructor(l,f){this.compareTo=l,this.comparator=f}call(l,f){return f.subscribe(new bt(l,this.compareTo,this.comparator))}}class bt extends $e.L{constructor(l,f,b){super(l),this.compareTo=f,this.comparator=b,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(f.subscribe(new N(l,this)))}_next(l){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(l),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:l,_b:f,comparator:b}=this;for(;l.length>0&&f.length>0;){let x=l.shift(),V=f.shift(),oe=!1;try{oe=b?b(x,V):x===V}catch(ge){this.destination.error(ge)}oe||this.emit(!1)}}emit(l){const{destination:f}=this;f.next(l),f.complete()}nextB(l){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(l),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class N extends $e.L{constructor(l,f){super(l),this.parent=f}_next(l){this.parent.nextB(l)}_error(l){this.parent.error(l),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}var R=D(8345),S=D(7349),z=D(3410);function Ne(v){return l=>l.lift(new St(v,l))}class St{constructor(l,f){this.predicate=l,this.source=f}call(l,f){return f.subscribe(new fn(l,this.predicate,this.source))}}class fn extends $e.L{constructor(l,f,b){super(l),this.predicate=f,this.source=b,this.seenValue=!1,this.index=0}applySingleValue(l){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=l)}_next(l){const f=this.index++;this.predicate?this.tryNext(l,f):this.applySingleValue(l)}tryNext(l,f){try{this.predicate(l,f,this.source)&&this.applySingleValue(l)}catch(b){this.destination.error(b)}}_complete(){const l=this.destination;this.index>0?(l.next(this.seenValue?this.singleValue:void 0),l.complete()):l.error(new z.K)}}function yr(v){return l=>l.lift(new ni(v))}class ni{constructor(l){this.total=l}call(l,f){return f.subscribe(new pr(l,this.total))}}class pr extends $e.L{constructor(l,f){super(l),this.total=f,this.count=0}_next(l){++this.count>this.total&&this.destination.next(l)}}function Sr(v){return l=>l.lift(new Ri(v))}class Ri{constructor(l){if(this._skipCount=l,this._skipCount<0)throw new ce.W}call(l,f){return f.subscribe(0===this._skipCount?new $e.L(l):new xn(l,this._skipCount))}}class xn extends $e.L{constructor(l,f){super(l),this._skipCount=f,this._count=0,this._ring=new Array(f)}_next(l){const f=this._skipCount,b=this._count++;if(b<f)this._ring[b]=l;else{const x=b%f,V=this._ring,oe=V[x];V[x]=l,this.destination.next(oe)}}}function hs(v){return l=>l.lift(new to(v))}class to{constructor(l){this.notifier=l}call(l,f){return f.subscribe(new ca(l,this.notifier))}}class ca extends h.Ds{constructor(l,f){super(l),this.hasValue=!1;const b=new h.IY(this);this.add(b),this.innerSubscription=b;const x=(0,h.ft)(f,b);x!==b&&(this.add(x),this.innerSubscription=x)}_next(l){this.hasValue&&super._next(l)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function la(v){return l=>l.lift(new da(v))}class da{constructor(l){this.predicate=l}call(l,f){return f.subscribe(new Go(l,this.predicate))}}class Go extends $e.L{constructor(l,f){super(l),this.predicate=f,this.skipping=!0,this.index=0}_next(l){const f=this.destination;this.skipping&&this.tryCallPredicate(l),this.skipping||f.next(l)}tryCallPredicate(l){try{const f=this.predicate(l,this.index++);this.skipping=Boolean(f)}catch(f){this.destination.error(f)}}}var Ks=D(9761),_t=D(2639),Qn=D(3190),Ko=D(4487);function Wr(){return(0,Qn.w)(Ko.y)}var wo=D(9499);function zs(v){return l=>l.lift(new fs(v))}class fs{constructor(l){this.notifier=l}call(l,f){const b=new no(l),x=(0,h.ft)(this.notifier,new h.IY(b));return x&&!b.seenValue?(b.add(x),f.subscribe(b)):b}}class no extends h.Ds{constructor(l){super(l),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ns(v,l=!1){return f=>f.lift(new Co(v,l))}class Co{constructor(l,f){this.predicate=l,this.inclusive=f}call(l,f){return f.subscribe(new Zs(l,this.predicate,this.inclusive))}}class Zs extends $e.L{constructor(l,f,b){super(l),this.predicate=f,this.inclusive=b,this.index=0}_next(l){const f=this.destination;let b;try{b=this.predicate(l,this.index++)}catch(x){return void f.error(x)}this.nextOrComplete(l,b)}nextOrComplete(l,f){const b=this.destination;Boolean(f)?b.next(l):(this.inclusive&&b.next(l),b.complete())}}var ro=D(8307);const Ts={leading:!0,trailing:!1};function ri(v,l=Ts){return f=>f.lift(new Di(v,!!l.leading,!!l.trailing))}class Di{constructor(l,f,b){this.durationSelector=l,this.leading=f,this.trailing=b}call(l,f){return f.subscribe(new ha(l,this.durationSelector,this.leading,this.trailing))}}class ha extends h.Ds{constructor(l,f,b,x){super(l),this.destination=l,this.durationSelector=f,this._leading=b,this._trailing=x,this._hasValue=!1}_next(l){this._hasValue=!0,this._sendValue=l,this._throttled||(this._leading?this.send():this.throttle(l))}send(){const{_hasValue:l,_sendValue:f}=this;l&&(this.destination.next(f),this.throttle(f)),this._hasValue=!1,this._sendValue=void 0}throttle(l){const f=this.tryDurationSelector(l);f&&this.add(this._throttled=(0,h.ft)(f,new h.IY(this)))}tryDurationSelector(l){try{return this.durationSelector(l)}catch(f){return this.destination.error(f),null}}throttlingDone(){const{_throttled:l,_trailing:f}=this;l&&l.unsubscribe(),this._throttled=void 0,f&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function Cr(v,l=ne.P,f=Ts){return b=>b.lift(new Mi(v,l,f.leading,f.trailing))}class Mi{constructor(l,f,b,x){this.duration=l,this.scheduler=f,this.leading=b,this.trailing=x}call(l,f){return f.subscribe(new fa(l,this.duration,this.scheduler,this.leading,this.trailing))}}class fa extends $e.L{constructor(l,f,b,x,V){super(l),this.duration=f,this.scheduler=b,this.leading=x,this.trailing=V,this._hasTrailingValue=!1,this._trailingValue=null}_next(l){this.throttled?this.trailing&&(this._trailingValue=l,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(io,this.duration,{subscriber:this})),this.leading?this.destination.next(l):this.trailing&&(this._trailingValue=l,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const l=this.throttled;l&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),l.unsubscribe(),this.remove(l),this.throttled=null)}}function io(v){const{subscriber:l}=v;l.clearThrottle()}var zo=D(1439);function Do(v=ne.P){return l=>(0,zo.P)(()=>l.pipe((0,pi.R)(({current:f},b)=>({value:b,current:v.now(),last:f}),{current:v.now(),value:void 0,last:void 0}),(0,we.U)(({current:f,last:b,value:x})=>new Zo(x,f-b))))}class Zo{constructor(l,f){this.value=l,this.interval=f}}const pa=(()=>{function v(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return v.prototype=Object.create(Error.prototype),v})();var qs=D(9989);function To(v,l,f=ne.P){return b=>{let x=(0,qs.J)(v),V=x?+v-f.now():Math.abs(v);return b.lift(new ns(V,x,l,f))}}class ns{constructor(l,f,b,x){this.waitFor=l,this.absoluteTimeout=f,this.withObservable=b,this.scheduler=x}call(l,f){return f.subscribe(new Ps(l,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Ps extends h.Ds{constructor(l,f,b,x,V){super(l),this.absoluteTimeout=f,this.waitFor=b,this.withObservable=x,this.scheduler=V,this.scheduleTimeout()}static dispatchTimeout(l){const{withObservable:f}=l;l._unsubscribeAndRecycle(),l.add((0,h.ft)(f,new h.IY(l)))}scheduleTimeout(){const{action:l}=this;l?this.action=l.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Ps.dispatchTimeout,this.waitFor,this))}_next(l){this.absoluteTimeout||this.scheduleTimeout(),super._next(l)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var ga=D(205);function ma(v,l=ne.P){return To(v,(0,ga._)(new pa),l)}function Kr(v=ne.P){return(0,we.U)(l=>new ya(l,v.now()))}class ya{constructor(l,f){this.value=l,this.timestamp=f}}function ps(v,l,f){return 0===f?[l]:(v.push(l),v)}function Ss(){return xr(ps,[])}function so(v){return function(f){return f.lift(new zr(v))}}class zr{constructor(l){this.windowBoundaries=l}call(l,f){const b=new rs(l),x=f.subscribe(b);return x.closed||b.add((0,h.ft)(this.windowBoundaries,new h.IY(b))),x}}class rs extends h.Ds{constructor(l){super(l),this.window=new Ht.xQ,l.next(this.window)}notifyNext(){this.openWindow()}notifyError(l){this._error(l)}notifyComplete(){this._complete()}_next(l){this.window.next(l)}_error(l){this.window.error(l),this.destination.error(l)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const l=this.window;l&&l.complete();const f=this.destination,b=this.window=new Ht.xQ;f.next(b)}}function Yr(v,l=0){return function(b){return b.lift(new ks(v,l))}}class ks{constructor(l,f){this.windowSize=l,this.startWindowEvery=f}call(l,f){return f.subscribe(new qo(l,this.windowSize,this.startWindowEvery))}}class qo extends $e.L{constructor(l,f,b){super(l),this.destination=l,this.windowSize=f,this.startWindowEvery=b,this.windows=[new Ht.xQ],this.count=0,l.next(this.windows[0])}_next(l){const f=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,b=this.destination,x=this.windowSize,V=this.windows,oe=V.length;for(let me=0;me<oe&&!this.closed;me++)V[me].next(l);const ge=this.count-x+1;if(ge>=0&&ge%f==0&&!this.closed&&V.shift().complete(),++this.count%f==0&&!this.closed){const me=new Ht.xQ;V.push(me),b.next(me)}}_error(l){const f=this.windows;if(f)for(;f.length>0&&!this.closed;)f.shift().error(l);this.destination.error(l)}_complete(){const l=this.windows;if(l)for(;l.length>0&&!this.closed;)l.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function So(v){let l=ne.P,f=null,b=Number.POSITIVE_INFINITY;return(0,W.K)(arguments[3])&&(l=arguments[3]),(0,W.K)(arguments[2])?l=arguments[2]:(0,ee.k)(arguments[2])&&(b=Number(arguments[2])),(0,W.K)(arguments[1])?l=arguments[1]:(0,ee.k)(arguments[1])&&(f=Number(arguments[1])),function(V){return V.lift(new Ao(v,f,b,l))}}class Ao{constructor(l,f,b,x){this.windowTimeSpan=l,this.windowCreationInterval=f,this.maxWindowSize=b,this.scheduler=x}call(l,f){return f.subscribe(new Qo(l,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class oo extends Ht.xQ{constructor(){super(...arguments),this._numberOfNextedValues=0}next(l){this._numberOfNextedValues++,super.next(l)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Qo extends $e.L{constructor(l,f,b,x,V){super(l),this.destination=l,this.windowTimeSpan=f,this.windowCreationInterval=b,this.maxWindowSize=x,this.scheduler=V,this.windows=[];const oe=this.openWindow();if(null!==b&&b>=0){const me={windowTimeSpan:f,windowCreationInterval:b,subscriber:this,scheduler:V};this.add(V.schedule(Oi,f,{subscriber:this,window:oe,context:null})),this.add(V.schedule(xo,b,me))}else this.add(V.schedule(As,f,{subscriber:this,window:oe,windowTimeSpan:f}))}_next(l){const f=this.windows,b=f.length;for(let x=0;x<b;x++){const V=f[x];V.closed||(V.next(l),V.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(V))}}_error(l){const f=this.windows;for(;f.length>0;)f.shift().error(l);this.destination.error(l)}_complete(){const l=this.windows;for(;l.length>0;){const f=l.shift();f.closed||f.complete()}this.destination.complete()}openWindow(){const l=new oo;return this.windows.push(l),this.destination.next(l),l}closeWindow(l){l.complete();const f=this.windows;f.splice(f.indexOf(l),1)}}function As(v){const{subscriber:l,windowTimeSpan:f,window:b}=v;b&&l.closeWindow(b),v.window=l.openWindow(),this.schedule(v,f)}function xo(v){const{windowTimeSpan:l,subscriber:f,scheduler:b,windowCreationInterval:x}=v,V=f.openWindow();let ge={action:this,subscription:null};ge.subscription=b.schedule(Oi,l,{subscriber:f,window:V,context:ge}),this.add(ge.subscription),this.schedule(v,x)}function Oi(v){const{subscriber:l,window:f,context:b}=v;b&&b.action&&b.subscription&&b.action.remove(b.subscription),l.closeWindow(f)}function Zr(v,l){return f=>f.lift(new gs(v,l))}class gs{constructor(l,f){this.openings=l,this.closingSelector=f}call(l,f){return f.subscribe(new La(l,this.openings,this.closingSelector))}}class La extends It.L{constructor(l,f,b){super(l),this.openings=f,this.closingSelector=b,this.contexts=[],this.add(this.openSubscription=(0,dt.D)(this,f,f))}_next(l){const{contexts:f}=this;if(f){const b=f.length;for(let x=0;x<b;x++)f[x].window.next(l)}}_error(l){const{contexts:f}=this;if(this.contexts=null,f){const b=f.length;let x=-1;for(;++x<b;){const V=f[x];V.window.error(l),V.subscription.unsubscribe()}}super._error(l)}_complete(){const{contexts:l}=this;if(this.contexts=null,l){const f=l.length;let b=-1;for(;++b<f;){const x=l[b];x.window.complete(),x.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:l}=this;if(this.contexts=null,l){const f=l.length;let b=-1;for(;++b<f;){const x=l[b];x.window.unsubscribe(),x.subscription.unsubscribe()}}}notifyNext(l,f,b,x,V){if(l===this.openings){let oe;try{const{closingSelector:dn}=this;oe=dn(f)}catch(dn){return this.error(dn)}const ge=new Ht.xQ,me=new ut.w,Ot={window:ge,subscription:me};this.contexts.push(Ot);const Xn=(0,dt.D)(this,oe,Ot);Xn.closed?this.closeWindow(this.contexts.length-1):(Xn.context=Ot,me.add(Xn)),this.destination.next(ge)}else this.closeWindow(this.contexts.indexOf(l))}notifyError(l){this.error(l)}notifyComplete(l){l!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(l.context))}closeWindow(l){if(-1===l)return;const{contexts:f}=this,b=f[l],{window:x,subscription:V}=b;f.splice(l,1),x.complete(),V.unsubscribe()}}function xs(v){return function(f){return f.lift(new ao(v))}}class ao{constructor(l){this.closingSelector=l}call(l,f){return f.subscribe(new uo(l,this.closingSelector))}}class uo extends It.L{constructor(l,f){super(l),this.destination=l,this.closingSelector=f,this.openWindow()}notifyNext(l,f,b,x,V){this.openWindow(V)}notifyError(l){this._error(l)}notifyComplete(l){this.openWindow(l)}_next(l){this.window.next(l)}_error(l){this.window.error(l),this.destination.error(l),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(l=null){l&&(this.remove(l),l.unsubscribe());const f=this.window;f&&f.complete();const b=this.window=new Ht.xQ;let x;this.destination.next(b);try{const{closingSelector:V}=this;x=V()}catch(V){return this.destination.error(V),void this.window.error(V)}this.add(this.closingNotification=(0,dt.D)(this,x))}}function Yo(...v){return l=>{let f;return"function"==typeof v[v.length-1]&&(f=v.pop()),l.lift(new Pr(v,f))}}class Pr{constructor(l,f){this.observables=l,this.project=f}call(l,f){return f.subscribe(new co(l,this.observables,this.project))}}class co extends It.L{constructor(l,f,b){super(l),this.observables=f,this.project=b,this.toRespond=[];const x=f.length;this.values=new Array(x);for(let V=0;V<x;V++)this.toRespond.push(V);for(let V=0;V<x;V++)this.add((0,dt.D)(this,f[V],void 0,V))}notifyNext(l,f,b){this.values[b]=f;const x=this.toRespond;if(x.length>0){const V=x.indexOf(b);-1!==V&&x.splice(V,1)}}notifyComplete(){}_next(l){if(0===this.toRespond.length){const f=[l,...this.values];this.project?this._tryProject(f):this.destination.next(f)}}_tryProject(l){let f;try{f=this.project.apply(this,l)}catch(b){return void this.destination.error(b)}this.destination.next(f)}}var Ro=D(377);class Qa{constructor(l){this.resultSelector=l}call(l,f){return f.subscribe(new Li(l,this.resultSelector))}}class Li extends $e.L{constructor(l,f,b=Object.create(null)){super(l),this.resultSelector=f,this.iterators=[],this.active=0,this.resultSelector="function"==typeof f?f:void 0}_next(l){const f=this.iterators;(0,ar.k)(l)?f.push(new Va(l)):f.push("function"==typeof l[Ro.hZ]?new ho(l[Ro.hZ]()):new Jo(this.destination,this,l))}_complete(){const l=this.iterators,f=l.length;if(this.unsubscribe(),0!==f){this.active=f;for(let b=0;b<f;b++){let x=l[b];x.stillUnsubscribed?this.destination.add(x.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const l=this.iterators,f=l.length,b=this.destination;for(let oe=0;oe<f;oe++){let ge=l[oe];if("function"==typeof ge.hasValue&&!ge.hasValue())return}let x=!1;const V=[];for(let oe=0;oe<f;oe++){let ge=l[oe],me=ge.next();if(ge.hasCompleted()&&(x=!0),me.done)return void b.complete();V.push(me.value)}this.resultSelector?this._tryresultSelector(V):b.next(V),x&&b.complete()}_tryresultSelector(l){let f;try{f=this.resultSelector.apply(this,l)}catch(b){return void this.destination.error(b)}this.destination.next(f)}}class ho{constructor(l){this.iterator=l,this.nextResult=l.next()}hasValue(){return!0}next(){const l=this.nextResult;return this.nextResult=this.iterator.next(),l}hasCompleted(){const l=this.nextResult;return Boolean(l&&l.done)}}class Va{constructor(l){this.array=l,this.index=0,this.length=0,this.length=l.length}[Ro.hZ](){return this}next(l){const f=this.index++;return f<this.length?{value:this.array[f],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Jo extends h.Ds{constructor(l,f,b){super(l),this.parent=f,this.observable=b,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ro.hZ](){return this}next(){const l=this.buffer;return 0===l.length&&this.isComplete?{value:null,done:!0}:{value:l.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(l){this.buffer.push(l),this.parent.checkIterators()}subscribe(){return(0,h.ft)(this.observable,new h.IY(this))}}function fo(...v){return function(f){return f.lift.call(function(...v){const l=v[v.length-1];return"function"==typeof l&&v.pop(),(0,ci.n)(v,void 0).lift(new Qa(l))}(f,...v))}}function Ya(v){return l=>l.lift(new Qa(v))}},158:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.AppRoutingModule=void 0;const h=D(9895),A=D(6361),j=D(4338),X=D(5556),ne=D(6985),K=D(3509),ee=D(1020),W=D(6845),Y=D(2327),U=D(7716),re=(D(9895),[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"dashboard",component:ne.DashboardComponent},{path:"details/:id",component:Y.DetailsComponent},{path:"sign-in",component:A.LoginComponent},{path:"sign-up",component:X.RegisterComponent},{path:"profile",component:W.ProfileComponent},{path:"logout",component:j.LogoutComponent},{path:"forgot-password",component:K.ForgotPasswordComponent},{path:"email-verification",component:ee.VerifyEmailComponent}]);class Ae{}ue.AppRoutingModule=Ae,Ae.\u0275fac=function($e){return new($e||Ae)},Ae.\u0275mod=U.\u0275\u0275defineNgModule({type:Ae}),Ae.\u0275inj=U.\u0275\u0275defineInjector({imports:[[h.RouterModule.forRoot(re)],h.RouterModule]})},5041:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.AppComponent=void 0;const h=D(7716),A=D(1228),j=D(9895),X=D(8583),ne=function(){return["/profile"]};function K(Y,U){1&Y&&(h.\u0275\u0275elementStart(0,"div",11),h.\u0275\u0275elementStart(1,"button",12),h.\u0275\u0275text(2," My Account "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"ul",13),h.\u0275\u0275elementStart(4,"li"),h.\u0275\u0275elementStart(5,"a",14),h.\u0275\u0275text(6,"Profile"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"li"),h.\u0275\u0275elementStart(8,"a",15),h.\u0275\u0275text(9,"Logout"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&Y&&(h.\u0275\u0275advance(5),h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction0(1,ne)))}const ee=function(){return["/dashboard"]};class W{constructor(U){this.authService=U,this.title="popmovies",this.isLoggedIn=!0}}ue.AppComponent=W,W.\u0275fac=function(U){return new(U||W)(h.\u0275\u0275directiveInject(A.AuthService))},W.\u0275cmp=h.\u0275\u0275defineComponent({type:W,selectors:[["app-root"]],decls:19,vars:3,consts:[[1,"container-fluid",2,"margin","auto"],[1,"navbar","navbar-dark","bg-dark","fixed-top"],[1,"container-fluid"],["routerLinkActive","active",1,"navbar-brand",3,"routerLink"],["class","dropdown  me-4",4,"ngIf"],[1,"row","justify-content-center"],[1,"row"],[1,"navbar","bottom","navbar","navbar-dark","bg-dark","fixed-bottom"],[1,"d-flex","flex-column","flex-end"],["src","../assets/images/blue_long_1-8ba2ac31f354005783fab473602c34c3f4fd207150182061e425d366e4f34596.svg","alt","",2,"width","30%"],[1,"tiny-font-light"],[1,"dropdown","me-4"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"],[1,"dropdown-item"]],template:function(U,G){1&U&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"nav",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"a",3),h.\u0275\u0275text(4," Popular Movies "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div"),h.\u0275\u0275template(6,K,10,2,"div",4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275element(8,"router-outlet"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",2),h.\u0275\u0275elementStart(10,"div",6),h.\u0275\u0275elementStart(11,"nav",7),h.\u0275\u0275elementStart(12,"div",2),h.\u0275\u0275elementStart(13,"div",6),h.\u0275\u0275elementStart(14,"div",8),h.\u0275\u0275elementStart(15,"div"),h.\u0275\u0275element(16,"img",9),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",10),h.\u0275\u0275text(18,"This product uses the TMDB API but is not endorsed or certified by TMDB"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&U&&(h.\u0275\u0275advance(3),h.\u0275\u0275property("routerLink",h.\u0275\u0275pureFunction0(2,ee)),h.\u0275\u0275advance(3),h.\u0275\u0275property("ngIf",G.authService.userState))},directives:[j.RouterLinkWithHref,j.RouterLinkActive,X.NgIf,j.RouterOutlet],styles:[""]})},6747:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.AppModule=void 0;const h=D(9075),A=D(665),j=D(1841),X=D(8939),ne=D(1325),K=D(4384),ee=D(158),W=D(5041),Y=D(9618),U=D(2340),G=D(7716);D(9618),D(8939);class Fe{}ue.AppModule=Fe,Fe.\u0275fac=function(rt){return new(rt||Fe)},Fe.\u0275mod=G.\u0275\u0275defineNgModule({type:Fe,bootstrap:[W.AppComponent]}),Fe.\u0275inj=G.\u0275\u0275defineInjector({providers:[],imports:[[h.BrowserModule,j.HttpClientModule,A.FormsModule,A.ReactiveFormsModule,ee.AppRoutingModule,Y.ServiceWorkerModule.register("ngsw-worker.js",{enabled:U.environment.production,registrationStrategy:"registerWhenStable:30000"}),X.AngularFireModule.initializeApp(U.environment.firebaseConfig),ne.AngularFireAuthModule,K.AngularFirestoreModule]]})},3509:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.ForgotPasswordComponent=void 0;const h=D(7716),A=D(1228),j=D(665);class X{constructor(K){this.authService=K}ngOnInit(){}}ue.ForgotPasswordComponent=X,X.\u0275fac=function(K){return new(K||X)(h.\u0275\u0275directiveInject(A.AuthService))},X.\u0275cmp=h.\u0275\u0275defineComponent({type:X,selectors:[["app-forgot-password"]],decls:10,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["type","email","ngModel","","name","username","placeholder","Email Address","required","",1,"form-control"],["passwordResetEmail",""],["type","submit","value","Reset Password",1,"btn","btn-primary","btn-block",3,"click"]],template:function(K,ee){if(1&K){const W=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Forgot Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div",3),h.\u0275\u0275element(6,"input",4,5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",3),h.\u0275\u0275elementStart(9,"input",6),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(W);const U=h.\u0275\u0275reference(7);return ee.authService.ForgotPassword(U.value)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}},directives:[j.DefaultValueAccessor,j.NgControlStatus,j.NgModel,j.RequiredValidator],styles:[""]})},6361:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.LoginComponent=void 0;const h=D(7716),A=D(1228),j=D(9895),X=D(665),ne=D(8583),K=D(120);function ee(Y,U){1&Y&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275element(1,"app-spinner"),h.\u0275\u0275elementEnd())}class W{constructor(U,G){this.authService=U,this.router=G,this.isLoading=!1,this.errorMessage=""}ngOnInit(){}ngOnDestroy(){this.isLoading=!1}}ue.LoginComponent=W,W.\u0275fac=function(U){return new(U||W)(h.\u0275\u0275directiveInject(A.AuthService),h.\u0275\u0275directiveInject(j.Router))},W.\u0275cmp=h.\u0275\u0275defineComponent({type:W,selectors:[["app-login"]],decls:29,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["action","","role","form"],[1,"formGroup"],["type","text","ngModel","","name","username","placeholder","Username","required","",1,"form-control"],["userName",""],["type","password","ngModel","","name","password","placeholder","Password","required","",1,"form-control"],["password",""],["type","button",1,"btn","btn-primary","btn-block",3,"click"],["type","button",1,"btn","btn-danger","btn-block",3,"click"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/sign-up",1,"redirect"],[4,"ngIf"]],template:function(U,G){if(1&U){const re=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Sign in"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"form",3),h.\u0275\u0275elementStart(6,"div",4),h.\u0275\u0275element(7,"input",5,6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"div",4),h.\u0275\u0275elementStart(10,"label"),h.\u0275\u0275text(11,"Password"),h.\u0275\u0275elementEnd(),h.\u0275\u0275element(12,"input",7,8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(14,"div",4),h.\u0275\u0275elementStart(15,"button",9),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(re);const Fe=h.\u0275\u0275reference(8),$e=h.\u0275\u0275reference(13);return G.authService.SignIn(Fe.value,$e.value)}),h.\u0275\u0275text(16,"Submit"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(17,"div",4),h.\u0275\u0275elementStart(18,"button",10),h.\u0275\u0275listener("click",function(){return G.authService.GoogleAuth()}),h.\u0275\u0275text(19," Log in with Google "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(20,"div",11),h.\u0275\u0275elementStart(21,"span",12),h.\u0275\u0275text(22,"Forgot Password?"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(23,"div",13),h.\u0275\u0275elementStart(24,"span"),h.\u0275\u0275text(25,"Not registered yet?"),h.\u0275\u0275elementStart(26,"span",14),h.\u0275\u0275text(27," Register"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(28,ee,2,0,"div",15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}2&U&&(h.\u0275\u0275advance(28),h.\u0275\u0275property("ngIf",G.isLoading))},directives:[X.\u0275NgNoValidate,X.NgControlStatusGroup,X.NgForm,X.DefaultValueAccessor,X.NgControlStatus,X.NgModel,X.RequiredValidator,j.RouterLink,ne.NgIf,K.SpinnerComponent],styles:[""]})},4338:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.LogoutComponent=void 0;const h=D(7716);class A{constructor(){}ngOnInit(){}}ue.LogoutComponent=A,A.\u0275fac=function(X){return new(X||A)},A.\u0275cmp=h.\u0275\u0275defineComponent({type:A,selectors:[["app-logout"]],decls:2,vars:0,template:function(X,ne){1&X&&(h.\u0275\u0275elementStart(0,"p"),h.\u0275\u0275text(1,"You have successfully logged out"),h.\u0275\u0275elementEnd())},styles:[""]})},5556:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.RegisterComponent=void 0;const h=D(7716),A=D(1228),j=D(665),X=D(9895);class ne{constructor(ee){this.authService=ee,this.isLoading=!1,this.errorMessage=""}ngOnInit(){}}ue.RegisterComponent=ne,ne.\u0275fac=function(ee){return new(ee||ne)(h.\u0275\u0275directiveInject(A.AuthService))},ne.\u0275cmp=h.\u0275\u0275defineComponent({type:ne,selectors:[["app-register"]],decls:21,vars:0,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],[1,"formGroup"],["placeholder","Email","type","email","ngModel","","name","username","required","",1,"form-control"],["userEmail",""],["type","password","placeholder","Password","ngModel","","name","password","required","",1,"form-control"],["userPwd",""],["type","button","value","Sign Up",1,"btn","btn-block","btn-primary",3,"click"],["type","button",1,"btn","btn-block","btn-danger",3,"click"],[1,"redirectToLogin"],["routerLink","/sign-in",1,"redirect"]],template:function(ee,W){if(1&ee){const Y=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Register User"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"div",3),h.\u0275\u0275element(6,"input",4,5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",3),h.\u0275\u0275element(9,"input",6,7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"div",3),h.\u0275\u0275elementStart(12,"input",8),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(Y);const G=h.\u0275\u0275reference(7),re=h.\u0275\u0275reference(10);return W.authService.SignUp(G.value,re.value)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"div",3),h.\u0275\u0275elementStart(14,"button",9),h.\u0275\u0275listener("click",function(){return W.authService.GoogleAuth()}),h.\u0275\u0275text(15," Continue with Google "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"div",10),h.\u0275\u0275elementStart(17,"span"),h.\u0275\u0275text(18,"Already have an account? "),h.\u0275\u0275elementStart(19,"span",11),h.\u0275\u0275text(20,"Log In"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}},directives:[j.DefaultValueAccessor,j.NgControlStatus,j.NgModel,j.RequiredValidator,X.RouterLink],styles:[""]})},1020:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.VerifyEmailComponent=void 0;const h=D(7716),A=D(1228),j=D(8583);function X(K,ee){if(1&K&&(h.\u0275\u0275elementStart(0,"div",4),h.\u0275\u0275elementStart(1,"p",6),h.\u0275\u0275text(2,"Confirmation mail has been sent to "),h.\u0275\u0275elementStart(3,"strong"),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275text(5,"."),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&K){const W=ee.ngIf;h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(W.email)}}class ne{constructor(ee){this.authService=ee}ngOnInit(){}}ue.VerifyEmailComponent=ne,ne.\u0275fac=function(ee){return new(ee||ne)(h.\u0275\u0275directiveInject(A.AuthService))},ne.\u0275cmp=h.\u0275\u0275defineComponent({type:ne,selectors:[["app-verify-email"]],decls:9,vars:1,consts:[[1,"displayTable"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"formGroup"],["type","button",1,"btn","btn-block","btn-success",3,"click"],[1,"text-center"]],template:function(ee,W){1&ee&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h3"),h.\u0275\u0275text(4,"Thank You for Signing up"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(5,X,6,1,"div",3),h.\u0275\u0275elementStart(6,"div",4),h.\u0275\u0275elementStart(7,"button",5),h.\u0275\u0275listener("click",function(){return W.authService.SendVerificationMail()}),h.\u0275\u0275text(8," Resend Verification Email "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&ee&&(h.\u0275\u0275advance(5),h.\u0275\u0275property("ngIf",W.authService.userState))},directives:[j.NgIf],styles:[""]})},6985:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.DashboardComponent=void 0;const h=D(7716),A=D(1228),j=D(885),X=D(8583),ne=D(120);function K(Y,U){1&Y&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",15),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}function ee(Y,U){if(1&Y){const G=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"div",16),h.\u0275\u0275elementStart(1,"img",17),h.\u0275\u0275listener("click",function(){const Fe=h.\u0275\u0275restoreView(G).$implicit;return h.\u0275\u0275nextContext().openDetailsPage(Fe.id,Fe)}),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(2,"div",18),h.\u0275\u0275elementStart(3,"p",19),h.\u0275\u0275text(4),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"small"),h.\u0275\u0275text(6),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"small"),h.\u0275\u0275text(8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(9,"small"),h.\u0275\u0275text(10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"small"),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()}if(2&Y){const G=U.$implicit,re=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275propertyInterpolate2("src","",re.baseImageURI,"",G.poster_path,"",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(G.original_title),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Popularity: ",G.popularity," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Release date: ",G.release_date," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Vote average: ",G.vote_average," "),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate1("Vote count: ",G.vote_count," ")}}class W{constructor(U,G){this.authService=U,this.tmdbService=G,this.moviesLoaded=!1,this.placeholderArray=[],this.placeholderArray=Array(15).fill(1),this.baseImageURI=G.images_uri}ngOnInit(){this.subscription=this.tmdbService.getMovies().subscribe(U=>{this.movies=U,this.results=U.results})}openDetailsPage(U,G){this.tmdbService.openDetailsPage(U,G)}ngOnDestroy(){this.subscription.unsubscribe()}}ue.DashboardComponent=W,W.\u0275fac=function(U){return new(U||W)(h.\u0275\u0275directiveInject(A.AuthService),h.\u0275\u0275directiveInject(j.TmdbService))},W.\u0275cmp=h.\u0275\u0275defineComponent({type:W,selectors:[["app-dashboard"]],decls:28,vars:2,consts:[[1,"container-fluid",2,"margin-top","5em","margin-bottom","5em"],[1,"jumbotron","jumbotron-fluid","dashboard-banner"],[1,"container"],[1,"display-4"],[1,"lead"],[1,"row","justify-content-center"],[4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-center"],["class","movie_card",4,"ngFor","ngForOf"],["aria-label","Page navigation example"],[1,"pagination","justify-content-end"],[1,"page-item","disabled"],["href","#","tabindex","-1",1,"page-link"],[1,"page-item"],["href","#",1,"page-link"],[1,"placeholder"],[1,"movie_card"],["alt","...",1,"movie-image",3,"src","click"],[1,"movie-content"],[1,"movie-title"]],template:function(U,G){1&U&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275elementStart(2,"div",2),h.\u0275\u0275elementStart(3,"h1",3),h.\u0275\u0275text(4,"Welcome to popular movies"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"p",4),h.\u0275\u0275text(6,"Below are the 20 most popular movies today"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(7,"div",5),h.\u0275\u0275template(8,K,3,0,"div",6),h.\u0275\u0275elementStart(9,"div",7),h.\u0275\u0275template(10,ee,13,7,"div",8),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"nav",9),h.\u0275\u0275elementStart(12,"ul",10),h.\u0275\u0275elementStart(13,"li",11),h.\u0275\u0275elementStart(14,"a",12),h.\u0275\u0275text(15,"Previous"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(16,"li",13),h.\u0275\u0275elementStart(17,"a",14),h.\u0275\u0275text(18,"1"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(19,"li",13),h.\u0275\u0275elementStart(20,"a",14),h.\u0275\u0275text(21,"2"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(22,"li",13),h.\u0275\u0275elementStart(23,"a",14),h.\u0275\u0275text(24,"3"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(25,"li",13),h.\u0275\u0275elementStart(26,"a",14),h.\u0275\u0275text(27,"Next"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&U&&(h.\u0275\u0275advance(8),h.\u0275\u0275property("ngIf",G.moviesLoaded),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngForOf",G.results))},directives:[X.NgIf,X.NgForOf,ne.SpinnerComponent],styles:[""]})},2327:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.DetailsComponent=void 0;const h=D(7716),A=D(9895),j=D(885),X=D(8583),ne=D(120);function K(W,Y){1&W&&(h.\u0275\u0275elementStart(0,"div"),h.\u0275\u0275elementStart(1,"div",9),h.\u0275\u0275element(2,"app-spinner"),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd())}class ee{constructor(Y,U){this.route=Y,this.tmdbService=U,this.isLoading=!1}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.imageBaseUri=this.tmdbService.images_uri,this.isLoading=!0,this.subscription=this.route.queryParams.subscribe(Y=>{this.movie_object=Y,this.isLoading=!1})}}ue.DetailsComponent=ee,ee.\u0275fac=function(Y){return new(Y||ee)(h.\u0275\u0275directiveInject(A.ActivatedRoute),h.\u0275\u0275directiveInject(j.TmdbService))},ee.\u0275cmp=h.\u0275\u0275defineComponent({type:ee,selectors:[["app-details"]],decls:15,vars:16,consts:[[1,"container-fluid"],[1,"row","justify-content-center"],[4,"ngIf"],[1,"jumbotron"],["alt","",1,"details-header-poster;",3,"src"],[1,"row","d-flex","justify-content-start","align-items-center","mt-5"],[1,"col-xl-3","col-lg-3","col-md-4","col-sm-12","col-xs-12","mt-3","ml-1"],["alt","",1,"movie-details-image",3,"src"],[1,"col-xl-6","col-lg-6","col-md-8","col-sm-12","col-xs-12","mt-4"],[1,"placeholder"]],template:function(Y,U){1&Y&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275elementStart(1,"div",1),h.\u0275\u0275template(2,K,3,0,"div",2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"div",3),h.\u0275\u0275element(4,"img",4),h.\u0275\u0275elementStart(5,"div",5),h.\u0275\u0275elementStart(6,"div",6),h.\u0275\u0275element(7,"img",7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"div",8),h.\u0275\u0275elementStart(9,"h1"),h.\u0275\u0275text(10),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(11,"p"),h.\u0275\u0275text(12),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(13,"p"),h.\u0275\u0275text(14),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&Y&&(h.\u0275\u0275advance(2),h.\u0275\u0275property("ngIf",U.isLoading),h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate2("src","",U.imageBaseUri,"",U.movie_object.backdrop_path,")",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275propertyInterpolate2("src","",U.imageBaseUri,"",U.movie_object.poster_path,"",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(U.movie_object.original_title),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(U.movie_object.overview),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolateV([" ",U.movie_object.adult," ",U.movie_object.id," ",U.movie_object.original_language," ",U.movie_object.popularity," ",U.movie_object.release_date," ",U.movie_object.title," ",U.movie_object.video," ",U.movie_object.vote_average," ",U.movie_object.vote_count," "]))},directives:[X.NgIf,ne.SpinnerComponent],styles:[""]})},6845:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.ProfileComponent=void 0;const h=D(7716),A=D(1228),j=D(8583);function X(K,ee){if(1&K&&(h.\u0275\u0275elementStart(0,"div",3),h.\u0275\u0275elementStart(1,"div",4),h.\u0275\u0275element(2,"img",5),h.\u0275\u0275elementStart(3,"div",6),h.\u0275\u0275elementStart(4,"h2"),h.\u0275\u0275text(5,"Hi: "),h.\u0275\u0275elementStart(6,"strong"),h.\u0275\u0275text(7),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(8,"p"),h.\u0275\u0275text(9,"User ID: "),h.\u0275\u0275elementStart(10,"strong"),h.\u0275\u0275text(11),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(12,"p"),h.\u0275\u0275text(13,"Email: "),h.\u0275\u0275elementStart(14,"strong"),h.\u0275\u0275text(15),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&K){const W=ee.ngIf;h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate("src",W.photoURL?W.photoURL:"/assets/dummy.jpg",h.\u0275\u0275sanitizeUrl),h.\u0275\u0275propertyInterpolate("alt",W.displayName),h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate(W.displayName?W.displayName:"User"),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(W.uid),h.\u0275\u0275advance(4),h.\u0275\u0275textInterpolate(W.email)}}class ne{constructor(ee){this.authService=ee}ngOnInit(){}}ue.ProfileComponent=ne,ne.\u0275fac=function(ee){return new(ee||ne)(h.\u0275\u0275directiveInject(A.AuthService))},ne.\u0275cmp=h.\u0275\u0275defineComponent({type:ne,selectors:[["app-profile"]],decls:4,vars:1,consts:[[1,"container","mt-5",2,"max-width","600px"],["class","row",4,"ngIf"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"row"],[1,"media"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],[1,"media-body"]],template:function(ee,W){1&ee&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275template(1,X,16,5,"div",1),h.\u0275\u0275elementStart(2,"a",2),h.\u0275\u0275listener("click",function(){return W.authService.SignOut()}),h.\u0275\u0275text(3," Sign Out "),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementEnd()),2&ee&&(h.\u0275\u0275advance(1),h.\u0275\u0275property("ngIf",W.authService.userState))},directives:[j.NgIf],styles:[""]})},120:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.SpinnerComponent=void 0;const h=D(7716);class A{constructor(){}ngOnInit(){}}ue.SpinnerComponent=A,A.\u0275fac=function(X){return new(X||A)},A.\u0275cmp=h.\u0275\u0275defineComponent({type:A,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"d-flex","align-items-center",2,"justify-content","center","margin-top","auto","margin-bottom","auto"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(X,ne){1&X&&(h.\u0275\u0275elementStart(0,"div",0),h.\u0275\u0275element(1,"div",1),h.\u0275\u0275elementEnd())},styles:[""]})},1228:(it,ue,D)=>{"use strict";var h=D(1052).default;Object.defineProperty(ue,"__esModule",{value:!0}),ue.AuthService=void 0;const A=D(7985),j=D(7716),X=D(9895),ne=D(4384),K=D(1325);class ee{constructor(Y,U,G,re){this.router=Y,this.afs=U,this.afAuth=G,this.ngZone=re,this.errorCode="",this.errorMessage="",this.afAuth.authState.subscribe(Ae=>{Ae?(this.userState=Ae,this.router.navigate(["dashboard"]),localStorage.setItem("user",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(Y,U){var G=this;return h(function*(){try{return G.afAuth.signInWithEmailAndPassword(Y,U).then(re=>{re&&(G.userState=re,G.router.navigate(["dashboard"]))})}catch(re){window.alert(re.message)}})()}SignUp(Y,U){var G=this;return h(function*(){try{const re=G.afAuth.createUserWithEmailAndPassword(Y,U);G.SendVerificationMail(),G.SetUserData((yield re).user)}catch(re){window.alert(re.message)}})()}SendVerificationMail(){var Y=this;return h(function*(){return Y.afAuth.currentUser.then(U=>U.sendEmailVerification()).then(()=>{Y.router.navigate(["email-verification"])})})()}GoogleAuth(){return this.AuthLogin(new A.GoogleAuthProvider)}AuthLogin(Y){var U=this;return h(function*(){return U.afAuth.signInWithPopup(Y).then(G=>{U.ngZone.run(()=>{U.router.navigate(["dashboard"])}),U.SetUserData(G.user)}).catch(G=>{window.alert(G)})})()}SetUserData(Y){return this.afs.doc(`users/${Y.uid}`).set({uid:Y.uid,email:Y.email,displayName:Y.displayName,photoURL:Y.photoURL,emailVerified:Y.emailVerified},{merge:!0})}ForgotPassword(Y){var U=this;return h(function*(){return U.afAuth.sendPasswordResetEmail(Y).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(G=>{window.alert(G)})})()}get isLoggedIn(){const Y=JSON.parse(localStorage.getItem("user"));return null!==Y&&!1!==Y.emailVerified}SignOut(){var Y=this;return h(function*(){yield Y.afAuth.signOut().then(()=>{localStorage.removeItem("user"),window.location.reload(),Y.router.navigate(["sign-in"])}).catch(U=>{alert(U.message)})})()}}ue.AuthService=ee,ee.\u0275fac=function(Y){return new(Y||ee)(j.\u0275\u0275inject(X.Router),j.\u0275\u0275inject(ne.AngularFirestore),j.\u0275\u0275inject(K.AngularFireAuth),j.\u0275\u0275inject(j.NgZone))},ee.\u0275prov=j.\u0275\u0275defineInjectable({token:ee,factory:ee.\u0275fac,providedIn:"root"})},885:(it,ue,D)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.TmdbService=void 0;const h=D(2340),A=D(5823),j=D(7716),X=D(1841),ne=D(9895);class K{constructor(W,Y){this.http=W,this.router=Y,this.pageNo=1,this.apiKey=h.environment.tmdbAPIKey,this.baseUri=h.environment.tmdbbaseUri,this.images_uri=h.environment.tmdbimages_uri,this.url=this.baseUri+"movie/popular?api_key="+this.apiKey+"&language=en-US&page="+this.pageNo}getMovies(){return this.http.get(this.url).pipe(A.map(W=>W))}openDetailsPage(W,Y){this.router.navigate(["details",W],{queryParams:Y})}getMovieDetails(){}}ue.TmdbService=K,K.\u0275fac=function(W){return new(W||K)(j.\u0275\u0275inject(X.HttpClient),j.\u0275\u0275inject(ne.Router))},K.\u0275prov=j.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"})},2340:(it,ue)=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0}),ue.environment=void 0,ue.environment={production:!0,firebaseConfig:{apiKey:"AIzaSyAv54h8EtcMzACF77yk2YpsA9th09Q_nXE",authDomain:"popmovies-fc69d.firebaseapp.com",projectId:"popmovies-fc69d",storageBucket:"popmovies-fc69d.appspot.com",messagingSenderId:"993149127523",appId:"1:993149127523:web:78f61846b56387fdc52156",measurementId:"G-PW8Z17YZKG"},tmdbAPIKey:"e7bc36e1bf4e98ccf1db456a7fe1d839",tmdbbaseUri:"https://api.themoviedb.org/3/",tmdbimages_uri:"https://image.tmdb.org/t/p/w500/"}},4431:(it,ue,D)=>{"use strict";const A=D(9075),j=D(7716),X=D(6747);D(2340).environment.production&&j.enableProdMode(),A.platformBrowser().bootstrapModule(X.AppModule).catch(K=>console.error(K))},1052:it=>{function ue(h,A,j,X,ne,K,ee){try{var W=h[K](ee),Y=W.value}catch(U){return void j(U)}W.done?A(Y):Promise.resolve(Y).then(X,ne)}it.exports=function(h){return function(){var A=this,j=arguments;return new Promise(function(X,ne){var K=h.apply(A,j);function ee(Y){ue(K,X,ne,ee,W,"next",Y)}function W(Y){ue(K,X,ne,ee,W,"throw",Y)}ee(void 0)})}},it.exports.default=it.exports,it.exports.__esModule=!0},3394:(it,ue,D)=>{"use strict";D.d(ue,{Z:()=>$e});var h=D(3854),A=D(3910),j=D(8026),X=D(5422);class ne{constructor(ye,Le){this._delegate=ye,this.firebase=Le,(0,j._addComponent)(ye,new A.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(ye,Le=j._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(ye);return!pt.isInitialized()&&"EXPLICIT"===(null===(ze=pt.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Le})}_removeServiceInstance(ye,Le=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Le)}_addComponent(ye){(0,j._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,j._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Y(){const rt=function(rt){const ye={},Le={__esModule:!0,initializeApp:function(kt,ke={}){const ut=j.initializeApp(kt,ke);if((0,h.r3)(ye,ut.name))return ye[ut.name];const dt=new rt(ut,Le);return ye[ut.name]=dt,dt},app:pt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function(kt){const ke=kt.name,ut=ke.replace("-compat","");if(j._registerComponent(kt)&&"PUBLIC"===kt.type){const dt=(It=pt())=>{if("function"!=typeof It[ut])throw ee.create("invalid-app-argument",{appName:ke});return It[ut]()};void 0!==kt.serviceProps&&(0,h.ZB)(dt,kt.serviceProps),Le[ut]=dt,rt.prototype[ut]=function(...It){return this._getService.bind(this,ke).apply(this,kt.multipleInstances?It:[])}}return"PUBLIC"===kt.type?Le[ut]:null},removeApp:function(kt){delete ye[kt]},useAsService:function(kt,ke){return"serverAuth"===ke?null:ke},modularAPIs:j}};function pt(kt){if(!(0,h.r3)(ye,kt=kt||j._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:kt});return ye[kt]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function(){return Object.keys(ye).map(kt=>ye[kt])}}),pt.App=rt,Le}(ne);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Le){(0,h.ZB)(rt,Le)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),rt}(),G=new X.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=U;(0,j.registerVersion)("@firebase/app-compat","0.1.28",undefined)},8026:(it,ue,D)=>{"use strict";D.r(ue),D.d(ue,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Jn,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>Dt,_addOrOverwriteComponent:()=>Ut,_apps:()=>nn,_clearComponents:()=>an,_components:()=>ar,_getProvider:()=>pn,_registerComponent:()=>ht,_removeServiceInstance:()=>Kt,deleteApp:()=>Bn,getApp:()=>st,getApps:()=>Cn,initializeApp:()=>Yt,onLog:()=>Kn,registerVersion:()=>hn,setLogLevel:()=>cr});var h=D(8239),A=D(3910),j=D(5422),X=D(3854),ne=D(7449);class K{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(qe=>{if(function(Ie){const le=Ie.getComponent();return"VERSION"===(null==le?void 0:le.type)}(qe)){const vt=qe.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(qe=>qe).join(" ")}}const W="@firebase/app",Y="0.7.27",U=new j.Yd("@firebase/app"),Ln="[DEFAULT]",un={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nn=new Map,ar=new Map;function Dt(Ie,le){try{Ie.container.addComponent(le)}catch(qe){U.debug(`Component ${le.name} failed to register with FirebaseApp ${Ie.name}`,qe)}}function Ut(Ie,le){Ie.container.addOrOverwriteComponent(le)}function ht(Ie){const le=Ie.name;if(ar.has(le))return U.debug(`There were multiple attempts to register component ${le}.`),!1;ar.set(le,Ie);for(const qe of nn.values())Dt(qe,Ie);return!0}function pn(Ie,le){const qe=Ie.container.getProvider("heartbeat").getImmediate({optional:!0});return qe&&qe.triggerHeartbeat(),Ie.container.getProvider(le)}function Kt(Ie,le,qe=Ln){pn(Ie,le).clearInstance(qe)}function an(){ar.clear()}const Ct=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class jn{constructor(le,qe,vt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},qe),this._name=qe.name,this._automaticDataCollectionEnabled=qe.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new A.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}const Jn="9.8.4";function Yt(Ie,le={}){"object"!=typeof le&&(le={name:le});const qe=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},le),vt=qe.name;if("string"!=typeof vt||!vt)throw Ct.create("bad-app-name",{appName:String(vt)});const Zt=nn.get(vt);if(Zt){if((0,X.vZ)(Ie,Zt.options)&&(0,X.vZ)(qe,Zt.config))return Zt;throw Ct.create("duplicate-app",{appName:vt})}const En=new A.H0(vt);for(const rr of ar.values())En.addComponent(rr);const kn=new jn(Ie,qe,En);return nn.set(vt,kn),kn}function st(Ie=Ln){const le=nn.get(Ie);if(!le)throw Ct.create("no-app",{appName:Ie});return le}function Cn(){return Array.from(nn.values())}function Bn(Ie){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(Ie){const le=Ie.name;nn.has(le)&&(nn.delete(le),yield Promise.all(Ie.container.getProviders().map(qe=>qe.delete())),Ie.isDeleted=!0)})).apply(this,arguments)}function hn(Ie,le,qe){var vt;let Zt=null!==(vt=un[Ie])&&void 0!==vt?vt:Ie;qe&&(Zt+=`-${qe}`);const En=Zt.match(/\s|\//),kn=le.match(/\s|\//);if(En||kn){const rr=[`Unable to register library "${Zt}" with version "${le}":`];return En&&rr.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),En&&kn&&rr.push("and"),kn&&rr.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void U.warn(rr.join(" "))}ht(new A.wA(`${Zt}-version`,()=>({library:Zt,version:le}),"VERSION"))}function Kn(Ie,le){if(null!==Ie&&"function"!=typeof Ie)throw Ct.create("invalid-log-argument");(0,j.Am)(Ie,le)}function cr(Ie){(0,j.Ub)(Ie)}const fe="firebase-heartbeat-store";let Ze=null;function tt(){return Ze||(Ze=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(Ie,le)=>{switch(le){case 0:Ie.createObjectStore(fe)}}}).catch(Ie=>{throw Ct.create("storage-open",{originalErrorMessage:Ie.message})})),Ze}function lt(){return(lt=(0,h.Z)(function*(Ie){var le;try{return(yield tt()).transaction(fe).objectStore(fe).get(zn(Ie))}catch(qe){throw Ct.create("storage-get",{originalErrorMessage:null===(le=qe)||void 0===le?void 0:le.message})}})).apply(this,arguments)}function Mt(Ie,le){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(Ie,le){var qe;try{const Zt=(yield tt()).transaction(fe,"readwrite");return yield Zt.objectStore(fe).put(le,zn(Ie)),Zt.done}catch(vt){throw Ct.create("storage-set",{originalErrorMessage:null===(qe=vt)||void 0===qe?void 0:qe.message})}})).apply(this,arguments)}function zn(Ie){return`${Ie.name}!${Ie.options.appId}`}class lr{constructor(le){this.container=le,this._heartbeatsCache=null;const qe=this.container.getProvider("app").getImmediate();this._storage=new ce(qe),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var le=this;return(0,h.Z)(function*(){const vt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Jt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!le._heartbeatsCache.heartbeats.some(En=>En.date===Zt))return le._heartbeatsCache.heartbeats.push({date:Zt,agent:vt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(En=>{const kn=new Date(En.date).valueOf();return Date.now()-kn<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,h.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const qe=Jt(),{heartbeatsToSend:vt,unsentEntries:Zt}=function(Ie,le=1024){const qe=[];let vt=Ie.slice();for(const Zt of Ie){const En=qe.find(kn=>kn.agent===Zt.agent);if(En){if(En.dates.push(Zt.date),de(qe)>le){En.dates.pop();break}}else if(qe.push({agent:Zt.agent,dates:[Zt.date]}),de(qe)>le){qe.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:qe,unsentEntries:vt}}(le._heartbeatsCache.heartbeats),En=(0,X.L)(JSON.stringify({version:2,heartbeats:vt}));return le._heartbeatsCache.lastSentHeartbeatDate=qe,Zt.length>0?(le._heartbeatsCache.heartbeats=Zt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),En})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class ce{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,h.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function(Ie){return lt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var qe=this;return(0,h.Z)(function*(){var vt;if(yield qe._canUseIndexedDBPromise){const En=yield qe.read();return Mt(qe.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:En.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var qe=this;return(0,h.Z)(function*(){var vt;if(yield qe._canUseIndexedDBPromise){const En=yield qe.read();return Mt(qe.app,{lastSentHeartbeatDate:null!==(vt=le.lastSentHeartbeatDate)&&void 0!==vt?vt:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...le.heartbeats]})}})()}}function de(Ie){return(0,X.L)(JSON.stringify({version:2,heartbeats:Ie})).length}ht(new A.wA("platform-logger",le=>new K(le),"PRIVATE")),ht(new A.wA("heartbeat",le=>new lr(le),"PRIVATE")),hn(W,Y,""),hn(W,Y,"esm2017"),hn("fire-js","")},3910:(it,ue,D)=>{"use strict";D.d(ue,{wA:()=>j,H0:()=>W});var h=D(8239),A=D(3854);class j{constructor(U,G,re){this.name=U,this.instanceFactory=G,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const X="[DEFAULT]";class ne{constructor(U,G){this.name=U,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const G=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(G)){const re=new A.BH;if(this.instancesDeferred.set(G,re),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:G});Ae&&re.resolve(Ae)}catch(Ae){}}return this.instancesDeferred.get(G).promise}getImmediate(U){var G;const re=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),Ae=null!==(G=null==U?void 0:U.optional)&&void 0!==G&&G;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Fe){if(Ae)return null;throw Fe}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if("EAGER"===U.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:X})}catch(G){}for(const[G,re]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(G);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ae});re.resolve(Fe)}catch(Fe){}}}}clearInstance(U=X){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,h.Z)(function*(){const G=Array.from(U.instances.values());yield Promise.all([...G.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...G.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=X){return this.instances.has(U)}getOptions(U=X){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:G={}}=U,re=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:re,options:G});for(const[Fe,$e]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Fe)&&$e.resolve(Ae);return Ae}onInit(U,G){var re;const Ae=this.normalizeInstanceIdentifier(G),Fe=null!==(re=this.onInitCallbacks.get(Ae))&&void 0!==re?re:new Set;Fe.add(U),this.onInitCallbacks.set(Ae,Fe);const $e=this.instances.get(Ae);return $e&&U($e,Ae),()=>{Fe.delete(U)}}invokeOnInitCallbacks(U,G){const re=this.onInitCallbacks.get(G);if(re)for(const Ae of re)try{Ae(U,G)}catch(Fe){}}getOrInitializeService({instanceIdentifier:U,options:G={}}){let re=this.instances.get(U);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=U,Y===X?void 0:Y),options:G}),this.instances.set(U,re),this.instancesOptions.set(U,G),this.invokeOnInitCallbacks(re,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,re)}catch(Ae){}var Y;return re||null}normalizeInstanceIdentifier(U=X){return this.component?this.component.multipleInstances?U:X:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const G=this.getProvider(U.name);if(G.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);G.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const G=new ne(U,this);return this.providers.set(U,G),G}getProviders(){return Array.from(this.providers.values())}}},5422:(it,ue,D)=>{"use strict";D.d(ue,{in:()=>A,Yd:()=>ee,Ub:()=>W,Am:()=>Y});const h=[];var A=(()=>{return(U=A||(A={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",A;var U})();const j={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},X=A.INFO,ne={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},K=(U,G,...re)=>{if(G<U.logLevel)return;const Ae=(new Date).toISOString(),Fe=ne[G];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Fe](`[${Ae}]  ${U.name}:`,...re)};class ee{constructor(G){this.name=G,this._logLevel=X,this._logHandler=K,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in A))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?j[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...G),this._logHandler(this,A.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...G),this._logHandler(this,A.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,A.INFO,...G),this._logHandler(this,A.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,A.WARN,...G),this._logHandler(this,A.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...G),this._logHandler(this,A.ERROR,...G)}}function W(U){h.forEach(G=>{G.setLogLevel(U)})}function Y(U,G){for(const re of h){let Ae=null;G&&G.level&&(Ae=j[G.level]),re.userLogHandler=null===U?null:(Fe,$e,...rt)=>{const ye=rt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(ze){return null}}).filter(Le=>Le).join(" ");$e>=(null!=Ae?Ae:Fe.logLevel)&&U({level:A[$e].toLowerCase(),message:ye,args:rt,type:Fe.name})}}}},7449:(it,ue,D)=>{"use strict";D.d(ue,{Lj:()=>Xe,X3:()=>pt});var h=D(8239);let j,X;const ee=new WeakMap,W=new WeakMap,Y=new WeakMap,U=new WeakMap,G=new WeakMap;let Fe={get(ke,ut,dt){if(ke instanceof IDBTransaction){if("done"===ut)return W.get(ke);if("objectStoreNames"===ut)return ke.objectStoreNames||Y.get(ke);if("store"===ut)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return Le(ke[ut])},set:(ke,ut,dt)=>(ke[ut]=dt,!0),has:(ke,ut)=>ke instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in ke};function ye(ke){return"function"==typeof ke?function(ke){return ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(ke)?function(...ut){return ke.apply(ze(this),ut),Le(ee.get(this))}:function(...ut){return Le(ke.apply(ze(this),ut))}:function(ut,...dt){const It=ke.call(ze(this),ut,...dt);return Y.set(It,ut.sort?ut.sort():[ut]),Le(It)}}(ke):(ke instanceof IDBTransaction&&function(ke){if(W.has(ke))return;const ut=new Promise((dt,It)=>{const at=()=>{ke.removeEventListener("complete",jt),ke.removeEventListener("error",gt),ke.removeEventListener("abort",gt)},jt=()=>{dt(),at()},gt=()=>{It(ke.error||new DOMException("AbortError","AbortError")),at()};ke.addEventListener("complete",jt),ke.addEventListener("error",gt),ke.addEventListener("abort",gt)});W.set(ke,ut)}(ke),((ke,ut)=>ut.some(dt=>ke instanceof dt))(ke,j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(ke,Fe):ke)}function Le(ke){if(ke instanceof IDBRequest)return function(ke){const ut=new Promise((dt,It)=>{const at=()=>{ke.removeEventListener("success",jt),ke.removeEventListener("error",gt)},jt=()=>{dt(Le(ke.result)),at()},gt=()=>{It(ke.error),at()};ke.addEventListener("success",jt),ke.addEventListener("error",gt)});return ut.then(dt=>{dt instanceof IDBCursor&&ee.set(dt,ke)}).catch(()=>{}),G.set(ut,ke),ut}(ke);if(U.has(ke))return U.get(ke);const ut=ye(ke);return ut!==ke&&(U.set(ke,ut),G.set(ut,ke)),ut}const ze=ke=>G.get(ke);function pt(ke,ut,{blocked:dt,upgrade:It,blocking:at,terminated:jt}={}){const gt=indexedDB.open(ke,ut),Xt=Le(gt);return It&&gt.addEventListener("upgradeneeded",Gn=>{It(Le(gt.result),Gn.oldVersion,Gn.newVersion,Le(gt.transaction))}),dt&&gt.addEventListener("blocked",()=>dt()),Xt.then(Gn=>{jt&&Gn.addEventListener("close",()=>jt()),at&&Gn.addEventListener("versionchange",()=>at())}).catch(()=>{}),Xt}function Xe(ke,{blocked:ut}={}){const dt=indexedDB.deleteDatabase(ke);return ut&&dt.addEventListener("blocked",()=>ut()),Le(dt).then(()=>{})}const _n=["get","getKey","getAll","getAllKeys","count"],tn=["put","add","delete","clear"],et=new Map;function kt(ke,ut){if(!(ke instanceof IDBDatabase)||ut in ke||"string"!=typeof ut)return;if(et.get(ut))return et.get(ut);const dt=ut.replace(/FromIndex$/,""),It=ut!==dt,at=tn.includes(dt);if(!(dt in(It?IDBIndex:IDBObjectStore).prototype)||!at&&!_n.includes(dt))return;const jt=function(){var gt=(0,h.Z)(function*(Xt,...Gn){const vn=this.transaction(Xt,at?"readwrite":"readonly");let Ln=vn.store;return It&&(Ln=Ln.index(Gn.shift())),(yield Promise.all([Ln[dt](...Gn),at&&vn.done]))[0]});return function(Gn){return gt.apply(this,arguments)}}();return et.set(ut,jt),jt}var ke;Fe=BC(jC({},ke=Fe),{get:(ut,dt,It)=>kt(ut,dt)||ke.get(ut,dt,It),has:(ut,dt)=>!!kt(ut,dt)||ke.has(ut,dt)})},8239:(it,ue,D)=>{"use strict";function h(j,X,ne,K,ee,W,Y){try{var U=j[W](Y),G=U.value}catch(re){return void ne(re)}U.done?X(G):Promise.resolve(G).then(K,ee)}function A(j){return function(){var X=this,ne=arguments;return new Promise(function(K,ee){var W=j.apply(X,ne);function Y(G){h(W,K,ee,Y,U,"next",G)}function U(G){h(W,K,ee,Y,U,"throw",G)}Y(void 0)})}}D.d(ue,{Z:()=>A})}},it=>{it(it.s=4431)}]);